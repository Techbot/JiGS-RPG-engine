(function(){"use strict";var CT=document.createElement("style");CT.textContent=`:root{--audio-player-bg: #111;--audio-player-control-bg: #111;--audio-player-border-color: #111;--audio-player-link-color: #FFC43D;--audio-player-progress-color: #00CC66;--audio-player-text-color: #fff;--audio-player-timeline-color: #fff}.audio-player-wrapper{align-items:center;background-color:var(--audio-player-bg);display:flex;justify-content:center}.audio-player{background-color:var(--audio-player-bg);border-radius:.3125rem;border:1px solid var(--audio-player-border-color);box-shadow:0 5px 8px #00000026;color:var(--audio-player-text-color);display:inline-block;line-height:1.5625;position:relative;max-width:280px}.audio-player-controls{display:grid;grid-template-areas:"a b c d e f g";max-width:31.25rem}.audio-player-controls>div{border-right:1px solid var(--audio-player-border-color)}.audio-player-controls>div:last-child{border-right:none}.audio-player-control{background-color:var(--audio-player-control-bg);border:none;color:var(--audio-player-link-color);cursor:pointer;display:flex;line-height:0;margin:0;padding:.5em;text-decoration:none}.audio-player-control svg{width:1.125rem}.audio-player-timeline{background-color:var(--audio-player-timeline-color);height:50%;max-width:12.8125rem;position:relative}.audio-player-timeline .audio-player-progress,.audio-player-timeline .audio-player-seeker{bottom:0;height:100%;left:0;position:absolute;top:0}.audio-player-progress{background-color:var(--audio-player-progress-color);z-index:1}.audio-player-seeker{cursor:pointer;width:100%;z-index:2}.audio-player-time{display:flex;justify-content:space-between}.audio-player-time-current{font-weight:700;padding:0 .3125rem}.audio-player-title{display:flex;-webkit-mask-image:linear-gradient(90deg,hsla(0,0,0,0),hsla(0,0,0,1) 25%,hsla(0,0,0,1) 75%,hsla(0,0,0,0));mask-image:linear-gradient(90deg,hsla(0,0,0,0),hsla(0,0,0,1) 25%,hsla(0,0,0,1) 75%,hsla(0,0,0,0));flex-grow:1;max-width:6rem;overflow:hidden}.audio-player-title p{animation:slide-x 10s linear infinite;white-space:nowrap}@keyframes slide-x{0%{transform:translate(0)}to{transform:translate(-100%)}}.audio-player-time-total{opacity:.5;padding:0 .3125rem}.audio-player-volume{display:inline-block;height:1.1rem;margin:0 0 0 .625rem;width:7.925rem}.character-stats,.character-stats__level,.character-stats__xp{column-count:2;padding-left:.25rem;padding-right:.25rem}.character-stats__level{background-color:var(--emc-teal-dark-rich)}.character-stats__xp{background-color:var(--emc-dark)}.character-gauge{margin-bottom:.5rem}.character-gauge label{display:inline-block;font-size:12px;font-weight:700;margin-inline-end:.5rem;text-transform:uppercase}.character-gauge label:after{content:": "}.crystals{padding:1rem 1rem 0;background:#111}.crystal__header{display:flex;justify-content:space-between;max-width:500px;font-weight:700;margin-bottom:.5rem;padding:0 .25rem;background:#000}.crystal{display:flex;flex-wrap:wrap;justify-content:flex-start;padding:0 0 .5rem;max-width:500px}.crystal__label,.crystal__total{font-size:12px;text-transform:uppercase;font-weight:700}.crystal__total{margin-left:auto}.crystal__image{margin-inline-end:8px}.crystal__slider{--crystal-color: red;flex:1 0 100%;cursor:pointer;-moz-appearance:none;appearance:none;-webkit-appearance:none;width:100%;max-width:500px;overflow:hidden;height:25px;background:var(--crystal-color);outline:none;border-radius:12px}input[type=range]::-webkit-slider-runnable-track{height:15px;background:#222;border-radius:16px}input[type=range]::-moz-range-track{height:15px;background:#222;border-radius:16px}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:15px;width:15px;background-color:#fff;border-radius:50%;border:2px solid var(--crystal-color);box-shadow:-407px 0 0 400px var(--crystal-color)}input[type=range]::-moz-range-thumb{height:15px;width:15px;background-color:#fff;border-radius:50%;border:1px solid var(--crystal-color,);box-shadow:-407px 0 0 400px var(--crystal-color)}.weapons{background:#111;padding:1rem}.weapon__thumb{text-align:center}.weapon__thumb img{margin:0 auto 1rem;width:4rem}.weapons--select{display:flex;gap:1rem;flex-wrap:wrap;font-size:12px;font-weight:700;text-transform:uppercase}.weapons--select .weapon{flex:0 1 auto;min-width:25%}.weapons--select input{margin-top:0;margin-bottom:0}.weapons--select .weapon label{padding:.5rem;border:2px solid transparent;display:block;text-align:center;border:2px solid var(--emc-black);box-shadow:0 0 0 5px #111,inset 0 10px 27px -8px #141414,inset 0 -10px 27px -8px var(--emc-black),5px 5px 15px 5px #0000}.weapons--select .weapon label img{width:2rem;margin:.25rem auto 0}.weapons--select .weapon label:hover{border:2px solid red;background:#222}.weapons--select .weapon.active label{border:2px solid red;box-shadow:0 0 0 5px #111,inset 0 10px 27px -8px #141414,inset 0 -10px 27px -8px #a31925,5px 5px 15px 5px #0000}.character{background:#111;padding:1rem 1rem 0}.vue-simple-progress,.vue-simple-progress-bar{height:1rem!important}.character h3{display:inline-flex;align-items:center;justify-content:center;flex:1 0 auto;text-transform:uppercase;color:#fff;background-color:#333;font-family:Neutron Demo;font-size:1.25rem;font-weight:700;height:2rem;box-shadow:inset 0 12px 25px 5px #0006}.inventory h3{margin-top:1rem}.inventory__item{display:flex;flex-direction:column;justify-content:space-between;max-width:20%;min-height:80px;flex:1 0 20%;border:2px solid transparent;border-radius:0;text-align:center;font-size:.75rem;padding:.25rem;background-color:#000}.inventory>img{margin-block-end:1rem}.inventory__item label{display:inline-block;font-size:12px;font-weight:700;margin-block-end:.5rem;text-transform:uppercase}.list-group{display:flex;padding:.5rem;gap:.5rem;flex-wrap:wrap;flex-direction:row;align-content:flex-start;height:100%;min-height:184px;background-color:#111}.inventory__item img{margin:0 auto;margin-block-end:.5rem}.inventory__item:hover,.inventory__item.sortable-chosen{border:2px solid red;background:#222}.inventory__item.sortable-chosen{box-shadow:0 0 0 5px #111,inset 0 10px 27px -8px #141414,inset 0 -10px 27px -8px #a31925,5px 5px 15px 5px #0000}.inventory__item:first-child,.inventory__item:last-child{border-radius:0}.emc-layout.emc-char{display:flex;flex-wrap:nowrap;gap:1rem;align-items:center}.emc-char__center{flex:1 0 50%}.emc-char select{width:100%;min-width:15ch;max-width:30ch;border:1px solid var(--emc-teal-dark-alt);border-radius:.25em;padding:.25em .5em;cursor:pointer;line-height:1.1;background-color:var(--emc-black-rich);background-image:linear-gradient(to top,var(--emc-black-rich),var(--emc-black) 33%);color:#fff}.emc-char select:focus{border:1px solid var(--emc-teal)}.emc-layout.emc-char>div{flex:0 1 33%;width:33%;padding:1rem;border:6px solid var(--emc-black-rich);min-height:450px;text-align:center}.emc-layout.emc-char>.emc-char__center{flex:1 0 50%;width:50%;background-color:var(--emc-black);border-width:8px;min-height:600px;padding:2rem 1rem}.emc-char__item{margin-bottom:2rem;border:3px solid var(--emc-black)}.emc-char__heading{text-transform:uppercase;color:#fff;background-color:var(--emc-black);font-family:Neutron Demo;font-size:1rem;font-weight:700;margin-bottom:1rem}.emc-char__part .emc-char__heading{background-color:var(--emc-black);font-family:Roboto;font-size:12px;font-weight:700}.emc-char__body{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(4,1fr);grid-column-gap:1rem;grid-row-gap:1rem}.emc-char__body>div{background:#000;border:4px solid black;box-shadow:0 0 0 5px #111,inset 0 10px 27px -8px #141414,inset 0 -10px 27px -8px #042a2b,5px 5px 15px 5px #0000;cursor:pointer}.emc-char__body>div:hover,.emc-char__body>div:focus{border:4px solid var(--emc-teal-dark-alt);box-shadow:0 0 0 5px #111,inset 0 10px 27px -8px #141414,inset 0 -10px 27px -8px #19535f,5px 5px 15px 5px #0000}.emc-char__body>div:focus{border:4px solid var(--emc-teal-alt)}.emc-char__body .head{grid-area:1 / 2 / 3 / 3;align-self:flex-end}.emc-char__body .head img{object-position:50% 50%;object-fit:cover}.emc-char__body img{object-position:50% 50%;object-fit:cover;margin:0 auto;display:block}.emc-char__body .implant{grid-area:1 / 3 / 3 / 4}.emc-char__body .armour{grid-area:3 / 2 / 4 / 3}.emc-char__body .weapon_left{grid-area:2 / 1 / 4 / 2}.emc-char__body .bionics{grid-area:3 / 3 / 5 / 4}.emc-char__body .footwear{grid-area:4 / 2 / 5 / 3}.grtv-wrapper.grtv-default-skin>.grtv{margin:0;padding:0;list-style:none;background-color:#111;padding:1rem;font-size:1.25rem}.grtv-wrapper.grtv-default-skin{--baseHeight: 2rem;--itemSpacing: 2rem}.grtv-wrapper.grtv-default-skin .grtvn{padding-left:0}.grtv-wrapper.grtv-default-skin .grtvn:first-child{margin-top:0}.grtv-wrapper.grtv-default-skin .grtvn[role=treeitem]:focus{outline:0}.grtv-wrapper.grtv-default-skin .grtvn-self{display:flex;flex-wrap:wrap;justify-content:flex-start;align-items:center;gap:1rem;margin-bottom:1rem}.grtv-wrapper.grtv-default-skin .grtvn-children .grtvn-children .grtvn-self{margin-bottom:0}.grtv-wrapper.grtv-default-skin .grtvn-dragging .grtvn-self{opacity:.5}.grtv-wrapper.grtv-default-skin .grtvn-self-drop-target{flex-wrap:wrap}.grtv-wrapper.grtv-default-skin .grtvn-self-drop-target.grtvn-self-child-drop-target{opacity:.5}.grtv-wrapper.grtv-default-skin .grtvn-self-drop-target .grtvn-self-sibling-drop-target{width:100%;height:7px;background-color:#ddd}.grtv-wrapper.grtv-default-skin .grtvn-self-drop-target .grtvn-self-sibling-drop-target.grtvn-self-sibling-drop-target-hover{background-color:#bbb}.grtv-wrapper.grtv-default-skin .grtvn-self-expander i.grtvn-self-expanded-indicator{font-style:normal;color:#fff}.grtv-wrapper.grtv-default-skin .grtvn-self-expander i.grtvn-self-expanded-indicator:before{content:"+"}.grtv-wrapper.grtv-default-skin .grtvn-self-expander.grtvn-self-expanded i.grtvn-self-expanded-indicator:before{content:"-"}.grtv-wrapper.grtv-default-skin .grtvn-self-selected{background-color:#f0f0f8}.grtv-wrapper.grtv-default-skin .grtvn-self-expander,.grtv-wrapper.grtv-default-skin .grtvn-self-checkbox,.grtv-wrapper.grtv-default-skin .grtvn-self-radio,.grtv-wrapper.grtv-default-skin .grtvn-self-action{min-width:1rem;flex:0 1 2rem;background-color:var(--emc-teal-alt);font-weight:700;font-size:1.5rem;padding:.5rem;border:4px solid transparent}.grtvn-self-expander:hover,.grtvn-self-expander:focus{border:4px solid var(--emc-teal-dark-alt)}.grtvn-self-expander:focus{border-color:var(--emc-teal-alt)}.grtv-wrapper.grtv-default-skin .grtvn-self-expander,.grtv-wrapper.grtv-default-skin .grtvn-self-spacer{margin:0}.grtv-wrapper.grtv-default-skin .grtvn-self-checkbox,.grtv-wrapper.grtv-default-skin .grtvn-self-radio{width:1.5rem;height:1.5rem}.grtvn-self-label{font-family:Neutron Demo;font-size:1.75rem}.grtv-wrapper.grtv-default-skin i.grtvn-self-add-child-icon{font-style:normal}.grtv-wrapper.grtv-default-skin i.grtvn-self-add-child-icon:before{content:"+"}.grtv-wrapper.grtv-default-skin i.grtvn-self-delete-icon{font-style:normal;color:#fff}.grtv-wrapper.grtv-default-skin i.grtvn-self-delete-icon:before{content:"x"}.grtv-wrapper.grtv-default-skin .grtvn-children-wrapper{margin:0 0 0 calc(1rem + var(--itemSpacing))}.grtv-wrapper.grtv-default-skin .grtvn-children{padding:0;list-style:none;margin-bottom:2rem}.grtv-wrapper.grtv-default-skin .grtvn.grtvn-hidden{display:none}.grtvn-children-wrapper>ul>li>.grtvn-children-wrapper>.grtvn-children{display:grid;grid-template-columns:repeat(4,1fr);grid-column-gap:1rem;grid-row-gap:1rem;grid-template-areas:s "level1 level2 level3 level4"}.grtvn-children-wrapper>ul>li>.grtvn-children-wrapper>.grtvn-children>li{background-color:var(--emc-dark)}.grtv-wrapper.grtv-default-skin .grtvn-self-action{background-color:var(--emc-black)}.grtvn-self-action:hover,.grtvn-self-action:focus{border:4px solid var(--emc-black-rich)}.grtvn-self-action:focus{border-color:var(--emc-teal-alt)}.quest__heading{color:#fff;background-color:var(--emc-black);font-family:Neutron Demo;font-size:1.5rem;font-weight:700}.quests .quest{background:var(--emc-black);color:#fff;display:flex;flex-wrap:wrap;align-items:center}.quest__thumbnail{flex:0 1 34px;margin-right:.25rem}.quests .accordion-button{background:var(--emc-black);border:4px solid transparent;color:#fff}.accordion.accordion-flush{margin-bottom:2rem}.accordion-collapse{flex:1 0 100%}.accordion-body{background-color:var(--emc-black-rich)}.accordion-button:hover,.accordion-button:focus{border:4px solid var(--emc-teal-dark-alt)}.accordion-button:focus{border-color:var(--emc-teal-alt);outline:0}.accordion-button:after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23ffffff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e")}.accordion-button:not(.collapsed){color:#fff!important;background-color:var(--emc-black)!important;box-shadow:none}.accordion-button:not(.collapsed):after{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23ffffff'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e")}.log{background:var(--emc-black);color:#fff;display:flex;flex-wrap:wrap;align-items:center;margin-bottom:1rem}.log__heading{color:#fff;background-color:var(--emc-black);font-family:Neutron Demo;font-size:1.5rem;font-weight:700}.log__thumbnail{flex:0 1 34px;margin-right:.25rem}.log__body{background-color:var(--emc-black-rich);flex:1 0 100%}.chat-box{width:100%;display:flex;background:var(--emc-teal-dark-rich);border-top:2px solid var(--emc-teal-dark-rich)}.chat-box input{width:min(100%,20rem);flex-grow:1;color:#fff;border:0;padding:.5rem;background:#0000001a}.chat-box input:focus-visible{border:0;outline:1px solid var(--emc-black);outline-offset:-1px;background:var(--emc-black-rich)}.chat-box button{border:0;background:var(--emc-teal-dark);color:#fff;cursor:pointer;padding:.25rem .75rem;text-transform:uppercase;font-weight:700;font-size:12px}.chat-box button:focus-visible{border:0;outline:1px solid var(--emc-teal);outline-offset:-1px}.chat-box button:disabled{opacity:.3}.message{display:flex;padding:.25rem;width:fit-content;align-items:center;font-size:14px}.message small{margin:0 .25rem 0 0;flex:1 0 auto;font-size:12px;text-transform:uppercase;font-weight:700;background:#000;color:var(--emc-white-grey)}.messenger{width:100%;border:2px solid var(--emc-teal-dark-rich);position:relative}.messenger:after{content:"";position:absolute;left:0;top:0;background:linear-gradient(to bottom,#000,transparent);width:100%;height:4rem}.messages{display:flex;flex-direction:column-reverse;flex-grow:1;overflow:auto;padding:.25rem;background:var(--emc-black);height:180px}
`,document.head.appendChild(CT);function Zf(e,t){const i=Object.create(null),r=e.split(",");for(let f=0;f<r.length;f++)i[r[f]]=!0;return f=>!!i[f]}const Ue={},wh=[],$r=()=>{},BI=()=>!1,NI=/^on[^a-z]/,yu=e=>NI.test(e),pm=e=>e.startsWith("onUpdate:"),$e=Object.assign,gm=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},GI=Object.prototype.hasOwnProperty,Oe=(e,t)=>GI.call(e,t),Vt=Array.isArray,bh=e=>Mh(e)==="[object Map]",lo=e=>Mh(e)==="[object Set]",ST=e=>Mh(e)==="[object Date]",kI=e=>Mh(e)==="[object RegExp]",ee=e=>typeof e=="function",Je=e=>typeof e=="string",Cu=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",mm=e=>We(e)&&ee(e.then)&&ee(e.catch),TT=Object.prototype.toString,Mh=e=>TT.call(e),VI=e=>Mh(e).slice(8,-1),ET=e=>Mh(e)==="[object Object]",xm=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Su=Zf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qf=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},zI=/-(\w)/g,ms=Qf(e=>e.replace(zI,(t,i)=>i?i.toUpperCase():"")),UI=/\B([A-Z])/g,sr=Qf(e=>e.replace(UI,"-$1").toLowerCase()),Tu=Qf(e=>e.charAt(0).toUpperCase()+e.slice(1)),Eu=Qf(e=>e?`on${Tu(e)}`:""),Ah=(e,t)=>!Object.is(e,t),Rh=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},qf=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},_f=e=>{const t=parseFloat(e);return isNaN(t)?e:t},tc=e=>{const t=Je(e)?Number(e):NaN;return isNaN(t)?e:t};let PT;const ym=()=>PT||(PT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),WI=Zf("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console");function xi(e){if(Vt(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],f=Je(r)?HI(r):xi(r);if(f)for(const S in f)t[S]=f[S]}return t}else{if(Je(e))return e;if(We(e))return e}}const YI=/;(?![^(]*\))/g,$I=/:([^]+)/,XI=/\/\*[^]*?\*\//g;function HI(e){const t={};return e.replace(XI,"").split(YI).forEach(i=>{if(i){const r=i.split($I);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xe(e){let t="";if(Je(e))t=e;else if(Vt(e))for(let i=0;i<e.length;i++){const r=Xe(e[i]);r&&(t+=r+" ")}else if(We(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function KI(e){if(!e)return null;let{class:t,style:i}=e;return t&&!Je(t)&&(e.class=Xe(t)),i&&(e.style=xi(i)),e}const jI=Zf("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function wT(e){return!!e||e===""}function JI(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=sa(e[r],t[r]);return i}function sa(e,t){if(e===t)return!0;let i=ST(e),r=ST(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=Cu(e),r=Cu(t),i||r)return e===t;if(i=Vt(e),r=Vt(t),i||r)return i&&r?JI(e,t):!1;if(i=We(e),r=We(t),i||r){if(!i||!r)return!1;const f=Object.keys(e).length,S=Object.keys(t).length;if(f!==S)return!1;for(const n in e){const x=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(x&&!s||!x&&s||!sa(e[n],t[n]))return!1}}return String(e)===String(t)}function ec(e,t){return e.findIndex(i=>sa(i,t))}const Jt=e=>Je(e)?e:e==null?"":Vt(e)||We(e)&&(e.toString===TT||!ee(e.toString))?JSON.stringify(e,bT,2):String(e),bT=(e,t)=>t&&t.__v_isRef?bT(e,t.value):bh(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,f])=>(i[`${r} =>`]=f,i),{})}:lo(t)?{[`Set(${t.size})`]:[...t.values()]}:We(t)&&!Vt(t)&&!ET(t)?String(t):t;let ks;class Cm{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ks,!t&&ks&&(this.index=(ks.scopes||(ks.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const i=ks;try{return ks=this,t()}finally{ks=i}}}on(){ks=this}off(){ks=this.parent}stop(t){if(this._active){let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.scopes)for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!t){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function Sm(e){return new Cm(e)}function MT(e,t=ks){t&&t.active&&t.effects.push(e)}function Tm(){return ks}function AT(e){ks&&ks.cleanups.push(e)}const Em=e=>{const t=new Set(e);return t.w=0,t.n=0,t},RT=e=>(e.w&ra)>0,OT=e=>(e.n&ra)>0,ZI=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ra},QI=e=>{const{deps:t}=e;if(t.length){let i=0;for(let r=0;r<t.length;r++){const f=t[r];RT(f)&&!OT(f)?f.delete(e):t[i++]=f,f.w&=~ra,f.n&=~ra}t.length=i}},ic=new WeakMap;let Pu=0,ra=1;const Pm=30;let Er;const uo=Symbol(""),wm=Symbol("");class wu{constructor(t,i=null,r){this.fn=t,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,MT(this,r)}run(){if(!this.active)return this.fn();let t=Er,i=na;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Er,Er=this,na=!0,ra=1<<++Pu,Pu<=Pm?ZI(this):LT(this),this.fn()}finally{Pu<=Pm&&QI(this),ra=1<<--Pu,Er=this.parent,na=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Er===this?this.deferStop=!0:this.active&&(LT(this),this.onStop&&this.onStop(),this.active=!1)}}function LT(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}function qI(e,t){e.effect&&(e=e.effect.fn);const i=new wu(e);t&&($e(i,t),t.scope&&MT(i,t.scope)),(!t||!t.lazy)&&i.run();const r=i.run.bind(i);return r.effect=i,r}function _I(e){e.effect.stop()}let na=!0;const DT=[];function Oh(){DT.push(na),na=!1}function Lh(){const e=DT.pop();na=e===void 0?!0:e}function xs(e,t,i){if(na&&Er){let r=ic.get(e);r||ic.set(e,r=new Map);let f=r.get(i);f||r.set(i,f=Em()),FT(f)}}function FT(e,t){let i=!1;Pu<=Pm?OT(e)||(e.n|=ra,i=!RT(e)):i=!e.has(Er),i&&(e.add(Er),Er.deps.push(e))}function En(e,t,i,r,f,S){const n=ic.get(e);if(!n)return;let x=[];if(t==="clear")x=[...n.values()];else if(i==="length"&&Vt(e)){const s=Number(r);n.forEach((a,g)=>{(g==="length"||g>=s)&&x.push(a)})}else switch(i!==void 0&&x.push(n.get(i)),t){case"add":Vt(e)?xm(i)&&x.push(n.get("length")):(x.push(n.get(uo)),bh(e)&&x.push(n.get(wm)));break;case"delete":Vt(e)||(x.push(n.get(uo)),bh(e)&&x.push(n.get(wm)));break;case"set":bh(e)&&x.push(n.get(uo));break}if(x.length===1)x[0]&&bm(x[0]);else{const s=[];for(const a of x)a&&s.push(...a);bm(Em(s))}}function bm(e,t){const i=Vt(e)?e:[...e];for(const r of i)r.computed&&IT(r);for(const r of i)r.computed||IT(r)}function IT(e,t){(e!==Er||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function t4(e,t){var i;return(i=ic.get(e))==null?void 0:i.get(t)}const e4=Zf("__proto__,__v_isRef,__isVue"),BT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Cu)),i4=sc(),s4=sc(!1,!0),r4=sc(!0),n4=sc(!0,!0),NT=a4();function a4(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...i){const r=ye(this);for(let S=0,n=this.length;S<n;S++)xs(r,"get",S+"");const f=r[t](...i);return f===-1||f===!1?r[t](...i.map(ye)):f}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...i){Oh();const r=ye(this)[t].apply(this,i);return Lh(),r}}),e}function o4(e){const t=ye(this);return xs(t,"has",e),t.hasOwnProperty(e)}function sc(e=!1,t=!1){return function(r,f,S){if(f==="__v_isReactive")return!e;if(f==="__v_isReadonly")return e;if(f==="__v_isShallow")return t;if(f==="__v_raw"&&S===(e?t?KT:HT:t?XT:$T).get(r))return r;const n=Vt(r);if(!e){if(n&&Oe(NT,f))return Reflect.get(NT,f,S);if(f==="hasOwnProperty")return o4}const x=Reflect.get(r,f,S);return(Cu(f)?BT.has(f):e4(f))||(e||xs(r,"get",f),t)?x:Ze(x)?n&&xm(f)?x:x.value:We(x)?e?dc(x):bu(x):x}}const h4=GT(),l4=GT(!0);function GT(e=!1){return function(i,r,f,S){let n=i[r];if(fo(n)&&Ze(n)&&!Ze(f))return!1;if(!e&&(!Mu(f)&&!fo(f)&&(n=ye(n),f=ye(f)),!Vt(i)&&Ze(n)&&!Ze(f)))return n.value=f,!0;const x=Vt(i)&&xm(r)?Number(r)<i.length:Oe(i,r),s=Reflect.set(i,r,f,S);return i===ye(S)&&(x?Ah(f,n)&&En(i,"set",r,f):En(i,"add",r,f)),s}}function u4(e,t){const i=Oe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&En(e,"delete",t,void 0),r}function d4(e,t){const i=Reflect.has(e,t);return(!Cu(t)||!BT.has(t))&&xs(e,"has",t),i}function f4(e){return xs(e,"iterate",Vt(e)?"length":uo),Reflect.ownKeys(e)}const kT={get:i4,set:h4,deleteProperty:u4,has:d4,ownKeys:f4},VT={get:r4,set(e,t){return!0},deleteProperty(e,t){return!0}},c4=$e({},kT,{get:s4,set:l4}),v4=$e({},VT,{get:n4}),Mm=e=>e,rc=e=>Reflect.getPrototypeOf(e);function nc(e,t,i=!1,r=!1){e=e.__v_raw;const f=ye(e),S=ye(t);i||(t!==S&&xs(f,"get",t),xs(f,"get",S));const{has:n}=rc(f),x=r?Mm:i?Rm:Au;if(n.call(f,t))return x(e.get(t));if(n.call(f,S))return x(e.get(S));e!==f&&e.get(t)}function ac(e,t=!1){const i=this.__v_raw,r=ye(i),f=ye(e);return t||(e!==f&&xs(r,"has",e),xs(r,"has",f)),e===f?i.has(e):i.has(e)||i.has(f)}function oc(e,t=!1){return e=e.__v_raw,!t&&xs(ye(e),"iterate",uo),Reflect.get(e,"size",e)}function zT(e){e=ye(e);const t=ye(this);return rc(t).has.call(t,e)||(t.add(e),En(t,"add",e,e)),this}function UT(e,t){t=ye(t);const i=ye(this),{has:r,get:f}=rc(i);let S=r.call(i,e);S||(e=ye(e),S=r.call(i,e));const n=f.call(i,e);return i.set(e,t),S?Ah(t,n)&&En(i,"set",e,t):En(i,"add",e,t),this}function WT(e){const t=ye(this),{has:i,get:r}=rc(t);let f=i.call(t,e);f||(e=ye(e),f=i.call(t,e)),r&&r.call(t,e);const S=t.delete(e);return f&&En(t,"delete",e,void 0),S}function YT(){const e=ye(this),t=e.size!==0,i=e.clear();return t&&En(e,"clear",void 0,void 0),i}function hc(e,t){return function(r,f){const S=this,n=S.__v_raw,x=ye(n),s=t?Mm:e?Rm:Au;return!e&&xs(x,"iterate",uo),n.forEach((a,g)=>r.call(f,s(a),s(g),S))}}function lc(e,t,i){return function(...r){const f=this.__v_raw,S=ye(f),n=bh(S),x=e==="entries"||e===Symbol.iterator&&n,s=e==="keys"&&n,a=f[e](...r),g=i?Mm:t?Rm:Au;return!t&&xs(S,"iterate",s?wm:uo),{next(){const{value:u,done:h}=a.next();return h?{value:u,done:h}:{value:x?[g(u[0]),g(u[1])]:g(u),done:h}},[Symbol.iterator](){return this}}}}function aa(e){return function(...t){return e==="delete"?!1:this}}function p4(){const e={get(S){return nc(this,S)},get size(){return oc(this)},has:ac,add:zT,set:UT,delete:WT,clear:YT,forEach:hc(!1,!1)},t={get(S){return nc(this,S,!1,!0)},get size(){return oc(this)},has:ac,add:zT,set:UT,delete:WT,clear:YT,forEach:hc(!1,!0)},i={get(S){return nc(this,S,!0)},get size(){return oc(this,!0)},has(S){return ac.call(this,S,!0)},add:aa("add"),set:aa("set"),delete:aa("delete"),clear:aa("clear"),forEach:hc(!0,!1)},r={get(S){return nc(this,S,!0,!0)},get size(){return oc(this,!0)},has(S){return ac.call(this,S,!0)},add:aa("add"),set:aa("set"),delete:aa("delete"),clear:aa("clear"),forEach:hc(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(S=>{e[S]=lc(S,!1,!1),i[S]=lc(S,!0,!1),t[S]=lc(S,!1,!0),r[S]=lc(S,!0,!0)}),[e,i,t,r]}const[g4,m4,x4,y4]=p4();function uc(e,t){const i=t?e?y4:x4:e?m4:g4;return(r,f,S)=>f==="__v_isReactive"?!e:f==="__v_isReadonly"?e:f==="__v_raw"?r:Reflect.get(Oe(i,f)&&f in r?i:r,f,S)}const C4={get:uc(!1,!1)},S4={get:uc(!1,!0)},T4={get:uc(!0,!1)},E4={get:uc(!0,!0)},$T=new WeakMap,XT=new WeakMap,HT=new WeakMap,KT=new WeakMap;function P4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function w4(e){return e.__v_skip||!Object.isExtensible(e)?0:P4(VI(e))}function bu(e){return fo(e)?e:fc(e,!1,kT,C4,$T)}function jT(e){return fc(e,!1,c4,S4,XT)}function dc(e){return fc(e,!0,VT,T4,HT)}function b4(e){return fc(e,!0,v4,E4,KT)}function fc(e,t,i,r,f){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const S=f.get(e);if(S)return S;const n=w4(e);if(n===0)return e;const x=new Proxy(e,n===2?r:i);return f.set(e,x),x}function Xr(e){return fo(e)?Xr(e.__v_raw):!!(e&&e.__v_isReactive)}function fo(e){return!!(e&&e.__v_isReadonly)}function Mu(e){return!!(e&&e.__v_isShallow)}function Am(e){return Xr(e)||fo(e)}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function co(e){return qf(e,"__v_skip",!0),e}const Au=e=>We(e)?bu(e):e,Rm=e=>We(e)?dc(e):e;function Om(e){na&&Er&&(e=ye(e),FT(e.dep||(e.dep=Em())))}function vc(e,t){e=ye(e);const i=e.dep;i&&bm(i)}function Ze(e){return!!(e&&e.__v_isRef===!0)}function Qe(e){return JT(e,!1)}function M4(e){return JT(e,!0)}function JT(e,t){return Ze(e)?e:new A4(e,t)}class A4{constructor(t,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?t:ye(t),this._value=i?t:Au(t)}get value(){return Om(this),this._value}set value(t){const i=this.__v_isShallow||Mu(t)||fo(t);t=i?t:ye(t),Ah(t,this._rawValue)&&(this._rawValue=t,this._value=i?t:Au(t),vc(this))}}function R4(e){vc(e)}function mt(e){return Ze(e)?e.value:e}function O4(e){return ee(e)?e():mt(e)}const L4={get:(e,t,i)=>mt(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const f=e[t];return Ze(f)&&!Ze(i)?(f.value=i,!0):Reflect.set(e,t,i,r)}};function Lm(e){return Xr(e)?e:new Proxy(e,L4)}class D4{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:i,set:r}=t(()=>Om(this),()=>vc(this));this._get=i,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function F4(e){return new D4(e)}function ZT(e){const t=Vt(e)?new Array(e.length):{};for(const i in e)t[i]=QT(e,i);return t}class I4{constructor(t,i,r){this._object=t,this._key=i,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return t4(ye(this._object),this._key)}}class B4{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function oa(e,t,i){return Ze(e)?e:ee(e)?new B4(e):We(e)&&arguments.length>1?QT(e,t,i):Qe(e)}function QT(e,t,i){const r=e[t];return Ze(r)?r:new I4(e,t,i)}class N4{constructor(t,i,r,f){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new wu(t,()=>{this._dirty||(this._dirty=!0,vc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=r}get value(){const t=ye(this);return Om(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function G4(e,t,i=!1){let r,f;const S=ee(e);return S?(r=e,f=$r):(r=e.get,f=e.set),new N4(r,f,S||!f,i)}function k4(e,...t){}function V4(e,t){}function Pn(e,t,i,r){let f;try{f=r?e(...r):e()}catch(S){vo(S,t,i)}return f}function Vs(e,t,i,r){if(ee(e)){const S=Pn(e,t,i,r);return S&&mm(S)&&S.catch(n=>{vo(n,t,i)}),S}const f=[];for(let S=0;S<e.length;S++)f.push(Vs(e[S],t,i,r));return f}function vo(e,t,i,r=!0){const f=t?t.vnode:null;if(t){let S=t.parent;const n=t.proxy,x=i;for(;S;){const a=S.ec;if(a){for(let g=0;g<a.length;g++)if(a[g](e,n,x)===!1)return}S=S.parent}const s=t.appContext.config.errorHandler;if(s){Pn(s,null,10,[e,n,x]);return}}z4(e,i,f,r)}function z4(e,t,i,r=!0){console.error(e)}let Ru=!1,Dm=!1;const Ji=[];let Hr=0;const Dh=[];let wn=null,po=0;const qT=Promise.resolve();let Fm=null;function Ou(e){const t=Fm||qT;return e?t.then(this?e.bind(this):e):t}function U4(e){let t=Hr+1,i=Ji.length;for(;t<i;){const r=t+i>>>1;Lu(Ji[r])<e?t=r+1:i=r}return t}function pc(e){(!Ji.length||!Ji.includes(e,Ru&&e.allowRecurse?Hr+1:Hr))&&(e.id==null?Ji.push(e):Ji.splice(U4(e.id),0,e),_T())}function _T(){!Ru&&!Dm&&(Dm=!0,Fm=qT.then(eE))}function W4(e){const t=Ji.indexOf(e);t>Hr&&Ji.splice(t,1)}function Im(e){Vt(e)?Dh.push(...e):(!wn||!wn.includes(e,e.allowRecurse?po+1:po))&&Dh.push(e),_T()}function tE(e,t=Ru?Hr+1:0){for(;t<Ji.length;t++){const i=Ji[t];i&&i.pre&&(Ji.splice(t,1),t--,i())}}function gc(e){if(Dh.length){const t=[...new Set(Dh)];if(Dh.length=0,wn){wn.push(...t);return}for(wn=t,wn.sort((i,r)=>Lu(i)-Lu(r)),po=0;po<wn.length;po++)wn[po]();wn=null,po=0}}const Lu=e=>e.id==null?1/0:e.id,Y4=(e,t)=>{const i=Lu(e)-Lu(t);if(i===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function eE(e){Dm=!1,Ru=!0,Ji.sort(Y4);try{for(Hr=0;Hr<Ji.length;Hr++){const t=Ji[Hr];t&&t.active!==!1&&Pn(t,null,14)}}finally{Hr=0,Ji.length=0,gc(),Ru=!1,Fm=null,(Ji.length||Dh.length)&&eE()}}let Fh,mc=[];function iE(e,t){var i,r;Fh=e,Fh?(Fh.enabled=!0,mc.forEach(({event:f,args:S})=>Fh.emit(f,...S)),mc=[]):typeof window<"u"&&window.HTMLElement&&!((r=(i=window.navigator)==null?void 0:i.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(S=>{iE(S,t)}),setTimeout(()=>{Fh||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,mc=[])},3e3)):mc=[]}function $4(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||Ue;let f=i;const S=t.startsWith("update:"),n=S&&t.slice(7);if(n&&n in r){const g=`${n==="modelValue"?"model":n}Modifiers`,{number:u,trim:h}=r[g]||Ue;h&&(f=i.map(l=>Je(l)?l.trim():l)),u&&(f=i.map(_f))}let x,s=r[x=Eu(t)]||r[x=Eu(ms(t))];!s&&S&&(s=r[x=Eu(sr(t))]),s&&Vs(s,e,6,f);const a=r[x+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[x])return;e.emitted[x]=!0,Vs(a,e,6,f)}}function sE(e,t,i=!1){const r=t.emitsCache,f=r.get(e);if(f!==void 0)return f;const S=e.emits;let n={},x=!1;if(!ee(e)){const s=a=>{const g=sE(a,t,!0);g&&(x=!0,$e(n,g))};!i&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}return!S&&!x?(We(e)&&r.set(e,null),null):(Vt(S)?S.forEach(s=>n[s]=null):$e(n,S),We(e)&&r.set(e,n),n)}function xc(e,t){return!e||!yu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,sr(t))||Oe(e,t))}let Oi=null,yc=null;function Du(e){const t=Oi;return Oi=e,yc=e&&e.type.__scopeId||null,t}function X4(e){yc=e}function H4(){yc=null}const K4=e=>ci;function ci(e,t=Oi,i){if(!t||e._n)return e;const r=(...f)=>{r._d&&i0(-1);const S=Du(t);let n;try{n=e(...f)}finally{Du(S),r._d&&i0(1)}return n};return r._n=!0,r._c=!0,r._d=!0,r}function hCt(){}function Cc(e){const{type:t,vnode:i,proxy:r,withProxy:f,props:S,propsOptions:[n],slots:x,attrs:s,emit:a,render:g,renderCache:u,data:h,setupState:l,ctx:o,inheritAttrs:d}=e;let v,c;const p=Du(e);try{if(i.shapeFlag&4){const m=f||r;v=zs(g.call(m,m,u,S,l,h,o)),c=s}else{const m=t;v=zs(m.length>1?m(S,{attrs:s,slots:x,emit:a}):m(S,null)),c=t.props?s:J4(s)}}catch(m){Yu.length=0,vo(m,e,1),v=ie(Qi)}let y=v;if(c&&d!==!1){const m=Object.keys(c),{shapeFlag:C}=y;m.length&&C&7&&(n&&m.some(pm)&&(c=Z4(c,n)),y=jr(y,c))}return i.dirs&&(y=jr(y),y.dirs=y.dirs?y.dirs.concat(i.dirs):i.dirs),i.transition&&(y.transition=i.transition),v=y,Du(p),v}function j4(e){let t;for(let i=0;i<e.length;i++){const r=e[i];if(da(r)){if(r.type!==Qi||r.children==="v-if"){if(t)return;t=r}}else return}return t}const J4=e=>{let t;for(const i in e)(i==="class"||i==="style"||yu(i))&&((t||(t={}))[i]=e[i]);return t},Z4=(e,t)=>{const i={};for(const r in e)(!pm(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function Q4(e,t,i){const{props:r,children:f,component:S}=e,{props:n,children:x,patchFlag:s}=t,a=S.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&s>=0){if(s&1024)return!0;if(s&16)return r?rE(r,n,a):!!n;if(s&8){const g=t.dynamicProps;for(let u=0;u<g.length;u++){const h=g[u];if(n[h]!==r[h]&&!xc(a,h))return!0}}}else return(f||x)&&(!x||!x.$stable)?!0:r===n?!1:r?n?rE(r,n,a):!0:!!n;return!1}function rE(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let f=0;f<r.length;f++){const S=r[f];if(t[S]!==e[S]&&!xc(i,S))return!0}return!1}function Bm({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const nE=e=>e.__isSuspense,aE={name:"Suspense",__isSuspense:!0,process(e,t,i,r,f,S,n,x,s,a){e==null?q4(t,i,r,f,S,n,x,s,a):_4(e,t,i,r,f,n,x,s,a)},hydrate:t5,create:Nm,normalize:e5};function Fu(e,t){const i=e.props&&e.props[t];ee(i)&&i()}function q4(e,t,i,r,f,S,n,x,s){const{p:a,o:{createElement:g}}=s,u=g("div"),h=e.suspense=Nm(e,f,r,t,u,i,S,n,x,s);a(null,h.pendingBranch=e.ssContent,u,null,r,h,S,n),h.deps>0?(Fu(e,"onPending"),Fu(e,"onFallback"),a(null,e.ssFallback,t,i,r,null,S,n),Ih(h,e.ssFallback)):h.resolve(!1,!0)}function _4(e,t,i,r,f,S,n,x,{p:s,um:a,o:{createElement:g}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const h=t.ssContent,l=t.ssFallback,{activeBranch:o,pendingBranch:d,isInFallback:v,isHydrating:c}=u;if(d)u.pendingBranch=h,Pr(h,d)?(s(d,h,u.hiddenContainer,null,f,u,S,n,x),u.deps<=0?u.resolve():v&&(s(o,l,i,r,f,null,S,n,x),Ih(u,l))):(u.pendingId++,c?(u.isHydrating=!1,u.activeBranch=d):a(d,f,u),u.deps=0,u.effects.length=0,u.hiddenContainer=g("div"),v?(s(null,h,u.hiddenContainer,null,f,u,S,n,x),u.deps<=0?u.resolve():(s(o,l,i,r,f,null,S,n,x),Ih(u,l))):o&&Pr(h,o)?(s(o,h,i,r,f,u,S,n,x),u.resolve(!0)):(s(null,h,u.hiddenContainer,null,f,u,S,n,x),u.deps<=0&&u.resolve()));else if(o&&Pr(h,o))s(o,h,i,r,f,u,S,n,x),Ih(u,h);else if(Fu(t,"onPending"),u.pendingBranch=h,u.pendingId++,s(null,h,u.hiddenContainer,null,f,u,S,n,x),u.deps<=0)u.resolve();else{const{timeout:p,pendingId:y}=u;p>0?setTimeout(()=>{u.pendingId===y&&u.fallback(l)},p):p===0&&u.fallback(l)}}function Nm(e,t,i,r,f,S,n,x,s,a,g=!1){const{p:u,m:h,um:l,n:o,o:{parentNode:d,remove:v}}=a;let c;const p=i5(e);p&&t!=null&&t.pendingBranch&&(c=t.pendingId,t.deps++);const y=e.props?tc(e.props.timeout):void 0,m={vnode:e,parent:t,parentComponent:i,isSVG:n,container:r,hiddenContainer:f,anchor:S,deps:0,pendingId:0,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:g,isUnmounted:!1,effects:[],resolve(C=!1,T=!1){const{vnode:E,activeBranch:w,pendingBranch:P,pendingId:b,effects:M,parentComponent:A,container:R}=m;if(m.isHydrating)m.isHydrating=!1;else if(!C){const D=w&&P.transition&&P.transition.mode==="out-in";D&&(w.transition.afterLeave=()=>{b===m.pendingId&&h(P,R,I,0)});let{anchor:I}=m;w&&(I=o(w),l(w,A,m,!0)),D||h(P,R,I,0)}Ih(m,P),m.pendingBranch=null,m.isInFallback=!1;let L=m.parent,O=!1;for(;L;){if(L.pendingBranch){L.effects.push(...M),O=!0;break}L=L.parent}O||Im(M),m.effects=[],p&&t&&t.pendingBranch&&c===t.pendingId&&(t.deps--,t.deps===0&&!T&&t.resolve()),Fu(E,"onResolve")},fallback(C){if(!m.pendingBranch)return;const{vnode:T,activeBranch:E,parentComponent:w,container:P,isSVG:b}=m;Fu(T,"onFallback");const M=o(E),A=()=>{m.isInFallback&&(u(null,C,P,M,w,null,b,x,s),Ih(m,C))},R=C.transition&&C.transition.mode==="out-in";R&&(E.transition.afterLeave=A),m.isInFallback=!0,l(E,w,null,!0),R||A()},move(C,T,E){m.activeBranch&&h(m.activeBranch,C,T,E),m.container=C},next(){return m.activeBranch&&o(m.activeBranch)},registerDep(C,T){const E=!!m.pendingBranch;E&&m.deps++;const w=C.vnode.el;C.asyncDep.catch(P=>{vo(P,C,0)}).then(P=>{if(C.isUnmounted||m.isUnmounted||m.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:b}=C;a0(C,P,!1),w&&(b.el=w);const M=!w&&C.subTree.el;T(C,b,d(w||C.subTree.el),w?null:o(C.subTree),m,n,s),M&&v(M),Bm(C,b.el),E&&--m.deps===0&&m.resolve()})},unmount(C,T){m.isUnmounted=!0,m.activeBranch&&l(m.activeBranch,i,C,T),m.pendingBranch&&l(m.pendingBranch,i,C,T)}};return m}function t5(e,t,i,r,f,S,n,x,s){const a=t.suspense=Nm(t,r,i,e.parentNode,document.createElement("div"),null,f,S,n,x,!0),g=s(e,a.pendingBranch=t.ssContent,i,a,S,n);return a.deps===0&&a.resolve(!1,!0),g}function e5(e){const{shapeFlag:t,children:i}=e,r=t&32;e.ssContent=oE(r?i.default:i),e.ssFallback=r?oE(i.fallback):ie(Qi)}function oE(e){let t;if(ee(e)){const i=Eo&&e._c;i&&(e._d=!1,Ft()),e=e(),i&&(e._d=!0,t=Ts,jE())}return Vt(e)&&(e=j4(e)),e=zs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(i=>i!==e)),e}function hE(e,t){t&&t.pendingBranch?Vt(e)?t.effects.push(...e):t.effects.push(e):Im(e)}function Ih(e,t){e.activeBranch=t;const{vnode:i,parentComponent:r}=e,f=i.el=t.el;r&&r.subTree===i&&(r.vnode.el=f,Bm(r,f))}function i5(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function lE(e,t){return Iu(e,null,t)}function uE(e,t){return Iu(e,null,{flush:"post"})}function s5(e,t){return Iu(e,null,{flush:"sync"})}const Sc={};function as(e,t,i){return Iu(e,t,i)}function Iu(e,t,{immediate:i,deep:r,flush:f,onTrack:S,onTrigger:n}=Ue){var x;const s=Tm()===((x=yi)==null?void 0:x.scope)?yi:null;let a,g=!1,u=!1;if(Ze(e)?(a=()=>e.value,g=Mu(e)):Xr(e)?(a=()=>e,r=!0):Vt(e)?(u=!0,g=e.some(m=>Xr(m)||Mu(m)),a=()=>e.map(m=>{if(Ze(m))return m.value;if(Xr(m))return go(m);if(ee(m))return Pn(m,s,2)})):ee(e)?t?a=()=>Pn(e,s,2):a=()=>{if(!(s&&s.isUnmounted))return h&&h(),Vs(e,s,3,[l])}:a=$r,t&&r){const m=a;a=()=>go(m())}let h,l=m=>{h=p.onStop=()=>{Pn(m,s,4)}},o;if(Gh)if(l=$r,t?i&&Vs(t,s,3,[a(),u?[]:void 0,l]):a(),f==="sync"){const m=nP();o=m.__watcherHandles||(m.__watcherHandles=[])}else return $r;let d=u?new Array(e.length).fill(Sc):Sc;const v=()=>{if(p.active)if(t){const m=p.run();(r||g||(u?m.some((C,T)=>Ah(C,d[T])):Ah(m,d)))&&(h&&h(),Vs(t,s,3,[m,d===Sc?void 0:u&&d[0]===Sc?[]:d,l]),d=m)}else p.run()};v.allowRecurse=!!t;let c;f==="sync"?c=v:f==="post"?c=()=>ki(v,s&&s.suspense):(v.pre=!0,s&&(v.id=s.uid),c=()=>pc(v));const p=new wu(a,c);t?i?v():d=p.run():f==="post"?ki(p.run.bind(p),s&&s.suspense):p.run();const y=()=>{p.stop(),s&&s.scope&&gm(s.scope.effects,p)};return o&&o.push(y),y}function r5(e,t,i){const r=this.proxy,f=Je(e)?e.includes(".")?dE(r,e):()=>r[e]:e.bind(r,r);let S;ee(t)?S=t:(S=t.handler,i=t);const n=yi;ca(this);const x=Iu(f,S.bind(r),i);return n?ca(n):va(),x}function dE(e,t){const i=t.split(".");return()=>{let r=e;for(let f=0;f<i.length&&r;f++)r=r[i[f]];return r}}function go(e,t){if(!We(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ze(e))go(e.value,t);else if(Vt(e))for(let i=0;i<e.length;i++)go(e[i],t);else if(lo(e)||bh(e))e.forEach(i=>{go(i,t)});else if(ET(e))for(const i in e)go(e[i],t);return e}function ys(e,t){const i=Oi;if(i===null)return e;const r=Ic(i)||i.proxy,f=e.dirs||(e.dirs=[]);for(let S=0;S<t.length;S++){let[n,x,s,a=Ue]=t[S];n&&(ee(n)&&(n={mounted:n,updated:n}),n.deep&&go(x),f.push({dir:n,instance:r,value:x,oldValue:void 0,arg:s,modifiers:a}))}return e}function Kr(e,t,i,r){const f=e.dirs,S=t&&t.dirs;for(let n=0;n<f.length;n++){const x=f[n];S&&(x.oldValue=S[n].value);let s=x.dir[r];s&&(Oh(),Vs(s,i,8,[e.el,x,e,t]),Lh())}}function Gm(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return yo(()=>{e.isMounted=!0}),wc(()=>{e.isUnmounting=!0}),e}const rr=[Function,Array],km={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rr,onEnter:rr,onAfterEnter:rr,onEnterCancelled:rr,onBeforeLeave:rr,onLeave:rr,onAfterLeave:rr,onLeaveCancelled:rr,onBeforeAppear:rr,onAppear:rr,onAfterAppear:rr,onAppearCancelled:rr},fE={name:"BaseTransition",props:km,setup(e,{slots:t}){const i=Jr(),r=Gm();let f;return()=>{const S=t.default&&Tc(t.default(),!0);if(!S||!S.length)return;let n=S[0];if(S.length>1){for(const d of S)if(d.type!==Qi){n=d;break}}const x=ye(e),{mode:s}=x;if(r.isLeaving)return Vm(n);const a=vE(n);if(!a)return Vm(n);const g=Bh(a,x,r,i);mo(a,g);const u=i.subTree,h=u&&vE(u);let l=!1;const{getTransitionKey:o}=a.type;if(o){const d=o();f===void 0?f=d:d!==f&&(f=d,l=!0)}if(h&&h.type!==Qi&&(!Pr(a,h)||l)){const d=Bh(h,x,r,i);if(mo(h,d),s==="out-in")return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,i.update.active!==!1&&i.update()},Vm(n);s==="in-out"&&a.type!==Qi&&(d.delayLeave=(v,c,p)=>{const y=cE(r,h);y[String(h.key)]=h,v._leaveCb=()=>{c(),v._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=p})}return n}}};function cE(e,t){const{leavingVNodes:i}=e;let r=i.get(t.type);return r||(r=Object.create(null),i.set(t.type,r)),r}function Bh(e,t,i,r){const{appear:f,mode:S,persisted:n=!1,onBeforeEnter:x,onEnter:s,onAfterEnter:a,onEnterCancelled:g,onBeforeLeave:u,onLeave:h,onAfterLeave:l,onLeaveCancelled:o,onBeforeAppear:d,onAppear:v,onAfterAppear:c,onAppearCancelled:p}=t,y=String(e.key),m=cE(i,e),C=(w,P)=>{w&&Vs(w,r,9,P)},T=(w,P)=>{const b=P[1];C(w,P),Vt(w)?w.every(M=>M.length<=1)&&b():w.length<=1&&b()},E={mode:S,persisted:n,beforeEnter(w){let P=x;if(!i.isMounted)if(f)P=d||x;else return;w._leaveCb&&w._leaveCb(!0);const b=m[y];b&&Pr(e,b)&&b.el._leaveCb&&b.el._leaveCb(),C(P,[w])},enter(w){let P=s,b=a,M=g;if(!i.isMounted)if(f)P=v||s,b=c||a,M=p||g;else return;let A=!1;const R=w._enterCb=L=>{A||(A=!0,L?C(M,[w]):C(b,[w]),E.delayedLeave&&E.delayedLeave(),w._enterCb=void 0)};P?T(P,[w,R]):R()},leave(w,P){const b=String(e.key);if(w._enterCb&&w._enterCb(!0),i.isUnmounting)return P();C(u,[w]);let M=!1;const A=w._leaveCb=R=>{M||(M=!0,P(),R?C(o,[w]):C(l,[w]),w._leaveCb=void 0,m[b]===e&&delete m[b])};m[b]=e,h?T(h,[w,A]):A()},clone(w){return Bh(w,t,i,r)}};return E}function Vm(e){if(Bu(e))return e=jr(e),e.children=null,e}function vE(e){return Bu(e)?e.children?e.children[0]:void 0:e}function mo(e,t){e.shapeFlag&6&&e.component?mo(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Tc(e,t=!1,i){let r=[],f=0;for(let S=0;S<e.length;S++){let n=e[S];const x=i==null?n.key:String(i)+String(n.key!=null?n.key:S);n.type===Le?(n.patchFlag&128&&f++,r=r.concat(Tc(n.children,t,x))):(t||n.type!==Qi)&&r.push(x!=null?jr(n,{key:x}):n)}if(f>1)for(let S=0;S<r.length;S++)r[S].patchFlag=-2;return r}function vi(e,t){return ee(e)?$e({name:e.name},t,{setup:e}):e}const xo=e=>!!e.type.__asyncLoader;function n5(e){ee(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:r,delay:f=200,timeout:S,suspensible:n=!0,onError:x}=e;let s=null,a,g=0;const u=()=>(g++,s=null,h()),h=()=>{let l;return s||(l=s=t().catch(o=>{if(o=o instanceof Error?o:new Error(String(o)),x)return new Promise((d,v)=>{x(o,()=>d(u()),()=>v(o),g+1)});throw o}).then(o=>l!==s&&s?s:(o&&(o.__esModule||o[Symbol.toStringTag]==="Module")&&(o=o.default),a=o,o)))};return vi({name:"AsyncComponentWrapper",__asyncLoader:h,get __asyncResolved(){return a},setup(){const l=yi;if(a)return()=>zm(a,l);const o=p=>{s=null,vo(p,l,13,!r)};if(n&&l.suspense||Gh)return h().then(p=>()=>zm(p,l)).catch(p=>(o(p),()=>r?ie(r,{error:p}):null));const d=Qe(!1),v=Qe(),c=Qe(!!f);return f&&setTimeout(()=>{c.value=!1},f),S!=null&&setTimeout(()=>{if(!d.value&&!v.value){const p=new Error(`Async component timed out after ${S}ms.`);o(p),v.value=p}},S),h().then(()=>{d.value=!0,l.parent&&Bu(l.parent.vnode)&&pc(l.parent.update)}).catch(p=>{o(p),v.value=p}),()=>{if(d.value&&a)return zm(a,l);if(v.value&&r)return ie(r,{error:v.value});if(i&&!c.value)return ie(i)}}})}function zm(e,t){const{ref:i,props:r,children:f,ce:S}=t.vnode,n=ie(e,r,f);return n.ref=i,n.ce=S,delete t.vnode.ce,n}const Bu=e=>e.type.__isKeepAlive,a5={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=Jr(),r=i.ctx;if(!r.renderer)return()=>{const p=t.default&&t.default();return p&&p.length===1?p[0]:p};const f=new Map,S=new Set;let n=null;const x=i.suspense,{renderer:{p:s,m:a,um:g,o:{createElement:u}}}=r,h=u("div");r.activate=(p,y,m,C,T)=>{const E=p.component;a(p,y,m,0,x),s(E.vnode,p,y,m,E,x,C,p.slotScopeIds,T),ki(()=>{E.isDeactivated=!1,E.a&&Rh(E.a);const w=p.props&&p.props.onVnodeMounted;w&&Es(w,E.parent,p)},x)},r.deactivate=p=>{const y=p.component;a(p,h,null,1,x),ki(()=>{y.da&&Rh(y.da);const m=p.props&&p.props.onVnodeUnmounted;m&&Es(m,y.parent,p),y.isDeactivated=!0},x)};function l(p){Um(p),g(p,i,x,!0)}function o(p){f.forEach((y,m)=>{const C=h0(y.type);C&&(!p||!p(C))&&d(m)})}function d(p){const y=f.get(p);!n||!Pr(y,n)?l(y):n&&Um(n),f.delete(p),S.delete(p)}as(()=>[e.include,e.exclude],([p,y])=>{p&&o(m=>Nu(p,m)),y&&o(m=>!Nu(y,m))},{flush:"post",deep:!0});let v=null;const c=()=>{v!=null&&f.set(v,Wm(i.subTree))};return yo(c),Pc(c),wc(()=>{f.forEach(p=>{const{subTree:y,suspense:m}=i,C=Wm(y);if(p.type===C.type&&p.key===C.key){Um(C);const T=C.component.da;T&&ki(T,m);return}l(p)})}),()=>{if(v=null,!t.default)return null;const p=t.default(),y=p[0];if(p.length>1)return n=null,p;if(!da(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return n=null,y;let m=Wm(y);const C=m.type,T=h0(xo(m)?m.type.__asyncResolved||{}:C),{include:E,exclude:w,max:P}=e;if(E&&(!T||!Nu(E,T))||w&&T&&Nu(w,T))return n=m,y;const b=m.key==null?C:m.key,M=f.get(b);return m.el&&(m=jr(m),y.shapeFlag&128&&(y.ssContent=m)),v=b,M?(m.el=M.el,m.component=M.component,m.transition&&mo(m,m.transition),m.shapeFlag|=512,S.delete(b),S.add(b)):(S.add(b),P&&S.size>parseInt(P,10)&&d(S.values().next().value)),m.shapeFlag|=256,n=m,nE(y.type)?y:m}}};function Nu(e,t){return Vt(e)?e.some(i=>Nu(i,t)):Je(e)?e.split(",").includes(t):kI(e)?e.test(t):!1}function pE(e,t){mE(e,"a",t)}function gE(e,t){mE(e,"da",t)}function mE(e,t,i=yi){const r=e.__wdc||(e.__wdc=()=>{let f=i;for(;f;){if(f.isDeactivated)return;f=f.parent}return e()});if(Ec(t,r,i),i){let f=i.parent;for(;f&&f.parent;)Bu(f.parent.vnode)&&o5(r,t,i,f),f=f.parent}}function o5(e,t,i,r){const f=Ec(t,e,r,!0);Gu(()=>{gm(r[t],f)},i)}function Um(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Wm(e){return e.shapeFlag&128?e.ssContent:e}function Ec(e,t,i=yi,r=!1){if(i){const f=i[e]||(i[e]=[]),S=t.__weh||(t.__weh=(...n)=>{if(i.isUnmounted)return;Oh(),ca(i);const x=Vs(t,i,e,n);return va(),Lh(),x});return r?f.unshift(S):f.push(S),S}}const bn=e=>(t,i=yi)=>(!Gh||e==="sp")&&Ec(e,(...r)=>t(...r),i),xE=bn("bm"),yo=bn("m"),yE=bn("bu"),Pc=bn("u"),wc=bn("bum"),Gu=bn("um"),CE=bn("sp"),SE=bn("rtg"),TE=bn("rtc");function EE(e,t=yi){Ec("ec",e,t)}const Ym="components",h5="directives";function Zi(e,t){return $m(Ym,e,!0,t)||e}const PE=Symbol.for("v-ndc");function wE(e){return Je(e)?$m(Ym,e,!1)||e:e||PE}function l5(e){return $m(h5,e)}function $m(e,t,i=!0,r=!1){const f=Oi||yi;if(f){const S=f.type;if(e===Ym){const x=h0(S,!1);if(x&&(x===t||x===ms(t)||x===Tu(ms(t))))return S}const n=bE(f[e]||S[e],t)||bE(f.appContext[e],t);return!n&&r?S:n}}function bE(e,t){return e&&(e[t]||e[ms(t)]||e[Tu(ms(t))])}function Cs(e,t,i,r){let f;const S=i&&i[r];if(Vt(e)||Je(e)){f=new Array(e.length);for(let n=0,x=e.length;n<x;n++)f[n]=t(e[n],n,void 0,S&&S[n])}else if(typeof e=="number"){f=new Array(e);for(let n=0;n<e;n++)f[n]=t(n+1,n,void 0,S&&S[n])}else if(We(e))if(e[Symbol.iterator])f=Array.from(e,(n,x)=>t(n,x,void 0,S&&S[x]));else{const n=Object.keys(e);f=new Array(n.length);for(let x=0,s=n.length;x<s;x++){const a=n[x];f[x]=t(e[a],a,x,S&&S[x])}}else f=[];return i&&(i[r]=f),f}function u5(e,t){for(let i=0;i<t.length;i++){const r=t[i];if(Vt(r))for(let f=0;f<r.length;f++)e[r[f].name]=r[f].fn;else r&&(e[r.name]=r.key?(...f)=>{const S=r.fn(...f);return S&&(S.key=r.key),S}:r.fn)}return e}function Ss(e,t,i={},r,f){if(Oi.isCE||Oi.parent&&xo(Oi.parent)&&Oi.parent.isCE)return t!=="default"&&(i.name=t),ie("slot",i,r&&r());let S=e[t];S&&S._c&&(S._d=!1),Ft();const n=S&&ME(S(i)),x=ua(Le,{key:i.key||n&&n.key||`_${t}`},n||(r?r():[]),n&&e._===1?64:-2);return!f&&x.scopeId&&(x.slotScopeIds=[x.scopeId+"-s"]),S&&S._c&&(S._d=!0),x}function ME(e){return e.some(t=>da(t)?!(t.type===Qi||t.type===Le&&!ME(t.children)):!0)?e:null}function d5(e,t){const i={};for(const r in e)i[t&&/[A-Z]/.test(r)?`on:${r}`:Eu(r)]=e[r];return i}const Xm=e=>e?tP(e)?Ic(e)||e.proxy:Xm(e.parent):null,ku=$e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xm(e.parent),$root:e=>Xm(e.root),$emit:e=>e.emit,$options:e=>Jm(e),$forceUpdate:e=>e.f||(e.f=()=>pc(e.update)),$nextTick:e=>e.n||(e.n=Ou.bind(e.proxy)),$watch:e=>r5.bind(e)}),Hm=(e,t)=>e!==Ue&&!e.__isScriptSetup&&Oe(e,t),Km={get({_:e},t){const{ctx:i,setupState:r,data:f,props:S,accessCache:n,type:x,appContext:s}=e;let a;if(t[0]!=="$"){const l=n[t];if(l!==void 0)switch(l){case 1:return r[t];case 2:return f[t];case 4:return i[t];case 3:return S[t]}else{if(Hm(r,t))return n[t]=1,r[t];if(f!==Ue&&Oe(f,t))return n[t]=2,f[t];if((a=e.propsOptions[0])&&Oe(a,t))return n[t]=3,S[t];if(i!==Ue&&Oe(i,t))return n[t]=4,i[t];jm&&(n[t]=0)}}const g=ku[t];let u,h;if(g)return t==="$attrs"&&xs(e,"get",t),g(e);if((u=x.__cssModules)&&(u=u[t]))return u;if(i!==Ue&&Oe(i,t))return n[t]=4,i[t];if(h=s.config.globalProperties,Oe(h,t))return h[t]},set({_:e},t,i){const{data:r,setupState:f,ctx:S}=e;return Hm(f,t)?(f[t]=i,!0):r!==Ue&&Oe(r,t)?(r[t]=i,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(S[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:f,propsOptions:S}},n){let x;return!!i[n]||e!==Ue&&Oe(e,n)||Hm(t,n)||(x=S[0])&&Oe(x,n)||Oe(r,n)||Oe(ku,n)||Oe(f.config.globalProperties,n)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Oe(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},f5=$e({},Km,{get(e,t){if(t!==Symbol.unscopables)return Km.get(e,t,e)},has(e,t){return t[0]!=="_"&&!WI(t)}});function c5(){return null}function v5(){return null}function p5(e){}function g5(e){}function m5(){return null}function x5(){}function y5(e,t){return null}function C5(){return AE().slots}function S5(){return AE().attrs}function T5(e,t,i){const r=Jr();if(i&&i.local){const f=Qe(e[t]);return as(()=>e[t],S=>f.value=S),as(f,S=>{S!==e[t]&&r.emit(`update:${t}`,S)}),f}else return{__v_isRef:!0,get value(){return e[t]},set value(f){r.emit(`update:${t}`,f)}}}function AE(){const e=Jr();return e.setupContext||(e.setupContext=sP(e))}function Vu(e){return Vt(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}function E5(e,t){const i=Vu(e);for(const r in t){if(r.startsWith("__skip"))continue;let f=i[r];f?Vt(f)||ee(f)?f=i[r]={type:f,default:t[r]}:f.default=t[r]:f===null&&(f=i[r]={default:t[r]}),f&&t[`__skip_${r}`]&&(f.skipFactory=!0)}return i}function P5(e,t){return!e||!t?e||t:Vt(e)&&Vt(t)?e.concat(t):$e({},Vu(e),Vu(t))}function w5(e,t){const i={};for(const r in e)t.includes(r)||Object.defineProperty(i,r,{enumerable:!0,get:()=>e[r]});return i}function b5(e){const t=Jr();let i=e();return va(),mm(i)&&(i=i.catch(r=>{throw ca(t),r})),[i,()=>ca(t)]}let jm=!0;function M5(e){const t=Jm(e),i=e.proxy,r=e.ctx;jm=!1,t.beforeCreate&&RE(t.beforeCreate,e,"bc");const{data:f,computed:S,methods:n,watch:x,provide:s,inject:a,created:g,beforeMount:u,mounted:h,beforeUpdate:l,updated:o,activated:d,deactivated:v,beforeDestroy:c,beforeUnmount:p,destroyed:y,unmounted:m,render:C,renderTracked:T,renderTriggered:E,errorCaptured:w,serverPrefetch:P,expose:b,inheritAttrs:M,components:A,directives:R,filters:L}=t;if(a&&A5(a,r,null),n)for(const I in n){const B=n[I];ee(B)&&(r[I]=B.bind(i))}if(f){const I=f.call(i,i);We(I)&&(e.data=bu(I))}if(jm=!0,S)for(const I in S){const B=S[I],G=ee(B)?B.bind(i,i):ee(B.get)?B.get.bind(i,i):$r,z=!ee(B)&&ee(B.set)?B.set.bind(i):$r,Y=Me({get:G,set:z});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>Y.value,set:H=>Y.value=H})}if(x)for(const I in x)OE(x[I],r,i,I);if(s){const I=ee(s)?s.call(i):s;Reflect.ownKeys(I).forEach(B=>{Qm(B,I[B])})}g&&RE(g,e,"c");function D(I,B){Vt(B)?B.forEach(G=>I(G.bind(i))):B&&I(B.bind(i))}if(D(xE,u),D(yo,h),D(yE,l),D(Pc,o),D(pE,d),D(gE,v),D(EE,w),D(TE,T),D(SE,E),D(wc,p),D(Gu,m),D(CE,P),Vt(b))if(b.length){const I=e.exposed||(e.exposed={});b.forEach(B=>{Object.defineProperty(I,B,{get:()=>i[B],set:G=>i[B]=G})})}else e.exposed||(e.exposed={});C&&e.render===$r&&(e.render=C),M!=null&&(e.inheritAttrs=M),A&&(e.components=A),R&&(e.directives=R)}function A5(e,t,i=$r){Vt(e)&&(e=Zm(e));for(const r in e){const f=e[r];let S;We(f)?"default"in f?S=ha(f.from||r,f.default,!0):S=ha(f.from||r):S=ha(f),Ze(S)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>S.value,set:n=>S.value=n}):t[r]=S}}function RE(e,t,i){Vs(Vt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function OE(e,t,i,r){const f=r.includes(".")?dE(i,r):()=>i[r];if(Je(e)){const S=t[e];ee(S)&&as(f,S)}else if(ee(e))as(f,e.bind(i));else if(We(e))if(Vt(e))e.forEach(S=>OE(S,t,i,r));else{const S=ee(e.handler)?e.handler.bind(i):t[e.handler];ee(S)&&as(f,S,e)}}function Jm(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:f,optionsCache:S,config:{optionMergeStrategies:n}}=e.appContext,x=S.get(t);let s;return x?s=x:!f.length&&!i&&!r?s=t:(s={},f.length&&f.forEach(a=>bc(s,a,n,!0)),bc(s,t,n)),We(t)&&S.set(t,s),s}function bc(e,t,i,r=!1){const{mixins:f,extends:S}=t;S&&bc(e,S,i,!0),f&&f.forEach(n=>bc(e,n,i,!0));for(const n in t)if(!(r&&n==="expose")){const x=R5[n]||i&&i[n];e[n]=x?x(e[n],t[n]):t[n]}return e}const R5={data:LE,props:DE,emits:DE,methods:zu,computed:zu,beforeCreate:os,created:os,beforeMount:os,mounted:os,beforeUpdate:os,updated:os,beforeDestroy:os,beforeUnmount:os,destroyed:os,unmounted:os,activated:os,deactivated:os,errorCaptured:os,serverPrefetch:os,components:zu,directives:zu,watch:L5,provide:LE,inject:O5};function LE(e,t){return t?e?function(){return $e(ee(e)?e.call(this,this):e,ee(t)?t.call(this,this):t)}:t:e}function O5(e,t){return zu(Zm(e),Zm(t))}function Zm(e){if(Vt(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function os(e,t){return e?[...new Set([].concat(e,t))]:t}function zu(e,t){return e?$e(Object.create(null),e,t):t}function DE(e,t){return e?Vt(e)&&Vt(t)?[...new Set([...e,...t])]:$e(Object.create(null),Vu(e),Vu(t??{})):t}function L5(e,t){if(!e)return t;if(!t)return e;const i=$e(Object.create(null),e);for(const r in t)i[r]=os(e[r],t[r]);return i}function FE(){return{app:null,config:{isNativeTag:BI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let D5=0;function F5(e,t){return function(r,f=null){ee(r)||(r=$e({},r)),f!=null&&!We(f)&&(f=null);const S=FE(),n=new Set;let x=!1;const s=S.app={_uid:D5++,_component:r,_props:f,_container:null,_context:S,_instance:null,version:oP,get config(){return S.config},set config(a){},use(a,...g){return n.has(a)||(a&&ee(a.install)?(n.add(a),a.install(s,...g)):ee(a)&&(n.add(a),a(s,...g))),s},mixin(a){return S.mixins.includes(a)||S.mixins.push(a),s},component(a,g){return g?(S.components[a]=g,s):S.components[a]},directive(a,g){return g?(S.directives[a]=g,s):S.directives[a]},mount(a,g,u){if(!x){const h=ie(r,f);return h.appContext=S,g&&t?t(h,a):e(h,a,u),x=!0,s._container=a,a.__vue_app__=s,Ic(h.component)||h.component.proxy}},unmount(){x&&(e(null,s._container),delete s._container.__vue_app__)},provide(a,g){return S.provides[a]=g,s},runWithContext(a){Uu=s;try{return a()}finally{Uu=null}}};return s}}let Uu=null;function Qm(e,t){if(yi){let i=yi.provides;const r=yi.parent&&yi.parent.provides;r===i&&(i=yi.provides=Object.create(r)),i[e]=t}}function ha(e,t,i=!1){const r=yi||Oi;if(r||Uu){const f=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Uu._context.provides;if(f&&e in f)return f[e];if(arguments.length>1)return i&&ee(t)?t.call(r&&r.proxy):t}}function I5(){return!!(yi||Oi||Uu)}function B5(e,t,i,r=!1){const f={},S={};qf(S,Lc,1),e.propsDefaults=Object.create(null),IE(e,t,f,S);for(const n in e.propsOptions[0])n in f||(f[n]=void 0);i?e.props=r?f:jT(f):e.type.props?e.props=f:e.props=S,e.attrs=S}function N5(e,t,i,r){const{props:f,attrs:S,vnode:{patchFlag:n}}=e,x=ye(f),[s]=e.propsOptions;let a=!1;if((r||n>0)&&!(n&16)){if(n&8){const g=e.vnode.dynamicProps;for(let u=0;u<g.length;u++){let h=g[u];if(xc(e.emitsOptions,h))continue;const l=t[h];if(s)if(Oe(S,h))l!==S[h]&&(S[h]=l,a=!0);else{const o=ms(h);f[o]=qm(s,x,o,l,e,!1)}else l!==S[h]&&(S[h]=l,a=!0)}}}else{IE(e,t,f,S)&&(a=!0);let g;for(const u in x)(!t||!Oe(t,u)&&((g=sr(u))===u||!Oe(t,g)))&&(s?i&&(i[u]!==void 0||i[g]!==void 0)&&(f[u]=qm(s,x,u,void 0,e,!0)):delete f[u]);if(S!==x)for(const u in S)(!t||!Oe(t,u))&&(delete S[u],a=!0)}a&&En(e,"set","$attrs")}function IE(e,t,i,r){const[f,S]=e.propsOptions;let n=!1,x;if(t)for(let s in t){if(Su(s))continue;const a=t[s];let g;f&&Oe(f,g=ms(s))?!S||!S.includes(g)?i[g]=a:(x||(x={}))[g]=a:xc(e.emitsOptions,s)||(!(s in r)||a!==r[s])&&(r[s]=a,n=!0)}if(S){const s=ye(i),a=x||Ue;for(let g=0;g<S.length;g++){const u=S[g];i[u]=qm(f,s,u,a[u],e,!Oe(a,u))}}return n}function qm(e,t,i,r,f,S){const n=e[i];if(n!=null){const x=Oe(n,"default");if(x&&r===void 0){const s=n.default;if(n.type!==Function&&!n.skipFactory&&ee(s)){const{propsDefaults:a}=f;i in a?r=a[i]:(ca(f),r=a[i]=s.call(null,t),va())}else r=s}n[0]&&(S&&!x?r=!1:n[1]&&(r===""||r===sr(i))&&(r=!0))}return r}function BE(e,t,i=!1){const r=t.propsCache,f=r.get(e);if(f)return f;const S=e.props,n={},x=[];let s=!1;if(!ee(e)){const g=u=>{s=!0;const[h,l]=BE(u,t,!0);$e(n,h),l&&x.push(...l)};!i&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!S&&!s)return We(e)&&r.set(e,wh),wh;if(Vt(S))for(let g=0;g<S.length;g++){const u=ms(S[g]);NE(u)&&(n[u]=Ue)}else if(S)for(const g in S){const u=ms(g);if(NE(u)){const h=S[g],l=n[u]=Vt(h)||ee(h)?{type:h}:$e({},h);if(l){const o=VE(Boolean,l.type),d=VE(String,l.type);l[0]=o>-1,l[1]=d<0||o<d,(o>-1||Oe(l,"default"))&&x.push(u)}}}const a=[n,x];return We(e)&&r.set(e,a),a}function NE(e){return e[0]!=="$"}function GE(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function kE(e,t){return GE(e)===GE(t)}function VE(e,t){return Vt(t)?t.findIndex(i=>kE(i,e)):ee(t)&&kE(t,e)?0:-1}const zE=e=>e[0]==="_"||e==="$stable",_m=e=>Vt(e)?e.map(zs):[zs(e)],G5=(e,t,i)=>{if(t._n)return t;const r=ci((...f)=>_m(t(...f)),i);return r._c=!1,r},UE=(e,t,i)=>{const r=e._ctx;for(const f in e){if(zE(f))continue;const S=e[f];if(ee(S))t[f]=G5(f,S,r);else if(S!=null){const n=_m(S);t[f]=()=>n}}},WE=(e,t)=>{const i=_m(t);e.slots.default=()=>i},k5=(e,t)=>{if(e.vnode.shapeFlag&32){const i=t._;i?(e.slots=ye(t),qf(t,"_",i)):UE(t,e.slots={})}else e.slots={},t&&WE(e,t);qf(e.slots,Lc,1)},V5=(e,t,i)=>{const{vnode:r,slots:f}=e;let S=!0,n=Ue;if(r.shapeFlag&32){const x=t._;x?i&&x===1?S=!1:($e(f,t),!i&&x===1&&delete f._):(S=!t.$stable,UE(t,f)),n=t}else t&&(WE(e,t),n={default:1});if(S)for(const x in f)!zE(x)&&!(x in n)&&delete f[x]};function Mc(e,t,i,r,f=!1){if(Vt(e)){e.forEach((h,l)=>Mc(h,t&&(Vt(t)?t[l]:t),i,r,f));return}if(xo(r)&&!f)return;const S=r.shapeFlag&4?Ic(r.component)||r.component.proxy:r.el,n=f?null:S,{i:x,r:s}=e,a=t&&t.r,g=x.refs===Ue?x.refs={}:x.refs,u=x.setupState;if(a!=null&&a!==s&&(Je(a)?(g[a]=null,Oe(u,a)&&(u[a]=null)):Ze(a)&&(a.value=null)),ee(s))Pn(s,x,12,[n,g]);else{const h=Je(s),l=Ze(s);if(h||l){const o=()=>{if(e.f){const d=h?Oe(u,s)?u[s]:g[s]:s.value;f?Vt(d)&&gm(d,S):Vt(d)?d.includes(S)||d.push(S):h?(g[s]=[S],Oe(u,s)&&(u[s]=g[s])):(s.value=[S],e.k&&(g[e.k]=s.value))}else h?(g[s]=n,Oe(u,s)&&(u[s]=n)):l&&(s.value=n,e.k&&(g[e.k]=n))};n?(o.id=-1,ki(o,i)):o()}}}let la=!1;const Ac=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",Rc=e=>e.nodeType===8;function z5(e){const{mt:t,p:i,o:{patchProp:r,createText:f,nextSibling:S,parentNode:n,remove:x,insert:s,createComment:a}}=e,g=(c,p)=>{if(!p.hasChildNodes()){i(null,c,p),gc(),p._vnode=c;return}la=!1,u(p.firstChild,c,null,null,null),gc(),p._vnode=c,la&&console.error("Hydration completed but contains mismatches.")},u=(c,p,y,m,C,T=!1)=>{const E=Rc(c)&&c.data==="[",w=()=>d(c,p,y,m,C,E),{type:P,ref:b,shapeFlag:M,patchFlag:A}=p;let R=c.nodeType;p.el=c,A===-2&&(T=!1,p.dynamicChildren=null);let L=null;switch(P){case So:R!==3?p.children===""?(s(p.el=f(""),n(c),c),L=c):L=w():(c.data!==p.children&&(la=!0,c.data=p.children),L=S(c));break;case Qi:R!==8||E?L=w():L=S(c);break;case To:if(E&&(c=S(c),R=c.nodeType),R===1||R===3){L=c;const O=!p.children.length;for(let D=0;D<p.staticCount;D++)O&&(p.children+=L.nodeType===1?L.outerHTML:L.data),D===p.staticCount-1&&(p.anchor=L),L=S(L);return E?S(L):L}else w();break;case Le:E?L=o(c,p,y,m,C,T):L=w();break;default:if(M&1)R!==1||p.type.toLowerCase()!==c.tagName.toLowerCase()?L=w():L=h(c,p,y,m,C,T);else if(M&6){p.slotScopeIds=C;const O=n(c);if(t(p,O,null,y,m,Ac(O),T),L=E?v(c):S(c),L&&Rc(L)&&L.data==="teleport end"&&(L=S(L)),xo(p)){let D;E?(D=ie(Le),D.anchor=L?L.previousSibling:O.lastChild):D=c.nodeType===3?Vi(""):ie("div"),D.el=c,p.component.subTree=D}}else M&64?R!==8?L=w():L=p.type.hydrate(c,p,y,m,C,T,e,l):M&128&&(L=p.type.hydrate(c,p,y,m,Ac(n(c)),C,T,e,u))}return b!=null&&Mc(b,null,m,p),L},h=(c,p,y,m,C,T)=>{T=T||!!p.dynamicChildren;const{type:E,props:w,patchFlag:P,shapeFlag:b,dirs:M}=p,A=E==="input"&&M||E==="option";if(A||P!==-1){if(M&&Kr(p,null,y,"created"),w)if(A||!T||P&48)for(const L in w)(A&&L.endsWith("value")||yu(L)&&!Su(L))&&r(c,L,null,w[L],!1,void 0,y);else w.onClick&&r(c,"onClick",null,w.onClick,!1,void 0,y);let R;if((R=w&&w.onVnodeBeforeMount)&&Es(R,y,p),M&&Kr(p,null,y,"beforeMount"),((R=w&&w.onVnodeMounted)||M)&&hE(()=>{R&&Es(R,y,p),M&&Kr(p,null,y,"mounted")},m),b&16&&!(w&&(w.innerHTML||w.textContent))){let L=l(c.firstChild,p,c,y,m,C,T);for(;L;){la=!0;const O=L;L=L.nextSibling,x(O)}}else b&8&&c.textContent!==p.children&&(la=!0,c.textContent=p.children)}return c.nextSibling},l=(c,p,y,m,C,T,E)=>{E=E||!!p.dynamicChildren;const w=p.children,P=w.length;for(let b=0;b<P;b++){const M=E?w[b]:w[b]=zs(w[b]);if(c)c=u(c,M,m,C,T,E);else{if(M.type===So&&!M.children)continue;la=!0,i(null,M,y,null,m,C,Ac(y),T)}}return c},o=(c,p,y,m,C,T)=>{const{slotScopeIds:E}=p;E&&(C=C?C.concat(E):E);const w=n(c),P=l(S(c),p,w,y,m,C,T);return P&&Rc(P)&&P.data==="]"?S(p.anchor=P):(la=!0,s(p.anchor=a("]"),w,P),P)},d=(c,p,y,m,C,T)=>{if(la=!0,p.el=null,T){const P=v(c);for(;;){const b=S(c);if(b&&b!==P)x(b);else break}}const E=S(c),w=n(c);return x(c),i(null,p,w,E,y,m,Ac(w),C),E},v=c=>{let p=0;for(;c;)if(c=S(c),c&&Rc(c)&&(c.data==="["&&p++,c.data==="]")){if(p===0)return S(c);p--}return c};return[g,u]}const ki=hE;function YE(e){return XE(e)}function $E(e){return XE(e,z5)}function XE(e,t){const i=ym();i.__VUE__=!0;const{insert:r,remove:f,patchProp:S,createElement:n,createText:x,createComment:s,setText:a,setElementText:g,parentNode:u,nextSibling:h,setScopeId:l=$r,insertStaticContent:o}=e,d=(K,q,tt,st=null,nt=null,rt=null,ut=!1,vt=null,pt=!!q.dynamicChildren)=>{if(K===q)return;K&&!Pr(K,q)&&(st=V(K),H(K,nt,rt,!0),K=null),q.patchFlag===-2&&(pt=!1,q.dynamicChildren=null);const{type:ft,ref:lt,shapeFlag:yt}=q;switch(ft){case So:v(K,q,tt,st);break;case Qi:c(K,q,tt,st);break;case To:K==null&&p(q,tt,st,ut);break;case Le:A(K,q,tt,st,nt,rt,ut,vt,pt);break;default:yt&1?C(K,q,tt,st,nt,rt,ut,vt,pt):yt&6?R(K,q,tt,st,nt,rt,ut,vt,pt):(yt&64||yt&128)&&ft.process(K,q,tt,st,nt,rt,ut,vt,pt,X)}lt!=null&&nt&&Mc(lt,K&&K.ref,rt,q||K,!q)},v=(K,q,tt,st)=>{if(K==null)r(q.el=x(q.children),tt,st);else{const nt=q.el=K.el;q.children!==K.children&&a(nt,q.children)}},c=(K,q,tt,st)=>{K==null?r(q.el=s(q.children||""),tt,st):q.el=K.el},p=(K,q,tt,st)=>{[K.el,K.anchor]=o(K.children,q,tt,st,K.el,K.anchor)},y=({el:K,anchor:q},tt,st)=>{let nt;for(;K&&K!==q;)nt=h(K),r(K,tt,st),K=nt;r(q,tt,st)},m=({el:K,anchor:q})=>{let tt;for(;K&&K!==q;)tt=h(K),f(K),K=tt;f(q)},C=(K,q,tt,st,nt,rt,ut,vt,pt)=>{ut=ut||q.type==="svg",K==null?T(q,tt,st,nt,rt,ut,vt,pt):P(K,q,nt,rt,ut,vt,pt)},T=(K,q,tt,st,nt,rt,ut,vt)=>{let pt,ft;const{type:lt,props:yt,shapeFlag:Ct,transition:Rt,dirs:Dt}=K;if(pt=K.el=n(K.type,rt,yt&&yt.is,yt),Ct&8?g(pt,K.children):Ct&16&&w(K.children,pt,null,st,nt,rt&&lt!=="foreignObject",ut,vt),Dt&&Kr(K,null,st,"created"),E(pt,K,K.scopeId,ut,st),yt){for(const Et in yt)Et!=="value"&&!Su(Et)&&S(pt,Et,null,yt[Et],rt,K.children,st,nt,N);"value"in yt&&S(pt,"value",null,yt.value),(ft=yt.onVnodeBeforeMount)&&Es(ft,st,K)}Dt&&Kr(K,null,st,"beforeMount");const Tt=(!nt||nt&&!nt.pendingBranch)&&Rt&&!Rt.persisted;Tt&&Rt.beforeEnter(pt),r(pt,q,tt),((ft=yt&&yt.onVnodeMounted)||Tt||Dt)&&ki(()=>{ft&&Es(ft,st,K),Tt&&Rt.enter(pt),Dt&&Kr(K,null,st,"mounted")},nt)},E=(K,q,tt,st,nt)=>{if(tt&&l(K,tt),st)for(let rt=0;rt<st.length;rt++)l(K,st[rt]);if(nt){let rt=nt.subTree;if(q===rt){const ut=nt.vnode;E(K,ut,ut.scopeId,ut.slotScopeIds,nt.parent)}}},w=(K,q,tt,st,nt,rt,ut,vt,pt=0)=>{for(let ft=pt;ft<K.length;ft++){const lt=K[ft]=vt?fa(K[ft]):zs(K[ft]);d(null,lt,q,tt,st,nt,rt,ut,vt)}},P=(K,q,tt,st,nt,rt,ut)=>{const vt=q.el=K.el;let{patchFlag:pt,dynamicChildren:ft,dirs:lt}=q;pt|=K.patchFlag&16;const yt=K.props||Ue,Ct=q.props||Ue;let Rt;tt&&Co(tt,!1),(Rt=Ct.onVnodeBeforeUpdate)&&Es(Rt,tt,q,K),lt&&Kr(q,K,tt,"beforeUpdate"),tt&&Co(tt,!0);const Dt=nt&&q.type!=="foreignObject";if(ft?b(K.dynamicChildren,ft,vt,tt,st,Dt,rt):ut||B(K,q,vt,null,tt,st,Dt,rt,!1),pt>0){if(pt&16)M(vt,q,yt,Ct,tt,st,nt);else if(pt&2&&yt.class!==Ct.class&&S(vt,"class",null,Ct.class,nt),pt&4&&S(vt,"style",yt.style,Ct.style,nt),pt&8){const Tt=q.dynamicProps;for(let Et=0;Et<Tt.length;Et++){const ot=Tt[Et],at=yt[ot],gt=Ct[ot];(gt!==at||ot==="value")&&S(vt,ot,at,gt,nt,K.children,tt,st,N)}}pt&1&&K.children!==q.children&&g(vt,q.children)}else!ut&&ft==null&&M(vt,q,yt,Ct,tt,st,nt);((Rt=Ct.onVnodeUpdated)||lt)&&ki(()=>{Rt&&Es(Rt,tt,q,K),lt&&Kr(q,K,tt,"updated")},st)},b=(K,q,tt,st,nt,rt,ut)=>{for(let vt=0;vt<q.length;vt++){const pt=K[vt],ft=q[vt],lt=pt.el&&(pt.type===Le||!Pr(pt,ft)||pt.shapeFlag&70)?u(pt.el):tt;d(pt,ft,lt,null,st,nt,rt,ut,!0)}},M=(K,q,tt,st,nt,rt,ut)=>{if(tt!==st){if(tt!==Ue)for(const vt in tt)!Su(vt)&&!(vt in st)&&S(K,vt,tt[vt],null,ut,q.children,nt,rt,N);for(const vt in st){if(Su(vt))continue;const pt=st[vt],ft=tt[vt];pt!==ft&&vt!=="value"&&S(K,vt,ft,pt,ut,q.children,nt,rt,N)}"value"in st&&S(K,"value",tt.value,st.value)}},A=(K,q,tt,st,nt,rt,ut,vt,pt)=>{const ft=q.el=K?K.el:x(""),lt=q.anchor=K?K.anchor:x("");let{patchFlag:yt,dynamicChildren:Ct,slotScopeIds:Rt}=q;Rt&&(vt=vt?vt.concat(Rt):Rt),K==null?(r(ft,tt,st),r(lt,tt,st),w(q.children,tt,lt,nt,rt,ut,vt,pt)):yt>0&&yt&64&&Ct&&K.dynamicChildren?(b(K.dynamicChildren,Ct,tt,nt,rt,ut,vt),(q.key!=null||nt&&q===nt.subTree)&&t0(K,q,!0)):B(K,q,tt,lt,nt,rt,ut,vt,pt)},R=(K,q,tt,st,nt,rt,ut,vt,pt)=>{q.slotScopeIds=vt,K==null?q.shapeFlag&512?nt.ctx.activate(q,tt,st,ut,pt):L(q,tt,st,nt,rt,ut,pt):O(K,q,pt)},L=(K,q,tt,st,nt,rt,ut)=>{const vt=K.component=qE(K,st,nt);if(Bu(K)&&(vt.ctx.renderer=X),eP(vt),vt.asyncDep){if(nt&&nt.registerDep(vt,D),!K.el){const pt=vt.subTree=ie(Qi);c(null,pt,q,tt)}return}D(vt,K,q,tt,nt,rt,ut)},O=(K,q,tt)=>{const st=q.component=K.component;if(Q4(K,q,tt))if(st.asyncDep&&!st.asyncResolved){I(st,q,tt);return}else st.next=q,W4(st.update),st.update();else q.el=K.el,st.vnode=q},D=(K,q,tt,st,nt,rt,ut)=>{const vt=()=>{if(K.isMounted){let{next:lt,bu:yt,u:Ct,parent:Rt,vnode:Dt}=K,Tt=lt,Et;Co(K,!1),lt?(lt.el=Dt.el,I(K,lt,ut)):lt=Dt,yt&&Rh(yt),(Et=lt.props&&lt.props.onVnodeBeforeUpdate)&&Es(Et,Rt,lt,Dt),Co(K,!0);const ot=Cc(K),at=K.subTree;K.subTree=ot,d(at,ot,u(at.el),V(at),K,nt,rt),lt.el=ot.el,Tt===null&&Bm(K,ot.el),Ct&&ki(Ct,nt),(Et=lt.props&&lt.props.onVnodeUpdated)&&ki(()=>Es(Et,Rt,lt,Dt),nt)}else{let lt;const{el:yt,props:Ct}=q,{bm:Rt,m:Dt,parent:Tt}=K,Et=xo(q);if(Co(K,!1),Rt&&Rh(Rt),!Et&&(lt=Ct&&Ct.onVnodeBeforeMount)&&Es(lt,Tt,q),Co(K,!0),yt&&Q){const ot=()=>{K.subTree=Cc(K),Q(yt,K.subTree,K,nt,null)};Et?q.type.__asyncLoader().then(()=>!K.isUnmounted&&ot()):ot()}else{const ot=K.subTree=Cc(K);d(null,ot,tt,st,K,nt,rt),q.el=ot.el}if(Dt&&ki(Dt,nt),!Et&&(lt=Ct&&Ct.onVnodeMounted)){const ot=q;ki(()=>Es(lt,Tt,ot),nt)}(q.shapeFlag&256||Tt&&xo(Tt.vnode)&&Tt.vnode.shapeFlag&256)&&K.a&&ki(K.a,nt),K.isMounted=!0,q=tt=st=null}},pt=K.effect=new wu(vt,()=>pc(ft),K.scope),ft=K.update=()=>pt.run();ft.id=K.uid,Co(K,!0),ft()},I=(K,q,tt)=>{q.component=K;const st=K.vnode.props;K.vnode=q,K.next=null,N5(K,q.props,st,tt),V5(K,q.children,tt),Oh(),tE(),Lh()},B=(K,q,tt,st,nt,rt,ut,vt,pt=!1)=>{const ft=K&&K.children,lt=K?K.shapeFlag:0,yt=q.children,{patchFlag:Ct,shapeFlag:Rt}=q;if(Ct>0){if(Ct&128){z(ft,yt,tt,st,nt,rt,ut,vt,pt);return}else if(Ct&256){G(ft,yt,tt,st,nt,rt,ut,vt,pt);return}}Rt&8?(lt&16&&N(ft,nt,rt),yt!==ft&&g(tt,yt)):lt&16?Rt&16?z(ft,yt,tt,st,nt,rt,ut,vt,pt):N(ft,nt,rt,!0):(lt&8&&g(tt,""),Rt&16&&w(yt,tt,st,nt,rt,ut,vt,pt))},G=(K,q,tt,st,nt,rt,ut,vt,pt)=>{K=K||wh,q=q||wh;const ft=K.length,lt=q.length,yt=Math.min(ft,lt);let Ct;for(Ct=0;Ct<yt;Ct++){const Rt=q[Ct]=pt?fa(q[Ct]):zs(q[Ct]);d(K[Ct],Rt,tt,null,nt,rt,ut,vt,pt)}ft>lt?N(K,nt,rt,!0,!1,yt):w(q,tt,st,nt,rt,ut,vt,pt,yt)},z=(K,q,tt,st,nt,rt,ut,vt,pt)=>{let ft=0;const lt=q.length;let yt=K.length-1,Ct=lt-1;for(;ft<=yt&&ft<=Ct;){const Rt=K[ft],Dt=q[ft]=pt?fa(q[ft]):zs(q[ft]);if(Pr(Rt,Dt))d(Rt,Dt,tt,null,nt,rt,ut,vt,pt);else break;ft++}for(;ft<=yt&&ft<=Ct;){const Rt=K[yt],Dt=q[Ct]=pt?fa(q[Ct]):zs(q[Ct]);if(Pr(Rt,Dt))d(Rt,Dt,tt,null,nt,rt,ut,vt,pt);else break;yt--,Ct--}if(ft>yt){if(ft<=Ct){const Rt=Ct+1,Dt=Rt<lt?q[Rt].el:st;for(;ft<=Ct;)d(null,q[ft]=pt?fa(q[ft]):zs(q[ft]),tt,Dt,nt,rt,ut,vt,pt),ft++}}else if(ft>Ct)for(;ft<=yt;)H(K[ft],nt,rt,!0),ft++;else{const Rt=ft,Dt=ft,Tt=new Map;for(ft=Dt;ft<=Ct;ft++){const dt=q[ft]=pt?fa(q[ft]):zs(q[ft]);dt.key!=null&&Tt.set(dt.key,ft)}let Et,ot=0;const at=Ct-Dt+1;let gt=!1,_=0;const it=new Array(at);for(ft=0;ft<at;ft++)it[ft]=0;for(ft=Rt;ft<=yt;ft++){const dt=K[ft];if(ot>=at){H(dt,nt,rt,!0);continue}let St;if(dt.key!=null)St=Tt.get(dt.key);else for(Et=Dt;Et<=Ct;Et++)if(it[Et-Dt]===0&&Pr(dt,q[Et])){St=Et;break}St===void 0?H(dt,nt,rt,!0):(it[St-Dt]=ft+1,St>=_?_=St:gt=!0,d(dt,q[St],tt,null,nt,rt,ut,vt,pt),ot++)}const ht=gt?U5(it):wh;for(Et=ht.length-1,ft=at-1;ft>=0;ft--){const dt=Dt+ft,St=q[dt],It=dt+1<lt?q[dt+1].el:st;it[ft]===0?d(null,St,tt,It,nt,rt,ut,vt,pt):gt&&(Et<0||ft!==ht[Et]?Y(St,tt,It,2):Et--)}}},Y=(K,q,tt,st,nt=null)=>{const{el:rt,type:ut,transition:vt,children:pt,shapeFlag:ft}=K;if(ft&6){Y(K.component.subTree,q,tt,st);return}if(ft&128){K.suspense.move(q,tt,st);return}if(ft&64){ut.move(K,q,tt,X);return}if(ut===Le){r(rt,q,tt);for(let yt=0;yt<pt.length;yt++)Y(pt[yt],q,tt,st);r(K.anchor,q,tt);return}if(ut===To){y(K,q,tt);return}if(st!==2&&ft&1&&vt)if(st===0)vt.beforeEnter(rt),r(rt,q,tt),ki(()=>vt.enter(rt),nt);else{const{leave:yt,delayLeave:Ct,afterLeave:Rt}=vt,Dt=()=>r(rt,q,tt),Tt=()=>{yt(rt,()=>{Dt(),Rt&&Rt()})};Ct?Ct(rt,Dt,Tt):Tt()}else r(rt,q,tt)},H=(K,q,tt,st=!1,nt=!1)=>{const{type:rt,props:ut,ref:vt,children:pt,dynamicChildren:ft,shapeFlag:lt,patchFlag:yt,dirs:Ct}=K;if(vt!=null&&Mc(vt,null,tt,K,!0),lt&256){q.ctx.deactivate(K);return}const Rt=lt&1&&Ct,Dt=!xo(K);let Tt;if(Dt&&(Tt=ut&&ut.onVnodeBeforeUnmount)&&Es(Tt,q,K),lt&6)F(K.component,tt,st);else{if(lt&128){K.suspense.unmount(tt,st);return}Rt&&Kr(K,null,q,"beforeUnmount"),lt&64?K.type.remove(K,q,tt,nt,X,st):ft&&(rt!==Le||yt>0&&yt&64)?N(ft,q,tt,!1,!0):(rt===Le&&yt&384||!nt&&lt&16)&&N(pt,q,tt),st&&k(K)}(Dt&&(Tt=ut&&ut.onVnodeUnmounted)||Rt)&&ki(()=>{Tt&&Es(Tt,q,K),Rt&&Kr(K,null,q,"unmounted")},tt)},k=K=>{const{type:q,el:tt,anchor:st,transition:nt}=K;if(q===Le){U(tt,st);return}if(q===To){m(K);return}const rt=()=>{f(tt),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if(K.shapeFlag&1&&nt&&!nt.persisted){const{leave:ut,delayLeave:vt}=nt,pt=()=>ut(tt,rt);vt?vt(K.el,rt,pt):pt()}else rt()},U=(K,q)=>{let tt;for(;K!==q;)tt=h(K),f(K),K=tt;f(q)},F=(K,q,tt)=>{const{bum:st,scope:nt,update:rt,subTree:ut,um:vt}=K;st&&Rh(st),nt.stop(),rt&&(rt.active=!1,H(ut,K,q,tt)),vt&&ki(vt,q),ki(()=>{K.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},N=(K,q,tt,st=!1,nt=!1,rt=0)=>{for(let ut=rt;ut<K.length;ut++)H(K[ut],q,tt,st,nt)},V=K=>K.shapeFlag&6?V(K.component.subTree):K.shapeFlag&128?K.suspense.next():h(K.anchor||K.el),$=(K,q,tt)=>{K==null?q._vnode&&H(q._vnode,null,null,!0):d(q._vnode||null,K,q,null,null,null,tt),tE(),gc(),q._vnode=K},X={p:d,um:H,m:Y,r:k,mt:L,mc:w,pc:B,pbc:b,n:V,o:e};let j,Q;return t&&([j,Q]=t(X)),{render:$,hydrate:j,createApp:F5($,j)}}function Co({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function t0(e,t,i=!1){const r=e.children,f=t.children;if(Vt(r)&&Vt(f))for(let S=0;S<r.length;S++){const n=r[S];let x=f[S];x.shapeFlag&1&&!x.dynamicChildren&&((x.patchFlag<=0||x.patchFlag===32)&&(x=f[S]=fa(f[S]),x.el=n.el),i||t0(n,x)),x.type===So&&(x.el=n.el)}}function U5(e){const t=e.slice(),i=[0];let r,f,S,n,x;const s=e.length;for(r=0;r<s;r++){const a=e[r];if(a!==0){if(f=i[i.length-1],e[f]<a){t[r]=f,i.push(r);continue}for(S=0,n=i.length-1;S<n;)x=S+n>>1,e[i[x]]<a?S=x+1:n=x;a<e[i[S]]&&(S>0&&(t[r]=i[S-1]),i[S]=r)}}for(S=i.length,n=i[S-1];S-- >0;)i[S]=n,n=t[n];return i}const W5=e=>e.__isTeleport,Wu=e=>e&&(e.disabled||e.disabled===""),HE=e=>typeof SVGElement<"u"&&e instanceof SVGElement,e0=(e,t)=>{const i=e&&e.to;return Je(i)?t?t(i):null:i},Y5={__isTeleport:!0,process(e,t,i,r,f,S,n,x,s,a){const{mc:g,pc:u,pbc:h,o:{insert:l,querySelector:o,createText:d,createComment:v}}=a,c=Wu(t.props);let{shapeFlag:p,children:y,dynamicChildren:m}=t;if(e==null){const C=t.el=d(""),T=t.anchor=d("");l(C,i,r),l(T,i,r);const E=t.target=e0(t.props,o),w=t.targetAnchor=d("");E&&(l(w,E),n=n||HE(E));const P=(b,M)=>{p&16&&g(y,b,M,f,S,n,x,s)};c?P(i,T):E&&P(E,w)}else{t.el=e.el;const C=t.anchor=e.anchor,T=t.target=e.target,E=t.targetAnchor=e.targetAnchor,w=Wu(e.props),P=w?i:T,b=w?C:E;if(n=n||HE(T),m?(h(e.dynamicChildren,m,P,f,S,n,x),t0(e,t,!0)):s||u(e,t,P,b,f,S,n,x,!1),c)w||Oc(t,i,C,a,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const M=t.target=e0(t.props,o);M&&Oc(t,M,null,a,0)}else w&&Oc(t,T,E,a,1)}KE(t)},remove(e,t,i,r,{um:f,o:{remove:S}},n){const{shapeFlag:x,children:s,anchor:a,targetAnchor:g,target:u,props:h}=e;if(u&&S(g),(n||!Wu(h))&&(S(a),x&16))for(let l=0;l<s.length;l++){const o=s[l];f(o,t,i,!0,!!o.dynamicChildren)}},move:Oc,hydrate:$5};function Oc(e,t,i,{o:{insert:r},m:f},S=2){S===0&&r(e.targetAnchor,t,i);const{el:n,anchor:x,shapeFlag:s,children:a,props:g}=e,u=S===2;if(u&&r(n,t,i),(!u||Wu(g))&&s&16)for(let h=0;h<a.length;h++)f(a[h],t,i,2);u&&r(x,t,i)}function $5(e,t,i,r,f,S,{o:{nextSibling:n,parentNode:x,querySelector:s}},a){const g=t.target=e0(t.props,s);if(g){const u=g._lpa||g.firstChild;if(t.shapeFlag&16)if(Wu(t.props))t.anchor=a(n(e),t,x(e),i,r,f,S),t.targetAnchor=u;else{t.anchor=n(e);let h=u;for(;h;)if(h=n(h),h&&h.nodeType===8&&h.data==="teleport anchor"){t.targetAnchor=h,g._lpa=t.targetAnchor&&n(t.targetAnchor);break}a(u,t,g,i,r,f,S)}KE(t)}return t.anchor&&n(t.anchor)}const X5=Y5;function KE(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Le=Symbol.for("v-fgt"),So=Symbol.for("v-txt"),Qi=Symbol.for("v-cmt"),To=Symbol.for("v-stc"),Yu=[];let Ts=null;function Ft(e=!1){Yu.push(Ts=e?null:[])}function jE(){Yu.pop(),Ts=Yu[Yu.length-1]||null}let Eo=1;function i0(e){Eo+=e}function JE(e){return e.dynamicChildren=Eo>0?Ts||wh:null,jE(),Eo>0&&Ts&&Ts.push(e),e}function Nt(e,t,i,r,f,S){return JE(xt(e,t,i,r,f,S,!0))}function ua(e,t,i,r,f){return JE(ie(e,t,i,r,f,!0))}function da(e){return e?e.__v_isVNode===!0:!1}function Pr(e,t){return e.type===t.type&&e.key===t.key}function H5(e){}const Lc="__vInternal",ZE=({key:e})=>e??null,Dc=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||Ze(e)||ee(e)?{i:Oi,r:e,k:t,f:!!i}:e:null);function xt(e,t=null,i=null,r=0,f=null,S=e===Le?0:1,n=!1,x=!1){const s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ZE(t),ref:t&&Dc(t),scopeId:yc,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:S,patchFlag:r,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Oi};return x?(s0(s,i),S&128&&e.normalize(s)):i&&(s.shapeFlag|=Je(i)?8:16),Eo>0&&!n&&Ts&&(s.patchFlag>0||S&6)&&s.patchFlag!==32&&Ts.push(s),s}const ie=K5;function K5(e,t=null,i=null,r=0,f=null,S=!1){if((!e||e===PE)&&(e=Qi),da(e)){const x=jr(e,t,!0);return i&&s0(x,i),Eo>0&&!S&&Ts&&(x.shapeFlag&6?Ts[Ts.indexOf(e)]=x:Ts.push(x)),x.patchFlag|=-2,x}if(eB(e)&&(e=e.__vccOpts),t){t=QE(t);let{class:x,style:s}=t;x&&!Je(x)&&(t.class=Xe(x)),We(s)&&(Am(s)&&!Vt(s)&&(s=$e({},s)),t.style=xi(s))}const n=Je(e)?1:nE(e)?128:W5(e)?64:We(e)?4:ee(e)?2:0;return xt(e,t,i,r,f,n,S,!0)}function QE(e){return e?Am(e)||Lc in e?$e({},e):e:null}function jr(e,t,i=!1){const{props:r,ref:f,patchFlag:S,children:n}=e,x=t?r0(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:x,key:x&&ZE(x),ref:t&&t.ref?i&&f?Vt(f)?f.concat(Dc(t)):[f,Dc(t)]:Dc(t):f,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:n,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Le?S===-1?16:S|16:S,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&jr(e.ssContent),ssFallback:e.ssFallback&&jr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Vi(e=" ",t=0){return ie(So,null,e,t)}function j5(e,t){const i=ie(To,null,e);return i.staticCount=t,i}function fe(e="",t=!1){return t?(Ft(),ua(Qi,null,e)):ie(Qi,null,e)}function zs(e){return e==null||typeof e=="boolean"?ie(Qi):Vt(e)?ie(Le,null,e.slice()):typeof e=="object"?fa(e):ie(So,null,String(e))}function fa(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:jr(e)}function s0(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Vt(t))i=16;else if(typeof t=="object")if(r&65){const f=t.default;f&&(f._c&&(f._d=!1),s0(e,f()),f._c&&(f._d=!0));return}else{i=32;const f=t._;!f&&!(Lc in t)?t._ctx=Oi:f===3&&Oi&&(Oi.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:Oi},i=32):(t=String(t),r&64?(i=16,t=[Vi(t)]):i=8);e.children=t,e.shapeFlag|=i}function r0(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const f in r)if(f==="class")t.class!==r.class&&(t.class=Xe([t.class,r.class]));else if(f==="style")t.style=xi([t.style,r.style]);else if(yu(f)){const S=t[f],n=r[f];n&&S!==n&&!(Vt(S)&&S.includes(n))&&(t[f]=S?[].concat(S,n):n)}else f!==""&&(t[f]=r[f])}return t}function Es(e,t,i,r=null){Vs(e,t,7,[i,r])}const J5=FE();let Z5=0;function qE(e,t,i){const r=e.type,f=(t?t.appContext:e.appContext)||J5,S={uid:Z5++,vnode:e,type:r,parent:t,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:BE(r,f),emitsOptions:sE(r,f),emit:null,emitted:null,propsDefaults:Ue,inheritAttrs:r.inheritAttrs,ctx:Ue,data:Ue,props:Ue,attrs:Ue,slots:Ue,refs:Ue,setupState:Ue,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return S.ctx={_:S},S.root=t?t.root:S,S.emit=$4.bind(null,S),e.ce&&e.ce(S),S}let yi=null;const Jr=()=>yi||Oi;let n0,Nh,_E="__VUE_INSTANCE_SETTERS__";(Nh=ym()[_E])||(Nh=ym()[_E]=[]),Nh.push(e=>yi=e),n0=e=>{Nh.length>1?Nh.forEach(t=>t(e)):Nh[0](e)};const ca=e=>{n0(e),e.scope.on()},va=()=>{yi&&yi.scope.off(),n0(null)};function tP(e){return e.vnode.shapeFlag&4}let Gh=!1;function eP(e,t=!1){Gh=t;const{props:i,children:r}=e.vnode,f=tP(e);B5(e,i,f,t),k5(e,r);const S=f?Q5(e,t):void 0;return Gh=!1,S}function Q5(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=co(new Proxy(e.ctx,Km));const{setup:r}=i;if(r){const f=e.setupContext=r.length>1?sP(e):null;ca(e),Oh();const S=Pn(r,e,0,[e.props,f]);if(Lh(),va(),mm(S)){if(S.then(va,va),t)return S.then(n=>{a0(e,n,t)}).catch(n=>{vo(n,e,0)});e.asyncDep=S}else a0(e,S,t)}else iP(e,t)}function a0(e,t,i){ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=Lm(t)),iP(e,i)}let Fc,o0;function q5(e){Fc=e,o0=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,f5))}}const _5=()=>!Fc;function iP(e,t,i){const r=e.type;if(!e.render){if(!t&&Fc&&!r.render){const f=r.template||Jm(e).template;if(f){const{isCustomElement:S,compilerOptions:n}=e.appContext.config,{delimiters:x,compilerOptions:s}=r,a=$e($e({isCustomElement:S,delimiters:x},n),s);r.render=Fc(f,a)}}e.render=r.render||$r,o0&&o0(e)}ca(e),Oh(),M5(e),Lh(),va()}function tB(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,i){return xs(e,"get","$attrs"),t[i]}}))}function sP(e){const t=i=>{e.exposed=i||{}};return{get attrs(){return tB(e)},slots:e.slots,emit:e.emit,expose:t}}function Ic(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Lm(co(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in ku)return ku[i](e)},has(t,i){return i in t||i in ku}}))}function h0(e,t=!0){return ee(e)?e.displayName||e.name:e.name||t&&e.__name}function eB(e){return ee(e)&&"__vccOpts"in e}const Me=(e,t)=>G4(e,t,Gh);function ce(e,t,i){const r=arguments.length;return r===2?We(t)&&!Vt(t)?da(t)?ie(e,null,[t]):ie(e,t):ie(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&da(i)&&(i=[i]),ie(e,t,i))}const rP=Symbol.for("v-scx"),nP=()=>ha(rP);function iB(){}function sB(e,t,i,r){const f=i[r];if(f&&aP(f,e))return f;const S=t();return S.memo=e.slice(),i[r]=S}function aP(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let r=0;r<i.length;r++)if(Ah(i[r],t[r]))return!1;return Eo>0&&Ts&&Ts.push(e),!0}const oP="3.3.4",rB={createComponentInstance:qE,setupComponent:eP,renderComponentRoot:Cc,setCurrentRenderingInstance:Du,isVNode:da,normalizeVNode:zs},nB=null,aB=null,oB="http://www.w3.org/2000/svg",Po=typeof document<"u"?document:null,hP=Po&&Po.createElement("template"),hB={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const f=t?Po.createElementNS(oB,e):Po.createElement(e,i?{is:i}:void 0);return e==="select"&&r&&r.multiple!=null&&f.setAttribute("multiple",r.multiple),f},createText:e=>Po.createTextNode(e),createComment:e=>Po.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Po.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,f,S){const n=i?i.previousSibling:t.lastChild;if(f&&(f===S||f.nextSibling))for(;t.insertBefore(f.cloneNode(!0),i),!(f===S||!(f=f.nextSibling)););else{hP.innerHTML=r?`<svg>${e}</svg>`:e;const x=hP.content;if(r){const s=x.firstChild;for(;s.firstChild;)x.appendChild(s.firstChild);x.removeChild(s)}t.insertBefore(x,i)}return[n?n.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}};function lB(e,t,i){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}function uB(e,t,i){const r=e.style,f=Je(i);if(i&&!f){if(t&&!Je(t))for(const S in t)i[S]==null&&l0(r,S,"");for(const S in i)l0(r,S,i[S])}else{const S=r.display;f?t!==i&&(r.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=S)}}const lP=/\s*!important$/;function l0(e,t,i){if(Vt(i))i.forEach(r=>l0(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=dB(e,t);lP.test(i)?e.setProperty(sr(r),i.replace(lP,""),"important"):e[r]=i}}const uP=["Webkit","Moz","ms"],u0={};function dB(e,t){const i=u0[t];if(i)return i;let r=ms(t);if(r!=="filter"&&r in e)return u0[t]=r;r=Tu(r);for(let f=0;f<uP.length;f++){const S=uP[f]+r;if(S in e)return u0[t]=S}return t}const dP="http://www.w3.org/1999/xlink";function fB(e,t,i,r,f){if(r&&t.startsWith("xlink:"))i==null?e.removeAttributeNS(dP,t.slice(6,t.length)):e.setAttributeNS(dP,t,i);else{const S=jI(t);i==null||S&&!wT(i)?e.removeAttribute(t):e.setAttribute(t,S?"":i)}}function cB(e,t,i,r,f,S,n){if(t==="innerHTML"||t==="textContent"){r&&n(r,f,S),e[t]=i??"";return}const x=e.tagName;if(t==="value"&&x!=="PROGRESS"&&!x.includes("-")){e._value=i;const a=x==="OPTION"?e.getAttribute("value"):e.value,g=i??"";a!==g&&(e.value=g),i==null&&e.removeAttribute(t);return}let s=!1;if(i===""||i==null){const a=typeof e[t];a==="boolean"?i=wT(i):i==null&&a==="string"?(i="",s=!0):a==="number"&&(i=0,s=!0)}try{e[t]=i}catch{}s&&e.removeAttribute(t)}function Mn(e,t,i,r){e.addEventListener(t,i,r)}function vB(e,t,i,r){e.removeEventListener(t,i,r)}function pB(e,t,i,r,f=null){const S=e._vei||(e._vei={}),n=S[t];if(r&&n)n.value=r;else{const[x,s]=gB(t);if(r){const a=S[t]=yB(r,f);Mn(e,x,a,s)}else n&&(vB(e,x,n,s),S[t]=void 0)}}const fP=/(?:Once|Passive|Capture)$/;function gB(e){let t;if(fP.test(e)){t={};let r;for(;r=e.match(fP);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):sr(e.slice(2)),t]}let d0=0;const mB=Promise.resolve(),xB=()=>d0||(mB.then(()=>d0=0),d0=Date.now());function yB(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Vs(CB(r,i.value),t,5,[r])};return i.value=e,i.attached=xB(),i}function CB(e,t){if(Vt(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>f=>!f._stopped&&r&&r(f))}else return t}const cP=/^on[a-z]/,SB=(e,t,i,r,f=!1,S,n,x,s)=>{t==="class"?lB(e,r,f):t==="style"?uB(e,i,r):yu(t)?pm(t)||pB(e,t,i,r,n):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):TB(e,t,r,f))?cB(e,t,r,S,n,x,s):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),fB(e,t,r,f))};function TB(e,t,i,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&cP.test(t)&&ee(i)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||cP.test(t)&&Je(i)?!1:t in e}function vP(e,t){const i=vi(e);class r extends Bc{constructor(S){super(i,S,t)}}return r.def=i,r}const EB=e=>vP(e,GP),PB=typeof HTMLElement<"u"?HTMLElement:class{};class Bc extends PB{constructor(t,i={},r){super(),this._def=t,this._props=i,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ou(()=>{this._connected||(g0(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const f of r)this._setAttr(f.attributeName)}).observe(this,{attributes:!0});const t=(r,f=!1)=>{const{props:S,styles:n}=r;let x;if(S&&!Vt(S))for(const s in S){const a=S[s];(a===Number||a&&a.type===Number)&&(s in this._props&&(this._props[s]=tc(this._props[s])),(x||(x=Object.create(null)))[ms(s)]=!0)}this._numberProps=x,f&&this._resolveProps(r),this._applyStyles(n),this._update()},i=this._def.__asyncLoader;i?i().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:i}=t,r=Vt(i)?i:Object.keys(i||{});for(const f of Object.keys(this))f[0]!=="_"&&r.includes(f)&&this._setProp(f,this[f],!0,!1);for(const f of r.map(ms))Object.defineProperty(this,f,{get(){return this._getProp(f)},set(S){this._setProp(f,S)}})}_setAttr(t){let i=this.getAttribute(t);const r=ms(t);this._numberProps&&this._numberProps[r]&&(i=tc(i)),this._setProp(r,i,!1)}_getProp(t){return this._props[t]}_setProp(t,i,r=!0,f=!0){i!==this._props[t]&&(this._props[t]=i,f&&this._instance&&this._update(),r&&(i===!0?this.setAttribute(sr(t),""):typeof i=="string"||typeof i=="number"?this.setAttribute(sr(t),i+""):i||this.removeAttribute(sr(t))))}_update(){g0(this._createVNode(),this.shadowRoot)}_createVNode(){const t=ie(this._def,$e({},this._props));return this._instance||(t.ce=i=>{this._instance=i,i.isCE=!0;const r=(S,n)=>{this.dispatchEvent(new CustomEvent(S,{detail:n}))};i.emit=(S,...n)=>{r(S,n),sr(S)!==S&&r(sr(S),n)};let f=this;for(;f=f&&(f.parentNode||f.host);)if(f instanceof Bc){i.parent=f._instance,i.provides=f._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(i=>{const r=document.createElement("style");r.textContent=i,this.shadowRoot.appendChild(r)})}}function wB(e="$style"){{const t=Jr();if(!t)return Ue;const i=t.type.__cssModules;if(!i)return Ue;const r=i[e];return r||Ue}}function bB(e){const t=Jr();if(!t)return;const i=t.ut=(f=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(S=>c0(S,f))},r=()=>{const f=e(t.proxy);f0(t.subTree,f),i(f)};uE(r),yo(()=>{const f=new MutationObserver(r);f.observe(t.subTree.el.parentNode,{childList:!0}),Gu(()=>f.disconnect())})}function f0(e,t){if(e.shapeFlag&128){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push(()=>{f0(i.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)c0(e.el,t);else if(e.type===Le)e.children.forEach(i=>f0(i,t));else if(e.type===To){let{el:i,anchor:r}=e;for(;i&&(c0(i,t),i!==r);)i=i.nextSibling}}function c0(e,t){if(e.nodeType===1){const i=e.style;for(const r in t)i.setProperty(`--${r}`,t[r])}}const pa="transition",$u="animation",v0=(e,{slots:t})=>ce(fE,mP(e),t);v0.displayName="Transition";const pP={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},MB=v0.props=$e({},km,pP),wo=(e,t=[])=>{Vt(e)?e.forEach(i=>i(...t)):e&&e(...t)},gP=e=>e?Vt(e)?e.some(t=>t.length>1):e.length>1:!1;function mP(e){const t={};for(const A in e)A in pP||(t[A]=e[A]);if(e.css===!1)return t;const{name:i="v",type:r,duration:f,enterFromClass:S=`${i}-enter-from`,enterActiveClass:n=`${i}-enter-active`,enterToClass:x=`${i}-enter-to`,appearFromClass:s=S,appearActiveClass:a=n,appearToClass:g=x,leaveFromClass:u=`${i}-leave-from`,leaveActiveClass:h=`${i}-leave-active`,leaveToClass:l=`${i}-leave-to`}=e,o=AB(f),d=o&&o[0],v=o&&o[1],{onBeforeEnter:c,onEnter:p,onEnterCancelled:y,onLeave:m,onLeaveCancelled:C,onBeforeAppear:T=c,onAppear:E=p,onAppearCancelled:w=y}=t,P=(A,R,L)=>{ga(A,R?g:x),ga(A,R?a:n),L&&L()},b=(A,R)=>{A._isLeaving=!1,ga(A,u),ga(A,l),ga(A,h),R&&R()},M=A=>(R,L)=>{const O=A?E:p,D=()=>P(R,A,L);wo(O,[R,D]),xP(()=>{ga(R,A?s:S),An(R,A?g:x),gP(O)||yP(R,r,d,D)})};return $e(t,{onBeforeEnter(A){wo(c,[A]),An(A,S),An(A,n)},onBeforeAppear(A){wo(T,[A]),An(A,s),An(A,a)},onEnter:M(!1),onAppear:M(!0),onLeave(A,R){A._isLeaving=!0;const L=()=>b(A,R);An(A,u),EP(),An(A,h),xP(()=>{A._isLeaving&&(ga(A,u),An(A,l),gP(m)||yP(A,r,v,L))}),wo(m,[A,L])},onEnterCancelled(A){P(A,!1),wo(y,[A])},onAppearCancelled(A){P(A,!0),wo(w,[A])},onLeaveCancelled(A){b(A),wo(C,[A])}})}function AB(e){if(e==null)return null;if(We(e))return[p0(e.enter),p0(e.leave)];{const t=p0(e);return[t,t]}}function p0(e){return tc(e)}function An(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e._vtc||(e._vtc=new Set)).add(t)}function ga(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function xP(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let RB=0;function yP(e,t,i,r){const f=e._endId=++RB,S=()=>{f===e._endId&&r()};if(i)return setTimeout(S,i);const{type:n,timeout:x,propCount:s}=CP(e,t);if(!n)return r();const a=n+"end";let g=0;const u=()=>{e.removeEventListener(a,h),S()},h=l=>{l.target===e&&++g>=s&&u()};setTimeout(()=>{g<s&&u()},x+1),e.addEventListener(a,h)}function CP(e,t){const i=window.getComputedStyle(e),r=o=>(i[o]||"").split(", "),f=r(`${pa}Delay`),S=r(`${pa}Duration`),n=SP(f,S),x=r(`${$u}Delay`),s=r(`${$u}Duration`),a=SP(x,s);let g=null,u=0,h=0;t===pa?n>0&&(g=pa,u=n,h=S.length):t===$u?a>0&&(g=$u,u=a,h=s.length):(u=Math.max(n,a),g=u>0?n>a?pa:$u:null,h=g?g===pa?S.length:s.length:0);const l=g===pa&&/\b(transform|all)(,|$)/.test(r(`${pa}Property`).toString());return{type:g,timeout:u,propCount:h,hasTransform:l}}function SP(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((i,r)=>TP(i)+TP(e[r])))}function TP(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function EP(){return document.body.offsetHeight}const PP=new WeakMap,wP=new WeakMap,bP={name:"TransitionGroup",props:$e({},MB,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=Jr(),r=Gm();let f,S;return Pc(()=>{if(!f.length)return;const n=e.moveClass||`${e.name||"v"}-move`;if(!BB(f[0].el,i.vnode.el,n))return;f.forEach(DB),f.forEach(FB);const x=f.filter(IB);EP(),x.forEach(s=>{const a=s.el,g=a.style;An(a,n),g.transform=g.webkitTransform=g.transitionDuration="";const u=a._moveCb=h=>{h&&h.target!==a||(!h||/transform$/.test(h.propertyName))&&(a.removeEventListener("transitionend",u),a._moveCb=null,ga(a,n))};a.addEventListener("transitionend",u)})}),()=>{const n=ye(e),x=mP(n);let s=n.tag||Le;f=S,S=t.default?Tc(t.default()):[];for(let a=0;a<S.length;a++){const g=S[a];g.key!=null&&mo(g,Bh(g,x,r,i))}if(f)for(let a=0;a<f.length;a++){const g=f[a];mo(g,Bh(g,x,r,i)),PP.set(g,g.el.getBoundingClientRect())}return ie(s,null,S)}}},OB=e=>delete e.mode;bP.props;const LB=bP;function DB(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function FB(e){wP.set(e,e.el.getBoundingClientRect())}function IB(e){const t=PP.get(e),i=wP.get(e),r=t.left-i.left,f=t.top-i.top;if(r||f){const S=e.el.style;return S.transform=S.webkitTransform=`translate(${r}px,${f}px)`,S.transitionDuration="0s",e}}function BB(e,t,i){const r=e.cloneNode();e._vtc&&e._vtc.forEach(n=>{n.split(/\s+/).forEach(x=>x&&r.classList.remove(x))}),i.split(/\s+/).forEach(n=>n&&r.classList.add(n)),r.style.display="none";const f=t.nodeType===1?t:t.parentNode;f.appendChild(r);const{hasTransform:S}=CP(r);return f.removeChild(r),S}const ma=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Vt(t)?i=>Rh(t,i):t};function NB(e){e.target.composing=!0}function MP(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const bo={created(e,{modifiers:{lazy:t,trim:i,number:r}},f){e._assign=ma(f);const S=r||f.props&&f.props.type==="number";Mn(e,t?"change":"input",n=>{if(n.target.composing)return;let x=e.value;i&&(x=x.trim()),S&&(x=_f(x)),e._assign(x)}),i&&Mn(e,"change",()=>{e.value=e.value.trim()}),t||(Mn(e,"compositionstart",NB),Mn(e,"compositionend",MP),Mn(e,"change",MP))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:r,number:f}},S){if(e._assign=ma(S),e.composing||document.activeElement===e&&e.type!=="range"&&(i||r&&e.value.trim()===t||(f||e.type==="number")&&_f(e.value)===t))return;const n=t??"";e.value!==n&&(e.value=n)}},Nc={deep:!0,created(e,t,i){e._assign=ma(i),Mn(e,"change",()=>{const r=e._modelValue,f=kh(e),S=e.checked,n=e._assign;if(Vt(r)){const x=ec(r,f),s=x!==-1;if(S&&!s)n(r.concat(f));else if(!S&&s){const a=[...r];a.splice(x,1),n(a)}}else if(lo(r)){const x=new Set(r);S?x.add(f):x.delete(f),n(x)}else n(OP(e,S))})},mounted:AP,beforeUpdate(e,t,i){e._assign=ma(i),AP(e,t,i)}};function AP(e,{value:t,oldValue:i},r){e._modelValue=t,Vt(t)?e.checked=ec(t,r.props.value)>-1:lo(t)?e.checked=t.has(r.props.value):t!==i&&(e.checked=sa(t,OP(e,!0)))}const Gc={created(e,{value:t},i){e.checked=sa(t,i.props.value),e._assign=ma(i),Mn(e,"change",()=>{e._assign(kh(e))})},beforeUpdate(e,{value:t,oldValue:i},r){e._assign=ma(r),t!==i&&(e.checked=sa(t,r.props.value))}},xa={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const f=lo(t);Mn(e,"change",()=>{const S=Array.prototype.filter.call(e.options,n=>n.selected).map(n=>i?_f(kh(n)):kh(n));e._assign(e.multiple?f?new Set(S):S:S[0])}),e._assign=ma(r)},mounted(e,{value:t}){RP(e,t)},beforeUpdate(e,t,i){e._assign=ma(i)},updated(e,{value:t}){RP(e,t)}};function RP(e,t){const i=e.multiple;if(!(i&&!Vt(t)&&!lo(t))){for(let r=0,f=e.options.length;r<f;r++){const S=e.options[r],n=kh(S);if(i)Vt(t)?S.selected=ec(t,n)>-1:S.selected=t.has(n);else if(sa(kh(S),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function kh(e){return"_value"in e?e._value:e.value}function OP(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const LP={created(e,t,i){kc(e,t,i,null,"created")},mounted(e,t,i){kc(e,t,i,null,"mounted")},beforeUpdate(e,t,i,r){kc(e,t,i,r,"beforeUpdate")},updated(e,t,i,r){kc(e,t,i,r,"updated")}};function DP(e,t){switch(e){case"SELECT":return xa;case"TEXTAREA":return bo;default:switch(t){case"checkbox":return Nc;case"radio":return Gc;default:return bo}}}function kc(e,t,i,r,f){const n=DP(e.tagName,i.props&&i.props.type)[f];n&&n(e,t,i,r)}function GB(){bo.getSSRProps=({value:e})=>({value:e}),Gc.getSSRProps=({value:e},t)=>{if(t.props&&sa(t.props.value,e))return{checked:!0}},Nc.getSSRProps=({value:e},t)=>{if(Vt(e)){if(t.props&&ec(e,t.props.value)>-1)return{checked:!0}}else if(lo(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},LP.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const i=DP(t.type.toUpperCase(),t.props&&t.props.type);if(i.getSSRProps)return i.getSSRProps(e,t)}}const kB=["ctrl","shift","alt","meta"],VB={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kB.some(i=>e[`${i}Key`]&&!t.includes(i))},Vh=(e,t)=>(i,...r)=>{for(let f=0;f<t.length;f++){const S=VB[t[f]];if(S&&S(i,t))return}return e(i,...r)},zB={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},UB=(e,t)=>i=>{if(!("key"in i))return;const r=sr(i.key);if(t.some(f=>f===r||zB[f]===r))return e(i)},Xu={beforeMount(e,{value:t},{transition:i}){e._vod=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):Hu(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:r}){!t!=!i&&(r?t?(r.beforeEnter(e),Hu(e,!0),r.enter(e)):r.leave(e,()=>{Hu(e,!1)}):Hu(e,t))},beforeUnmount(e,{value:t}){Hu(e,t)}};function Hu(e,t){e.style.display=t?e._vod:"none"}function WB(){Xu.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const FP=$e({patchProp:SB},hB);let Ku,IP=!1;function BP(){return Ku||(Ku=YE(FP))}function NP(){return Ku=IP?Ku:$E(FP),IP=!0,Ku}const g0=(...e)=>{BP().render(...e)},GP=(...e)=>{NP().hydrate(...e)},kP=(...e)=>{const t=BP().createApp(...e),{mount:i}=t;return t.mount=r=>{const f=VP(r);if(!f)return;const S=t._component;!ee(S)&&!S.render&&!S.template&&(S.template=f.innerHTML),f.innerHTML="";const n=i(f,!1,f instanceof SVGElement);return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),n},t},YB=(...e)=>{const t=NP().createApp(...e),{mount:i}=t;return t.mount=r=>{const f=VP(r);if(f)return i(f,!0,f instanceof SVGElement)},t};function VP(e){return Je(e)?document.querySelector(e):e}let zP=!1;const $B=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:fE,BaseTransitionPropsValidators:km,Comment:Qi,EffectScope:Cm,Fragment:Le,KeepAlive:a5,ReactiveEffect:wu,Static:To,Suspense:aE,Teleport:X5,Text:So,Transition:v0,TransitionGroup:LB,VueElement:Bc,assertNumber:V4,callWithAsyncErrorHandling:Vs,callWithErrorHandling:Pn,camelize:ms,capitalize:Tu,cloneVNode:jr,compatUtils:aB,compile:()=>{},computed:Me,createApp:kP,createBlock:ua,createCommentVNode:fe,createElementBlock:Nt,createElementVNode:xt,createHydrationRenderer:$E,createPropsRestProxy:w5,createRenderer:YE,createSSRApp:YB,createSlots:u5,createStaticVNode:j5,createTextVNode:Vi,createVNode:ie,customRef:F4,defineAsyncComponent:n5,defineComponent:vi,defineCustomElement:vP,defineEmits:v5,defineExpose:p5,defineModel:x5,defineOptions:g5,defineProps:c5,defineSSRCustomElement:EB,defineSlots:m5,get devtools(){return Fh},effect:qI,effectScope:Sm,getCurrentInstance:Jr,getCurrentScope:Tm,getTransitionRawChildren:Tc,guardReactiveProps:QE,h:ce,handleError:vo,hasInjectionContext:I5,hydrate:GP,initCustomFormatter:iB,initDirectivesForSSR:()=>{zP||(zP=!0,GB(),WB())},inject:ha,isMemoSame:aP,isProxy:Am,isReactive:Xr,isReadonly:fo,isRef:Ze,isRuntimeOnly:_5,isShallow:Mu,isVNode:da,markRaw:co,mergeDefaults:E5,mergeModels:P5,mergeProps:r0,nextTick:Ou,normalizeClass:Xe,normalizeProps:KI,normalizeStyle:xi,onActivated:pE,onBeforeMount:xE,onBeforeUnmount:wc,onBeforeUpdate:yE,onDeactivated:gE,onErrorCaptured:EE,onMounted:yo,onRenderTracked:TE,onRenderTriggered:SE,onScopeDispose:AT,onServerPrefetch:CE,onUnmounted:Gu,onUpdated:Pc,openBlock:Ft,popScopeId:H4,provide:Qm,proxyRefs:Lm,pushScopeId:X4,queuePostFlushCb:Im,reactive:bu,readonly:dc,ref:Qe,registerRuntimeCompiler:q5,render:g0,renderList:Cs,renderSlot:Ss,resolveComponent:Zi,resolveDirective:l5,resolveDynamicComponent:wE,resolveFilter:nB,resolveTransitionHooks:Bh,setBlockTracking:i0,setDevtoolsHook:iE,setTransitionHooks:mo,shallowReactive:jT,shallowReadonly:b4,shallowRef:M4,ssrContextKey:rP,ssrUtils:rB,stop:_I,toDisplayString:Jt,toHandlerKey:Eu,toHandlers:d5,toRaw:ye,toRef:oa,toRefs:ZT,toValue:O4,transformVNodeArgs:H5,triggerRef:R4,unref:mt,useAttrs:S5,useCssModule:wB,useCssVars:bB,useModel:T5,useSSRContext:nP,useSlots:C5,useTransitionState:Gm,vModelCheckbox:Nc,vModelDynamic:LP,vModelRadio:Gc,vModelSelect:xa,vModelText:bo,vShow:Xu,version:oP,warn:k4,watch:as,watchEffect:lE,watchPostEffect:uE,watchSyncEffect:s5,withAsyncContext:b5,withCtx:ci,withDefaults:y5,withDirectives:ys,withKeys:UB,withMemo:sB,withModifiers:Vh,withScopeId:K4},Symbol.toStringTag,{value:"Module"}));function XB(e){return typeof e=="object"&&e!==null}function UP(e,t){return e=XB(e)?e:Object.create(null),new Proxy(e,{get(i,r,f){return r==="key"?Reflect.get(i,r,f):Reflect.get(i,r,f)||Reflect.get(t,r,f)}})}function HB(e,t){return t.reduce((i,r)=>i==null?void 0:i[r],e)}function KB(e,t,i){return t.slice(0,-1).reduce((r,f)=>/^(__proto__)$/.test(f)?{}:r[f]=r[f]||{},e)[t[t.length-1]]=i,e}function jB(e,t){return t.reduce((i,r)=>{const f=r.split(".");return KB(i,f,HB(e,f))},{})}function JB(e,t){return i=>{var r;try{const{storage:f=localStorage,beforeRestore:S=void 0,afterRestore:n=void 0,serializer:x={serialize:JSON.stringify,deserialize:JSON.parse},key:s=t.$id,paths:a=null,debug:g=!1}=i;return{storage:f,beforeRestore:S,afterRestore:n,serializer:x,key:((r=e.key)!=null?r:u=>u)(typeof s=="string"?s:s(t.$id)),paths:a,debug:g}}catch(f){return i.debug&&console.error("[pinia-plugin-persistedstate]",f),null}}}function WP(e,{storage:t,serializer:i,key:r,debug:f}){try{const S=t==null?void 0:t.getItem(r);S&&e.$patch(i==null?void 0:i.deserialize(S))}catch(S){f&&console.error("[pinia-plugin-persistedstate]",S)}}function YP(e,{storage:t,serializer:i,key:r,paths:f,debug:S}){try{const n=Array.isArray(f)?jB(e,f):e;t.setItem(r,i.serialize(n))}catch(n){S&&console.error("[pinia-plugin-persistedstate]",n)}}function ZB(e={}){return t=>{const{auto:i=!1}=e,{options:{persist:r=i},store:f,pinia:S}=t;if(!r)return;if(!(f.$id in S.state.value)){const x=S._s.get(f.$id.replace("__hot:",""));x&&Promise.resolve().then(()=>x.$persist());return}const n=(Array.isArray(r)?r.map(x=>UP(x,e)):[UP(r,e)]).map(JB(e,f)).filter(Boolean);f.$persist=()=>{n.forEach(x=>{YP(f.$state,x)})},f.$hydrate=({runHooks:x=!0}={})=>{n.forEach(s=>{const{beforeRestore:a,afterRestore:g}=s;x&&(a==null||a(t)),WP(f,s),x&&(g==null||g(t))})},n.forEach(x=>{const{beforeRestore:s,afterRestore:a}=x;s==null||s(t),WP(f,x),a==null||a(t),f.$subscribe((g,u)=>{YP(u,x)},{detached:!0})})}}var QB=ZB(),qB=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let $P;const Vc=e=>$P=e,XP=Symbol();function m0(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ju;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ju||(ju={}));function _B(){const e=Sm(!0),t=e.run(()=>Qe({}));let i=[],r=[];const f=co({install(S){Vc(f),f._a=S,S.provide(XP,f),S.config.globalProperties.$pinia=f,r.forEach(n=>i.push(n)),r=[]},use(S){return!this._a&&!qB?r.push(S):i.push(S),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return f}const HP=()=>{};function KP(e,t,i,r=HP){e.push(t);const f=()=>{const S=e.indexOf(t);S>-1&&(e.splice(S,1),r())};return!i&&Tm()&&AT(f),f}function zh(e,...t){e.slice().forEach(i=>{i(...t)})}function x0(e,t){e instanceof Map&&t instanceof Map&&t.forEach((i,r)=>e.set(r,i)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const r=t[i],f=e[i];m0(f)&&m0(r)&&e.hasOwnProperty(i)&&!Ze(r)&&!Xr(r)?e[i]=x0(f,r):e[i]=r}return e}const t9=Symbol();function e9(e){return!m0(e)||!e.hasOwnProperty(t9)}const{assign:ya}=Object;function i9(e){return!!(Ze(e)&&e.effect)}function s9(e,t,i,r){const{state:f,actions:S,getters:n}=t,x=i.state.value[e];let s;function a(){x||(i.state.value[e]=f?f():{});const g=ZT(i.state.value[e]);return ya(g,S,Object.keys(n||{}).reduce((u,h)=>(u[h]=co(Me(()=>{Vc(i);const l=i._s.get(e);return n[h].call(l,l)})),u),{}))}return s=jP(e,a,t,i,r,!0),s}function jP(e,t,i={},r,f,S){let n;const x=ya({actions:{}},i),s={deep:!0};let a,g,u=co([]),h=co([]),l;const o=r.state.value[e];!S&&!o&&(r.state.value[e]={}),Qe({});let d;function v(E){let w;a=g=!1,typeof E=="function"?(E(r.state.value[e]),w={type:ju.patchFunction,storeId:e,events:l}):(x0(r.state.value[e],E),w={type:ju.patchObject,payload:E,storeId:e,events:l});const P=d=Symbol();Ou().then(()=>{d===P&&(a=!0)}),g=!0,zh(u,w,r.state.value[e])}const c=S?function(){const{state:w}=i,P=w?w():{};this.$patch(b=>{ya(b,P)})}:HP;function p(){n.stop(),u=[],h=[],r._s.delete(e)}function y(E,w){return function(){Vc(r);const P=Array.from(arguments),b=[],M=[];function A(O){b.push(O)}function R(O){M.push(O)}zh(h,{args:P,name:E,store:C,after:A,onError:R});let L;try{L=w.apply(this&&this.$id===e?this:C,P)}catch(O){throw zh(M,O),O}return L instanceof Promise?L.then(O=>(zh(b,O),O)).catch(O=>(zh(M,O),Promise.reject(O))):(zh(b,L),L)}}const m={_p:r,$id:e,$onAction:KP.bind(null,h),$patch:v,$reset:c,$subscribe(E,w={}){const P=KP(u,E,w.detached,()=>b()),b=n.run(()=>as(()=>r.state.value[e],M=>{(w.flush==="sync"?g:a)&&E({storeId:e,type:ju.direct,events:l},M)},ya({},s,w)));return P},$dispose:p},C=bu(m);r._s.set(e,C);const T=r._e.run(()=>(n=Sm(),n.run(()=>t())));for(const E in T){const w=T[E];if(Ze(w)&&!i9(w)||Xr(w))S||(o&&e9(w)&&(Ze(w)?w.value=o[E]:x0(w,o[E])),r.state.value[e][E]=w);else if(typeof w=="function"){const P=y(E,w);T[E]=P,x.actions[E]=w}}return ya(C,T),ya(ye(C),T),Object.defineProperty(C,"$state",{get:()=>r.state.value[e],set:E=>{v(w=>{ya(w,E)})}}),r._p.forEach(E=>{ya(C,n.run(()=>E({store:C,app:r._a,pinia:r,options:x})))}),o&&S&&i.hydrate&&i.hydrate(C.$state,o),a=!0,g=!0,C}function JP(e,t,i){let r,f;const S=typeof t=="function";typeof e=="string"?(r=e,f=S?i:t):(f=e,r=e.id);function n(x,s){const a=Jr();return x=x||a&&ha(XP,null),x&&Vc(x),x=$P,x._s.has(r)||(S?jP(r,t,f,x):s9(r,f,x)),x._s.get(r)}return n.$id=r,n}function r9(e){{e=ye(e);const t={};for(const i in e){const r=e[i];(Ze(r)||Xr(r))&&(t[i]=oa(e,i))}return t}}function ZP(e,t){return function(){return e.apply(t,arguments)}}const{toString:QP}=Object.prototype,{getPrototypeOf:y0}=Object,C0=(e=>t=>{const i=QP.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Rn=e=>(e=e.toLowerCase(),t=>C0(t)===e),zc=e=>t=>typeof t===e,{isArray:Uh}=Array,Ju=zc("undefined");function n9(e){return e!==null&&!Ju(e)&&e.constructor!==null&&!Ju(e.constructor)&&Ca(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const qP=Rn("ArrayBuffer");function a9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&qP(e.buffer),t}const o9=zc("string"),Ca=zc("function"),_P=zc("number"),S0=e=>e!==null&&typeof e=="object",h9=e=>e===!0||e===!1,Uc=e=>{if(C0(e)!=="object")return!1;const t=y0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},l9=Rn("Date"),u9=Rn("File"),d9=Rn("Blob"),f9=Rn("FileList"),c9=e=>S0(e)&&Ca(e.pipe),v9=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||QP.call(e)===t||Ca(e.toString)&&e.toString()===t)},p9=Rn("URLSearchParams"),g9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Zu(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let r,f;if(typeof e!="object"&&(e=[e]),Uh(e))for(r=0,f=e.length;r<f;r++)t.call(null,e[r],r,e);else{const S=i?Object.getOwnPropertyNames(e):Object.keys(e),n=S.length;let x;for(r=0;r<n;r++)x=S[r],t.call(null,e[x],x,e)}}function tw(e,t){t=t.toLowerCase();const i=Object.keys(e);let r=i.length,f;for(;r-- >0;)if(f=i[r],t===f.toLowerCase())return f;return null}const ew=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iw=e=>!Ju(e)&&e!==ew;function T0(){const{caseless:e}=iw(this)&&this||{},t={},i=(r,f)=>{const S=e&&tw(t,f)||f;Uc(t[S])&&Uc(r)?t[S]=T0(t[S],r):Uc(r)?t[S]=T0({},r):Uh(r)?t[S]=r.slice():t[S]=r};for(let r=0,f=arguments.length;r<f;r++)arguments[r]&&Zu(arguments[r],i);return t}const m9=(e,t,i,{allOwnKeys:r}={})=>(Zu(t,(f,S)=>{i&&Ca(f)?e[S]=ZP(f,i):e[S]=f},{allOwnKeys:r}),e),x9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),y9=(e,t,i,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},C9=(e,t,i,r)=>{let f,S,n;const x={};if(t=t||{},e==null)return t;do{for(f=Object.getOwnPropertyNames(e),S=f.length;S-- >0;)n=f[S],(!r||r(n,e,t))&&!x[n]&&(t[n]=e[n],x[n]=!0);e=i!==!1&&y0(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},S9=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const r=e.indexOf(t,i);return r!==-1&&r===i},T9=e=>{if(!e)return null;if(Uh(e))return e;let t=e.length;if(!_P(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},E9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&y0(Uint8Array)),P9=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let f;for(;(f=r.next())&&!f.done;){const S=f.value;t.call(e,S[0],S[1])}},w9=(e,t)=>{let i;const r=[];for(;(i=e.exec(t))!==null;)r.push(i);return r},b9=Rn("HTMLFormElement"),M9=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,r,f){return r.toUpperCase()+f}),sw=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),A9=Rn("RegExp"),rw=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),r={};Zu(i,(f,S)=>{t(f,S,e)!==!1&&(r[S]=f)}),Object.defineProperties(e,r)},R9=e=>{rw(e,(t,i)=>{if(Ca(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const r=e[i];if(Ca(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},O9=(e,t)=>{const i={},r=f=>{f.forEach(S=>{i[S]=!0})};return Uh(e)?r(e):r(String(e).split(t)),i},L9=()=>{},D9=(e,t)=>(e=+e,Number.isFinite(e)?e:t),E0="abcdefghijklmnopqrstuvwxyz",nw="0123456789",aw={DIGIT:nw,ALPHA:E0,ALPHA_DIGIT:E0+E0.toUpperCase()+nw},F9=(e=16,t=aw.ALPHA_DIGIT)=>{let i="";const{length:r}=t;for(;e--;)i+=t[Math.random()*r|0];return i};function I9(e){return!!(e&&Ca(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const wt={isArray:Uh,isArrayBuffer:qP,isBuffer:n9,isFormData:v9,isArrayBufferView:a9,isString:o9,isNumber:_P,isBoolean:h9,isObject:S0,isPlainObject:Uc,isUndefined:Ju,isDate:l9,isFile:u9,isBlob:d9,isRegExp:A9,isFunction:Ca,isStream:c9,isURLSearchParams:p9,isTypedArray:E9,isFileList:f9,forEach:Zu,merge:T0,extend:m9,trim:g9,stripBOM:x9,inherits:y9,toFlatObject:C9,kindOf:C0,kindOfTest:Rn,endsWith:S9,toArray:T9,forEachEntry:P9,matchAll:w9,isHTMLForm:b9,hasOwnProperty:sw,hasOwnProp:sw,reduceDescriptors:rw,freezeMethods:R9,toObjectSet:O9,toCamelCase:M9,noop:L9,toFiniteNumber:D9,findKey:tw,global:ew,isContextDefined:iw,ALPHABET:aw,generateString:F9,isSpecCompliantForm:I9,toJSONObject:e=>{const t=new Array(10),i=(r,f)=>{if(S0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[f]=r;const S=Uh(r)?[]:{};return Zu(r,(n,x)=>{const s=i(n,f+1);!Ju(s)&&(S[x]=s)}),t[f]=void 0,S}}return r};return i(e,0)}};function De(e,t,i,r,f){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),f&&(this.response=f)}wt.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ow=De.prototype,hw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hw[e]={value:e}}),Object.defineProperties(De,hw),Object.defineProperty(ow,"isAxiosError",{value:!0}),De.from=(e,t,i,r,f,S)=>{const n=Object.create(ow);return wt.toFlatObject(e,n,function(s){return s!==Error.prototype},x=>x!=="isAxiosError"),De.call(n,e.message,t,i,r,f),n.cause=e,n.name=e.name,S&&Object.assign(n,S),n};const B9=null;function P0(e){return wt.isPlainObject(e)||wt.isArray(e)}function lw(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function uw(e,t,i){return e?e.concat(t).map(function(f,S){return f=lw(f),!i&&S?"["+f+"]":f}).join(i?".":""):t}function N9(e){return wt.isArray(e)&&!e.some(P0)}const G9=wt.toFlatObject(wt,{},null,function(t){return/^is[A-Z]/.test(t)});function Wc(e,t,i){if(!wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=wt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(d,v){return!wt.isUndefined(v[d])});const r=i.metaTokens,f=i.visitor||g,S=i.dots,n=i.indexes,s=(i.Blob||typeof Blob<"u"&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(f))throw new TypeError("visitor must be a function");function a(o){if(o===null)return"";if(wt.isDate(o))return o.toISOString();if(!s&&wt.isBlob(o))throw new De("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(o)||wt.isTypedArray(o)?s&&typeof Blob=="function"?new Blob([o]):Buffer.from(o):o}function g(o,d,v){let c=o;if(o&&!v&&typeof o=="object"){if(wt.endsWith(d,"{}"))d=r?d:d.slice(0,-2),o=JSON.stringify(o);else if(wt.isArray(o)&&N9(o)||(wt.isFileList(o)||wt.endsWith(d,"[]"))&&(c=wt.toArray(o)))return d=lw(d),c.forEach(function(y,m){!(wt.isUndefined(y)||y===null)&&t.append(n===!0?uw([d],m,S):n===null?d:d+"[]",a(y))}),!1}return P0(o)?!0:(t.append(uw(v,d,S),a(o)),!1)}const u=[],h=Object.assign(G9,{defaultVisitor:g,convertValue:a,isVisitable:P0});function l(o,d){if(!wt.isUndefined(o)){if(u.indexOf(o)!==-1)throw Error("Circular reference detected in "+d.join("."));u.push(o),wt.forEach(o,function(c,p){(!(wt.isUndefined(c)||c===null)&&f.call(t,c,wt.isString(p)?p.trim():p,d,h))===!0&&l(c,d?d.concat(p):[p])}),u.pop()}}if(!wt.isObject(e))throw new TypeError("data must be an object");return l(e),t}function dw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function w0(e,t){this._pairs=[],e&&Wc(e,this,t)}const fw=w0.prototype;fw.append=function(t,i){this._pairs.push([t,i])},fw.toString=function(t){const i=t?function(r){return t.call(this,r,dw)}:dw;return this._pairs.map(function(f){return i(f[0])+"="+i(f[1])},"").join("&")};function k9(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cw(e,t,i){if(!t)return e;const r=i&&i.encode||k9,f=i&&i.serialize;let S;if(f?S=f(t,i):S=wt.isURLSearchParams(t)?t.toString():new w0(t,i).toString(r),S){const n=e.indexOf("#");n!==-1&&(e=e.slice(0,n)),e+=(e.indexOf("?")===-1?"?":"&")+S}return e}class vw{constructor(){this.handlers=[]}use(t,i,r){return this.handlers.push({fulfilled:t,rejected:i,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){wt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const pw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V9=typeof URLSearchParams<"u"?URLSearchParams:w0,z9=typeof FormData<"u"?FormData:null,U9=typeof Blob<"u"?Blob:null,W9=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Y9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zr={isBrowser:!0,classes:{URLSearchParams:V9,FormData:z9,Blob:U9},isStandardBrowserEnv:W9,isStandardBrowserWebWorkerEnv:Y9,protocols:["http","https","file","blob","url","data"]};function $9(e,t){return Wc(e,new Zr.classes.URLSearchParams,Object.assign({visitor:function(i,r,f,S){return Zr.isNode&&wt.isBuffer(i)?(this.append(r,i.toString("base64")),!1):S.defaultVisitor.apply(this,arguments)}},t))}function X9(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function H9(e){const t={},i=Object.keys(e);let r;const f=i.length;let S;for(r=0;r<f;r++)S=i[r],t[S]=e[S];return t}function gw(e){function t(i,r,f,S){let n=i[S++];const x=Number.isFinite(+n),s=S>=i.length;return n=!n&&wt.isArray(f)?f.length:n,s?(wt.hasOwnProp(f,n)?f[n]=[f[n],r]:f[n]=r,!x):((!f[n]||!wt.isObject(f[n]))&&(f[n]=[]),t(i,r,f[n],S)&&wt.isArray(f[n])&&(f[n]=H9(f[n])),!x)}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const i={};return wt.forEachEntry(e,(r,f)=>{t(X9(r),f,i,0)}),i}return null}const K9={"Content-Type":void 0};function j9(e,t,i){if(wt.isString(e))try{return(t||JSON.parse)(e),wt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(i||JSON.stringify)(e)}const Wh={transitional:pw,adapter:["xhr","http"],transformRequest:[function(t,i){const r=i.getContentType()||"",f=r.indexOf("application/json")>-1,S=wt.isObject(t);if(S&&wt.isHTMLForm(t)&&(t=new FormData(t)),wt.isFormData(t))return f&&f?JSON.stringify(gw(t)):t;if(wt.isArrayBuffer(t)||wt.isBuffer(t)||wt.isStream(t)||wt.isFile(t)||wt.isBlob(t))return t;if(wt.isArrayBufferView(t))return t.buffer;if(wt.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(S){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $9(t,this.formSerializer).toString();if((x=wt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Wc(x?{"files[]":t}:t,s&&new s,this.formSerializer)}}return S||f?(i.setContentType("application/json",!1),j9(t)):t}],transformResponse:[function(t){const i=this.transitional||Wh.transitional,r=i&&i.forcedJSONParsing,f=this.responseType==="json";if(t&&wt.isString(t)&&(r&&!this.responseType||f)){const n=!(i&&i.silentJSONParsing)&&f;try{return JSON.parse(t)}catch(x){if(n)throw x.name==="SyntaxError"?De.from(x,De.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};wt.forEach(["delete","get","head"],function(t){Wh.headers[t]={}}),wt.forEach(["post","put","patch"],function(t){Wh.headers[t]=wt.merge(K9)});const J9=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z9=e=>{const t={};let i,r,f;return e&&e.split(`
`).forEach(function(n){f=n.indexOf(":"),i=n.substring(0,f).trim().toLowerCase(),r=n.substring(f+1).trim(),!(!i||t[i]&&J9[i])&&(i==="set-cookie"?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)}),t},mw=Symbol("internals");function Qu(e){return e&&String(e).trim().toLowerCase()}function Yc(e){return e===!1||e==null?e:wt.isArray(e)?e.map(Yc):String(e)}function Q9(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=i.exec(e);)t[r[1]]=r[2];return t}function q9(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function b0(e,t,i,r,f){if(wt.isFunction(r))return r.call(this,t,i);if(f&&(t=i),!!wt.isString(t)){if(wt.isString(r))return t.indexOf(r)!==-1;if(wt.isRegExp(r))return r.test(t)}}function _9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,r)=>i.toUpperCase()+r)}function t8(e,t){const i=wt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+i,{value:function(f,S,n){return this[r].call(this,t,f,S,n)},configurable:!0})})}class nr{constructor(t){t&&this.set(t)}set(t,i,r){const f=this;function S(x,s,a){const g=Qu(s);if(!g)throw new Error("header name must be a non-empty string");const u=wt.findKey(f,g);(!u||f[u]===void 0||a===!0||a===void 0&&f[u]!==!1)&&(f[u||s]=Yc(x))}const n=(x,s)=>wt.forEach(x,(a,g)=>S(a,g,s));return wt.isPlainObject(t)||t instanceof this.constructor?n(t,i):wt.isString(t)&&(t=t.trim())&&!q9(t)?n(Z9(t),i):t!=null&&S(i,t,r),this}get(t,i){if(t=Qu(t),t){const r=wt.findKey(this,t);if(r){const f=this[r];if(!i)return f;if(i===!0)return Q9(f);if(wt.isFunction(i))return i.call(this,f,r);if(wt.isRegExp(i))return i.exec(f);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Qu(t),t){const r=wt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!i||b0(this,this[r],r,i)))}return!1}delete(t,i){const r=this;let f=!1;function S(n){if(n=Qu(n),n){const x=wt.findKey(r,n);x&&(!i||b0(r,r[x],x,i))&&(delete r[x],f=!0)}}return wt.isArray(t)?t.forEach(S):S(t),f}clear(t){const i=Object.keys(this);let r=i.length,f=!1;for(;r--;){const S=i[r];(!t||b0(this,this[S],S,t,!0))&&(delete this[S],f=!0)}return f}normalize(t){const i=this,r={};return wt.forEach(this,(f,S)=>{const n=wt.findKey(r,S);if(n){i[n]=Yc(f),delete i[S];return}const x=t?_9(S):String(S).trim();x!==S&&delete i[S],i[x]=Yc(f),r[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return wt.forEach(this,(r,f)=>{r!=null&&r!==!1&&(i[f]=t&&wt.isArray(r)?r.join(", "):r)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const r=new this(t);return i.forEach(f=>r.set(f)),r}static accessor(t){const r=(this[mw]=this[mw]={accessors:{}}).accessors,f=this.prototype;function S(n){const x=Qu(n);r[x]||(t8(f,n),r[x]=!0)}return wt.isArray(t)?t.forEach(S):S(t),this}}nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wt.freezeMethods(nr.prototype),wt.freezeMethods(nr);function M0(e,t){const i=this||Wh,r=t||i,f=nr.from(r.headers);let S=r.data;return wt.forEach(e,function(x){S=x.call(i,S,f.normalize(),t?t.status:void 0)}),f.normalize(),S}function xw(e){return!!(e&&e.__CANCEL__)}function qu(e,t,i){De.call(this,e??"canceled",De.ERR_CANCELED,t,i),this.name="CanceledError"}wt.inherits(qu,De,{__CANCEL__:!0});function e8(e,t,i){const r=i.config.validateStatus;!i.status||!r||r(i.status)?e(i):t(new De("Request failed with status code "+i.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const i8=Zr.isStandardBrowserEnv?function(){return{write:function(i,r,f,S,n,x){const s=[];s.push(i+"="+encodeURIComponent(r)),wt.isNumber(f)&&s.push("expires="+new Date(f).toGMTString()),wt.isString(S)&&s.push("path="+S),wt.isString(n)&&s.push("domain="+n),x===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(i){const r=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function s8(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function r8(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function yw(e,t){return e&&!s8(t)?r8(e,t):t}const n8=Zr.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let r;function f(S){let n=S;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return r=f(window.location.href),function(n){const x=wt.isString(n)?f(n):n;return x.protocol===r.protocol&&x.host===r.host}}():function(){return function(){return!0}}();function a8(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function o8(e,t){e=e||10;const i=new Array(e),r=new Array(e);let f=0,S=0,n;return t=t!==void 0?t:1e3,function(s){const a=Date.now(),g=r[S];n||(n=a),i[f]=s,r[f]=a;let u=S,h=0;for(;u!==f;)h+=i[u++],u=u%e;if(f=(f+1)%e,f===S&&(S=(S+1)%e),a-n<t)return;const l=g&&a-g;return l?Math.round(h*1e3/l):void 0}}function Cw(e,t){let i=0;const r=o8(50,250);return f=>{const S=f.loaded,n=f.lengthComputable?f.total:void 0,x=S-i,s=r(x),a=S<=n;i=S;const g={loaded:S,total:n,progress:n?S/n:void 0,bytes:x,rate:s||void 0,estimated:s&&n&&a?(n-S)/s:void 0,event:f};g[t?"download":"upload"]=!0,e(g)}}const $c={http:B9,xhr:typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(i,r){let f=e.data;const S=nr.from(e.headers).normalize(),n=e.responseType;let x;function s(){e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x)}wt.isFormData(f)&&(Zr.isStandardBrowserEnv||Zr.isStandardBrowserWebWorkerEnv)&&S.setContentType(!1);let a=new XMLHttpRequest;if(e.auth){const l=e.auth.username||"",o=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";S.set("Authorization","Basic "+btoa(l+":"+o))}const g=yw(e.baseURL,e.url);a.open(e.method.toUpperCase(),cw(g,e.params,e.paramsSerializer),!0),a.timeout=e.timeout;function u(){if(!a)return;const l=nr.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),d={data:!n||n==="text"||n==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:l,config:e,request:a};e8(function(c){i(c),s()},function(c){r(c),s()},d),a=null}if("onloadend"in a?a.onloadend=u:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(u)},a.onabort=function(){a&&(r(new De("Request aborted",De.ECONNABORTED,e,a)),a=null)},a.onerror=function(){r(new De("Network Error",De.ERR_NETWORK,e,a)),a=null},a.ontimeout=function(){let o=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const d=e.transitional||pw;e.timeoutErrorMessage&&(o=e.timeoutErrorMessage),r(new De(o,d.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,e,a)),a=null},Zr.isStandardBrowserEnv){const l=(e.withCredentials||n8(g))&&e.xsrfCookieName&&i8.read(e.xsrfCookieName);l&&S.set(e.xsrfHeaderName,l)}f===void 0&&S.setContentType(null),"setRequestHeader"in a&&wt.forEach(S.toJSON(),function(o,d){a.setRequestHeader(d,o)}),wt.isUndefined(e.withCredentials)||(a.withCredentials=!!e.withCredentials),n&&n!=="json"&&(a.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&a.addEventListener("progress",Cw(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",Cw(e.onUploadProgress)),(e.cancelToken||e.signal)&&(x=l=>{a&&(r(!l||l.type?new qu(null,e,a):l),a.abort(),a=null)},e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));const h=a8(g);if(h&&Zr.protocols.indexOf(h)===-1){r(new De("Unsupported protocol "+h+":",De.ERR_BAD_REQUEST,e));return}a.send(f||null)})}};wt.forEach($c,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const h8={getAdapter:e=>{e=wt.isArray(e)?e:[e];const{length:t}=e;let i,r;for(let f=0;f<t&&(i=e[f],!(r=wt.isString(i)?$c[i.toLowerCase()]:i));f++);if(!r)throw r===!1?new De(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(wt.hasOwnProp($c,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`);if(!wt.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:$c};function A0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qu(null,e)}function Sw(e){return A0(e),e.headers=nr.from(e.headers),e.data=M0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),h8.getAdapter(e.adapter||Wh.adapter)(e).then(function(r){return A0(e),r.data=M0.call(e,e.transformResponse,r),r.headers=nr.from(r.headers),r},function(r){return xw(r)||(A0(e),r&&r.response&&(r.response.data=M0.call(e,e.transformResponse,r.response),r.response.headers=nr.from(r.response.headers))),Promise.reject(r)})}const Tw=e=>e instanceof nr?e.toJSON():e;function Yh(e,t){t=t||{};const i={};function r(a,g,u){return wt.isPlainObject(a)&&wt.isPlainObject(g)?wt.merge.call({caseless:u},a,g):wt.isPlainObject(g)?wt.merge({},g):wt.isArray(g)?g.slice():g}function f(a,g,u){if(wt.isUndefined(g)){if(!wt.isUndefined(a))return r(void 0,a,u)}else return r(a,g,u)}function S(a,g){if(!wt.isUndefined(g))return r(void 0,g)}function n(a,g){if(wt.isUndefined(g)){if(!wt.isUndefined(a))return r(void 0,a)}else return r(void 0,g)}function x(a,g,u){if(u in t)return r(a,g);if(u in e)return r(void 0,a)}const s={url:S,method:S,data:S,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:x,headers:(a,g)=>f(Tw(a),Tw(g),!0)};return wt.forEach(Object.keys(e).concat(Object.keys(t)),function(g){const u=s[g]||f,h=u(e[g],t[g],g);wt.isUndefined(h)&&u!==x||(i[g]=h)}),i}const Ew="1.3.4",R0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{R0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Pw={};R0.transitional=function(t,i,r){function f(S,n){return"[Axios v"+Ew+"] Transitional option '"+S+"'"+n+(r?". "+r:"")}return(S,n,x)=>{if(t===!1)throw new De(f(n," has been removed"+(i?" in "+i:"")),De.ERR_DEPRECATED);return i&&!Pw[n]&&(Pw[n]=!0,console.warn(f(n," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(S,n,x):!0}};function l8(e,t,i){if(typeof e!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let f=r.length;for(;f-- >0;){const S=r[f],n=t[S];if(n){const x=e[S],s=x===void 0||n(x,S,e);if(s!==!0)throw new De("option "+S+" must be "+s,De.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new De("Unknown option "+S,De.ERR_BAD_OPTION)}}const O0={assertOptions:l8,validators:R0},Sa=O0.validators;class Mo{constructor(t){this.defaults=t,this.interceptors={request:new vw,response:new vw}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Yh(this.defaults,i);const{transitional:r,paramsSerializer:f,headers:S}=i;r!==void 0&&O0.assertOptions(r,{silentJSONParsing:Sa.transitional(Sa.boolean),forcedJSONParsing:Sa.transitional(Sa.boolean),clarifyTimeoutError:Sa.transitional(Sa.boolean)},!1),f!==void 0&&O0.assertOptions(f,{encode:Sa.function,serialize:Sa.function},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let n;n=S&&wt.merge(S.common,S[i.method]),n&&wt.forEach(["delete","get","head","post","put","patch","common"],o=>{delete S[o]}),i.headers=nr.concat(n,S);const x=[];let s=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(i)===!1||(s=s&&d.synchronous,x.unshift(d.fulfilled,d.rejected))});const a=[];this.interceptors.response.forEach(function(d){a.push(d.fulfilled,d.rejected)});let g,u=0,h;if(!s){const o=[Sw.bind(this),void 0];for(o.unshift.apply(o,x),o.push.apply(o,a),h=o.length,g=Promise.resolve(i);u<h;)g=g.then(o[u++],o[u++]);return g}h=x.length;let l=i;for(u=0;u<h;){const o=x[u++],d=x[u++];try{l=o(l)}catch(v){d.call(this,v);break}}try{g=Sw.call(this,l)}catch(o){return Promise.reject(o)}for(u=0,h=a.length;u<h;)g=g.then(a[u++],a[u++]);return g}getUri(t){t=Yh(this.defaults,t);const i=yw(t.baseURL,t.url);return cw(i,t.params,t.paramsSerializer)}}wt.forEach(["delete","get","head","options"],function(t){Mo.prototype[t]=function(i,r){return this.request(Yh(r||{},{method:t,url:i,data:(r||{}).data}))}}),wt.forEach(["post","put","patch"],function(t){function i(r){return function(S,n,x){return this.request(Yh(x||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:S,data:n}))}}Mo.prototype[t]=i(),Mo.prototype[t+"Form"]=i(!0)});class L0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(S){i=S});const r=this;this.promise.then(f=>{if(!r._listeners)return;let S=r._listeners.length;for(;S-- >0;)r._listeners[S](f);r._listeners=null}),this.promise.then=f=>{let S;const n=new Promise(x=>{r.subscribe(x),S=x}).then(f);return n.cancel=function(){r.unsubscribe(S)},n},t(function(S,n,x){r.reason||(r.reason=new qu(S,n,x),i(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new L0(function(f){t=f}),cancel:t}}}function u8(e){return function(i){return e.apply(null,i)}}function d8(e){return wt.isObject(e)&&e.isAxiosError===!0}const D0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(D0).forEach(([e,t])=>{D0[t]=e});function ww(e){const t=new Mo(e),i=ZP(Mo.prototype.request,t);return wt.extend(i,Mo.prototype,t,{allOwnKeys:!0}),wt.extend(i,t,null,{allOwnKeys:!0}),i.create=function(f){return ww(Yh(e,f))},i}const ze=ww(Wh);ze.Axios=Mo,ze.CanceledError=qu,ze.CancelToken=L0,ze.isCancel=xw,ze.VERSION=Ew,ze.toFormData=Wc,ze.AxiosError=De,ze.Cancel=ze.CanceledError,ze.all=function(t){return Promise.all(t)},ze.spread=u8,ze.isAxiosError=d8,ze.mergeConfig=Yh,ze.AxiosHeaders=nr,ze.formToJSON=e=>gw(wt.isHTMLForm(e)?new FormData(e):e),ze.HttpStatusCode=D0,ze.default=ze;var hs="top",Us="bottom",Ws="right",ls="left",Xc="auto",$h=[hs,Us,Ws,ls],Ao="start",Xh="end",bw="clippingParents",F0="viewport",Hh="popper",Mw="reference",I0=$h.reduce(function(e,t){return e.concat([t+"-"+Ao,t+"-"+Xh])},[]),B0=[].concat($h,[Xc]).reduce(function(e,t){return e.concat([t,t+"-"+Ao,t+"-"+Xh])},[]),Aw="beforeRead",Rw="read",Ow="afterRead",Lw="beforeMain",Dw="main",Fw="afterMain",Iw="beforeWrite",Bw="write",Nw="afterWrite",Gw=[Aw,Rw,Ow,Lw,Dw,Fw,Iw,Bw,Nw];function Qr(e){return e?(e.nodeName||"").toLowerCase():null}function Ys(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ro(e){var t=Ys(e).Element;return e instanceof t||e instanceof Element}function ar(e){var t=Ys(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function N0(e){if(typeof ShadowRoot>"u")return!1;var t=Ys(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function f8(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},f=t.attributes[i]||{},S=t.elements[i];!ar(S)||!Qr(S)||(Object.assign(S.style,r),Object.keys(f).forEach(function(n){var x=f[n];x===!1?S.removeAttribute(n):S.setAttribute(n,x===!0?"":x)}))})}function c8(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var f=t.elements[r],S=t.attributes[r]||{},n=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),x=n.reduce(function(s,a){return s[a]="",s},{});!ar(f)||!Qr(f)||(Object.assign(f.style,x),Object.keys(S).forEach(function(s){f.removeAttribute(s)}))})}}const G0={name:"applyStyles",enabled:!0,phase:"write",fn:f8,effect:c8,requires:["computeStyles"]};function qr(e){return e.split("-")[0]}var Oo=Math.max,Hc=Math.min,Kh=Math.round;function k0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function kw(){return!/^((?!chrome|android).)*safari/i.test(k0())}function jh(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),f=1,S=1;t&&ar(e)&&(f=e.offsetWidth>0&&Kh(r.width)/e.offsetWidth||1,S=e.offsetHeight>0&&Kh(r.height)/e.offsetHeight||1);var n=Ro(e)?Ys(e):window,x=n.visualViewport,s=!kw()&&i,a=(r.left+(s&&x?x.offsetLeft:0))/f,g=(r.top+(s&&x?x.offsetTop:0))/S,u=r.width/f,h=r.height/S;return{width:u,height:h,top:g,right:a+u,bottom:g+h,left:a,x:a,y:g}}function V0(e){var t=jh(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function Vw(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&N0(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function On(e){return Ys(e).getComputedStyle(e)}function v8(e){return["table","td","th"].indexOf(Qr(e))>=0}function Ta(e){return((Ro(e)?e.ownerDocument:e.document)||window.document).documentElement}function Kc(e){return Qr(e)==="html"?e:e.assignedSlot||e.parentNode||(N0(e)?e.host:null)||Ta(e)}function zw(e){return!ar(e)||On(e).position==="fixed"?null:e.offsetParent}function p8(e){var t=/firefox/i.test(k0()),i=/Trident/i.test(k0());if(i&&ar(e)){var r=On(e);if(r.position==="fixed")return null}var f=Kc(e);for(N0(f)&&(f=f.host);ar(f)&&["html","body"].indexOf(Qr(f))<0;){var S=On(f);if(S.transform!=="none"||S.perspective!=="none"||S.contain==="paint"||["transform","perspective"].indexOf(S.willChange)!==-1||t&&S.willChange==="filter"||t&&S.filter&&S.filter!=="none")return f;f=f.parentNode}return null}function _u(e){for(var t=Ys(e),i=zw(e);i&&v8(i)&&On(i).position==="static";)i=zw(i);return i&&(Qr(i)==="html"||Qr(i)==="body"&&On(i).position==="static")?t:i||p8(e)||t}function z0(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function td(e,t,i){return Oo(e,Hc(t,i))}function g8(e,t,i){var r=td(e,t,i);return r>i?i:r}function Uw(){return{top:0,right:0,bottom:0,left:0}}function Ww(e){return Object.assign({},Uw(),e)}function Yw(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var m8=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,Ww(typeof t!="number"?t:Yw(t,$h))};function x8(e){var t,i=e.state,r=e.name,f=e.options,S=i.elements.arrow,n=i.modifiersData.popperOffsets,x=qr(i.placement),s=z0(x),a=[ls,Ws].indexOf(x)>=0,g=a?"height":"width";if(!(!S||!n)){var u=m8(f.padding,i),h=V0(S),l=s==="y"?hs:ls,o=s==="y"?Us:Ws,d=i.rects.reference[g]+i.rects.reference[s]-n[s]-i.rects.popper[g],v=n[s]-i.rects.reference[s],c=_u(S),p=c?s==="y"?c.clientHeight||0:c.clientWidth||0:0,y=d/2-v/2,m=u[l],C=p-h[g]-u[o],T=p/2-h[g]/2+y,E=td(m,T,C),w=s;i.modifiersData[r]=(t={},t[w]=E,t.centerOffset=E-T,t)}}function y8(e){var t=e.state,i=e.options,r=i.element,f=r===void 0?"[data-popper-arrow]":r;f!=null&&(typeof f=="string"&&(f=t.elements.popper.querySelector(f),!f)||Vw(t.elements.popper,f)&&(t.elements.arrow=f))}const $w={name:"arrow",enabled:!0,phase:"main",fn:x8,effect:y8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jh(e){return e.split("-")[1]}var C8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S8(e,t){var i=e.x,r=e.y,f=t.devicePixelRatio||1;return{x:Kh(i*f)/f||0,y:Kh(r*f)/f||0}}function Xw(e){var t,i=e.popper,r=e.popperRect,f=e.placement,S=e.variation,n=e.offsets,x=e.position,s=e.gpuAcceleration,a=e.adaptive,g=e.roundOffsets,u=e.isFixed,h=n.x,l=h===void 0?0:h,o=n.y,d=o===void 0?0:o,v=typeof g=="function"?g({x:l,y:d}):{x:l,y:d};l=v.x,d=v.y;var c=n.hasOwnProperty("x"),p=n.hasOwnProperty("y"),y=ls,m=hs,C=window;if(a){var T=_u(i),E="clientHeight",w="clientWidth";if(T===Ys(i)&&(T=Ta(i),On(T).position!=="static"&&x==="absolute"&&(E="scrollHeight",w="scrollWidth")),T=T,f===hs||(f===ls||f===Ws)&&S===Xh){m=Us;var P=u&&T===C&&C.visualViewport?C.visualViewport.height:T[E];d-=P-r.height,d*=s?1:-1}if(f===ls||(f===hs||f===Us)&&S===Xh){y=Ws;var b=u&&T===C&&C.visualViewport?C.visualViewport.width:T[w];l-=b-r.width,l*=s?1:-1}}var M=Object.assign({position:x},a&&C8),A=g===!0?S8({x:l,y:d},Ys(i)):{x:l,y:d};if(l=A.x,d=A.y,s){var R;return Object.assign({},M,(R={},R[m]=p?"0":"",R[y]=c?"0":"",R.transform=(C.devicePixelRatio||1)<=1?"translate("+l+"px, "+d+"px)":"translate3d("+l+"px, "+d+"px, 0)",R))}return Object.assign({},M,(t={},t[m]=p?d+"px":"",t[y]=c?l+"px":"",t.transform="",t))}function T8(e){var t=e.state,i=e.options,r=i.gpuAcceleration,f=r===void 0?!0:r,S=i.adaptive,n=S===void 0?!0:S,x=i.roundOffsets,s=x===void 0?!0:x,a={placement:qr(t.placement),variation:Jh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:f,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Xw(Object.assign({},a,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:n,roundOffsets:s})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Xw(Object.assign({},a,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const U0={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:T8,data:{}};var jc={passive:!0};function E8(e){var t=e.state,i=e.instance,r=e.options,f=r.scroll,S=f===void 0?!0:f,n=r.resize,x=n===void 0?!0:n,s=Ys(t.elements.popper),a=[].concat(t.scrollParents.reference,t.scrollParents.popper);return S&&a.forEach(function(g){g.addEventListener("scroll",i.update,jc)}),x&&s.addEventListener("resize",i.update,jc),function(){S&&a.forEach(function(g){g.removeEventListener("scroll",i.update,jc)}),x&&s.removeEventListener("resize",i.update,jc)}}const W0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:E8,data:{}};var P8={left:"right",right:"left",bottom:"top",top:"bottom"};function Jc(e){return e.replace(/left|right|bottom|top/g,function(t){return P8[t]})}var w8={start:"end",end:"start"};function Hw(e){return e.replace(/start|end/g,function(t){return w8[t]})}function Y0(e){var t=Ys(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function $0(e){return jh(Ta(e)).left+Y0(e).scrollLeft}function b8(e,t){var i=Ys(e),r=Ta(e),f=i.visualViewport,S=r.clientWidth,n=r.clientHeight,x=0,s=0;if(f){S=f.width,n=f.height;var a=kw();(a||!a&&t==="fixed")&&(x=f.offsetLeft,s=f.offsetTop)}return{width:S,height:n,x:x+$0(e),y:s}}function M8(e){var t,i=Ta(e),r=Y0(e),f=(t=e.ownerDocument)==null?void 0:t.body,S=Oo(i.scrollWidth,i.clientWidth,f?f.scrollWidth:0,f?f.clientWidth:0),n=Oo(i.scrollHeight,i.clientHeight,f?f.scrollHeight:0,f?f.clientHeight:0),x=-r.scrollLeft+$0(e),s=-r.scrollTop;return On(f||i).direction==="rtl"&&(x+=Oo(i.clientWidth,f?f.clientWidth:0)-S),{width:S,height:n,x,y:s}}function X0(e){var t=On(e),i=t.overflow,r=t.overflowX,f=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+f+r)}function Kw(e){return["html","body","#document"].indexOf(Qr(e))>=0?e.ownerDocument.body:ar(e)&&X0(e)?e:Kw(Kc(e))}function ed(e,t){var i;t===void 0&&(t=[]);var r=Kw(e),f=r===((i=e.ownerDocument)==null?void 0:i.body),S=Ys(r),n=f?[S].concat(S.visualViewport||[],X0(r)?r:[]):r,x=t.concat(n);return f?x:x.concat(ed(Kc(n)))}function H0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function A8(e,t){var i=jh(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function jw(e,t,i){return t===F0?H0(b8(e,i)):Ro(t)?A8(t,i):H0(M8(Ta(e)))}function R8(e){var t=ed(Kc(e)),i=["absolute","fixed"].indexOf(On(e).position)>=0,r=i&&ar(e)?_u(e):e;return Ro(r)?t.filter(function(f){return Ro(f)&&Vw(f,r)&&Qr(f)!=="body"}):[]}function O8(e,t,i,r){var f=t==="clippingParents"?R8(e):[].concat(t),S=[].concat(f,[i]),n=S[0],x=S.reduce(function(s,a){var g=jw(e,a,r);return s.top=Oo(g.top,s.top),s.right=Hc(g.right,s.right),s.bottom=Hc(g.bottom,s.bottom),s.left=Oo(g.left,s.left),s},jw(e,n,r));return x.width=x.right-x.left,x.height=x.bottom-x.top,x.x=x.left,x.y=x.top,x}function Jw(e){var t=e.reference,i=e.element,r=e.placement,f=r?qr(r):null,S=r?Jh(r):null,n=t.x+t.width/2-i.width/2,x=t.y+t.height/2-i.height/2,s;switch(f){case hs:s={x:n,y:t.y-i.height};break;case Us:s={x:n,y:t.y+t.height};break;case Ws:s={x:t.x+t.width,y:x};break;case ls:s={x:t.x-i.width,y:x};break;default:s={x:t.x,y:t.y}}var a=f?z0(f):null;if(a!=null){var g=a==="y"?"height":"width";switch(S){case Ao:s[a]=s[a]-(t[g]/2-i[g]/2);break;case Xh:s[a]=s[a]+(t[g]/2-i[g]/2);break}}return s}function Zh(e,t){t===void 0&&(t={});var i=t,r=i.placement,f=r===void 0?e.placement:r,S=i.strategy,n=S===void 0?e.strategy:S,x=i.boundary,s=x===void 0?bw:x,a=i.rootBoundary,g=a===void 0?F0:a,u=i.elementContext,h=u===void 0?Hh:u,l=i.altBoundary,o=l===void 0?!1:l,d=i.padding,v=d===void 0?0:d,c=Ww(typeof v!="number"?v:Yw(v,$h)),p=h===Hh?Mw:Hh,y=e.rects.popper,m=e.elements[o?p:h],C=O8(Ro(m)?m:m.contextElement||Ta(e.elements.popper),s,g,n),T=jh(e.elements.reference),E=Jw({reference:T,element:y,strategy:"absolute",placement:f}),w=H0(Object.assign({},y,E)),P=h===Hh?w:T,b={top:C.top-P.top+c.top,bottom:P.bottom-C.bottom+c.bottom,left:C.left-P.left+c.left,right:P.right-C.right+c.right},M=e.modifiersData.offset;if(h===Hh&&M){var A=M[f];Object.keys(b).forEach(function(R){var L=[Ws,Us].indexOf(R)>=0?1:-1,O=[hs,Us].indexOf(R)>=0?"y":"x";b[R]+=A[O]*L})}return b}function L8(e,t){t===void 0&&(t={});var i=t,r=i.placement,f=i.boundary,S=i.rootBoundary,n=i.padding,x=i.flipVariations,s=i.allowedAutoPlacements,a=s===void 0?B0:s,g=Jh(r),u=g?x?I0:I0.filter(function(o){return Jh(o)===g}):$h,h=u.filter(function(o){return a.indexOf(o)>=0});h.length===0&&(h=u);var l=h.reduce(function(o,d){return o[d]=Zh(e,{placement:d,boundary:f,rootBoundary:S,padding:n})[qr(d)],o},{});return Object.keys(l).sort(function(o,d){return l[o]-l[d]})}function D8(e){if(qr(e)===Xc)return[];var t=Jc(e);return[Hw(e),t,Hw(t)]}function F8(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var f=i.mainAxis,S=f===void 0?!0:f,n=i.altAxis,x=n===void 0?!0:n,s=i.fallbackPlacements,a=i.padding,g=i.boundary,u=i.rootBoundary,h=i.altBoundary,l=i.flipVariations,o=l===void 0?!0:l,d=i.allowedAutoPlacements,v=t.options.placement,c=qr(v),p=c===v,y=s||(p||!o?[Jc(v)]:D8(v)),m=[v].concat(y).reduce(function(U,F){return U.concat(qr(F)===Xc?L8(t,{placement:F,boundary:g,rootBoundary:u,padding:a,flipVariations:o,allowedAutoPlacements:d}):F)},[]),C=t.rects.reference,T=t.rects.popper,E=new Map,w=!0,P=m[0],b=0;b<m.length;b++){var M=m[b],A=qr(M),R=Jh(M)===Ao,L=[hs,Us].indexOf(A)>=0,O=L?"width":"height",D=Zh(t,{placement:M,boundary:g,rootBoundary:u,altBoundary:h,padding:a}),I=L?R?Ws:ls:R?Us:hs;C[O]>T[O]&&(I=Jc(I));var B=Jc(I),G=[];if(S&&G.push(D[A]<=0),x&&G.push(D[I]<=0,D[B]<=0),G.every(function(U){return U})){P=M,w=!1;break}E.set(M,G)}if(w)for(var z=o?3:1,Y=function(F){var N=m.find(function(V){var $=E.get(V);if($)return $.slice(0,F).every(function(X){return X})});if(N)return P=N,"break"},H=z;H>0;H--){var k=Y(H);if(k==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}const Zw={name:"flip",enabled:!0,phase:"main",fn:F8,requiresIfExists:["offset"],data:{_skip:!1}};function Qw(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function qw(e){return[hs,Ws,Us,ls].some(function(t){return e[t]>=0})}function I8(e){var t=e.state,i=e.name,r=t.rects.reference,f=t.rects.popper,S=t.modifiersData.preventOverflow,n=Zh(t,{elementContext:"reference"}),x=Zh(t,{altBoundary:!0}),s=Qw(n,r),a=Qw(x,f,S),g=qw(s),u=qw(a);t.modifiersData[i]={referenceClippingOffsets:s,popperEscapeOffsets:a,isReferenceHidden:g,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":u})}const _w={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:I8};function B8(e,t,i){var r=qr(e),f=[ls,hs].indexOf(r)>=0?-1:1,S=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,n=S[0],x=S[1];return n=n||0,x=(x||0)*f,[ls,Ws].indexOf(r)>=0?{x,y:n}:{x:n,y:x}}function N8(e){var t=e.state,i=e.options,r=e.name,f=i.offset,S=f===void 0?[0,0]:f,n=B0.reduce(function(g,u){return g[u]=B8(u,t.rects,S),g},{}),x=n[t.placement],s=x.x,a=x.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=a),t.modifiersData[r]=n}const tb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:N8};function G8(e){var t=e.state,i=e.name;t.modifiersData[i]=Jw({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const K0={name:"popperOffsets",enabled:!0,phase:"read",fn:G8,data:{}};function k8(e){return e==="x"?"y":"x"}function V8(e){var t=e.state,i=e.options,r=e.name,f=i.mainAxis,S=f===void 0?!0:f,n=i.altAxis,x=n===void 0?!1:n,s=i.boundary,a=i.rootBoundary,g=i.altBoundary,u=i.padding,h=i.tether,l=h===void 0?!0:h,o=i.tetherOffset,d=o===void 0?0:o,v=Zh(t,{boundary:s,rootBoundary:a,padding:u,altBoundary:g}),c=qr(t.placement),p=Jh(t.placement),y=!p,m=z0(c),C=k8(m),T=t.modifiersData.popperOffsets,E=t.rects.reference,w=t.rects.popper,P=typeof d=="function"?d(Object.assign({},t.rects,{placement:t.placement})):d,b=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(T){if(S){var R,L=m==="y"?hs:ls,O=m==="y"?Us:Ws,D=m==="y"?"height":"width",I=T[m],B=I+v[L],G=I-v[O],z=l?-w[D]/2:0,Y=p===Ao?E[D]:w[D],H=p===Ao?-w[D]:-E[D],k=t.elements.arrow,U=l&&k?V0(k):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Uw(),N=F[L],V=F[O],$=td(0,E[D],U[D]),X=y?E[D]/2-z-$-N-b.mainAxis:Y-$-N-b.mainAxis,j=y?-E[D]/2+z+$+V+b.mainAxis:H+$+V+b.mainAxis,Q=t.elements.arrow&&_u(t.elements.arrow),K=Q?m==="y"?Q.clientTop||0:Q.clientLeft||0:0,q=(R=M==null?void 0:M[m])!=null?R:0,tt=I+X-q-K,st=I+j-q,nt=td(l?Hc(B,tt):B,I,l?Oo(G,st):G);T[m]=nt,A[m]=nt-I}if(x){var rt,ut=m==="x"?hs:ls,vt=m==="x"?Us:Ws,pt=T[C],ft=C==="y"?"height":"width",lt=pt+v[ut],yt=pt-v[vt],Ct=[hs,ls].indexOf(c)!==-1,Rt=(rt=M==null?void 0:M[C])!=null?rt:0,Dt=Ct?lt:pt-E[ft]-w[ft]-Rt+b.altAxis,Tt=Ct?pt+E[ft]+w[ft]-Rt-b.altAxis:yt,Et=l&&Ct?g8(Dt,pt,Tt):td(l?Dt:lt,pt,l?Tt:yt);T[C]=Et,A[C]=Et-pt}t.modifiersData[r]=A}}const eb={name:"preventOverflow",enabled:!0,phase:"main",fn:V8,requiresIfExists:["offset"]};function z8(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function U8(e){return e===Ys(e)||!ar(e)?Y0(e):z8(e)}function W8(e){var t=e.getBoundingClientRect(),i=Kh(t.width)/e.offsetWidth||1,r=Kh(t.height)/e.offsetHeight||1;return i!==1||r!==1}function Y8(e,t,i){i===void 0&&(i=!1);var r=ar(t),f=ar(t)&&W8(t),S=Ta(t),n=jh(e,f,i),x={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!i)&&((Qr(t)!=="body"||X0(S))&&(x=U8(t)),ar(t)?(s=jh(t,!0),s.x+=t.clientLeft,s.y+=t.clientTop):S&&(s.x=$0(S))),{x:n.left+x.scrollLeft-s.x,y:n.top+x.scrollTop-s.y,width:n.width,height:n.height}}function $8(e){var t=new Map,i=new Set,r=[];e.forEach(function(S){t.set(S.name,S)});function f(S){i.add(S.name);var n=[].concat(S.requires||[],S.requiresIfExists||[]);n.forEach(function(x){if(!i.has(x)){var s=t.get(x);s&&f(s)}}),r.push(S)}return e.forEach(function(S){i.has(S.name)||f(S)}),r}function X8(e){var t=$8(e);return Gw.reduce(function(i,r){return i.concat(t.filter(function(f){return f.phase===r}))},[])}function H8(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function K8(e){var t=e.reduce(function(i,r){var f=i[r.name];return i[r.name]=f?Object.assign({},f,r,{options:Object.assign({},f.options,r.options),data:Object.assign({},f.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var ib={placement:"bottom",modifiers:[],strategy:"absolute"};function sb(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Zc(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,f=t.defaultOptions,S=f===void 0?ib:f;return function(x,s,a){a===void 0&&(a=S);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},ib,S),modifiersData:{},elements:{reference:x,popper:s},attributes:{},styles:{}},u=[],h=!1,l={state:g,setOptions:function(c){var p=typeof c=="function"?c(g.options):c;d(),g.options=Object.assign({},S,g.options,p),g.scrollParents={reference:Ro(x)?ed(x):x.contextElement?ed(x.contextElement):[],popper:ed(s)};var y=X8(K8([].concat(r,g.options.modifiers)));return g.orderedModifiers=y.filter(function(m){return m.enabled}),o(),l.update()},forceUpdate:function(){if(!h){var c=g.elements,p=c.reference,y=c.popper;if(sb(p,y)){g.rects={reference:Y8(p,_u(y),g.options.strategy==="fixed"),popper:V0(y)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(b){return g.modifiersData[b.name]=Object.assign({},b.data)});for(var m=0;m<g.orderedModifiers.length;m++){if(g.reset===!0){g.reset=!1,m=-1;continue}var C=g.orderedModifiers[m],T=C.fn,E=C.options,w=E===void 0?{}:E,P=C.name;typeof T=="function"&&(g=T({state:g,options:w,name:P,instance:l})||g)}}}},update:H8(function(){return new Promise(function(v){l.forceUpdate(),v(g)})}),destroy:function(){d(),h=!0}};if(!sb(x,s))return l;l.setOptions(a).then(function(v){!h&&a.onFirstUpdate&&a.onFirstUpdate(v)});function o(){g.orderedModifiers.forEach(function(v){var c=v.name,p=v.options,y=p===void 0?{}:p,m=v.effect;if(typeof m=="function"){var C=m({state:g,name:c,instance:l,options:y}),T=function(){};u.push(C||T)}})}function d(){u.forEach(function(v){return v()}),u=[]}return l}}var j8=Zc(),J8=[W0,K0,U0,G0],Z8=Zc({defaultModifiers:J8}),Q8=[W0,K0,U0,G0,tb,Zw,eb,$w,_w],j0=Zc({defaultModifiers:Q8});const rb=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Fw,afterRead:Ow,afterWrite:Nw,applyStyles:G0,arrow:$w,auto:Xc,basePlacements:$h,beforeMain:Lw,beforeRead:Aw,beforeWrite:Iw,bottom:Us,clippingParents:bw,computeStyles:U0,createPopper:j0,createPopperBase:j8,createPopperLite:Z8,detectOverflow:Zh,end:Xh,eventListeners:W0,flip:Zw,hide:_w,left:ls,main:Dw,modifierPhases:Gw,offset:tb,placements:B0,popper:Hh,popperGenerator:Zc,popperOffsets:K0,preventOverflow:eb,read:Rw,reference:Mw,right:Ws,start:Ao,top:hs,variationPlacements:I0,viewport:F0,write:Bw},Symbol.toStringTag,{value:"Module"}));/*!
  * CoreUI v4.3.0 (https://coreui.io)
  * Copyright 2023 The CoreUI Team (https://github.com/orgs/coreui/people)
  * Licensed under MIT (https://github.com/coreui/coreui/blob/main/LICENSE)
  */const Ea=new Map,Qc={set(e,t,i){Ea.has(e)||Ea.set(e,new Map);const r=Ea.get(e);if(!r.has(t)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(t,i)},get(e,t){return Ea.has(e)&&Ea.get(e).get(t)||null},remove(e,t){if(!Ea.has(e))return;const i=Ea.get(e);i.delete(t),i.size===0&&Ea.delete(e)}},q8=1e6,_8=1e3,J0="transitionend",nb=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,i)=>`#${CSS.escape(i)}`)),e),tN=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),eN=e=>{do e+=Math.floor(Math.random()*q8);while(document.getElementById(e));return e},iN=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(e);const r=Number.parseFloat(t),f=Number.parseFloat(i);return!r&&!f?0:(t=t.split(",")[0],i=i.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(i))*_8)},ab=e=>{e.dispatchEvent(new Event(J0))},Ln=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),Pa=e=>Ln(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(nb(e)):null,Qh=e=>{if(!Ln(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",i=e.closest("details:not([open])");if(!i)return t;if(i!==e){const r=e.closest("summary");if(r&&r.parentNode!==i||r===null)return!1}return t},wa=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",ob=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?ob(e.parentNode):null},qc=()=>{},sd=e=>{e.offsetHeight},hb=()=>window.jQuery&&!document.body.hasAttribute("data-coreui-no-jquery")?window.jQuery:null,Z0=[],sN=e=>{document.readyState==="loading"?(Z0.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Z0)t()}),Z0.push(e)):e()},or=()=>document.documentElement.dir==="rtl",Ps=e=>{sN(()=>{const t=hb();if(t){const i=e.NAME,r=t.fn[i];t.fn[i]=e.jQueryInterface,t.fn[i].Constructor=e,t.fn[i].noConflict=()=>(t.fn[i]=r,e.jQueryInterface)}})},ws=(e,t=[],i=e)=>typeof e=="function"?e(...t):i,lb=(e,t,i=!0)=>{if(!i){ws(e);return}const f=iN(t)+5;let S=!1;const n=({target:x})=>{x===t&&(S=!0,t.removeEventListener(J0,n),ws(e))};t.addEventListener(J0,n),setTimeout(()=>{S||ab(t)},f)},Q0=(e,t,i,r)=>{const f=e.length;let S=e.indexOf(t);return S===-1?!i&&r?e[f-1]:e[0]:(S+=i?1:-1,r&&(S=(S+f)%f),e[Math.max(0,Math.min(S,f-1))])},rN=/[^.]*(?=\..*)\.|.*/,nN=/\..*/,aN=/::\d+$/,q0={};let ub=1;const db={mouseenter:"mouseover",mouseleave:"mouseout"},oN=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function fb(e,t){return t&&`${t}::${ub++}`||e.uidEvent||ub++}function cb(e){const t=fb(e);return e.uidEvent=t,q0[t]=q0[t]||{},q0[t]}function hN(e,t){return function i(r){return tx(r,{delegateTarget:e}),i.oneOff&&Mt.off(e,r.type,t),t.apply(e,[r])}}function lN(e,t,i){return function r(f){const S=e.querySelectorAll(t);for(let{target:n}=f;n&&n!==this;n=n.parentNode)for(const x of S)if(x===n)return tx(f,{delegateTarget:n}),r.oneOff&&Mt.off(e,f.type,t,i),i.apply(n,[f])}}function vb(e,t,i=null){return Object.values(e).find(r=>r.callable===t&&r.delegationSelector===i)}function pb(e,t,i){const r=typeof t=="string",f=r?i:t||i;let S=mb(e);return oN.has(S)||(S=e),[r,f,S]}function gb(e,t,i,r,f){if(typeof t!="string"||!e)return;let[S,n,x]=pb(t,i,r);t in db&&(n=(o=>function(d){if(!d.relatedTarget||d.relatedTarget!==d.delegateTarget&&!d.delegateTarget.contains(d.relatedTarget))return o.call(this,d)})(n));const s=cb(e),a=s[x]||(s[x]={}),g=vb(a,n,S?i:null);if(g){g.oneOff=g.oneOff&&f;return}const u=fb(n,t.replace(rN,"")),h=S?lN(e,i,n):hN(e,n);h.delegationSelector=S?i:null,h.callable=n,h.oneOff=f,h.uidEvent=u,a[u]=h,e.addEventListener(x,h,S)}function _0(e,t,i,r,f){const S=vb(t[i],r,f);S&&(e.removeEventListener(i,S,!!f),delete t[i][S.uidEvent])}function uN(e,t,i,r){const f=t[i]||{};for(const[S,n]of Object.entries(f))S.includes(r)&&_0(e,t,i,n.callable,n.delegationSelector)}function mb(e){return e=e.replace(nN,""),db[e]||e}const Mt={on(e,t,i,r){gb(e,t,i,r,!1)},one(e,t,i,r){gb(e,t,i,r,!0)},off(e,t,i,r){if(typeof t!="string"||!e)return;const[f,S,n]=pb(t,i,r),x=n!==t,s=cb(e),a=s[n]||{},g=t.startsWith(".");if(typeof S<"u"){if(!Object.keys(a).length)return;_0(e,s,n,S,f?i:null);return}if(g)for(const u of Object.keys(s))uN(e,s,u,t.slice(1));for(const[u,h]of Object.entries(a)){const l=u.replace(aN,"");(!x||t.includes(l))&&_0(e,s,n,h.callable,h.delegationSelector)}},trigger(e,t,i){if(typeof t!="string"||!e)return null;const r=hb(),f=mb(t),S=t!==f;let n=null,x=!0,s=!0,a=!1;S&&r&&(n=r.Event(t,i),r(e).trigger(n),x=!n.isPropagationStopped(),s=!n.isImmediatePropagationStopped(),a=n.isDefaultPrevented());const g=tx(new Event(t,{bubbles:x,cancelable:!0}),i);return a&&g.preventDefault(),s&&e.dispatchEvent(g),g.defaultPrevented&&n&&n.preventDefault(),g}};function tx(e,t={}){for(const[i,r]of Object.entries(t))try{e[i]=r}catch{Object.defineProperty(e,i,{configurable:!0,get(){return r}})}return e}function xb(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function ex(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const hr={setDataAttribute(e,t,i){e.setAttribute(`data-coreui-${ex(t)}`,i)},removeDataAttribute(e,t){e.removeAttribute(`data-coreui-${ex(t)}`)},getDataAttributes(e){if(!e)return{};const t={},i=Object.keys(e.dataset).filter(r=>r.startsWith("coreui")&&!r.startsWith("coreuiConfig"));for(const r of i){let f=r.replace(/^coreui/,"");f=f.charAt(0).toLowerCase()+f.slice(1,f.length),t[f]=xb(e.dataset[r])}return t},getDataAttribute(e,t){return xb(e.getAttribute(`data-coreui-${ex(t)}`))}};let rd=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,i){const r=Ln(i)?hr.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Ln(i)?hr.getDataAttributes(i):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,i=this.constructor.DefaultType){for(const[r,f]of Object.entries(i)){const S=t[r],n=Ln(S)?"element":tN(S);if(!new RegExp(f).test(n))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${n}" but expected type "${f}".`)}}};const dN="4.3.0";class $s extends rd{constructor(t,i){super(),t=Pa(t),t&&(this._element=t,this._config=this._getConfig(i),Qc.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Qc.remove(this._element,this.constructor.DATA_KEY),Mt.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,i,r=!0){lb(t,i,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Qc.get(Pa(t),this.DATA_KEY)}static getOrCreateInstance(t,i={}){return this.getInstance(t)||new this(t,typeof i=="object"?i:null)}static get VERSION(){return dN}static get DATA_KEY(){return`coreui.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const ix=e=>{let t=e.getAttribute("data-coreui-target");if(!t||t==="#"){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),t=i&&i!=="#"?i.trim():null}return nb(t)},Kt={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(i=>i.matches(t))},parents(e,t){const i=[];let r=e.parentNode.closest(t);for(;r;)i.push(r),r=r.parentNode.closest(t);return i},prev(e,t){let i=e.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(e,t){let i=e.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(i=>!wa(i)&&Qh(i))},getSelectorFromElement(e){const t=ix(e);return t&&Kt.findOne(t)?t:null},getElementFromSelector(e){const t=ix(e);return t?Kt.findOne(t):null},getMultipleElementsFromSelector(e){const t=ix(e);return t?Kt.find(t):[]}},_c=(e,t="hide")=>{const i=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;Mt.on(document,i,`[data-coreui-dismiss="${r}"]`,function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),wa(this))return;const S=Kt.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(S)[t]()})},fN="alert",yb=".coreui.alert",cN=`close${yb}`,vN=`closed${yb}`,pN="fade",gN="show";class nd extends $s{static get NAME(){return fN}close(){if(Mt.trigger(this._element,cN).defaultPrevented)return;this._element.classList.remove(gN);const i=this._element.classList.contains(pN);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),Mt.trigger(this._element,vN),this.dispose()}static jQueryInterface(t){return this.each(function(){const i=nd.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}_c(nd,"close"),Ps(nd);const mN="button",xN=".coreui.button",yN=".data-api",CN="active",Cb='[data-coreui-toggle="button"]',SN=`click${xN}${yN}`;let sx=class LI extends $s{static get NAME(){return mN}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CN))}static jQueryInterface(t){return this.each(function(){const i=LI.getOrCreateInstance(this);t==="toggle"&&i[t]()})}};Mt.on(document,SN,Cb,e=>{e.preventDefault();const t=e.target.closest(Cb);sx.getOrCreateInstance(t).toggle()}),Ps(sx);const TN="swipe",qh=".coreui.swipe",EN=`touchstart${qh}`,PN=`touchmove${qh}`,wN=`touchend${qh}`,bN=`pointerdown${qh}`,MN=`pointerup${qh}`,AN="touch",RN="pen",ON="pointer-event",LN=40,DN={endCallback:null,leftCallback:null,rightCallback:null},FN={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};let Sb=class DI extends rd{constructor(t,i){super(),this._element=t,!(!t||!DI.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return DN}static get DefaultType(){return FN}static get NAME(){return TN}dispose(){Mt.off(this._element,qh)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ws(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=LN)return;const i=t/this._deltaX;this._deltaX=0,i&&ws(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Mt.on(this._element,bN,t=>this._start(t)),Mt.on(this._element,MN,t=>this._end(t)),this._element.classList.add(ON)):(Mt.on(this._element,EN,t=>this._start(t)),Mt.on(this._element,PN,t=>this._move(t)),Mt.on(this._element,wN,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===RN||t.pointerType===AN)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}};const IN="carousel",ba=".coreui.carousel",Tb=".data-api",BN="ArrowLeft",NN="ArrowRight",GN=500,ad="next",_h="prev",tl="left",tv="right",kN=`slide${ba}`,rx=`slid${ba}`,VN=`keydown${ba}`,zN=`mouseenter${ba}`,UN=`mouseleave${ba}`,WN=`dragstart${ba}`,YN=`load${ba}${Tb}`,$N=`click${ba}${Tb}`,Eb="carousel",ev="active",XN="slide",HN="carousel-item-end",KN="carousel-item-start",jN="carousel-item-next",JN="carousel-item-prev",Pb=".active",wb=".carousel-item",ZN=Pb+wb,QN=".carousel-item img",qN=".carousel-indicators",_N="[data-coreui-slide], [data-coreui-slide-to]",t6='[data-coreui-ride="carousel"]',e6={[BN]:tv,[NN]:tl},i6={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},s6={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class el extends $s{constructor(t,i){super(t,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Kt.findOne(qN,this._element),this._addEventListeners(),this._config.ride===Eb&&this.cycle()}static get Default(){return i6}static get DefaultType(){return s6}static get NAME(){return IN}next(){this._slide(ad)}nextWhenVisible(){!document.hidden&&Qh(this._element)&&this.next()}prev(){this._slide(_h)}pause(){this._isSliding&&ab(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Mt.one(this._element,rx,()=>this.cycle());return}this.cycle()}}to(t){const i=this._getItems();if(t>i.length-1||t<0)return;if(this._isSliding){Mt.one(this._element,rx,()=>this.to(t));return}const r=this._getItemIndex(this._getActive());if(r===t)return;const f=t>r?ad:_h;this._slide(f,i[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&Mt.on(this._element,VN,t=>this._keydown(t)),this._config.pause==="hover"&&(Mt.on(this._element,zN,()=>this.pause()),Mt.on(this._element,UN,()=>this._maybeEnableCycle())),this._config.touch&&Sb.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of Kt.find(QN,this._element))Mt.on(r,WN,f=>f.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(tl)),rightCallback:()=>this._slide(this._directionToOrder(tv)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),GN+this._config.interval))}};this._swipeHelper=new Sb(this._element,i)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const i=e6[t.key];i&&(t.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const i=Kt.findOne(Pb,this._indicatorsElement);i.classList.remove(ev),i.removeAttribute("aria-current");const r=Kt.findOne(`[data-coreui-slide-to="${t}"]`,this._indicatorsElement);r&&(r.classList.add(ev),r.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const i=Number.parseInt(t.getAttribute("data-coreui-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(t,i=null){if(this._isSliding)return;const r=this._getActive(),f=t===ad,S=i||Q0(this._getItems(),r,f,this._config.wrap);if(S===r)return;const n=this._getItemIndex(S),x=l=>Mt.trigger(this._element,l,{relatedTarget:S,direction:this._orderToDirection(t),from:this._getItemIndex(r),to:n});if(x(kN).defaultPrevented||!r||!S)return;const a=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(n),this._activeElement=S;const g=f?KN:HN,u=f?jN:JN;S.classList.add(u),sd(S),r.classList.add(g),S.classList.add(g);const h=()=>{S.classList.remove(g,u),S.classList.add(ev),r.classList.remove(ev,u,g),this._isSliding=!1,x(rx)};this._queueCallback(h,r,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains(XN)}_getActive(){return Kt.findOne(ZN,this._element)}_getItems(){return Kt.find(wb,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return or()?t===tl?_h:ad:t===tl?ad:_h}_orderToDirection(t){return or()?t===_h?tl:tv:t===_h?tv:tl}static jQueryInterface(t){return this.each(function(){const i=el.getOrCreateInstance(this,t);if(typeof t=="number"){i.to(t);return}if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Mt.on(document,$N,_N,function(e){const t=Kt.getElementFromSelector(this);if(!t||!t.classList.contains(Eb))return;e.preventDefault();const i=el.getOrCreateInstance(t),r=this.getAttribute("data-coreui-slide-to");if(r){i.to(r),i._maybeEnableCycle();return}if(hr.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()}),Mt.on(window,YN,()=>{const e=Kt.find(t6);for(const t of e)el.getOrCreateInstance(t)}),Ps(el);const r6="collapse",od=".coreui.collapse",n6=".data-api",a6=`show${od}`,o6=`shown${od}`,h6=`hide${od}`,l6=`hidden${od}`,u6=`click${od}${n6}`,nx="show",il="collapse",iv="collapsing",d6="collapsed",f6=`:scope .${il} .${il}`,c6="collapse-horizontal",v6="width",p6="height",g6=".collapse.show, .collapse.collapsing",ax='[data-coreui-toggle="collapse"]',m6={parent:null,toggle:!0},x6={parent:"(null|element)",toggle:"boolean"};let ox=class yT extends $s{constructor(t,i){super(t,i),this._isTransitioning=!1,this._triggerArray=[];const r=Kt.find(ax);for(const f of r){const S=Kt.getSelectorFromElement(f),n=Kt.find(S).filter(x=>x===this._element);S!==null&&n.length&&this._triggerArray.push(f)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return m6}static get DefaultType(){return x6}static get NAME(){return r6}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(g6).filter(x=>x!==this._element).map(x=>yT.getOrCreateInstance(x,{toggle:!1}))),t.length&&t[0]._isTransitioning||Mt.trigger(this._element,a6).defaultPrevented)return;for(const x of t)x.hide();const r=this._getDimension();this._element.classList.remove(il),this._element.classList.add(iv),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(iv),this._element.classList.add(il,nx),this._element.style[r]="",Mt.trigger(this._element,o6)},n=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(f,this._element,!0),this._element.style[r]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown()||Mt.trigger(this._element,h6).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,sd(this._element),this._element.classList.add(iv),this._element.classList.remove(il,nx);for(const f of this._triggerArray){const S=Kt.getElementFromSelector(f);S&&!this._isShown(S)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(iv),this._element.classList.add(il),Mt.trigger(this._element,l6)};this._element.style[i]="",this._queueCallback(r,this._element,!0)}_isShown(t=this._element){return t.classList.contains(nx)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Pa(t.parent),t}_getDimension(){return this._element.classList.contains(c6)?v6:p6}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(ax);for(const i of t){const r=Kt.getElementFromSelector(i);r&&this._addAriaAndCollapsedClass([i],this._isShown(r))}}_getFirstLevelChildren(t){const i=Kt.find(f6,this._config.parent);return Kt.find(t,this._config.parent).filter(r=>!i.includes(r))}_addAriaAndCollapsedClass(t,i){if(t.length)for(const r of t)r.classList.toggle(d6,!i),r.setAttribute("aria-expanded",i)}static jQueryInterface(t){const i={};return typeof t=="string"&&/show|hide/.test(t)&&(i.toggle=!1),this.each(function(){const r=yT.getOrCreateInstance(this,i);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}};Mt.on(document,u6,ax,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of Kt.getMultipleElementsFromSelector(this))ox.getOrCreateInstance(t,{toggle:!1}).toggle()}),Ps(ox);const bb="dropdown",Lo=".coreui.dropdown",hx=".data-api",y6="Escape",Mb="Tab",C6="ArrowUp",Ab="ArrowDown",S6=2,T6=`hide${Lo}`,E6=`hidden${Lo}`,P6=`show${Lo}`,w6=`shown${Lo}`,Rb=`click${Lo}${hx}`,Ob=`keydown${Lo}${hx}`,b6=`keyup${Lo}${hx}`,sl="show",M6="dropup",A6="dropend",R6="dropstart",O6="dropup-center",L6="dropdown-center",Do='[data-coreui-toggle="dropdown"]:not(.disabled):not(:disabled)',D6=`${Do}.${sl}`,sv=".dropdown-menu",F6=".navbar",I6=".navbar-nav",B6=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",N6=or()?"top-end":"top-start",G6=or()?"top-start":"top-end",k6=or()?"bottom-end":"bottom-start",V6=or()?"bottom-start":"bottom-end",z6=or()?"left-start":"right-start",U6=or()?"right-start":"left-start",W6="top",Y6="bottom",$6={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},X6={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class wr extends $s{constructor(t,i){super(t,i),this._popper=null,this._parent=this._element.parentNode,this._menu=Kt.next(this._element,sv)[0]||Kt.prev(this._element,sv)[0]||Kt.findOne(sv,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return $6}static get DefaultType(){return X6}static get NAME(){return bb}toggle(){return this._isShown()?this.hide():this.show()}show(){if(wa(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!Mt.trigger(this._element,P6,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(I6))for(const r of[].concat(...document.body.children))Mt.on(r,"mouseover",qc);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(sl),this._element.classList.add(sl),Mt.trigger(this._element,w6,t)}}hide(){if(wa(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!Mt.trigger(this._element,T6,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Mt.off(r,"mouseover",qc);this._popper&&this._popper.destroy(),this._menu.classList.remove(sl),this._element.classList.remove(sl),this._element.setAttribute("aria-expanded","false"),hr.removeDataAttribute(this._menu,"popper"),Mt.trigger(this._element,E6,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!Ln(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${bb.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof rb>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:Ln(this._config.reference)?t=Pa(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const i=this._getPopperConfig();this._popper=j0(t,this._menu,i)}_isShown(){return this._menu.classList.contains(sl)}_getPlacement(){const t=this._parent;if(t.classList.contains(A6))return z6;if(t.classList.contains(R6))return U6;if(t.classList.contains(O6))return W6;if(t.classList.contains(L6))return Y6;const i=getComputedStyle(this._menu).getPropertyValue("--cui-position").trim()==="end";return t.classList.contains(M6)?i?G6:N6:i?V6:k6}_detectNavbar(){return this._element.closest(F6)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(hr.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ws(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:i}){const r=Kt.find(B6,this._menu).filter(f=>Qh(f));r.length&&Q0(r,i,t===Ab,!r.includes(i)).focus()}static jQueryInterface(t){return this.each(function(){const i=wr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}static clearMenus(t){if(t.button===S6||t.type==="keyup"&&t.key!==Mb)return;const i=Kt.find(D6);for(const r of i){const f=wr.getInstance(r);if(!f||f._config.autoClose===!1)continue;const S=t.composedPath(),n=S.includes(f._menu);if(S.includes(f._element)||f._config.autoClose==="inside"&&!n||f._config.autoClose==="outside"&&n||f._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Mb||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const x={relatedTarget:f._element};t.type==="click"&&(x.clickEvent=t),f._completeHide(x)}}static dataApiKeydownHandler(t){const i=/input|textarea/i.test(t.target.tagName),r=t.key===y6,f=[C6,Ab].includes(t.key);if(!f&&!r||i&&!r)return;t.preventDefault();const S=this.matches(Do)?this:Kt.prev(this,Do)[0]||Kt.next(this,Do)[0]||Kt.findOne(Do,t.delegateTarget.parentNode),n=wr.getOrCreateInstance(S);if(f){t.stopPropagation(),n.show(),n._selectMenuItem(t);return}n._isShown()&&(t.stopPropagation(),n.hide(),S.focus())}}Mt.on(document,Ob,Do,wr.dataApiKeydownHandler),Mt.on(document,Ob,sv,wr.dataApiKeydownHandler),Mt.on(document,Rb,wr.clearMenus),Mt.on(document,b6,wr.clearMenus),Mt.on(document,Rb,Do,function(e){e.preventDefault(),wr.getOrCreateInstance(this).toggle()}),Ps(wr);const Lb="backdrop",H6="fade",Db="show",Fb=`mousedown.coreui.${Lb}`,K6={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},j6={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class lx extends rd{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return K6}static get DefaultType(){return j6}static get NAME(){return Lb}show(t){if(!this._config.isVisible){ws(t);return}this._append();const i=this._getElement();this._config.isAnimated&&sd(i),i.classList.add(Db),this._emulateAnimation(()=>{ws(t)})}hide(t){if(!this._config.isVisible){ws(t);return}this._getElement().classList.remove(Db),this._emulateAnimation(()=>{this.dispose(),ws(t)})}dispose(){this._isAppended&&(Mt.off(this._element,Fb),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(H6),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Pa(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),Mt.on(t,Fb,()=>{ws(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){lb(t,this._getElement(),this._config.isAnimated)}}const J6="focustrap",rv=".coreui.focustrap",Z6=`focusin${rv}`,Q6=`keydown.tab${rv}`,q6="Tab",_6="forward",Ib="backward",tG={autofocus:!0,trapElement:null},eG={autofocus:"boolean",trapElement:"element"};class Bb extends rd{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return tG}static get DefaultType(){return eG}static get NAME(){return J6}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Mt.off(document,rv),Mt.on(document,Z6,t=>this._handleFocusin(t)),Mt.on(document,Q6,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Mt.off(document,rv))}_handleFocusin(t){const{trapElement:i}=this._config;if(t.target===document||t.target===i||i.contains(t.target))return;const r=Kt.focusableChildren(i);r.length===0?i.focus():this._lastTabNavDirection===Ib?r[r.length-1].focus():r[0].focus()}_handleKeydown(t){t.key===q6&&(this._lastTabNavDirection=t.shiftKey?Ib:_6)}}const Nb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Gb=".sticky-top",nv="padding-right",kb="margin-right";class hd{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,nv,i=>i+t),this._setElementAttributes(Nb,nv,i=>i+t),this._setElementAttributes(Gb,kb,i=>i-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,nv),this._resetElementAttributes(Nb,nv),this._resetElementAttributes(Gb,kb)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,i,r){const f=this.getWidth(),S=n=>{if(n!==this._element&&window.innerWidth>n.clientWidth+f)return;this._saveInitialAttribute(n,i);const x=window.getComputedStyle(n).getPropertyValue(i);n.style.setProperty(i,`${r(Number.parseFloat(x))}px`)};this._applyManipulationCallback(t,S)}_saveInitialAttribute(t,i){const r=t.style.getPropertyValue(i);r&&hr.setDataAttribute(t,i,r)}_resetElementAttributes(t,i){const r=f=>{const S=hr.getDataAttribute(f,i);if(S===null){f.style.removeProperty(i);return}hr.removeDataAttribute(f,i),f.style.setProperty(i,S)};this._applyManipulationCallback(t,r)}_applyManipulationCallback(t,i){if(Ln(t)){i(t);return}for(const r of Kt.find(t,this._element))i(r)}}const iG="modal",lr=".coreui.modal",sG=".data-api",rG="Escape",nG=`hide${lr}`,aG=`hidePrevented${lr}`,Vb=`hidden${lr}`,zb=`show${lr}`,oG=`shown${lr}`,hG=`resize${lr}`,lG=`click.dismiss${lr}`,uG=`mousedown.dismiss${lr}`,dG=`keydown.dismiss${lr}`,fG=`click${lr}${sG}`,Ub="modal-open",cG="fade",Wb="show",ux="modal-static",vG=".modal.show",pG=".modal-dialog",gG=".modal-body",mG='[data-coreui-toggle="modal"]',xG={backdrop:!0,focus:!0,keyboard:!0},yG={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let ld=class FI extends $s{constructor(t,i){super(t,i),this._dialog=Kt.findOne(pG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new hd,this._addEventListeners()}static get Default(){return xG}static get DefaultType(){return yG}static get NAME(){return iG}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||Mt.trigger(this._element,zb,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ub),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||Mt.trigger(this._element,nG).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Wb),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Mt.off(window,lr),Mt.off(this._dialog,lr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new lx({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Bb({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=Kt.findOne(gG,this._dialog);i&&(i.scrollTop=0),sd(this._element),this._element.classList.add(Wb);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Mt.trigger(this._element,oG,{relatedTarget:t})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){Mt.on(this._element,dG,t=>{if(t.key===rG){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Mt.on(window,hG,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Mt.on(this._element,uG,t=>{Mt.one(this._element,lG,i=>{if(!(this._element!==t.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ub),this._resetAdjustments(),this._scrollBar.reset(),Mt.trigger(this._element,Vb)})}_isAnimated(){return this._element.classList.contains(cG)}_triggerBackdropTransition(){if(Mt.trigger(this._element,aG).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(ux)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(ux),this._queueCallback(()=>{this._element.classList.remove(ux),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),r=i>0;if(r&&!t){const f=or()?"paddingLeft":"paddingRight";this._element.style[f]=`${i}px`}if(!r&&t){const f=or()?"paddingRight":"paddingLeft";this._element.style[f]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,i){return this.each(function(){const r=FI.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](i)}})}};Mt.on(document,fG,mG,function(e){const t=Kt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Mt.one(t,zb,f=>{f.defaultPrevented||Mt.one(t,Vb,()=>{Qh(this)&&this.focus()})});const i=Kt.findOne(vG);i&&ld.getInstance(i).hide(),ld.getOrCreateInstance(t).toggle(this)}),_c(ld),Ps(ld);const CG="navigation",dx="coreui.navigation",Yb=`.${dx}`,$b=".data-api",Xb={activeLinksExact:!0,groupsAutoCollapse:!0},SG={activeLinksExact:"boolean",groupsAutoCollapse:"(string|boolean)"},Hb="active",Fo="show",TG="nav-group",Kb="nav-group-toggle",EG=`click${Yb}${$b}`,PG=`load${Yb}${$b}`,jb=".nav-group",fx=".nav-group-items",Jb=".nav-group-toggle",wG=".nav-link",bG='[data-coreui="navigation"]';class rl extends $s{constructor(t,i){super(t),this._config=this._getConfig(i),this._setActiveLink(),this._addEventListeners(),Qc.set(t,dx,this)}static get Default(){return Xb}static get DATA_KEY(){return dx}static get DefaultType(){return SG}static get NAME(){return CG}_getConfig(t){return t={...Xb,...hr.getDataAttributes(this._element),...typeof t=="object"?t:{}},t}_setActiveLink(){for(const t of Array.from(this._element.querySelectorAll(wG))){if(t.classList.contains(Kb))continue;let i=String(window.location);const r=/\?.*=/,f=/\?./,S=/#./;(r.test(i)||f.test(i))&&(i=i.split("?")[0]),S.test(i)&&(i=i.split("#")[0]),this._config.activeLinksExact&&t.href===i&&(t.classList.add(Hb),Array.from(this._getParents(t,jb)).forEach(n=>{n.classList.add(Fo),n.setAttribute("aria-expanded",!0)})),!this._config.activeLinksExact&&t.href.startsWith(i)&&(t.classList.add(Hb),Array.from(this._getParents(t,jb)).forEach(n=>{n.classList.add(Fo),n.setAttribute("aria-expanded",!0)}))}}_getParents(t,i){const r=[];for(;t&&t!==document;t=t.parentNode)i?t.matches(i)&&r.push(t):r.push(t);return r}_getAllSiblings(t,i){const r=[];t=t.parentNode.firstChild;do t.nodeType!==3&&t.nodeType!==8&&(!i||i(t))&&r.push(t);while(t=t.nextSibling);return r}_getChildren(t,i){const r=[];for(;t;t=t.nextSibling)t.nodeType===1&&t!==i&&r.push(t);return r}_getSiblings(t,i){return this._getChildren(t.parentNode.firstChild,t).filter(i)}_slideDown(t){t.style.height="auto";const i=t.clientHeight;t.style.height="0px",setTimeout(()=>{t.style.height=`${i}px`},0),this._queueCallback(()=>{t.style.height="auto"},t,!0)}_slideUp(t,i){const r=t.clientHeight;t.style.height=`${r}px`,setTimeout(()=>{t.style.height="0px"},0),this._queueCallback(()=>{typeof i=="function"&&i()},t,!0)}_toggleGroupItems(t){let i=t.target;i.classList.contains(Kb)||(i=i.closest(Jb));const r=f=>!!(f.classList.contains(TG)&&f.classList.contains(Fo));if(this._config.groupsAutoCollapse===!0)for(const f of this._getSiblings(i.parentNode,r))this._slideUp(Kt.findOne(fx,f),()=>{f.classList.remove(Fo),f.setAttribute("aria-expanded",!1)});if(i.parentNode.classList.contains(Fo)){this._slideUp(Kt.findOne(fx,i.parentNode),()=>{i.parentNode.classList.remove(Fo),i.parentNode.setAttribute("aria-expanded",!1)});return}i.parentNode.classList.add(Fo),i.parentNode.setAttribute("aria-expanded",!0),this._slideDown(Kt.findOne(fx,i.parentNode))}_addEventListeners(){Mt.on(this._element,EG,Jb,t=>{t.preventDefault(),this._toggleGroupItems(t,this)})}static navigationInterface(t,i){const r=rl.getOrCreateInstance(t,i);if(typeof i=="string"){if(typeof r[i]>"u")throw new TypeError(`No method named "${i}"`);r[i]()}}static jQueryInterface(t){return this.each(function(){rl.navigationInterface(this,t)})}}Mt.on(window,PG,()=>{for(const e of Array.from(document.querySelectorAll(bG)))rl.navigationInterface(e)}),Ps(rl);const MG="offcanvas",Dn=".coreui.offcanvas",Zb=".data-api",AG=`load${Dn}${Zb}`,RG="Escape",Qb="show",qb="showing",_b="hiding",OG="offcanvas-backdrop",t2=".offcanvas.show",LG=`show${Dn}`,DG=`shown${Dn}`,FG=`hide${Dn}`,e2=`hidePrevented${Dn}`,i2=`hidden${Dn}`,IG=`resize${Dn}`,BG=`click${Dn}${Zb}`,NG=`keydown.dismiss${Dn}`,GG='[data-coreui-toggle="offcanvas"]',kG={backdrop:!0,keyboard:!0,scroll:!1},VG={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Fn extends $s{constructor(t,i){super(t,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return kG}static get DefaultType(){return VG}static get NAME(){return MG}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||Mt.trigger(this._element,LG,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new hd().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(qb);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Qb),this._element.classList.remove(qb),Mt.trigger(this._element,DG,{relatedTarget:t})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||Mt.trigger(this._element,FG).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(_b),this._backdrop.hide();const i=()=>{this._element.classList.remove(Qb,_b),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new hd().reset(),Mt.trigger(this._element,i2)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){Mt.trigger(this._element,e2);return}this.hide()},i=!!this._config.backdrop;return new lx({className:OG,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?t:null})}_initializeFocusTrap(){return new Bb({trapElement:this._element})}_addEventListeners(){Mt.on(this._element,NG,t=>{if(t.key===RG){if(this._config.keyboard){this.hide();return}Mt.trigger(this._element,e2)}})}static jQueryInterface(t){return this.each(function(){const i=Fn.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t](this)}})}}Mt.on(document,BG,GG,function(e){const t=Kt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),wa(this))return;Mt.one(t,i2,()=>{Qh(this)&&this.focus()});const i=Kt.findOne(t2);i&&i!==t&&Fn.getInstance(i).hide(),Fn.getOrCreateInstance(t).toggle(this)}),Mt.on(window,AG,()=>{for(const e of Kt.find(t2))Fn.getOrCreateInstance(e).show()}),Mt.on(window,IG,()=>{for(const e of Kt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Fn.getOrCreateInstance(e).hide()}),_c(Fn),Ps(Fn);const s2={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},zG=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),UG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,WG=(e,t)=>{const i=e.nodeName.toLowerCase();return t.includes(i)?zG.has(i)?!!UG.test(e.nodeValue):!0:t.filter(r=>r instanceof RegExp).some(r=>r.test(i))};function YG(e,t,i){if(!e.length)return e;if(i&&typeof i=="function")return i(e);const f=new window.DOMParser().parseFromString(e,"text/html"),S=[].concat(...f.body.querySelectorAll("*"));for(const n of S){const x=n.nodeName.toLowerCase();if(!Object.keys(t).includes(x)){n.remove();continue}const s=[].concat(...n.attributes),a=[].concat(t["*"]||[],t[x]||[]);for(const g of s)WG(g,a)||n.removeAttribute(g.nodeName)}return f.body.innerHTML}const $G="TemplateFactory",XG={allowList:s2,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},HG={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},KG={entry:"(string|element|function|null)",selector:"(string|element)"};class jG extends rd{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return XG}static get DefaultType(){return HG}static get NAME(){return $G}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[f,S]of Object.entries(this._config.content))this._setContent(t,S,f);const i=t.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&i.classList.add(...r.split(" ")),i}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[i,r]of Object.entries(t))super._typeCheckConfig({selector:i,entry:r},KG)}_setContent(t,i,r){const f=Kt.findOne(r,t);if(f){if(i=this._resolvePossibleFunction(i),!i){f.remove();return}if(Ln(i)){this._putElementInTemplate(Pa(i),f);return}if(this._config.html){f.innerHTML=this._maybeSanitize(i);return}f.textContent=i}}_maybeSanitize(t){return this._config.sanitize?YG(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return ws(t,[this])}_putElementInTemplate(t,i){if(this._config.html){i.innerHTML="",i.append(t);return}i.textContent=t.textContent}}const JG="tooltip",ZG=new Set(["sanitize","allowList","sanitizeFn"]),cx="fade",QG="modal",av="show",qG=".tooltip-inner",r2=`.${QG}`,n2="hide.coreui.modal",ud="hover",vx="focus",_G="click",t7="manual",e7="hide",i7="hidden",s7="show",r7="shown",n7="inserted",a7="click",o7="focusin",h7="focusout",l7="mouseenter",u7="mouseleave",d7={AUTO:"auto",TOP:"top",RIGHT:or()?"left":"right",BOTTOM:"bottom",LEFT:or()?"right":"left"},f7={allowList:s2,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},c7={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Io extends $s{constructor(t,i){if(typeof rb>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return f7}static get DefaultType(){return c7}static get NAME(){return JG}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Mt.off(this._element.closest(r2),n2,this._hideModalHandler),this._element.getAttribute("data-coreui-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-coreui-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=Mt.trigger(this._element,this.constructor.eventName(s7)),r=(ob(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!r)return;this._disposePopper();const f=this._getTipElement();this._element.setAttribute("aria-describedby",f.getAttribute("id"));const{container:S}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(S.append(f),Mt.trigger(this._element,this.constructor.eventName(n7))),this._popper=this._createPopper(f),f.classList.add(av),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))Mt.on(x,"mouseover",qc);const n=()=>{Mt.trigger(this._element,this.constructor.eventName(r7)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(n,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Mt.trigger(this._element,this.constructor.eventName(e7)).defaultPrevented)return;if(this._getTipElement().classList.remove(av),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))Mt.off(f,"mouseover",qc);this._activeTrigger[_G]=!1,this._activeTrigger[vx]=!1,this._activeTrigger[ud]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Mt.trigger(this._element,this.constructor.eventName(i7)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const i=this._getTemplateFactory(t).toHtml();if(!i)return null;i.classList.remove(cx,av),i.classList.add(`bs-${this.constructor.NAME}-auto`);const r=eN(this.constructor.NAME).toString();return i.setAttribute("id",r),this._isAnimated()&&i.classList.add(cx),i}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new jG({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[qG]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-coreui-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cx)}_isShown(){return this.tip&&this.tip.classList.contains(av)}_createPopper(t){const i=ws(this._config.placement,[this,t,this._element]),r=d7[i.toUpperCase()];return j0(this._element,t,this._getPopperConfig(r))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(i=>Number.parseInt(i,10)):typeof t=="function"?i=>t(i,this._element):t}_resolvePossibleFunction(t){return ws(t,[this._element])}_getPopperConfig(t){const i={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...i,...ws(this._config.popperConfig,[i])}}_setListeners(){const t=this._config.trigger.split(" ");for(const i of t)if(i==="click")Mt.on(this._element,this.constructor.eventName(a7),this._config.selector,r=>{this._initializeOnDelegatedTarget(r).toggle()});else if(i!==t7){const r=i===ud?this.constructor.eventName(l7):this.constructor.eventName(o7),f=i===ud?this.constructor.eventName(u7):this.constructor.eventName(h7);Mt.on(this._element,r,this._config.selector,S=>{const n=this._initializeOnDelegatedTarget(S);n._activeTrigger[S.type==="focusin"?vx:ud]=!0,n._enter()}),Mt.on(this._element,f,this._config.selector,S=>{const n=this._initializeOnDelegatedTarget(S);n._activeTrigger[S.type==="focusout"?vx:ud]=n._element.contains(S.relatedTarget),n._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Mt.on(this._element.closest(r2),n2,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-coreui-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,i){clearTimeout(this._timeout),this._timeout=setTimeout(t,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const i=hr.getDataAttributes(this._element);for(const r of Object.keys(i))ZG.has(r)&&delete i[r];return t={...i,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Pa(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[i,r]of Object.entries(this._config))this.constructor.Default[i]!==r&&(t[i]=r);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const i=Io.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Ps(Io);const v7="popover",p7=".popover-header",g7=".popover-body",m7={...Io.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},x7={...Io.DefaultType,content:"(null|string|element|function)"};class ov extends Io{static get Default(){return m7}static get DefaultType(){return x7}static get NAME(){return v7}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[p7]:this._getTitle(),[g7]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const i=ov.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Ps(ov);const y7="scrollspy",px=".coreui.scrollspy",C7=".data-api",S7=`activate${px}`,a2=`click${px}`,T7=`load${px}${C7}`,E7="dropdown-item",nl="active",P7='[data-coreui-spy="scroll"]',gx="[href]",w7=".nav, .list-group",o2=".nav-link",b7=`${o2}, .nav-item > ${o2}, .list-group-item`,M7=".dropdown",A7=".dropdown-toggle",R7={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},O7={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dd extends $s{constructor(t,i){super(t,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return R7}static get DefaultType(){return O7}static get NAME(){return y7}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Pa(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(i=>Number.parseFloat(i))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Mt.off(this._config.target,a2),Mt.on(this._config.target,a2,gx,t=>{const i=this._observableSections.get(t.target.hash);if(i){t.preventDefault();const r=this._rootElement||window,f=i.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:f,behavior:"smooth"});return}r.scrollTop=f}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),t)}_observerCallback(t){const i=n=>this._targetLinks.get(`#${n.target.id}`),r=n=>{this._previousScrollData.visibleEntryTop=n.target.offsetTop,this._process(i(n))},f=(this._rootElement||document.documentElement).scrollTop,S=f>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=f;for(const n of t){if(!n.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(n));continue}const x=n.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(S&&x){if(r(n),!f)return;continue}!S&&!x&&r(n)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Kt.find(gx,this._config.target);for(const i of t){if(!i.hash||wa(i))continue;const r=Kt.findOne(decodeURI(i.hash),this._element);Qh(r)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,r))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(nl),this._activateParents(t),Mt.trigger(this._element,S7,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(E7)){Kt.findOne(A7,t.closest(M7)).classList.add(nl);return}for(const i of Kt.parents(t,w7))for(const r of Kt.prev(i,b7))r.classList.add(nl)}_clearActiveClass(t){t.classList.remove(nl);const i=Kt.find(`${gx}.${nl}`,t);for(const r of i)r.classList.remove(nl)}static jQueryInterface(t){return this.each(function(){const i=dd.getOrCreateInstance(this,t);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Mt.on(window,T7,()=>{for(const e of Kt.find(P7))dd.getOrCreateInstance(e)}),Ps(dd);const L7="sidebar",al=".coreui.sidebar",h2=".data-api",l2={},D7={},F7="sidebar-backdrop",mx="hide",xx="show",yx="sidebar-narrow",I7="sidebar-overlaid",Cx="sidebar-narrow-unfoldable",B7=`hide${al}`,N7=`hidden${al}`,G7="resize",k7=`show${al}`,V7=`shown${al}`,hv=`click${al}${h2}`,z7=`load${al}${h2}`,U7='[data-coreui-close="sidebar"]',W7="[data-coreui-toggle]",u2=".sidebar";class ol extends $s{constructor(t,i){super(t),this._config=this._getConfig(i),this._show=this._isVisible(),this._mobile=this._isMobile(),this._overlaid=this._isOverlaid(),this._narrow=this._isNarrow(),this._unfoldable=this._isUnfoldable(),this._backdrop=this._initializeBackDrop(),this._addEventListeners()}static get Default(){return l2}static get DefaultType(){return D7}static get NAME(){return L7}show(){Mt.trigger(this._element,k7),this._element.classList.contains(mx)&&this._element.classList.remove(mx),this._isMobile()&&(this._element.classList.add(xx),this._backdrop.show(),new hd().hide());const t=()=>{this._isVisible()===!0&&(this._show=!0,(this._isMobile()||this._isOverlaid())&&this._addClickOutListener(),Mt.trigger(this._element,V7))};this._queueCallback(t,this._element,!0)}hide(){Mt.trigger(this._element,B7),this._element.classList.contains(xx)&&this._element.classList.remove(xx),this._isMobile()?(this._backdrop.hide(),new hd().reset()):this._element.classList.add(mx);const t=()=>{this._isVisible()===!1&&(this._show=!1,(this._isMobile()||this._isOverlaid())&&this._removeClickOutListener(),Mt.trigger(this._element,N7))};this._queueCallback(t,this._element,!0)}toggle(){if(this._isVisible()){this.hide();return}this.show()}narrow(){this._isMobile()||(this._addClassName(yx),this._narrow=!0)}unfoldable(){this._isMobile()||(this._addClassName(Cx),this._unfoldable=!0)}reset(){this._isMobile()||(this._narrow&&(this._element.classList.remove(yx),this._narrow=!1),this._unfoldable&&(this._element.classList.remove(Cx),this._unfoldable=!1))}toggleNarrow(){if(this._narrow){this.reset();return}this.narrow()}toggleUnfoldable(){if(this._unfoldable){this.reset();return}this.unfoldable()}_getConfig(t){return t={...l2,...hr.getDataAttributes(this._element),...typeof t=="object"?t:{}},t}_initializeBackDrop(){return new lx({className:F7,isVisible:this._isMobile(),isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_isMobile(){return!!window.getComputedStyle(this._element,null).getPropertyValue("--cui-is-mobile")}_isNarrow(){return this._element.classList.contains(yx)}_isOverlaid(){return this._element.classList.contains(I7)}_isUnfoldable(){return this._element.classList.contains(Cx)}_isVisible(){const t=this._element.getBoundingClientRect();return t.top>=0&&t.left>=0&&Math.floor(t.bottom)<=(window.innerHeight||document.documentElement.clientHeight)&&Math.floor(t.right)<=(window.innerWidth||document.documentElement.clientWidth)}_addClassName(t){this._element.classList.add(t)}_clickOutListener(t,i){t.target.closest(u2)===null&&(t.preventDefault(),t.stopPropagation(),i.hide())}_addClickOutListener(){Mt.on(document,hv,t=>{this._clickOutListener(t,this)})}_removeClickOutListener(){Mt.off(document,hv)}_addEventListeners(){this._mobile&&this._show&&this._addClickOutListener(),this._overlaid&&this._show&&this._addClickOutListener(),Mt.on(this._element,hv,W7,t=>{t.preventDefault();const i=hr.getDataAttribute(t.target,"toggle");i==="narrow"&&this.toggleNarrow(),i==="unfoldable"&&this.toggleUnfoldable()}),Mt.on(this._element,hv,U7,t=>{t.preventDefault(),this.hide()}),Mt.on(window,G7,()=>{this._isMobile()&&this._isVisible()&&(this.hide(),this._backdrop=this._initializeBackDrop())})}static sidebarInterface(t,i){const r=ol.getOrCreateInstance(t,i);if(typeof i=="string"){if(typeof r[i]>"u")throw new TypeError(`No method named "${i}"`);r[i]()}}static jQueryInterface(t){return this.each(function(){ol.sidebarInterface(this,t)})}}Mt.on(window,z7,()=>{for(const e of Array.from(document.querySelectorAll(u2)))ol.sidebarInterface(e)}),Ps(ol);const Y7="tab",Bo=".coreui.tab",$7=`hide${Bo}`,X7=`hidden${Bo}`,H7=`show${Bo}`,K7=`shown${Bo}`,j7=`click${Bo}`,J7=`keydown${Bo}`,Z7=`load${Bo}`,Q7="ArrowLeft",d2="ArrowRight",q7="ArrowUp",f2="ArrowDown",Sx="Home",c2="End",No="active",v2="fade",Tx="show",_7="dropdown",tk=".dropdown-toggle",ek=".dropdown-menu",Ex=":not(.dropdown-toggle)",ik='.list-group, .nav, [role="tablist"]',sk=".nav-item, .list-group-item",rk=`.nav-link${Ex}, .list-group-item${Ex}, [role="tab"]${Ex}`,p2='[data-coreui-toggle="tab"], [data-coreui-toggle="pill"], [data-coreui-toggle="list"]',Px=`${rk}, ${p2}`,nk=`.${No}[data-coreui-toggle="tab"], .${No}[data-coreui-toggle="pill"], .${No}[data-coreui-toggle="list"]`;class Go extends $s{constructor(t){super(t),this._parent=this._element.closest(ik),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Mt.on(this._element,J7,i=>this._keydown(i)))}static get NAME(){return Y7}show(){const t=this._element;if(this._elemIsActive(t))return;const i=this._getActiveElem(),r=i?Mt.trigger(i,$7,{relatedTarget:t}):null;Mt.trigger(t,H7,{relatedTarget:i}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}_activate(t,i){if(!t)return;t.classList.add(No),this._activate(Kt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Tx);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),Mt.trigger(t,K7,{relatedTarget:i})};this._queueCallback(r,t,t.classList.contains(v2))}_deactivate(t,i){if(!t)return;t.classList.remove(No),t.blur(),this._deactivate(Kt.getElementFromSelector(t));const r=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Tx);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),Mt.trigger(t,X7,{relatedTarget:i})};this._queueCallback(r,t,t.classList.contains(v2))}_keydown(t){if(![Q7,d2,q7,f2,Sx,c2].includes(t.key))return;t.stopPropagation(),t.preventDefault();const i=this._getChildren().filter(f=>!wa(f));let r;if([Sx,c2].includes(t.key))r=i[t.key===Sx?0:i.length-1];else{const f=[d2,f2].includes(t.key);r=Q0(i,t.target,f,!0)}r&&(r.focus({preventScroll:!0}),Go.getOrCreateInstance(r).show())}_getChildren(){return Kt.find(Px,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,i){this._setAttributeIfNotExists(t,"role","tablist");for(const r of i)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const i=this._elemIsActive(t),r=this._getOuterElement(t);t.setAttribute("aria-selected",i),r!==t&&this._setAttributeIfNotExists(r,"role","presentation"),i||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const i=Kt.getElementFromSelector(t);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,i){const r=this._getOuterElement(t);if(!r.classList.contains(_7))return;const f=(S,n)=>{const x=Kt.findOne(S,r);x&&x.classList.toggle(n,i)};f(tk,No),f(ek,Tx),r.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(t,i,r){t.hasAttribute(i)||t.setAttribute(i,r)}_elemIsActive(t){return t.classList.contains(No)}_getInnerElement(t){return t.matches(Px)?t:Kt.findOne(Px,t)}_getOuterElement(t){return t.closest(sk)||t}static jQueryInterface(t){return this.each(function(){const i=Go.getOrCreateInstance(this);if(typeof t=="string"){if(i[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);i[t]()}})}}Mt.on(document,j7,p2,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!wa(this)&&Go.getOrCreateInstance(this).show()}),Mt.on(window,Z7,()=>{for(const e of Kt.find(nk))Go.getOrCreateInstance(e)}),Ps(Go);const ak="toast",Ma=".coreui.toast",ok=`mouseover${Ma}`,hk=`mouseout${Ma}`,lk=`focusin${Ma}`,uk=`focusout${Ma}`,dk=`hide${Ma}`,fk=`hidden${Ma}`,ck=`show${Ma}`,vk=`shown${Ma}`,pk="fade",g2="hide",lv="show",uv="showing",gk={animation:"boolean",autohide:"boolean",delay:"number"},mk={animation:!0,autohide:!0,delay:5e3};let wx=class II extends $s{constructor(t,i){super(t,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return mk}static get DefaultType(){return gk}static get NAME(){return ak}show(){if(Mt.trigger(this._element,ck).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(pk);const i=()=>{this._element.classList.remove(uv),Mt.trigger(this._element,vk),this._maybeScheduleHide()};this._element.classList.remove(g2),sd(this._element),this._element.classList.add(lv,uv),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||Mt.trigger(this._element,dk).defaultPrevented)return;const i=()=>{this._element.classList.add(g2),this._element.classList.remove(uv,lv),Mt.trigger(this._element,fk)};this._element.classList.add(uv),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(lv),super.dispose()}isShown(){return this._element.classList.contains(lv)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,i){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){Mt.on(this._element,ok,t=>this._onInteraction(t,!0)),Mt.on(this._element,hk,t=>this._onInteraction(t,!1)),Mt.on(this._element,lk,t=>this._onInteraction(t,!0)),Mt.on(this._element,uk,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const i=II.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](this)}})}};_c(wx),Ps(wx);const dv=Object.freeze(Object.defineProperty({__proto__:null,Alert:nd,Button:sx,Carousel:el,Collapse:ox,Dropdown:wr,Modal:ld,Navigation:rl,Offcanvas:Fn,Popover:ov,ScrollSpy:dd,Sidebar:ol,Tab:Go,Toast:wx,Tooltip:Io},Symbol.toStringTag,{value:"Module"})),m2=vi({name:"CCloseButton",props:{disabled:Boolean,white:Boolean},emits:["click"],setup(e,{emit:t}){const i=()=>{e.disabled||t("click")};return()=>ce("button",{type:"button",class:["btn","btn-close",{"btn-close-white":e.white},e.disabled],"aria-label":"Close",disabled:e.disabled,onClick:i})}}),xk={type:String,validator:e=>["rounded","rounded-top","rounded-end","rounded-bottom","rounded-start","rounded-circle","rounded-pill","rounded-0","rounded-1","rounded-2","rounded-3"].includes(e)},ko={type:String,validator:e=>["primary","secondary","success","danger","warning","info","dark","light","link","transparent"].includes(e)},yk={type:String,validator:e=>["primary","secondary","success","danger","warning","info","dark","light","white","muted","high-emphasis","medium-emphasis","disabled","high-emphasis-inverse","medium-emphasis-inverse","disabled-inverse"].includes(e)},Ck=vi({name:"CButton",props:{active:Boolean,color:ko,component:{type:String,default:"button"},disabled:Boolean,href:String,shape:xk,size:{type:String,validator:e=>["sm","lg"].includes(e)},type:{type:String,default:"button",validator:e=>["button","submit","reset"].includes(e)},variant:{type:String,validator:e=>["ghost","outline"].includes(e)}},emits:["click"],setup(e,{emit:t,slots:i}){const r=f=>{e.disabled||t("click",f)};return()=>ce(e.component,{class:["btn",e.variant?`btn-${e.variant}-${e.color}`:`btn-${e.color}`,{[`btn-${e.size}`]:e.size,active:e.active,disabled:e.disabled},e.shape],disabled:e.disabled&&e.component!=="a",...e.component==="a"&&e.disabled&&{"aria-disabled":!0,tabIndex:-1},...e.component==="a"&&e.href&&{href:e.href},...e.component==="button"&&{type:e.type},onClick:r},i.default&&i.default())}}),x2=vi({name:"CCard",props:{color:ko,textColor:yk},setup(e,{slots:t}){return()=>ce("div",{class:["card",{[`bg-${e.color}`]:e.color,[`text-${e.textColor}`]:e.textColor}]},t.default&&t.default())}}),y2=vi({name:"CCardBody",setup(e,{slots:t}){return()=>ce("div",{class:"card-body"},t.default&&t.default())}}),Sk=vi({name:"CLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},emits:["click"],setup(e,{slots:t,emit:i}){const r=()=>{i("click",e.href)};return()=>ce(e.component,{class:[{active:e.active,disabled:e.disabled}],...e.active&&{"aria-current":"page"},...e.component==="a"&&e.disabled&&{"aria-disabled":!0,tabIndex:-1},...(e.component==="a"||e.component==="button")&&{onClick:r},href:e.href},t.default&&t.default())}}),bx=vi({name:"CFormFeedback",props:{component:{type:String,default:"div"},invalid:Boolean,tooltip:Boolean,valid:Boolean},setup(e,{slots:t}){return()=>ce(e.component,{class:[{[`invalid-${e.tooltip?"tooltip":"feedback"}`]:e.invalid,[`valid-${e.tooltip?"tooltip":"feedback"}`]:e.valid}]},t.default&&t.default())}}),C2=vi({name:"CFormControlValidation",inheritAttrs:!1,props:{describedby:String,feedback:String,feedbackInvalid:String,feedbackValid:String,invalid:Boolean,tooltipFeedback:Boolean,valid:Boolean},setup(e,{slots:t}){return()=>[e.feedback&&(e.valid||e.invalid)&&ce(bx,{...e.invalid&&{id:e.describedby},invalid:e.invalid,tooltip:e.tooltipFeedback,valid:e.valid},{default:()=>t.feedback&&t.feedback()||e.feedback}),(e.feedbackInvalid||t.feedbackInvalid)&&ce(bx,{id:e.describedby,invalid:!0,tooltip:e.tooltipFeedback},{default:()=>t.feedbackInvalid&&t.feedbackInvalid()||e.feedbackInvalid}),(e.feedbackValid||t.feedbackValid)&&ce(bx,{tooltip:e.tooltipFeedback,valid:!0},{default:()=>t.feedbackValid&&t.feedbackValid()||e.feedbackValid})]}}),S2=vi({name:"CFormLabel",props:{customClassName:[Array,String]},setup(e,{slots:t}){return()=>ce("label",{class:e.customClassName??"form-label"},t.default&&t.default())}}),Tk=vi({name:"CFormFloating",setup(e,{slots:t}){return()=>ce("div",{class:"form-floating"},t.default&&t.default())}}),T2=vi({name:"CFormText",props:{component:{type:String,default:"div"}},setup(e,{slots:t}){return()=>ce(e.component,{class:"form-text"},t.default&&t.default())}});vi({name:"CFormControlWrapper",inheritAttrs:!1,props:{...C2.props,floatingLabel:String,id:String,label:String,text:String},setup(e,{slots:t}){const i=()=>ce(C2,{describedby:e.describedby,feedback:e.feedback,feedbackInvalid:e.feedbackInvalid,feedbackValid:e.feedbackValid,floatingLabel:e.floatingLabel,invalid:e.invalid,tooltipFeedback:e.tooltipFeedback,valid:e.valid},{...t.feedback&&{feedback:()=>t.feedback&&t.feedback()},...t.feedbackInvalid&&{feedbackInvalid:()=>t.feedbackInvalid&&t.feedbackInvalid()},...t.feedbackValid&&{feedbackValid:()=>t.feedbackInvalid&&t.feedbackInvalid()}});return()=>e.floatingLabel?ce(Tk,()=>[t.default&&t.default(),ce(S2,{for:e.id},{default:()=>t.label&&t.label()||e.label||e.floatingLabel}),(e.text||t.text)&&ce(T2,{id:e.describedby},{default:()=>t.text&&t.text()||e.text}),i()]):[(e.label||t.label)&&ce(S2,{for:e.id},{default:()=>t.label&&t.label()||e.label}),t.default&&t.default(),(e.text||t.text)&&ce(T2,{id:e.describedby},{default:()=>t.text&&t.text()||e.text}),i()]}});const E2=vi({name:"CNavLink",props:{active:Boolean,component:{type:String,default:"a"},disabled:Boolean,href:String},setup(e,{slots:t}){return()=>ce(Sk,{class:"nav-link",active:e.active,component:e.component,disabled:e.disabled,href:e.href},{default:()=>t.default&&t.default()})}});vi({name:"CNavItem",props:{...E2.props},setup(e,{slots:t}){return()=>ce("li",{class:"nav-item"},e.href?ce(E2,{active:e.active,component:e.component,disabled:e.disabled,href:e.href},{default:()=>t.default&&t.default()}):t.default&&t.default())}});const P2=vi({name:"CProgressBar",props:{animated:Boolean,color:ko,value:{type:Number,default:0},variant:{type:String,validator:e=>e==="striped"}},setup(e,{slots:t}){return()=>ce("div",{class:["progress-bar",`bg-${e.color}`,{[`progress-bar-${e.variant}`]:e.variant,"progress-bar-animated":e.animated}],role:"progressbar",style:`width: ${e.value}%`,"aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":"100"},t.default&&t.default())}}),w2=vi({name:"CProgress",props:{height:Number,thin:Boolean,white:Boolean,...P2.props},setup(e,{slots:t}){return()=>ce("div",{class:["progress",{"progress-thin":e.thin,"progress-white":e.white}],...(e.height,{style:`height: ${e.height}px`})},e.value?ce(P2,{value:e.value,animated:e.animated,color:e.color,variant:e.variant},t.default&&t.default()):t.default&&t.default())}});vi({name:"CToastClose",props:{component:String,...m2.props},emits:["close"],setup(e,{slots:t,emit:i}){const r=ha("updateVisible"),f=()=>{i("close"),r(!1)};return()=>e.component?ce(e.component,{onClick:()=>{f()}},()=>t.default&&t.default()):ce(m2,{...e,onClick:()=>{f()}})}});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function b2(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ek(e){var t,i;return b2(e)===!1?!1:(t=e.constructor,t===void 0?!0:(i=t.prototype,!(b2(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},fd.apply(this,arguments)}function M2(e,t){if(e==null)return{};var i,r,f={},S=Object.keys(e);for(r=0;r<S.length;r++)t.indexOf(i=S[r])>=0||(f[i]=e[i]);return f}const Pk={silent:!1,logLevel:"warn"},wk=["validator"],A2=Object.prototype,R2=A2.toString,bk=A2.hasOwnProperty,O2=/^\s*function (\w+)/;function L2(e){var t;const i=(t=e==null?void 0:e.type)!==null&&t!==void 0?t:e;if(i){const r=i.toString().match(O2);return r?r[1]:""}return""}const Vo=Ek;let Ci=e=>e;const hl=(e,t)=>bk.call(e,t),Mk=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e},ll=Array.isArray||function(e){return R2.call(e)==="[object Array]"},ul=e=>R2.call(e)==="[object Function]",fv=(e,t)=>Vo(e)&&hl(e,"_vueTypes_name")&&(!t||e._vueTypes_name===t),D2=e=>Vo(e)&&(hl(e,"type")||["_vueTypes_name","validator","default","required"].some(t=>hl(e,t)));function Mx(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function zo(e,t,i=!1){let r,f=!0,S="";r=Vo(e)?e:{type:e};const n=fv(r)?r._vueTypes_name+" - ":"";if(D2(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&t==null)return f;ll(r.type)?(f=r.type.some(x=>zo(x,t,!0)===!0),S=r.type.map(x=>L2(x)).join(" or ")):(S=L2(r),f=S==="Array"?ll(t):S==="Object"?Vo(t):S==="String"||S==="Number"||S==="Boolean"||S==="Function"?function(x){if(x==null)return"";const s=x.constructor.toString().match(O2);return s?s[1].replace(/^Async/,""):""}(t)===S:t instanceof r.type)}if(!f){const x=`${n}value "${t}" should be of type "${S}"`;return i===!1?(Ci(x),!1):x}if(hl(r,"validator")&&ul(r.validator)){const x=Ci,s=[];if(Ci=a=>{s.push(a)},f=r.validator(t),Ci=x,!f){const a=(s.length>1?"* ":"")+s.join(`
* `);return s.length=0,i===!1?(Ci(a),f):a}}return f}function Xs(e,t){const i=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(f){return f===void 0?this.type===Boolean||Array.isArray(this.type)&&this.type.includes(Boolean)?void(this.default=void 0):(hl(this,"default")&&delete this.default,this):ul(f)||zo(this,f,!0)===!0?(this.default=ll(f)?()=>[...f]:Vo(f)?()=>Object.assign({},f):f,this):(Ci(`${this._vueTypes_name} - invalid default value: "${f}"`),this)}}}),{validator:r}=i;return ul(r)&&(i.validator=Mx(r,i)),i}function _r(e,t){const i=Xs(e,t);return Object.defineProperty(i,"validate",{value(r){return ul(this.validator)&&Ci(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=Mx(r,this),this}})}function F2(e,t,i){const r=function(s){const a={};return Object.getOwnPropertyNames(s).forEach(g=>{a[g]=Object.getOwnPropertyDescriptor(s,g)}),Object.defineProperties({},a)}(t);if(r._vueTypes_name=e,!Vo(i))return r;const{validator:f}=i,S=M2(i,wk);if(ul(f)){let{validator:s}=r;s&&(s=(x=(n=s).__original)!==null&&x!==void 0?x:n),r.validator=Mx(s?function(a){return s.call(this,a)&&f.call(this,a)}:f,r)}var n,x;return Object.assign(r,S)}function cv(e){return e.replace(/^(?!\s*$)/gm,"  ")}const Ak=()=>_r("any",{}),Rk=()=>_r("function",{type:Function}),I2=()=>_r("boolean",{type:Boolean}),Ok=()=>_r("string",{type:String}),Lk=()=>_r("number",{type:Number}),Dk=()=>_r("array",{type:Array}),Fk=()=>_r("object",{type:Object}),Ik=()=>Xs("integer",{type:Number,validator(e){const t=Mk(e);return t===!1&&Ci(`integer - "${e}" is not an integer`),t}}),Bk=()=>Xs("symbol",{validator(e){const t=typeof e=="symbol";return t===!1&&Ci(`symbol - invalid value "${e}"`),t}}),Nk=()=>Object.defineProperty({type:null,validator(e){const t=e===null;return t===!1&&Ci("nullable - value should be null"),t}},"_vueTypes_name",{value:"nullable"});function Gk(e,t="custom validation failed"){if(typeof e!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Xs(e.name||"<<anonymous function>>",{type:null,validator(i){const r=e(i);return r||Ci(`${this._vueTypes_name} - ${t}`),r}})}function kk(e){if(!ll(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const t=`oneOf - value should be one of "${e.map(r=>typeof r=="symbol"?r.toString():r).join('", "')}".`,i={validator(r){const f=e.indexOf(r)!==-1;return f||Ci(t),f}};if(e.indexOf(null)===-1){const r=e.reduce((f,S)=>{if(S!=null){const n=S.constructor;f.indexOf(n)===-1&&f.push(n)}return f},[]);r.length>0&&(i.type=r)}return Xs("oneOf",i)}function Vk(e){if(!ll(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let t=!1,i=!1,r=[];for(let S=0;S<e.length;S+=1){const n=e[S];if(D2(n)){if(ul(n.validator)&&(t=!0),fv(n,"oneOf")&&n.type){r=r.concat(n.type);continue}if(fv(n,"nullable")){i=!0;continue}if(n.type===!0||!n.type){Ci('oneOfType - invalid usage of "true" and "null" as types.');continue}r=r.concat(n.type)}else r.push(n)}r=r.filter((S,n)=>r.indexOf(S)===n);const f=i===!1&&r.length>0?r:null;return Xs("oneOfType",t?{type:f,validator(S){const n=[],x=e.some(s=>{const a=zo(s,S,!0);return typeof a=="string"&&n.push(a),a===!0});return x||Ci(`oneOfType - provided value does not match any of the ${n.length} passed-in validators:
${cv(n.join(`
`))}`),x}}:{type:f})}function zk(e){return Xs("arrayOf",{type:Array,validator(t){let i="";const r=t.every(f=>(i=zo(e,f,!0),i===!0));return r||Ci(`arrayOf - value validation error:
${cv(i)}`),r}})}function Uk(e){return Xs("instanceOf",{type:e})}function Wk(e){return Xs("objectOf",{type:Object,validator(t){let i="";const r=Object.keys(t).every(f=>(i=zo(e,t[f],!0),i===!0));return r||Ci(`objectOf - value validation error:
${cv(i)}`),r}})}function Ax(e){const t=Object.keys(e),i=t.filter(f=>{var S;return!((S=e[f])===null||S===void 0||!S.required)}),r=Xs("shape",{type:Object,validator(f){if(!Vo(f))return!1;const S=Object.keys(f);if(i.length>0&&i.some(n=>S.indexOf(n)===-1)){const n=i.filter(x=>S.indexOf(x)===-1);return Ci(n.length===1?`shape - required property "${n[0]}" is not defined.`:`shape - required properties "${n.join('", "')}" are not defined.`),!1}return S.every(n=>{if(t.indexOf(n)===-1)return this._vueTypes_isLoose===!0||(Ci(`shape - shape definition does not include a "${n}" property. Allowed keys: "${t.join('", "')}".`),!1);const x=zo(e[n],f[n],!0);return typeof x=="string"&&Ci(`shape - "${n}" property validation error:
 ${cv(x)}`),x===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const Yk=["name","validate","getter"],$k=(()=>{var e;return(e=class{static get any(){return Ak()}static get func(){return Rk().def(this.defaults.func)}static get bool(){return this.defaults.bool===void 0?I2():I2().def(this.defaults.bool)}static get string(){return Ok().def(this.defaults.string)}static get number(){return Lk().def(this.defaults.number)}static get array(){return Dk().def(this.defaults.array)}static get object(){return Fk().def(this.defaults.object)}static get integer(){return Ik().def(this.defaults.integer)}static get symbol(){return Bk()}static get nullable(){return Nk()}static extend(t){if(Ci("VueTypes.extend is deprecated. Use the ES6+ method instead. See https://dwightjack.github.io/vue-types/advanced/extending-vue-types.html#extending-namespaced-validators-in-es6 for details."),ll(t))return t.forEach(s=>this.extend(s)),this;const{name:i,validate:r=!1,getter:f=!1}=t,S=M2(t,Yk);if(hl(this,i))throw new TypeError(`[VueTypes error]: Type "${i}" already defined`);const{type:n}=S;if(fv(n))return delete S.type,Object.defineProperty(this,i,f?{get:()=>F2(i,n,S)}:{value(...s){const a=F2(i,n,S);return a.validator&&(a.validator=a.validator.bind(a,...s)),a}});let x;return x=f?{get(){const s=Object.assign({},S);return r?_r(i,s):Xs(i,s)},enumerable:!0}:{value(...s){const a=Object.assign({},S);let g;return g=r?_r(i,a):Xs(i,a),a.validator&&(g.validator=a.validator.bind(g,...s)),g},enumerable:!0},Object.defineProperty(this,i,x)}}).defaults={},e.sensibleDefaults=void 0,e.config=Pk,e.custom=Gk,e.oneOf=kk,e.instanceOf=Uk,e.oneOfType=Vk,e.arrayOf=zk,e.objectOf=Wk,e.shape=Ax,e.utils={validate:(t,i)=>zo(i,t,!0)===!0,toType:(t,i,r=!1)=>r?_r(t,i):Xs(t,i)},e})();function Xk(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var t;return(t=class extends $k{static get sensibleDefaults(){return fd({},this.defaults)}static set sensibleDefaults(i){this.defaults=i!==!1?fd({},i!==!0?i:e):{}}}).defaults=fd({},e),t}let ICt=class extends Xk(){};vi({name:"CWidgetStatsB",props:{color:ko,inverse:Boolean,progress:Ax({color:ko,value:{type:Number,default:0}}),text:String,title:String,value:{type:[Number,String],default:0}},setup(e,{slots:t}){return()=>ce(x2,{class:[{"text-high-emphasis-inverse":e.inverse}],color:e.color},()=>ce(y2,{class:"card-body"},()=>[(e.value||t.value)&&ce("div",{class:"fs-4 fw-semibold"},{default:()=>t.value&&t.value()||e.value}),(e.title||t.title)&&ce("div",{},{default:()=>t.title&&t.title()||e.title}),ce(w2,{class:"my-2",...e.progress&&e.progress.color&&{color:e.progress.color},height:4,...e.progress&&e.progress.value&&{value:e.progress.value},white:e.inverse}),(e.text||t.text)&&ce("small",{class:[e.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>t.text&&t.text()||e.text})]))}}),vi({name:"CWidgetStatsC",props:{color:ko,inverse:Boolean,progress:Ax({color:ko,value:{type:Number,default:0}}),title:String,value:{type:[Number,String],default:0}},setup(e,{slots:t}){return()=>ce(x2,{class:[{"text-white":e.inverse}],color:e.color},()=>ce(y2,{class:"card-body"},()=>[t.icon&&ce("div",{class:["text-end mb-4",e.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},t.icon&&t.icon()),(e.value||t.value)&&ce("div",{class:"fs-4 fw-semibold"},{default:()=>t.value&&t.value()||e.value}),(e.title||t.title)&&ce("div",{class:["text-uppercase fw-semibold small",e.inverse?"text-medium-emphasis-inverse":"text-medium-emphasis"]},{default:()=>t.title&&t.title()||e.title}),ce(w2,{class:"my-2",...e.progress&&e.progress.color&&{color:e.progress.color},height:4,...e.progress&&e.progress.value&&{value:e.progress.value},white:e.inverse})]))}});const he=JP("jigs",{state:()=>({room:{},playerName:"Blank",playerId:0,profileId:0,debug:0,leave:0,playerStats:[],playerSwitches:[],missionTitle:"Bob",missionHandlerDialog:`The Evil Wizard has stolen the Balls of Loveliness. 

Without the Balls there can be no loveliness across the land. 

Will you find my Balls?`,missionChoice:[{text:"Yes I will find your balls.",value:582},{text:"No I am not ready.",value:0}],missionValue:0,missionCompleteDialog:"",playerStorage:[],playerInventory:[],listBackpack:[],listStorage:[],playerQuests:[],backpackItem:0,item:0,npcArray:[],mobArray:[],bossesArray:[],rewardsArray:[],city:"Blank",gameState:"GamePhaser",playerGameState:"GamePhaser",playerState:"dormant",nodeID:0,nodeTitle:"Blank",userMapGrid:1,mapWidth:120,mapHeight:120,tiled:0,soundtrack:"blank",weapon:0,content:"Blank",npc:0,mobClick:"0",mobShoot:"0",tilesetArray_1:[],tilesetArray_2:[],tilesetArray_3:[],tilesetArray_4:[],tilesetArray_5:[],portalsArray:[],switchesArray:[],missionSwitchesArray:[],dialogueArray:[],firesArray:[],fireBarrelsArray:[],leversArray:[],machineArray:[],crystalArray:[],questsArray:[],foliosArray:[],folioClicked:0,wallsArray:[],cutscene:[],cutscenePosition:0}),getters:{finishedTodos(e){return e.todos.filter(t=>t.isFinished)},unfinishedTodos(e){return e.todos.filter(t=>!t.isFinished)},filteredTodos(e){return this.filter==="finished"?this.finishedTodos:this.filter==="unfinished"?this.unfinishedTodos:this.todos},hydrateState(e){return t=>this.hydrate(t)}},actions:{myInventory(){ze.get("/myinventory?_wrapper_format=drupal_ajax").then(e=>{this.divideInventory(e)})},divideInventory(e){this.playerInventory=e.data[0].value.playerInventory.items,this.listBackpack=[],this.listStorage=[];let t=0;for(;t<this.playerInventory.length;)this.playerInventory[t].location=="Backpack"&&this.listBackpack.push(this.playerInventory[t]),this.playerInventory[t].location=="Storage"&&this.listStorage.push(this.playerInventory[t]),t++}}}),zi=(e,t)=>{const i=e.__vccOpts||e;for(const[r,f]of t)i[r]=f;return i};function B2(e){let t=new Date(e*1e3).toISOString().substr(11,8);return t.indexOf("00:")===0?t.substr(3):t}const Hk={name:"AudioController",props:{autoPlay:{type:Boolean,default:!1},file:{type:String,default:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Louis-Emmanuel_Jadin_-_Nocturne_No._3_in_G_minor_-_2._Allegro_molto.ogg"},loop:{type:Boolean,default:!1}},data(){return{currentSeconds:0,durationSeconds:0,loaded:!1,looping:!1,playing:!1,previousVolume:35,showVolume:!1,volume:100}},computed:{currentSecondsConverted(){return B2(this.currentSeconds)},durationSecondsConverted(){return B2(this.durationSeconds)},muted(){return this.volume/100===0},percentComplete(){return parseInt(this.currentSeconds/this.durationSeconds*100)},progressStyle(){return{width:`${this.percentComplete}%`}},volumeTitle(){return`Volume (${this.volume}%)`}},watch:{playing(e){if(e)return this.$refs.audio.play();this.$refs.audio.pause()},volume(e){this.$refs.audio.volume=this.volume/100}},methods:{download(){this.$refs.audio.pause(),window.open(this.file,"download")},load(){if(this.$refs.audio.readyState>=2)return this.loaded=!0,this.durationSeconds=parseInt(this.$refs.audio.duration),this.playing=this.autoPlay;throw new Error("Failed to load sound file.")},mute(){if(this.muted)return this.volume=this.previousVolume;this.previousVolume=this.volume,this.volume=0},seek(e){if(!this.loaded)return;const t=e.target.getBoundingClientRect(),i=(e.clientX-t.left)/t.width;this.$refs.audio.currentTime=parseInt(this.$refs.audio.duration*i)},stop(){this.playing=!1,this.$refs.audio.currentTime=0},update(e){this.currentSeconds=parseInt(this.$refs.audio.currentTime)}},created(){this.looping=this.loop}},Kk={class:"audio-player"},jk={id:"audio",class:"audio-player-wrapper"},Jk={class:"audio-player-controls"},Zk={id:"stop"},Qk=[xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[xt("path",{fill:"currentColor",d:"M16,4.995v9.808C16,15.464,15.464,16,14.804,16H4.997C4.446,16,4,15.554,4,15.003V5.196C4,4.536,4.536,4,5.196,4h9.808C15.554,4,16,4.446,16,4.995z"})],-1)],qk={id:"play"},_k=["title"],tV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},eV={key:0,fill:"currentColor",d:"M15,10.001c0,0.299-0.305,0.514-0.305,0.514l-8.561,5.303C5.51,16.227,5,15.924,5,15.149V4.852c0-0.777,0.51-1.078,1.135-0.67l8.561,5.305C14.695,9.487,15,9.702,15,10.001z"},iV={key:1,fill:"currentColor",d:"M15,3h-2c-0.553,0-1,0.048-1,0.6v12.8c0,0.552,0.447,0.6,1,0.6h2c0.553,0,1-0.048,1-0.6V3.6C16,3.048,15.553,3,15,3z M7,3H5C4.447,3,4,3.048,4,3.6v12.8C4,16.952,4.447,17,5,17h2c0.553,0,1-0.048,1-0.6V3.6C8,3.048,7.553,3,7,3z"},sV={id:"mute"},rV={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},nV={key:0,fill:"currentColor",d:"M5.312,4.566C4.19,5.685-0.715,12.681,3.523,16.918c4.236,4.238,11.23-0.668,12.354-1.789c1.121-1.119-0.335-4.395-3.252-7.312C9.706,4.898,6.434,3.441,5.312,4.566z M14.576,14.156c-0.332,0.328-2.895-0.457-5.364-2.928C6.745,8.759,5.956,6.195,6.288,5.865c0.328-0.332,2.894,0.457,5.36,2.926C14.119,11.258,14.906,13.824,14.576,14.156zM15.434,5.982l1.904-1.906c0.391-0.391,0.391-1.023,0-1.414c-0.39-0.391-1.023-0.391-1.414,0L14.02,4.568c-0.391,0.391-0.391,1.024,0,1.414C14.41,6.372,15.043,6.372,15.434,5.982z M11.124,3.8c0.483,0.268,1.091,0.095,1.36-0.388l1.087-1.926c0.268-0.483,0.095-1.091-0.388-1.36c-0.482-0.269-1.091-0.095-1.36,0.388L10.736,2.44C10.468,2.924,10.642,3.533,11.124,3.8z M19.872,6.816c-0.267-0.483-0.877-0.657-1.36-0.388l-1.94,1.061c-0.483,0.268-0.657,0.878-0.388,1.36c0.268,0.483,0.877,0.657,1.36,0.388l1.94-1.061C19.967,7.907,20.141,7.299,19.872,6.816z"},aV={key:1,fill:"currentColor",d:"M14.201,9.194c1.389,1.883,1.818,3.517,1.559,3.777c-0.26,0.258-1.893-0.17-3.778-1.559l-5.526,5.527c4.186,1.838,9.627-2.018,10.605-2.996c0.925-0.922,0.097-3.309-1.856-5.754L14.201,9.194z M8.667,7.941c-1.099-1.658-1.431-3.023-1.194-3.26c0.233-0.234,1.6,0.096,3.257,1.197l1.023-1.025C9.489,3.179,7.358,2.519,6.496,3.384C5.568,4.31,2.048,9.261,3.265,13.341L8.667,7.941z M18.521,1.478c-0.39-0.391-1.023-0.391-1.414,0L1.478,17.108c-0.391,0.391-0.391,1.024,0,1.414c0.391,0.391,1.023,0.391,1.414,0l15.629-15.63C18.912,2.501,18.912,1.868,18.521,1.478z"},oV={id:"volume"},hV=["title"],lV=xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[xt("path",{fill:"currentColor",d:"M19,13.805C19,14.462,18.462,15,17.805,15H1.533c-0.88,0-0.982-0.371-0.229-0.822l16.323-9.055C18.382,4.67,19,5.019,19,5.9V13.805z"})],-1),uV=["loop","src"];function dV(e,t,i,r,f,S){const n=Zi("audio-player");return Ft(),Nt("div",Kk,[xt("div",jk,[ie(n,{file:"https://upload.wikimedia.org/wikipedia/commons/d/d6/Louis-Emmanuel_Jadin_-_Nocturne_No._3_in_G_minor_-_2._Allegro_molto.ogg"})]),xt("div",Jk,[xt("div",Zk,[xt("button",{onClick:t[0]||(t[0]=Vh((...x)=>S.stop&&S.stop(...x),["prevent"])),title:"Stop",class:"audio-player-control"},Qk)]),xt("div",qk,[xt("button",{onClick:t[1]||(t[1]=Vh(x=>f.playing=!f.playing,["prevent"])),title:f.playing?"Pause":"Play",class:"audio-player-control"},[(Ft(),Nt("svg",tV,[f.playing?(Ft(),Nt("path",iV)):(Ft(),Nt("path",eV))]))],8,_k)]),ys(xt("div",sV,[xt("button",{onClick:t[2]||(t[2]=Vh((...x)=>S.mute&&S.mute(...x),["prevent"])),class:"audio-player-control",title:"Mute"},[(Ft(),Nt("svg",rV,[S.muted?(Ft(),Nt("path",aV)):(Ft(),Nt("path",nV))]))])],512),[[Xu,!f.showVolume]]),xt("div",oV,[xt("button",{onClick:t[4]||(t[4]=Vh(()=>{},["prevent"])),onMouseenter:t[5]||(t[5]=x=>f.showVolume=!0),onMouseleave:t[6]||(t[6]=x=>f.showVolume=!1),title:S.volumeTitle,class:"audio-player-control"},[lV,ys(xt("input",{"onUpdate:modelValue":t[3]||(t[3]=x=>f.volume=x),class:"audio-player-volume",type:"range",min:"0",max:"100"},null,512),[[bo,f.volume,void 0,{lazy:!0,number:!0}],[Xu,f.showVolume]])],40,hV)])]),xt("audio",{loop:f.looping,ref:"audio",src:i.file,onTimeupdate:t[7]||(t[7]=(...x)=>S.update&&S.update(...x)),onLoadeddata:t[8]||(t[8]=(...x)=>S.load&&S.load(...x)),onPause:t[9]||(t[9]=x=>f.playing=!1),onPlay:t[10]||(t[10]=x=>f.playing=!0),preload:"auto",style:{display:"none"}},null,40,uV)])}const fV=zi(Hk,[["render",dV]]);var Rx=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};const cV={name:"CharacterGauge",setup(){return{jigs:Qe(he())}},data(){return{value:this.jigs.playerStats.health}},props:{val:{default:0},val2:{default:0},max:{default:100},size:{default:3},"bg-color":{type:String,default:"#eee"},"bar-color":{type:String,default:"#2196f3"},"bar-transition":{type:String,default:"all 0.5s ease"},"bar-border-radius":{type:Number,default:0},spacing:{type:Number,default:4},text:{type:String,default:""},"text-align":{type:String,default:"center"},"text-position":{type:String,default:"bottom"},"font-size":{type:Number,default:13},"text-fg-color":{type:String,default:"#222"}},computed:{pct(){var e=this.jigs.playerStats.health/this.max*100;return e=e.toFixed(2),Math.min(e,this.max)},pct2(){var e=this.jigs.playerStats.energy/this.max*100;return e=e.toFixed(2),Math.min(e,this.max)},size_px(){switch(this.size){case"tiny":return 2;case"small":return 4;case"medium":return 8;case"large":return 12;case"big":return 16;case"huge":return 32;case"massive":return 64}return Rx(this.size)?this.size:32},text_padding(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px/8),3),12)}return Rx(this.spacing)?this.spacing:4},text_font_size(){switch(this.size){case"tiny":case"small":case"medium":case"large":case"big":case"huge":case"massive":return Math.min(Math.max(Math.ceil(this.size_px*1.4),11),32)}return Rx(this.fontSize)?this.fontSize:13},progress_style(){var e={background:this.bgColor};return(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="relative",e["min-height"]=this.size_px+"px",e["z-index"]="-2"),this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),e},bar_style(){var e={background:this.barColor,width:this.pct+"%",height:this.size_px+"px",transition:this.barTransition};return this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="absolute",e.top="0",e.height="100%",e["min-height"]=this.size_px+"px",e["z-index"]="-1"),e},bar_style2(){var e={background:this.barColor,width:this.pct2+"%",height:this.size_px+"px",transition:this.barTransition};return this.barBorderRadius>0&&(e["border-radius"]=this.barBorderRadius+"px"),(this.textPosition=="middle"||this.textPosition=="inside")&&(e.position="absolute",e.top="0",e.height="100%",e["min-height"]=this.size_px+"px",e["z-index"]="-1"),e},text_style(){var e={color:this.textFgColor,"font-size":this.text_font_size+"px","text-align":this.textAlign};return(this.textPosition=="top"||this.textPosition=="middle"||this.textPosition=="inside")&&(e["padding-bottom"]=this.text_padding+"px"),(this.textPosition=="bottom"||this.textPosition=="middle"||this.textPosition=="inside")&&(e["padding-top"]=this.text_padding+"px"),e}}},vV={class:"character-gauge"},pV=xt("label",null,"Health",-1),gV={class:"gauge-value"},mV={class:"character-gauge"},xV=xt("label",null,"Energy",-1),yV={class:"gauge-value"};function CV(e,t,i,r,f,S){return Ft(),Nt("div",null,[xt("div",vV,[pV,xt("span",gV,Jt(this.jigs.playerStats.health),1),i.text.length>0&&e.textPosition=="top"?(Ft(),Nt("div",{key:0,class:"vue-simple-progress-text",style:xi(S.text_style)},Jt(i.text),5)):fe("",!0),xt("div",{class:"vue-simple-progress",style:xi(S.progress_style)},[i.text.length>0&&e.textPosition=="middle"?(Ft(),Nt("div",{key:0,class:"vue-simple-progress-text",style:xi(S.text_style)},Jt(i.text),5)):fe("",!0),i.text.length>0&&e.textPosition=="inside"?(Ft(),Nt("div",{key:1,style:xi([{position:"relative",left:"-9999px"},S.text_style])},Jt(i.text),5)):fe("",!0),xt("div",{class:"vue-simple-progress-bar",style:xi(S.bar_style)},[i.text.length>0&&e.textPosition=="inside"?(Ft(),Nt("div",{key:0,style:xi(S.text_style)},Jt(i.text),5)):fe("",!0)],4)],4),i.text.length>0&&e.textPosition=="bottom"?(Ft(),Nt("div",{key:1,class:"vue-simple-progress-text",style:xi(S.text_style)},Jt(i.text),5)):fe("",!0)]),xt("div",mV,[xV,xt("span",yV,Jt(this.jigs.playerStats.energy),1),i.text.length>0&&e.textPosition=="top"?(Ft(),Nt("div",{key:0,class:"vue-simple-progress-text",style:xi(S.text_style)},Jt(i.text),5)):fe("",!0),xt("div",{class:"vue-simple-progress",style:xi(S.progress_style)},[i.text.length>0&&e.textPosition=="middle"?(Ft(),Nt("div",{key:0,class:"vue-simple-progress-text",style:xi(S.text_style)},Jt(i.text),5)):fe("",!0),i.text.length>0&&e.textPosition=="inside"?(Ft(),Nt("div",{key:1,style:xi([{position:"relative",left:"-9999px"},S.text_style])},Jt(i.text),5)):fe("",!0),xt("div",{class:"vue-simple-progress-bar",style:xi(S.bar_style2)},[i.text.length>0&&e.textPosition=="inside"?(Ft(),Nt("div",{key:0,style:xi(S.text_style)},Jt(i.text),5)):fe("",!0)],4),i.text.length>0&&e.textPosition=="bottom"?(Ft(),Nt("div",{key:2,class:"vue-simple-progress-text",style:xi(S.text_style)},Jt(i.text),5)):fe("",!0)],4)])])}const SV=zi(cV,[["render",CV]]),TV={name:"CharacterStats",setup(){return{jigs:Qe(he())}},data(){return{value:this.jigs.playerStats.health}}},EV={class:"character-stats"},PV={class:"character-gauge"},wV=xt("label",null,"Intelligence",-1),bV={class:"gauge-value"},MV={class:"character-gauge"},AV=xt("label",null,"Strength",-1),RV={class:"gauge-value"},OV={class:"character-gauge"},LV=xt("label",null,"Dexterity",-1),DV={class:"gauge-value"},FV={class:"character-gauge"},IV=xt("label",null,"Endurance",-1),BV={class:"gauge-value"},NV={class:"character-gauge"},GV=xt("label",null,"Charisma",-1),kV={class:"gauge-value"},VV={class:"character-gauge"},zV=xt("label",null,"PSI",-1),UV={class:"gauge-value"},WV={class:"character-stats__level"},YV={class:"character-gauge"},$V=xt("label",null,"Level",-1),XV={class:"gauge-value"},HV={class:"character-gauge"},KV=xt("label",null,"XP",-1),jV={class:"gauge-value"},JV={class:"character-stats__xp"},ZV={class:"character-gauge"},QV=xt("label",null,"Credits",-1),qV={class:"gauge-value"},_V={class:"character-gauge"},tz=xt("label",null,"Nanites",-1),ez={class:"gauge-value"};function iz(e,t,i,r,f,S){return Ft(),Nt(Le,null,[xt("div",EV,[xt("div",PV,[wV,xt("span",bV,Jt(this.jigs.playerStats.intelligence),1)]),xt("div",MV,[AV,xt("span",RV,Jt(this.jigs.playerStats.strength),1)]),xt("div",OV,[LV,xt("span",DV,Jt(this.jigs.playerStats.dexterity),1)]),xt("div",FV,[IV,xt("span",BV,Jt(this.jigs.playerStats.endurance),1)]),xt("div",NV,[GV,xt("span",kV,Jt(this.jigs.playerStats.charisma),1)]),xt("div",VV,[zV,xt("span",UV,Jt(this.jigs.playerStats.psi),1)])]),xt("div",WV,[xt("div",YV,[$V,xt("span",XV,Jt(this.jigs.playerStats.level),1)]),xt("div",HV,[KV,xt("span",jV,Jt(this.jigs.playerStats.xp),1)])]),xt("div",JV,[xt("div",ZV,[QV,xt("span",qV,Jt(this.jigs.playerStats.credits),1)]),xt("div",_V,[tz,xt("span",ez,Jt(this.jigs.playerStats.nanites),1)])])],64)}const sz=zi(TV,[["render",iz]]),rz={name:"CrystalSlider",data(){return{crystalBg:"",crystals:[{name:"Emerald",id:"emerald",value:1,total:3,color:"#00CC66"},{name:"Amethyst",id:"amethyst",value:0,total:0,color:"#3C1642"},{name:"Sapphire",id:"sapphire",value:0,total:0,color:"#0A2463"},{name:"Topaz",id:"topaz",value:0,total:0,color:"#FFC43D"},{name:"Ruby",id:"ruby",value:0,total:0,color:"#D00A01"}]}},methods:{crystalStyle(){this.crystals.forEach(function(e){let t=e.color,i=e.id;document.querySelectorAll("input").forEach(function(f){const S=f.id;getComputedStyle(f).getPropertyValue("--crystal-color"),S==i&&f.style.setProperty("--crystal-color",t)})})}},mounted(){this.crystalStyle()}},nz={class:"crystals"},az=xt("div",{class:"crystal__header"},[xt("div",null,"Attack"),Vi(),xt("div",null,"Defence")],-1),oz={class:"crystal"},hz=["src"],lz=["for"],uz={class:"crystal__total"},dz=["id","max","onUpdate:modelValue"];function fz(e,t,i,r,f,S){return Ft(),Nt("div",nz,[az,(Ft(!0),Nt(Le,null,Cs(f.crystals,n=>(Ft(),Nt("div",oz,[xt("img",{src:"/assets/images/gui/crystal-A-"+n.id+"-sm.png",alt:"",width:"24",height:"24",class:"crystal__image"},null,8,hz),xt("label",{class:"crystal__label",for:n.name},Jt(n.name),9,lz),xt("div",uz,Jt(n.value)+" : "+Jt(n.total-n.value)+" / "+Jt(n.total),1),ys(xt("input",{id:n.id,class:"crystal__slider",type:"range",min:"0",max:n.total,style:xi({backgroundColor:n.color,accentColor:n.color,borderColor:n.color,boxShadowColor:n.color}),"onUpdate:modelValue":x=>n.value=x},null,12,dz),[[bo,n.value]])]))),256))])}const cz=zi(rz,[["render",fz]]),vz={name:"BaseRadio",props:{label:{type:String,default:""},modelValue:{type:[String,Number],default:""},value:{type:[String,Number],required:!0},image:{type:String,default:""}}},pz=["checked","value"],gz=["src","alt"],mz={key:0};function xz(e,t,i,r,f,S){return Ft(),Nt("label",null,[xt("input",r0({type:"radio",checked:i.modelValue===i.value,value:i.value,onChange:t[0]||(t[0]=n=>e.$emit("update:modelValue",i.value,i.label))},e.$attrs,{class:"visually-hidden"}),null,16,pz),xt("img",{src:i.image,alt:i.label},null,8,gz),i.label?(Ft(),Nt("span",mz,Jt(i.label),1)):fe("",!0)])}const yz={name:"BaseRadioGroup",components:{BaseRadio:zi(vz,[["render",xz]])},props:{options:{type:Array,required:!0},name:{type:String,required:!0},modelValue:{type:[String,Number],required:!0}}};function Cz(e,t,i,r,f,S){const n=Zi("BaseRadio");return Ft(!0),Nt(Le,null,Cs(i.options,x=>(Ft(),Nt("div",{key:x.value,class:Xe(["weapon",{active:i.modelValue===x.value}])},[ie(n,{label:x.label,value:x.value,image:x.image,name:i.name,modelValue:i.modelValue,"onUpdate:modelValue":t[0]||(t[0]=s=>e.$emit("update:modelValue",s))},null,8,["label","value","image","name","modelValue"]),Vi(" "+Jt(e.image),1)],2))),128)}const Sz=zi(yz,[["render",Cz]]),N2="/gui/weapon_gun.png",G2="/gui/weapon_sword.png",k2="/gui/weapon_bomb.png",Tz={name:"WeaponSelect",components:{BaseRadioGroup:Sz},setup(){return{jigs:Qe(he())}},data(){return{weaponOptions:[{value:0,label:"Ranged",image:"/gui/weapon_gun.png"},{value:1,label:"Melee",image:"/gui/weapon_sword.png"},{value:2,label:"Bomb",image:"/gui/weapon_bomb.png"}],event:{weapon:1,label:"",value:""},selectedWeapon:1}},computed:{weaponName(){return this.event.weapon===0?"Ranged":this.event.weapon===1?"Gun":(this.event.weapon,"Bomb")}}},Ez={class:"weapons"},Pz={key:0,class:"weapon__thumb"},wz=[xt("img",{src:N2,alt:"sword thumbnail"},null,-1)],bz={key:1,class:"weapon__thumb"},Mz=[xt("img",{src:G2,alt:"gun thumbnail"},null,-1)],Az={key:2,class:"weapon__thumb"},Rz=[xt("img",{src:k2,alt:"bomb thumbnail"},null,-1)],Oz={class:"weapons--select"};function Lz(e,t,i,r,f,S){const n=Zi("BaseRadioGroup");return Ft(),Nt("form",Ez,[xt("strong",null,"Weapon: "+Jt(S.weaponName)+" / "+Jt(f.event.weapon),1),f.event.weapon===0?(Ft(),Nt("div",Pz,wz)):fe("",!0),f.event.weapon===1?(Ft(),Nt("div",bz,Mz)):fe("",!0),f.event.weapon===2?(Ft(),Nt("div",Az,Rz)):fe("",!0),xt("div",Oz,[ie(n,{modelValue:f.event.weapon,"onUpdate:modelValue":t[0]||(t[0]=x=>f.event.weapon=x),name:"weapon",options:f.weaponOptions},null,8,["modelValue","options"])])])}const Dz={components:{AudioController:fV,CharacterGauge:SV,CharacterStats:sz,CrystalSlider:cz,WeaponSelect:zi(Tz,[["render",Lz]])},setup(){return{jigs:Qe(he())}}},Fz={class:"character"};function Iz(e,t,i,r,f,S){const n=Zi("AudioController"),x=Zi("CharacterGauge"),s=Zi("CharacterStats"),a=Zi("CrystalSlider"),g=Zi("WeaponSelect");return Ft(),Nt(Le,null,[ie(n),xt("div",Fz,[ie(x),ie(s)]),ie(a),ie(g)],64)}const Bz=zi(Dz,[["render",Iz]]);var je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ox(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var f=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(i,r,f.get?f:{enumerable:!0,get:function(){return e[r]}})}),i}var V2={exports:{}};const Nz=Ox($B);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function z2(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(f){return Object.getOwnPropertyDescriptor(e,f).enumerable})),i.push.apply(i,r)}return i}function tn(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(i),!0).forEach(function(r){Gz(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):z2(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function pv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pv=function(t){return typeof t}:pv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function Gz(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ur(){return ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ur.apply(this,arguments)}function kz(e,t){if(e==null)return{};var i={},r=Object.keys(e),f,S;for(S=0;S<r.length;S++)f=r[S],!(t.indexOf(f)>=0)&&(i[f]=e[f]);return i}function Vz(e,t){if(e==null)return{};var i=kz(e,t),r,f;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(e);for(f=0;f<S.length;f++)r=S[f],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zz(e){return Uz(e)||Wz(e)||Yz(e)||$z()}function Uz(e){if(Array.isArray(e))return Lx(e)}function Wz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yz(e,t){if(e){if(typeof e=="string")return Lx(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Lx(e,t)}}function Lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function $z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Xz="1.14.0";function In(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Bn=In(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),cd=In(/Edge/i),U2=In(/firefox/i),vd=In(/safari/i)&&!In(/chrome/i)&&!In(/android/i),W2=In(/iP(ad|od|hone)/i),Hz=In(/chrome/i)&&In(/android/i),Y2={capture:!1,passive:!1};function Se(e,t,i){e.addEventListener(t,i,!Bn&&Y2)}function ge(e,t,i){e.removeEventListener(t,i,!Bn&&Y2)}function gv(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Kz(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function br(e,t,i,r){if(e){i=i||document;do{if(t!=null&&(t[0]===">"?e.parentNode===i&&gv(e,t):gv(e,t))||r&&e===i)return e;if(e===i)break}while(e=Kz(e))}return null}var $2=/\s+/g;function ii(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var r=(" "+e.className+" ").replace($2," ").replace(" "+t+" "," ");e.className=(r+(i?" "+t:"")).replace($2," ")}}function Ut(e,t,i){var r=e&&e.style;if(r){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),t===void 0?i:i[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=i+(typeof i=="string"?"":"px")}}function Uo(e,t){var i="";if(typeof e=="string")i=e;else do{var r=Ut(e,"transform");r&&r!=="none"&&(i=r+" "+i)}while(!t&&(e=e.parentNode));var f=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return f&&new f(i)}function X2(e,t,i){if(e){var r=e.getElementsByTagName(t),f=0,S=r.length;if(i)for(;f<S;f++)i(r[f],f);return r}return[]}function en(){var e=document.scrollingElement;return e||document.documentElement}function qe(e,t,i,r,f){if(!(!e.getBoundingClientRect&&e!==window)){var S,n,x,s,a,g,u;if(e!==window&&e.parentNode&&e!==en()?(S=e.getBoundingClientRect(),n=S.top,x=S.left,s=S.bottom,a=S.right,g=S.height,u=S.width):(n=0,x=0,s=window.innerHeight,a=window.innerWidth,g=window.innerHeight,u=window.innerWidth),(t||i)&&e!==window&&(f=f||e.parentNode,!Bn))do if(f&&f.getBoundingClientRect&&(Ut(f,"transform")!=="none"||i&&Ut(f,"position")!=="static")){var h=f.getBoundingClientRect();n-=h.top+parseInt(Ut(f,"border-top-width")),x-=h.left+parseInt(Ut(f,"border-left-width")),s=n+S.height,a=x+S.width;break}while(f=f.parentNode);if(r&&e!==window){var l=Uo(f||e),o=l&&l.a,d=l&&l.d;l&&(n/=d,x/=o,u/=o,g/=d,s=n+g,a=x+u)}return{top:n,left:x,bottom:s,right:a,width:u,height:g}}}function H2(e,t,i){for(var r=Aa(e,!0),f=qe(e)[t];r;){var S=qe(r)[i],n=void 0;if(n=f>=S,!n)return r;if(r===en())break;r=Aa(r,!1)}return!1}function dl(e,t,i,r){for(var f=0,S=0,n=e.children;S<n.length;){if(n[S].style.display!=="none"&&n[S]!==qt.ghost&&(r||n[S]!==qt.dragged)&&br(n[S],i.draggable,e,!1)){if(f===t)return n[S];f++}S++}return null}function Dx(e,t){for(var i=e.lastElementChild;i&&(i===qt.ghost||Ut(i,"display")==="none"||t&&!gv(i,t));)i=i.previousElementSibling;return i||null}function ni(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==qt.clone&&(!t||gv(e,t))&&i++;return i}function K2(e){var t=0,i=0,r=en();if(e)do{var f=Uo(e),S=f.a,n=f.d;t+=e.scrollLeft*S,i+=e.scrollTop*n}while(e!==r&&(e=e.parentNode));return[t,i]}function jz(e,t){for(var i in e)if(e.hasOwnProperty(i)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[i][r])return Number(i)}return-1}function Aa(e,t){if(!e||!e.getBoundingClientRect)return en();var i=e,r=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var f=Ut(i);if(i.clientWidth<i.scrollWidth&&(f.overflowX=="auto"||f.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(f.overflowY=="auto"||f.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return en();if(r||t)return i;r=!0}}while(i=i.parentNode);return en()}function Jz(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function Fx(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var pd;function j2(e,t){return function(){if(!pd){var i=arguments,r=this;i.length===1?e.call(r,i[0]):e.apply(r,i),pd=setTimeout(function(){pd=void 0},t)}}}function Zz(){clearTimeout(pd),pd=void 0}function J2(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function Ix(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function Z2(e,t){Ut(e,"position","absolute"),Ut(e,"top",t.top),Ut(e,"left",t.left),Ut(e,"width",t.width),Ut(e,"height",t.height)}function Bx(e){Ut(e,"position",""),Ut(e,"top",""),Ut(e,"left",""),Ut(e,"width",""),Ut(e,"height","")}var qi="Sortable"+new Date().getTime();function Qz(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(f){if(!(Ut(f,"display")==="none"||f===qt.ghost)){e.push({target:f,rect:qe(f)});var S=tn({},e[e.length-1].rect);if(f.thisAnimationDuration){var n=Uo(f,!0);n&&(S.top-=n.f,S.left-=n.e)}f.fromRect=S}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(jz(e,{target:r}),1)},animateAll:function(r){var f=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var S=!1,n=0;e.forEach(function(x){var s=0,a=x.target,g=a.fromRect,u=qe(a),h=a.prevFromRect,l=a.prevToRect,o=x.rect,d=Uo(a,!0);d&&(u.top-=d.f,u.left-=d.e),a.toRect=u,a.thisAnimationDuration&&Fx(h,u)&&!Fx(g,u)&&(o.top-u.top)/(o.left-u.left)===(g.top-u.top)/(g.left-u.left)&&(s=_z(o,h,l,f.options)),Fx(u,g)||(a.prevFromRect=g,a.prevToRect=u,s||(s=f.options.animation),f.animate(a,o,u,s)),s&&(S=!0,n=Math.max(n,s),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},s),a.thisAnimationDuration=s)}),clearTimeout(t),S?t=setTimeout(function(){typeof r=="function"&&r()},n):typeof r=="function"&&r(),e=[]},animate:function(r,f,S,n){if(n){Ut(r,"transition",""),Ut(r,"transform","");var x=Uo(this.el),s=x&&x.a,a=x&&x.d,g=(f.left-S.left)/(s||1),u=(f.top-S.top)/(a||1);r.animatingX=!!g,r.animatingY=!!u,Ut(r,"transform","translate3d("+g+"px,"+u+"px,0)"),this.forRepaintDummy=qz(r),Ut(r,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),Ut(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Ut(r,"transition",""),Ut(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},n)}}}}function qz(e){return e.offsetWidth}function _z(e,t,i,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*r.animation}var fl=[],Nx={initializeByDefault:!0},gd={mount:function(t){for(var i in Nx)Nx.hasOwnProperty(i)&&!(i in t)&&(t[i]=Nx[i]);fl.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),fl.push(t)},pluginEvent:function(t,i,r){var f=this;this.eventCanceled=!1,r.cancel=function(){f.eventCanceled=!0};var S=t+"Global";fl.forEach(function(n){i[n.pluginName]&&(i[n.pluginName][S]&&i[n.pluginName][S](tn({sortable:i},r)),i.options[n.pluginName]&&i[n.pluginName][t]&&i[n.pluginName][t](tn({sortable:i},r)))})},initializePlugins:function(t,i,r,f){fl.forEach(function(x){var s=x.pluginName;if(!(!t.options[s]&&!x.initializeByDefault)){var a=new x(t,i,t.options);a.sortable=t,a.options=t.options,t[s]=a,ur(r,a.defaults)}});for(var S in t.options)if(t.options.hasOwnProperty(S)){var n=this.modifyOption(t,S,t.options[S]);typeof n<"u"&&(t.options[S]=n)}},getEventProperties:function(t,i){var r={};return fl.forEach(function(f){typeof f.eventProperties=="function"&&ur(r,f.eventProperties.call(i[f.pluginName],t))}),r},modifyOption:function(t,i,r){var f;return fl.forEach(function(S){t[S.pluginName]&&S.optionListeners&&typeof S.optionListeners[i]=="function"&&(f=S.optionListeners[i].call(t[S.pluginName],r))}),f}};function md(e){var t=e.sortable,i=e.rootEl,r=e.name,f=e.targetEl,S=e.cloneEl,n=e.toEl,x=e.fromEl,s=e.oldIndex,a=e.newIndex,g=e.oldDraggableIndex,u=e.newDraggableIndex,h=e.originalEvent,l=e.putSortable,o=e.extraEventProperties;if(t=t||i&&i[qi],!!t){var d,v=t.options,c="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Bn&&!cd?d=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent(r,!0,!0)),d.to=n||i,d.from=x||i,d.item=f||i,d.clone=S,d.oldIndex=s,d.newIndex=a,d.oldDraggableIndex=g,d.newDraggableIndex=u,d.originalEvent=h,d.pullMode=l?l.lastPutMode:void 0;var p=tn(tn({},o),gd.getEventProperties(r,t));for(var y in p)d[y]=p[y];i&&i.dispatchEvent(d),v[c]&&v[c].call(t,d)}}var tU=["evt"],bs=function(t,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=r.evt,S=Vz(r,tU);gd.pluginEvent.bind(qt)(t,i,tn({dragEl:Gt,parentEl:ai,ghostEl:le,rootEl:_e,nextEl:Wo,lastDownEl:mv,cloneEl:oi,cloneHidden:Ra,dragStarted:yd,putSortable:Ui,activeSortable:qt.active,originalEvent:f,oldIndex:cl,oldDraggableIndex:xd,newIndex:Hs,newDraggableIndex:Oa,hideGhostForTarget:sM,unhideGhostForTarget:rM,cloneNowHidden:function(){Ra=!0},cloneNowShown:function(){Ra=!1},dispatchSortableEvent:function(x){us({sortable:i,name:x,originalEvent:f})}},S))};function us(e){md(tn({putSortable:Ui,cloneEl:oi,targetEl:Gt,rootEl:_e,oldIndex:cl,oldDraggableIndex:xd,newIndex:Hs,newDraggableIndex:Oa},e))}var Gt,ai,le,_e,Wo,mv,oi,Ra,cl,Hs,xd,Oa,xv,Ui,vl=!1,yv=!1,Cv=[],Yo,Mr,Gx,kx,Q2,q2,yd,pl,Cd,Sd=!1,Sv=!1,Tv,_i,Vx=[],zx=!1,Ev=[],Pv=typeof document<"u",wv=W2,_2=cd||Bn?"cssFloat":"float",eU=Pv&&!Hz&&!W2&&"draggable"in document.createElement("div"),tM=function(){if(Pv){if(Bn)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),eM=function(t,i){var r=Ut(t),f=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),S=dl(t,0,i),n=dl(t,1,i),x=S&&Ut(S),s=n&&Ut(n),a=x&&parseInt(x.marginLeft)+parseInt(x.marginRight)+qe(S).width,g=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+qe(n).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(S&&x.float&&x.float!=="none"){var u=x.float==="left"?"left":"right";return n&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return S&&(x.display==="block"||x.display==="flex"||x.display==="table"||x.display==="grid"||a>=f&&r[_2]==="none"||n&&r[_2]==="none"&&a+g>f)?"vertical":"horizontal"},iU=function(t,i,r){var f=r?t.left:t.top,S=r?t.right:t.bottom,n=r?t.width:t.height,x=r?i.left:i.top,s=r?i.right:i.bottom,a=r?i.width:i.height;return f===x||S===s||f+n/2===x+a/2},sU=function(t,i){var r;return Cv.some(function(f){var S=f[qi].options.emptyInsertThreshold;if(!(!S||Dx(f))){var n=qe(f),x=t>=n.left-S&&t<=n.right+S,s=i>=n.top-S&&i<=n.bottom+S;if(x&&s)return r=f}}),r},iM=function(t){function i(S,n){return function(x,s,a,g){var u=x.options.group.name&&s.options.group.name&&x.options.group.name===s.options.group.name;if(S==null&&(n||u))return!0;if(S==null||S===!1)return!1;if(n&&S==="clone")return S;if(typeof S=="function")return i(S(x,s,a,g),n)(x,s,a,g);var h=(n?x:s).options.group.name;return S===!0||typeof S=="string"&&S===h||S.join&&S.indexOf(h)>-1}}var r={},f=t.group;(!f||pv(f)!="object")&&(f={name:f}),r.name=f.name,r.checkPull=i(f.pull,!0),r.checkPut=i(f.put),r.revertClone=f.revertClone,t.group=r},sM=function(){!tM&&le&&Ut(le,"display","none")},rM=function(){!tM&&le&&Ut(le,"display","")};Pv&&document.addEventListener("click",function(e){if(yv)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),yv=!1,!1},!0);var $o=function(t){if(Gt){t=t.touches?t.touches[0]:t;var i=sU(t.clientX,t.clientY);if(i){var r={};for(var f in t)t.hasOwnProperty(f)&&(r[f]=t[f]);r.target=r.rootEl=i,r.preventDefault=void 0,r.stopPropagation=void 0,i[qi]._onDragOver(r)}}},rU=function(t){Gt&&Gt.parentNode[qi]._isOutsideThisEl(t.target)};function qt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ur({},t),e[qi]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return eM(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,x){n.setData("Text",x.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:qt.supportPointer!==!1&&"PointerEvent"in window&&!vd,emptyInsertThreshold:5};gd.initializePlugins(this,e,i);for(var r in i)!(r in t)&&(t[r]=i[r]);iM(t);for(var f in this)f.charAt(0)==="_"&&typeof this[f]=="function"&&(this[f]=this[f].bind(this));this.nativeDraggable=t.forceFallback?!1:eU,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Se(e,"pointerdown",this._onTapStart):(Se(e,"mousedown",this._onTapStart),Se(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Se(e,"dragover",this),Se(e,"dragenter",this)),Cv.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ur(this,Qz())}qt.prototype={constructor:qt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(pl=null)},_getDirection:function(t,i){return typeof this.options.direction=="function"?this.options.direction.call(this,t,i,Gt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var i=this,r=this.el,f=this.options,S=f.preventOnFilter,n=t.type,x=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(x||t).target,a=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,g=f.filter;if(fU(r),!Gt&&!(/mousedown|pointerdown/.test(n)&&t.button!==0||f.disabled)&&!a.isContentEditable&&!(!this.nativeDraggable&&vd&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=br(s,f.draggable,r,!1),!(s&&s.animated)&&mv!==s)){if(cl=ni(s),xd=ni(s,f.draggable),typeof g=="function"){if(g.call(this,t,s,this)){us({sortable:i,rootEl:a,name:"filter",targetEl:s,toEl:r,fromEl:r}),bs("filter",i,{evt:t}),S&&t.cancelable&&t.preventDefault();return}}else if(g&&(g=g.split(",").some(function(u){if(u=br(a,u.trim(),r,!1),u)return us({sortable:i,rootEl:u,name:"filter",targetEl:s,fromEl:r,toEl:r}),bs("filter",i,{evt:t}),!0}),g)){S&&t.cancelable&&t.preventDefault();return}f.handle&&!br(a,f.handle,r,!1)||this._prepareDragStart(t,x,s)}}},_prepareDragStart:function(t,i,r){var f=this,S=f.el,n=f.options,x=S.ownerDocument,s;if(r&&!Gt&&r.parentNode===S){var a=qe(r);if(_e=S,Gt=r,ai=Gt.parentNode,Wo=Gt.nextSibling,mv=r,xv=n.group,qt.dragged=Gt,Yo={target:Gt,clientX:(i||t).clientX,clientY:(i||t).clientY},Q2=Yo.clientX-a.left,q2=Yo.clientY-a.top,this._lastX=(i||t).clientX,this._lastY=(i||t).clientY,Gt.style["will-change"]="all",s=function(){if(bs("delayEnded",f,{evt:t}),qt.eventCanceled){f._onDrop();return}f._disableDelayedDragEvents(),!U2&&f.nativeDraggable&&(Gt.draggable=!0),f._triggerDragStart(t,i),us({sortable:f,name:"choose",originalEvent:t}),ii(Gt,n.chosenClass,!0)},n.ignore.split(",").forEach(function(g){X2(Gt,g.trim(),Ux)}),Se(x,"dragover",$o),Se(x,"mousemove",$o),Se(x,"touchmove",$o),Se(x,"mouseup",f._onDrop),Se(x,"touchend",f._onDrop),Se(x,"touchcancel",f._onDrop),U2&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Gt.draggable=!0),bs("delayStart",this,{evt:t}),n.delay&&(!n.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(cd||Bn))){if(qt.eventCanceled){this._onDrop();return}Se(x,"mouseup",f._disableDelayedDrag),Se(x,"touchend",f._disableDelayedDrag),Se(x,"touchcancel",f._disableDelayedDrag),Se(x,"mousemove",f._delayedDragTouchMoveHandler),Se(x,"touchmove",f._delayedDragTouchMoveHandler),n.supportPointer&&Se(x,"pointermove",f._delayedDragTouchMoveHandler),f._dragStartTimer=setTimeout(s,n.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var i=t.touches?t.touches[0]:t;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Gt&&Ux(Gt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ge(t,"mouseup",this._disableDelayedDrag),ge(t,"touchend",this._disableDelayedDrag),ge(t,"touchcancel",this._disableDelayedDrag),ge(t,"mousemove",this._delayedDragTouchMoveHandler),ge(t,"touchmove",this._delayedDragTouchMoveHandler),ge(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,i){i=i||t.pointerType=="touch"&&t,!this.nativeDraggable||i?this.options.supportPointer?Se(document,"pointermove",this._onTouchMove):i?Se(document,"touchmove",this._onTouchMove):Se(document,"mousemove",this._onTouchMove):(Se(Gt,"dragend",this),Se(_e,"dragstart",this._onDragStart));try{document.selection?Mv(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,i){if(vl=!1,_e&&Gt){bs("dragStarted",this,{evt:i}),this.nativeDraggable&&Se(document,"dragover",rU);var r=this.options;!t&&ii(Gt,r.dragClass,!1),ii(Gt,r.ghostClass,!0),qt.active=this,t&&this._appendGhost(),us({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Mr){this._lastX=Mr.clientX,this._lastY=Mr.clientY,sM();for(var t=document.elementFromPoint(Mr.clientX,Mr.clientY),i=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Mr.clientX,Mr.clientY),t!==i);)i=t;if(Gt.parentNode[qi]._isOutsideThisEl(t),i)do{if(i[qi]){var r=void 0;if(r=i[qi]._onDragOver({clientX:Mr.clientX,clientY:Mr.clientY,target:t,rootEl:i}),r&&!this.options.dragoverBubble)break}t=i}while(i=i.parentNode);rM()}},_onTouchMove:function(t){if(Yo){var i=this.options,r=i.fallbackTolerance,f=i.fallbackOffset,S=t.touches?t.touches[0]:t,n=le&&Uo(le,!0),x=le&&n&&n.a,s=le&&n&&n.d,a=wv&&_i&&K2(_i),g=(S.clientX-Yo.clientX+f.x)/(x||1)+(a?a[0]-Vx[0]:0)/(x||1),u=(S.clientY-Yo.clientY+f.y)/(s||1)+(a?a[1]-Vx[1]:0)/(s||1);if(!qt.active&&!vl){if(r&&Math.max(Math.abs(S.clientX-this._lastX),Math.abs(S.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(le){n?(n.e+=g-(Gx||0),n.f+=u-(kx||0)):n={a:1,b:0,c:0,d:1,e:g,f:u};var h="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");Ut(le,"webkitTransform",h),Ut(le,"mozTransform",h),Ut(le,"msTransform",h),Ut(le,"transform",h),Gx=g,kx=u,Mr=S}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!le){var t=this.options.fallbackOnBody?document.body:_e,i=qe(Gt,!0,wv,!0,t),r=this.options;if(wv){for(_i=t;Ut(_i,"position")==="static"&&Ut(_i,"transform")==="none"&&_i!==document;)_i=_i.parentNode;_i!==document.body&&_i!==document.documentElement?(_i===document&&(_i=en()),i.top+=_i.scrollTop,i.left+=_i.scrollLeft):_i=en(),Vx=K2(_i)}le=Gt.cloneNode(!0),ii(le,r.ghostClass,!1),ii(le,r.fallbackClass,!0),ii(le,r.dragClass,!0),Ut(le,"transition",""),Ut(le,"transform",""),Ut(le,"box-sizing","border-box"),Ut(le,"margin",0),Ut(le,"top",i.top),Ut(le,"left",i.left),Ut(le,"width",i.width),Ut(le,"height",i.height),Ut(le,"opacity","0.8"),Ut(le,"position",wv?"absolute":"fixed"),Ut(le,"zIndex","100000"),Ut(le,"pointerEvents","none"),qt.ghost=le,t.appendChild(le),Ut(le,"transform-origin",Q2/parseInt(le.style.width)*100+"% "+q2/parseInt(le.style.height)*100+"%")}},_onDragStart:function(t,i){var r=this,f=t.dataTransfer,S=r.options;if(bs("dragStart",this,{evt:t}),qt.eventCanceled){this._onDrop();return}bs("setupClone",this),qt.eventCanceled||(oi=Ix(Gt),oi.draggable=!1,oi.style["will-change"]="",this._hideClone(),ii(oi,this.options.chosenClass,!1),qt.clone=oi),r.cloneId=Mv(function(){bs("clone",r),!qt.eventCanceled&&(r.options.removeCloneOnHide||_e.insertBefore(oi,Gt),r._hideClone(),us({sortable:r,name:"clone"}))}),!i&&ii(Gt,S.dragClass,!0),i?(yv=!0,r._loopId=setInterval(r._emulateDragOver,50)):(ge(document,"mouseup",r._onDrop),ge(document,"touchend",r._onDrop),ge(document,"touchcancel",r._onDrop),f&&(f.effectAllowed="move",S.setData&&S.setData.call(r,f,Gt)),Se(document,"drop",r),Ut(Gt,"transform","translateZ(0)")),vl=!0,r._dragStartId=Mv(r._dragStarted.bind(r,i,t)),Se(document,"selectstart",r),yd=!0,vd&&Ut(document.body,"user-select","none")},_onDragOver:function(t){var i=this.el,r=t.target,f,S,n,x=this.options,s=x.group,a=qt.active,g=xv===s,u=x.sort,h=Ui||a,l,o=this,d=!1;if(zx)return;function v(B,G){bs(B,o,tn({evt:t,isOwner:g,axis:l?"vertical":"horizontal",revert:n,dragRect:f,targetRect:S,canSort:u,fromSortable:h,target:r,completed:p,onMove:function(Y,H){return bv(_e,i,Gt,f,Y,qe(Y),t,H)},changed:y},G))}function c(){v("dragOverAnimationCapture"),o.captureAnimationState(),o!==h&&h.captureAnimationState()}function p(B){return v("dragOverCompleted",{insertion:B}),B&&(g?a._hideClone():a._showClone(o),o!==h&&(ii(Gt,Ui?Ui.options.ghostClass:a.options.ghostClass,!1),ii(Gt,x.ghostClass,!0)),Ui!==o&&o!==qt.active?Ui=o:o===qt.active&&Ui&&(Ui=null),h===o&&(o._ignoreWhileAnimating=r),o.animateAll(function(){v("dragOverAnimationComplete"),o._ignoreWhileAnimating=null}),o!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===Gt&&!Gt.animated||r===i&&!r.animated)&&(pl=null),!x.dragoverBubble&&!t.rootEl&&r!==document&&(Gt.parentNode[qi]._isOutsideThisEl(t.target),!B&&$o(t)),!x.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),d=!0}function y(){Hs=ni(Gt),Oa=ni(Gt,x.draggable),us({sortable:o,name:"change",toEl:i,newIndex:Hs,newDraggableIndex:Oa,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=br(r,x.draggable,i,!0),v("dragOver"),qt.eventCanceled)return d;if(Gt.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||o._ignoreWhileAnimating===r)return p(!1);if(yv=!1,a&&!x.disabled&&(g?u||(n=ai!==_e):Ui===this||(this.lastPutMode=xv.checkPull(this,a,Gt,t))&&s.checkPut(this,a,Gt,t))){if(l=this._getDirection(t,r)==="vertical",f=qe(Gt),v("dragOverValid"),qt.eventCanceled)return d;if(n)return ai=_e,c(),this._hideClone(),v("revert"),qt.eventCanceled||(Wo?_e.insertBefore(Gt,Wo):_e.appendChild(Gt)),p(!0);var m=Dx(i,x.draggable);if(!m||hU(t,l,this)&&!m.animated){if(m===Gt)return p(!1);if(m&&i===t.target&&(r=m),r&&(S=qe(r)),bv(_e,i,Gt,f,r,S,t,!!r)!==!1)return c(),i.appendChild(Gt),ai=i,y(),p(!0)}else if(m&&oU(t,l,this)){var C=dl(i,0,x,!0);if(C===Gt)return p(!1);if(r=C,S=qe(r),bv(_e,i,Gt,f,r,S,t,!1)!==!1)return c(),i.insertBefore(Gt,C),ai=i,y(),p(!0)}else if(r.parentNode===i){S=qe(r);var T=0,E,w=Gt.parentNode!==i,P=!iU(Gt.animated&&Gt.toRect||f,r.animated&&r.toRect||S,l),b=l?"top":"left",M=H2(r,"top","top")||H2(Gt,"top","top"),A=M?M.scrollTop:void 0;pl!==r&&(E=S[b],Sd=!1,Sv=!P&&x.invertSwap||w),T=lU(t,r,S,l,P?1:x.swapThreshold,x.invertedSwapThreshold==null?x.swapThreshold:x.invertedSwapThreshold,Sv,pl===r);var R;if(T!==0){var L=ni(Gt);do L-=T,R=ai.children[L];while(R&&(Ut(R,"display")==="none"||R===le))}if(T===0||R===r)return p(!1);pl=r,Cd=T;var O=r.nextElementSibling,D=!1;D=T===1;var I=bv(_e,i,Gt,f,r,S,t,D);if(I!==!1)return(I===1||I===-1)&&(D=I===1),zx=!0,setTimeout(aU,30),c(),D&&!O?i.appendChild(Gt):r.parentNode.insertBefore(Gt,D?O:r),M&&J2(M,0,A-M.scrollTop),ai=Gt.parentNode,E!==void 0&&!Sv&&(Tv=Math.abs(E-qe(r)[b])),y(),p(!0)}if(i.contains(Gt))return p(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ge(document,"mousemove",this._onTouchMove),ge(document,"touchmove",this._onTouchMove),ge(document,"pointermove",this._onTouchMove),ge(document,"dragover",$o),ge(document,"mousemove",$o),ge(document,"touchmove",$o)},_offUpEvents:function(){var t=this.el.ownerDocument;ge(t,"mouseup",this._onDrop),ge(t,"touchend",this._onDrop),ge(t,"pointerup",this._onDrop),ge(t,"touchcancel",this._onDrop),ge(document,"selectstart",this)},_onDrop:function(t){var i=this.el,r=this.options;if(Hs=ni(Gt),Oa=ni(Gt,r.draggable),bs("drop",this,{evt:t}),ai=Gt&&Gt.parentNode,Hs=ni(Gt),Oa=ni(Gt,r.draggable),qt.eventCanceled){this._nulling();return}vl=!1,Sv=!1,Sd=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wx(this.cloneId),Wx(this._dragStartId),this.nativeDraggable&&(ge(document,"drop",this),ge(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),vd&&Ut(document.body,"user-select",""),Ut(Gt,"transform",""),t&&(yd&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),le&&le.parentNode&&le.parentNode.removeChild(le),(_e===ai||Ui&&Ui.lastPutMode!=="clone")&&oi&&oi.parentNode&&oi.parentNode.removeChild(oi),Gt&&(this.nativeDraggable&&ge(Gt,"dragend",this),Ux(Gt),Gt.style["will-change"]="",yd&&!vl&&ii(Gt,Ui?Ui.options.ghostClass:this.options.ghostClass,!1),ii(Gt,this.options.chosenClass,!1),us({sortable:this,name:"unchoose",toEl:ai,newIndex:null,newDraggableIndex:null,originalEvent:t}),_e!==ai?(Hs>=0&&(us({rootEl:ai,name:"add",toEl:ai,fromEl:_e,originalEvent:t}),us({sortable:this,name:"remove",toEl:ai,originalEvent:t}),us({rootEl:ai,name:"sort",toEl:ai,fromEl:_e,originalEvent:t}),us({sortable:this,name:"sort",toEl:ai,originalEvent:t})),Ui&&Ui.save()):Hs!==cl&&Hs>=0&&(us({sortable:this,name:"update",toEl:ai,originalEvent:t}),us({sortable:this,name:"sort",toEl:ai,originalEvent:t})),qt.active&&((Hs==null||Hs===-1)&&(Hs=cl,Oa=xd),us({sortable:this,name:"end",toEl:ai,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){bs("nulling",this),_e=Gt=ai=le=Wo=oi=mv=Ra=Yo=Mr=yd=Hs=Oa=cl=xd=pl=Cd=Ui=xv=qt.dragged=qt.ghost=qt.clone=qt.active=null,Ev.forEach(function(t){t.checked=!0}),Ev.length=Gx=kx=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Gt&&(this._onDragOver(t),nU(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],i,r=this.el.children,f=0,S=r.length,n=this.options;f<S;f++)i=r[f],br(i,n.draggable,this.el,!1)&&t.push(i.getAttribute(n.dataIdAttr)||dU(i));return t},sort:function(t,i){var r={},f=this.el;this.toArray().forEach(function(S,n){var x=f.children[n];br(x,this.options.draggable,f,!1)&&(r[S]=x)},this),i&&this.captureAnimationState(),t.forEach(function(S){r[S]&&(f.removeChild(r[S]),f.appendChild(r[S]))}),i&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,i){return br(t,i||this.options.draggable,this.el,!1)},option:function(t,i){var r=this.options;if(i===void 0)return r[t];var f=gd.modifyOption(this,t,i);typeof f<"u"?r[t]=f:r[t]=i,t==="group"&&iM(r)},destroy:function(){bs("destroy",this);var t=this.el;t[qi]=null,ge(t,"mousedown",this._onTapStart),ge(t,"touchstart",this._onTapStart),ge(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ge(t,"dragover",this),ge(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Cv.splice(Cv.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ra){if(bs("hideClone",this),qt.eventCanceled)return;Ut(oi,"display","none"),this.options.removeCloneOnHide&&oi.parentNode&&oi.parentNode.removeChild(oi),Ra=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ra){if(bs("showClone",this),qt.eventCanceled)return;Gt.parentNode==_e&&!this.options.group.revertClone?_e.insertBefore(oi,Gt):Wo?_e.insertBefore(oi,Wo):_e.appendChild(oi),this.options.group.revertClone&&this.animate(Gt,oi),Ut(oi,"display",""),Ra=!1}}};function nU(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function bv(e,t,i,r,f,S,n,x){var s,a=e[qi],g=a.options.onMove,u;return window.CustomEvent&&!Bn&&!cd?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=i,s.draggedRect=r,s.related=f||t,s.relatedRect=S||qe(t),s.willInsertAfter=x,s.originalEvent=n,e.dispatchEvent(s),g&&(u=g.call(a,s,n)),u}function Ux(e){e.draggable=!1}function aU(){zx=!1}function oU(e,t,i){var r=qe(dl(i.el,0,i.options,!0)),f=10;return t?e.clientX<r.left-f||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-f||e.clientY<r.bottom&&e.clientX<r.left}function hU(e,t,i){var r=qe(Dx(i.el,i.options.draggable)),f=10;return t?e.clientX>r.right+f||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+f}function lU(e,t,i,r,f,S,n,x){var s=r?e.clientY:e.clientX,a=r?i.height:i.width,g=r?i.top:i.left,u=r?i.bottom:i.right,h=!1;if(!n){if(x&&Tv<a*f){if(!Sd&&(Cd===1?s>g+a*S/2:s<u-a*S/2)&&(Sd=!0),Sd)h=!0;else if(Cd===1?s<g+Tv:s>u-Tv)return-Cd}else if(s>g+a*(1-f)/2&&s<u-a*(1-f)/2)return uU(t)}return h=h||n,h&&(s<g+a*S/2||s>u-a*S/2)?s>g+a/2?1:-1:0}function uU(e){return ni(Gt)<ni(e)?1:-1}function dU(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,r=0;i--;)r+=t.charCodeAt(i);return r.toString(36)}function fU(e){Ev.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var r=t[i];r.checked&&Ev.push(r)}}function Mv(e){return setTimeout(e,0)}function Wx(e){return clearTimeout(e)}Pv&&Se(document,"touchmove",function(e){(qt.active||vl)&&e.cancelable&&e.preventDefault()}),qt.utils={on:Se,off:ge,css:Ut,find:X2,is:function(t,i){return!!br(t,i,t,!1)},extend:Jz,throttle:j2,closest:br,toggleClass:ii,clone:Ix,index:ni,nextTick:Mv,cancelNextTick:Wx,detectDirection:eM,getChild:dl},qt.get=function(e){return e[qi]},qt.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(qt.utils=tn(tn({},qt.utils),r.utils)),gd.mount(r)})},qt.create=function(e,t){return new qt(e,t)},qt.version=Xz;var Si=[],Td,Yx,$x=!1,Xx,Hx,Av,Ed;function cU(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(i){var r=i.originalEvent;this.sortable.nativeDraggable?Se(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Se(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Se(document,"touchmove",this._handleFallbackAutoScroll):Se(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var r=i.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?ge(document,"dragover",this._handleAutoScroll):(ge(document,"pointermove",this._handleFallbackAutoScroll),ge(document,"touchmove",this._handleFallbackAutoScroll),ge(document,"mousemove",this._handleFallbackAutoScroll)),nM(),Rv(),Zz()},nulling:function(){Av=Yx=Td=$x=Ed=Xx=Hx=null,Si.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,r){var f=this,S=(i.touches?i.touches[0]:i).clientX,n=(i.touches?i.touches[0]:i).clientY,x=document.elementFromPoint(S,n);if(Av=i,r||this.options.forceAutoScrollFallback||cd||Bn||vd){Kx(i,this.options,x,r);var s=Aa(x,!0);$x&&(!Ed||S!==Xx||n!==Hx)&&(Ed&&nM(),Ed=setInterval(function(){var a=Aa(document.elementFromPoint(S,n),!0);a!==s&&(s=a,Rv()),Kx(i,f.options,a,r)},10),Xx=S,Hx=n)}else{if(!this.options.bubbleScroll||Aa(x,!0)===en()){Rv();return}Kx(i,this.options,Aa(x,!1),!1)}}},ur(e,{pluginName:"scroll",initializeByDefault:!0})}function Rv(){Si.forEach(function(e){clearInterval(e.pid)}),Si=[]}function nM(){clearInterval(Ed)}var Kx=j2(function(e,t,i,r){if(t.scroll){var f=(e.touches?e.touches[0]:e).clientX,S=(e.touches?e.touches[0]:e).clientY,n=t.scrollSensitivity,x=t.scrollSpeed,s=en(),a=!1,g;Yx!==i&&(Yx=i,Rv(),Td=t.scroll,g=t.scrollFn,Td===!0&&(Td=Aa(i,!0)));var u=0,h=Td;do{var l=h,o=qe(l),d=o.top,v=o.bottom,c=o.left,p=o.right,y=o.width,m=o.height,C=void 0,T=void 0,E=l.scrollWidth,w=l.scrollHeight,P=Ut(l),b=l.scrollLeft,M=l.scrollTop;l===s?(C=y<E&&(P.overflowX==="auto"||P.overflowX==="scroll"||P.overflowX==="visible"),T=m<w&&(P.overflowY==="auto"||P.overflowY==="scroll"||P.overflowY==="visible")):(C=y<E&&(P.overflowX==="auto"||P.overflowX==="scroll"),T=m<w&&(P.overflowY==="auto"||P.overflowY==="scroll"));var A=C&&(Math.abs(p-f)<=n&&b+y<E)-(Math.abs(c-f)<=n&&!!b),R=T&&(Math.abs(v-S)<=n&&M+m<w)-(Math.abs(d-S)<=n&&!!M);if(!Si[u])for(var L=0;L<=u;L++)Si[L]||(Si[L]={});(Si[u].vx!=A||Si[u].vy!=R||Si[u].el!==l)&&(Si[u].el=l,Si[u].vx=A,Si[u].vy=R,clearInterval(Si[u].pid),(A!=0||R!=0)&&(a=!0,Si[u].pid=setInterval((function(){r&&this.layer===0&&qt.active._onTouchMove(Av);var O=Si[this.layer].vy?Si[this.layer].vy*x:0,D=Si[this.layer].vx?Si[this.layer].vx*x:0;typeof g=="function"&&g.call(qt.dragged.parentNode[qi],D,O,e,Av,Si[this.layer].el)!=="continue"||J2(Si[this.layer].el,D,O)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==s&&(h=Aa(h,!1)));$x=a}},30),aM=function(t){var i=t.originalEvent,r=t.putSortable,f=t.dragEl,S=t.activeSortable,n=t.dispatchSortableEvent,x=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(i){var a=r||S;x();var g=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,u=document.elementFromPoint(g.clientX,g.clientY);s(),a&&!a.el.contains(u)&&(n("spill"),this.onSpill({dragEl:f,putSortable:r}))}};function jx(){}jx.prototype={startIndex:null,dragStart:function(t){var i=t.oldDraggableIndex;this.startIndex=i},onSpill:function(t){var i=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var f=dl(this.sortable.el,this.startIndex,this.options);f?this.sortable.el.insertBefore(i,f):this.sortable.el.appendChild(i),this.sortable.animateAll(),r&&r.animateAll()},drop:aM},ur(jx,{pluginName:"revertOnSpill"});function Jx(){}Jx.prototype={onSpill:function(t){var i=t.dragEl,r=t.putSortable,f=r||this.sortable;f.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),f.animateAll()},drop:aM},ur(Jx,{pluginName:"removeOnSpill"});var dr;function vU(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(i){var r=i.dragEl;dr=r},dragOverValid:function(i){var r=i.completed,f=i.target,S=i.onMove,n=i.activeSortable,x=i.changed,s=i.cancel;if(n.options.swap){var a=this.sortable.el,g=this.options;if(f&&f!==a){var u=dr;S(f)!==!1?(ii(f,g.swapClass,!0),dr=f):dr=null,u&&u!==dr&&ii(u,g.swapClass,!1)}x(),r(!0),s()}},drop:function(i){var r=i.activeSortable,f=i.putSortable,S=i.dragEl,n=f||this.sortable,x=this.options;dr&&ii(dr,x.swapClass,!1),dr&&(x.swap||f&&f.options.swap)&&S!==dr&&(n.captureAnimationState(),n!==r&&r.captureAnimationState(),pU(S,dr),n.animateAll(),n!==r&&r.animateAll())},nulling:function(){dr=null}},ur(e,{pluginName:"swap",eventProperties:function(){return{swapItem:dr}}})}function pU(e,t){var i=e.parentNode,r=t.parentNode,f,S;!i||!r||i.isEqualNode(t)||r.isEqualNode(e)||(f=ni(e),S=ni(t),i.isEqualNode(r)&&f<S&&S++,i.insertBefore(t,i.children[f]),r.insertBefore(e,r.children[S]))}var ne=[],Ks=[],Pd,Ar,wd=!1,Ms=!1,gl=!1,He,bd,Ov;function gU(){function e(t){for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));t.options.supportPointer?Se(document,"pointerup",this._deselectMultiDrag):(Se(document,"mouseup",this._deselectMultiDrag),Se(document,"touchend",this._deselectMultiDrag)),Se(document,"keydown",this._checkKeyDown),Se(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(f,S){var n="";ne.length&&Ar===t?ne.forEach(function(x,s){n+=(s?", ":"")+x.textContent}):n=S.textContent,f.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(i){var r=i.dragEl;He=r},delayEnded:function(){this.isMultiDrag=~ne.indexOf(He)},setupClone:function(i){var r=i.sortable,f=i.cancel;if(this.isMultiDrag){for(var S=0;S<ne.length;S++)Ks.push(Ix(ne[S])),Ks[S].sortableIndex=ne[S].sortableIndex,Ks[S].draggable=!1,Ks[S].style["will-change"]="",ii(Ks[S],this.options.selectedClass,!1),ne[S]===He&&ii(Ks[S],this.options.chosenClass,!1);r._hideClone(),f()}},clone:function(i){var r=i.sortable,f=i.rootEl,S=i.dispatchSortableEvent,n=i.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ne.length&&Ar===r&&(oM(!0,f),S("clone"),n()))},showClone:function(i){var r=i.cloneNowShown,f=i.rootEl,S=i.cancel;this.isMultiDrag&&(oM(!1,f),Ks.forEach(function(n){Ut(n,"display","")}),r(),Ov=!1,S())},hideClone:function(i){var r=this;i.sortable;var f=i.cloneNowHidden,S=i.cancel;this.isMultiDrag&&(Ks.forEach(function(n){Ut(n,"display","none"),r.options.removeCloneOnHide&&n.parentNode&&n.parentNode.removeChild(n)}),f(),Ov=!0,S())},dragStartGlobal:function(i){i.sortable,!this.isMultiDrag&&Ar&&Ar.multiDrag._deselectMultiDrag(),ne.forEach(function(r){r.sortableIndex=ni(r)}),ne=ne.sort(function(r,f){return r.sortableIndex-f.sortableIndex}),gl=!0},dragStarted:function(i){var r=this,f=i.sortable;if(this.isMultiDrag){if(this.options.sort&&(f.captureAnimationState(),this.options.animation)){ne.forEach(function(n){n!==He&&Ut(n,"position","absolute")});var S=qe(He,!1,!0,!0);ne.forEach(function(n){n!==He&&Z2(n,S)}),Ms=!0,wd=!0}f.animateAll(function(){Ms=!1,wd=!1,r.options.animation&&ne.forEach(function(n){Bx(n)}),r.options.sort&&Lv()})}},dragOver:function(i){var r=i.target,f=i.completed,S=i.cancel;Ms&&~ne.indexOf(r)&&(f(!1),S())},revert:function(i){var r=i.fromSortable,f=i.rootEl,S=i.sortable,n=i.dragRect;ne.length>1&&(ne.forEach(function(x){S.addAnimationState({target:x,rect:Ms?qe(x):n}),Bx(x),x.fromRect=n,r.removeAnimationState(x)}),Ms=!1,mU(!this.options.removeCloneOnHide,f))},dragOverCompleted:function(i){var r=i.sortable,f=i.isOwner,S=i.insertion,n=i.activeSortable,x=i.parentEl,s=i.putSortable,a=this.options;if(S){if(f&&n._hideClone(),wd=!1,a.animation&&ne.length>1&&(Ms||!f&&!n.options.sort&&!s)){var g=qe(He,!1,!0,!0);ne.forEach(function(h){h!==He&&(Z2(h,g),x.appendChild(h))}),Ms=!0}if(!f)if(Ms||Lv(),ne.length>1){var u=Ov;n._showClone(r),n.options.animation&&!Ov&&u&&Ks.forEach(function(h){n.addAnimationState({target:h,rect:bd}),h.fromRect=bd,h.thisAnimationDuration=null})}else n._showClone(r)}},dragOverAnimationCapture:function(i){var r=i.dragRect,f=i.isOwner,S=i.activeSortable;if(ne.forEach(function(x){x.thisAnimationDuration=null}),S.options.animation&&!f&&S.multiDrag.isMultiDrag){bd=ur({},r);var n=Uo(He,!0);bd.top-=n.f,bd.left-=n.e}},dragOverAnimationComplete:function(){Ms&&(Ms=!1,Lv())},drop:function(i){var r=i.originalEvent,f=i.rootEl,S=i.parentEl,n=i.sortable,x=i.dispatchSortableEvent,s=i.oldIndex,a=i.putSortable,g=a||this.sortable;if(r){var u=this.options,h=S.children;if(!gl)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),ii(He,u.selectedClass,!~ne.indexOf(He)),~ne.indexOf(He))ne.splice(ne.indexOf(He),1),Pd=null,md({sortable:n,rootEl:f,name:"deselect",targetEl:He,originalEvt:r});else{if(ne.push(He),md({sortable:n,rootEl:f,name:"select",targetEl:He,originalEvt:r}),r.shiftKey&&Pd&&n.el.contains(Pd)){var l=ni(Pd),o=ni(He);if(~l&&~o&&l!==o){var d,v;for(o>l?(v=l,d=o):(v=o,d=l+1);v<d;v++)~ne.indexOf(h[v])||(ii(h[v],u.selectedClass,!0),ne.push(h[v]),md({sortable:n,rootEl:f,name:"select",targetEl:h[v],originalEvt:r}))}}else Pd=He;Ar=g}if(gl&&this.isMultiDrag){if(Ms=!1,(S[qi].options.sort||S!==f)&&ne.length>1){var c=qe(He),p=ni(He,":not(."+this.options.selectedClass+")");if(!wd&&u.animation&&(He.thisAnimationDuration=null),g.captureAnimationState(),!wd&&(u.animation&&(He.fromRect=c,ne.forEach(function(m){if(m.thisAnimationDuration=null,m!==He){var C=Ms?qe(m):c;m.fromRect=C,g.addAnimationState({target:m,rect:C})}})),Lv(),ne.forEach(function(m){h[p]?S.insertBefore(m,h[p]):S.appendChild(m),p++}),s===ni(He))){var y=!1;ne.forEach(function(m){if(m.sortableIndex!==ni(m)){y=!0;return}}),y&&x("update")}ne.forEach(function(m){Bx(m)}),g.animateAll()}Ar=g}(f===S||a&&a.lastPutMode!=="clone")&&Ks.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)})}},nullingGlobal:function(){this.isMultiDrag=gl=!1,Ks.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ge(document,"pointerup",this._deselectMultiDrag),ge(document,"mouseup",this._deselectMultiDrag),ge(document,"touchend",this._deselectMultiDrag),ge(document,"keydown",this._checkKeyDown),ge(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(i){if(!(typeof gl<"u"&&gl)&&Ar===this.sortable&&!(i&&br(i.target,this.options.draggable,this.sortable.el,!1))&&!(i&&i.button!==0))for(;ne.length;){var r=ne[0];ii(r,this.options.selectedClass,!1),ne.shift(),md({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:i})}},_checkKeyDown:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(i){i.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ur(e,{pluginName:"multiDrag",utils:{select:function(i){var r=i.parentNode[qi];!r||!r.options.multiDrag||~ne.indexOf(i)||(Ar&&Ar!==r&&(Ar.multiDrag._deselectMultiDrag(),Ar=r),ii(i,r.options.selectedClass,!0),ne.push(i))},deselect:function(i){var r=i.parentNode[qi],f=ne.indexOf(i);!r||!r.options.multiDrag||!~f||(ii(i,r.options.selectedClass,!1),ne.splice(f,1))}},eventProperties:function(){var i=this,r=[],f=[];return ne.forEach(function(S){r.push({multiDragElement:S,index:S.sortableIndex});var n;Ms&&S!==He?n=-1:Ms?n=ni(S,":not(."+i.options.selectedClass+")"):n=ni(S),f.push({multiDragElement:S,index:n})}),{items:zz(ne),clones:[].concat(Ks),oldIndicies:r,newIndicies:f}},optionListeners:{multiDragKey:function(i){return i=i.toLowerCase(),i==="ctrl"?i="Control":i.length>1&&(i=i.charAt(0).toUpperCase()+i.substr(1)),i}}})}function mU(e,t){ne.forEach(function(i,r){var f=t.children[i.sortableIndex+(e?Number(r):0)];f?t.insertBefore(i,f):t.appendChild(i)})}function oM(e,t){Ks.forEach(function(i,r){var f=t.children[i.sortableIndex+(e?Number(r):0)];f?t.insertBefore(i,f):t.appendChild(i)})}function Lv(){ne.forEach(function(e){e!==He&&e.parentNode&&e.parentNode.removeChild(e)})}qt.mount(new cU),qt.mount(Jx,jx);const xU=Ox(Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:gU,Sortable:qt,Swap:vU,default:qt},Symbol.toStringTag,{value:"Module"})));(function(e,t){(function(r,f){e.exports=f(Nz,xU)})(typeof self<"u"?self:je,function(i,r){return function(f){var S={};function n(x){if(S[x])return S[x].exports;var s=S[x]={i:x,l:!1,exports:{}};return f[x].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=f,n.c=S,n.d=function(x,s,a){n.o(x,s)||Object.defineProperty(x,s,{enumerable:!0,get:a})},n.r=function(x){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},n.t=function(x,s){if(s&1&&(x=n(x)),s&8||s&4&&typeof x=="object"&&x&&x.__esModule)return x;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:x}),s&2&&typeof x!="string")for(var g in x)n.d(a,g,(function(u){return x[u]}).bind(null,g));return a},n.n=function(x){var s=x&&x.__esModule?function(){return x.default}:function(){return x};return n.d(s,"a",s),s},n.o=function(x,s){return Object.prototype.hasOwnProperty.call(x,s)},n.p="",n(n.s="fb15")}({"00ee":function(f,S,n){var x=n("b622"),s=x("toStringTag"),a={};a[s]="z",f.exports=String(a)==="[object z]"},"0366":function(f,S,n){var x=n("1c0b");f.exports=function(s,a,g){if(x(s),a===void 0)return s;switch(g){case 0:return function(){return s.call(a)};case 1:return function(u){return s.call(a,u)};case 2:return function(u,h){return s.call(a,u,h)};case 3:return function(u,h,l){return s.call(a,u,h,l)}}return function(){return s.apply(a,arguments)}}},"057f":function(f,S,n){var x=n("fc6a"),s=n("241c").f,a={}.toString,g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(h){try{return s(h)}catch{return g.slice()}};f.exports.f=function(l){return g&&a.call(l)=="[object Window]"?u(l):s(x(l))}},"06cf":function(f,S,n){var x=n("83ab"),s=n("d1e7"),a=n("5c6c"),g=n("fc6a"),u=n("c04e"),h=n("5135"),l=n("0cfb"),o=Object.getOwnPropertyDescriptor;S.f=x?o:function(v,c){if(v=g(v),c=u(c,!0),l)try{return o(v,c)}catch{}if(h(v,c))return a(!s.f.call(v,c),v[c])}},"0cfb":function(f,S,n){var x=n("83ab"),s=n("d039"),a=n("cc12");f.exports=!x&&!s(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(f,S,n){var x=n("23e7"),s=n("d58f").left,a=n("a640"),g=n("ae40"),u=a("reduce"),h=g("reduce",{1:0});x({target:"Array",proto:!0,forced:!u||!h},{reduce:function(o){return s(this,o,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(f,S,n){var x=n("c6b6"),s=n("9263");f.exports=function(a,g){var u=a.exec;if(typeof u=="function"){var h=u.call(a,g);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(x(a)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(a,g)}},"159b":function(f,S,n){var x=n("da84"),s=n("fdbc"),a=n("17c2"),g=n("9112");for(var u in s){var h=x[u],l=h&&h.prototype;if(l&&l.forEach!==a)try{g(l,"forEach",a)}catch{l.forEach=a}}},"17c2":function(f,S,n){var x=n("b727").forEach,s=n("a640"),a=n("ae40"),g=s("forEach"),u=a("forEach");f.exports=!g||!u?function(l){return x(this,l,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(f,S,n){var x=n("d066");f.exports=x("document","documentElement")},"1c0b":function(f,S){f.exports=function(n){if(typeof n!="function")throw TypeError(String(n)+" is not a function");return n}},"1c7e":function(f,S,n){var x=n("b622"),s=x("iterator"),a=!1;try{var g=0,u={next:function(){return{done:!!g++}},return:function(){a=!0}};u[s]=function(){return this},Array.from(u,function(){throw 2})}catch{}f.exports=function(h,l){if(!l&&!a)return!1;var o=!1;try{var d={};d[s]=function(){return{next:function(){return{done:o=!0}}}},h(d)}catch{}return o}},"1d80":function(f,S){f.exports=function(n){if(n==null)throw TypeError("Can't call method on "+n);return n}},"1dde":function(f,S,n){var x=n("d039"),s=n("b622"),a=n("2d00"),g=s("species");f.exports=function(u){return a>=51||!x(function(){var h=[],l=h.constructor={};return l[g]=function(){return{foo:1}},h[u](Boolean).foo!==1})}},"23cb":function(f,S,n){var x=n("a691"),s=Math.max,a=Math.min;f.exports=function(g,u){var h=x(g);return h<0?s(h+u,0):a(h,u)}},"23e7":function(f,S,n){var x=n("da84"),s=n("06cf").f,a=n("9112"),g=n("6eeb"),u=n("ce4e"),h=n("e893"),l=n("94ca");f.exports=function(o,d){var v=o.target,c=o.global,p=o.stat,y,m,C,T,E,w;if(c?m=x:p?m=x[v]||u(v,{}):m=(x[v]||{}).prototype,m)for(C in d){if(E=d[C],o.noTargetGet?(w=s(m,C),T=w&&w.value):T=m[C],y=l(c?C:v+(p?".":"#")+C,o.forced),!y&&T!==void 0){if(typeof E==typeof T)continue;h(E,T)}(o.sham||T&&T.sham)&&a(E,"sham",!0),g(m,C,E,o)}}},"241c":function(f,S,n){var x=n("ca84"),s=n("7839"),a=s.concat("length","prototype");S.f=Object.getOwnPropertyNames||function(u){return x(u,a)}},"25f0":function(f,S,n){var x=n("6eeb"),s=n("825a"),a=n("d039"),g=n("ad6d"),u="toString",h=RegExp.prototype,l=h[u],o=a(function(){return l.call({source:"a",flags:"b"})!="/a/b"}),d=l.name!=u;(o||d)&&x(RegExp.prototype,u,function(){var c=s(this),p=String(c.source),y=c.flags,m=String(y===void 0&&c instanceof RegExp&&!("flags"in h)?g.call(c):y);return"/"+p+"/"+m},{unsafe:!0})},"2ca0":function(f,S,n){var x=n("23e7"),s=n("06cf").f,a=n("50c4"),g=n("5a34"),u=n("1d80"),h=n("ab13"),l=n("c430"),o="".startsWith,d=Math.min,v=h("startsWith"),c=!l&&!v&&!!function(){var p=s(String.prototype,"startsWith");return p&&!p.writable}();x({target:"String",proto:!0,forced:!c&&!v},{startsWith:function(y){var m=String(u(this));g(y);var C=a(d(arguments.length>1?arguments[1]:void 0,m.length)),T=String(y);return o?o.call(m,T,C):m.slice(C,C+T.length)===T}})},"2d00":function(f,S,n){var x=n("da84"),s=n("342f"),a=x.process,g=a&&a.versions,u=g&&g.v8,h,l;u?(h=u.split("."),l=h[0]+h[1]):s&&(h=s.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=s.match(/Chrome\/(\d+)/),h&&(l=h[1]))),f.exports=l&&+l},"342f":function(f,S,n){var x=n("d066");f.exports=x("navigator","userAgent")||""},"35a1":function(f,S,n){var x=n("f5df"),s=n("3f8c"),a=n("b622"),g=a("iterator");f.exports=function(u){if(u!=null)return u[g]||u["@@iterator"]||s[x(u)]}},"37e8":function(f,S,n){var x=n("83ab"),s=n("9bf2"),a=n("825a"),g=n("df75");f.exports=x?Object.defineProperties:function(h,l){a(h);for(var o=g(l),d=o.length,v=0,c;d>v;)s.f(h,c=o[v++],l[c]);return h}},"3bbe":function(f,S,n){var x=n("861d");f.exports=function(s){if(!x(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},"3ca3":function(f,S,n){var x=n("6547").charAt,s=n("69f3"),a=n("7dd0"),g="String Iterator",u=s.set,h=s.getterFor(g);a(String,"String",function(l){u(this,{type:g,string:String(l),index:0})},function(){var o=h(this),d=o.string,v=o.index,c;return v>=d.length?{value:void 0,done:!0}:(c=x(d,v),o.index+=c.length,{value:c,done:!1})})},"3f8c":function(f,S){f.exports={}},4160:function(f,S,n){var x=n("23e7"),s=n("17c2");x({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"428f":function(f,S,n){var x=n("da84");f.exports=x},"44ad":function(f,S,n){var x=n("d039"),s=n("c6b6"),a="".split;f.exports=x(function(){return!Object("z").propertyIsEnumerable(0)})?function(g){return s(g)=="String"?a.call(g,""):Object(g)}:Object},"44d2":function(f,S,n){var x=n("b622"),s=n("7c73"),a=n("9bf2"),g=x("unscopables"),u=Array.prototype;u[g]==null&&a.f(u,g,{configurable:!0,value:s(null)}),f.exports=function(h){u[g][h]=!0}},"44e7":function(f,S,n){var x=n("861d"),s=n("c6b6"),a=n("b622"),g=a("match");f.exports=function(u){var h;return x(u)&&((h=u[g])!==void 0?!!h:s(u)=="RegExp")}},4930:function(f,S,n){var x=n("d039");f.exports=!!Object.getOwnPropertySymbols&&!x(function(){return!String(Symbol())})},"4d64":function(f,S,n){var x=n("fc6a"),s=n("50c4"),a=n("23cb"),g=function(u){return function(h,l,o){var d=x(h),v=s(d.length),c=a(o,v),p;if(u&&l!=l){for(;v>c;)if(p=d[c++],p!=p)return!0}else for(;v>c;c++)if((u||c in d)&&d[c]===l)return u||c||0;return!u&&-1}};f.exports={includes:g(!0),indexOf:g(!1)}},"4de4":function(f,S,n){var x=n("23e7"),s=n("b727").filter,a=n("1dde"),g=n("ae40"),u=a("filter"),h=g("filter");x({target:"Array",proto:!0,forced:!u||!h},{filter:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(f,S,n){var x=n("0366"),s=n("7b0b"),a=n("9bdd"),g=n("e95a"),u=n("50c4"),h=n("8418"),l=n("35a1");f.exports=function(d){var v=s(d),c=typeof this=="function"?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,m=y!==void 0,C=l(v),T=0,E,w,P,b,M,A;if(m&&(y=x(y,p>2?arguments[2]:void 0,2)),C!=null&&!(c==Array&&g(C)))for(b=C.call(v),M=b.next,w=new c;!(P=M.call(b)).done;T++)A=m?a(b,y,[P.value,T],!0):P.value,h(w,T,A);else for(E=u(v.length),w=new c(E);E>T;T++)A=m?y(v[T],T):v[T],h(w,T,A);return w.length=T,w}},"4fad":function(f,S,n){var x=n("23e7"),s=n("6f53").entries;x({target:"Object",stat:!0},{entries:function(g){return s(g)}})},"50c4":function(f,S,n){var x=n("a691"),s=Math.min;f.exports=function(a){return a>0?s(x(a),9007199254740991):0}},5135:function(f,S){var n={}.hasOwnProperty;f.exports=function(x,s){return n.call(x,s)}},5319:function(f,S,n){var x=n("d784"),s=n("825a"),a=n("7b0b"),g=n("50c4"),u=n("a691"),h=n("1d80"),l=n("8aa5"),o=n("14c3"),d=Math.max,v=Math.min,c=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g,m=function(C){return C===void 0?C:String(C)};x("replace",2,function(C,T,E,w){var P=w.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=w.REPLACE_KEEPS_$0,M=P?"$":"$0";return[function(L,O){var D=h(this),I=L==null?void 0:L[C];return I!==void 0?I.call(L,D,O):T.call(String(D),L,O)},function(R,L){if(!P&&b||typeof L=="string"&&L.indexOf(M)===-1){var O=E(T,R,this,L);if(O.done)return O.value}var D=s(R),I=String(this),B=typeof L=="function";B||(L=String(L));var G=D.global;if(G){var z=D.unicode;D.lastIndex=0}for(var Y=[];;){var H=o(D,I);if(H===null||(Y.push(H),!G))break;var k=String(H[0]);k===""&&(D.lastIndex=l(I,g(D.lastIndex),z))}for(var U="",F=0,N=0;N<Y.length;N++){H=Y[N];for(var V=String(H[0]),$=d(v(u(H.index),I.length),0),X=[],j=1;j<H.length;j++)X.push(m(H[j]));var Q=H.groups;if(B){var K=[V].concat(X,$,I);Q!==void 0&&K.push(Q);var q=String(L.apply(void 0,K))}else q=A(V,I,$,X,Q,L);$>=F&&(U+=I.slice(F,$)+q,F=$+V.length)}return U+I.slice(F)}];function A(R,L,O,D,I,B){var G=O+R.length,z=D.length,Y=y;return I!==void 0&&(I=a(I),Y=p),T.call(B,Y,function(H,k){var U;switch(k.charAt(0)){case"$":return"$";case"&":return R;case"`":return L.slice(0,O);case"'":return L.slice(G);case"<":U=I[k.slice(1,-1)];break;default:var F=+k;if(F===0)return H;if(F>z){var N=c(F/10);return N===0?H:N<=z?D[N-1]===void 0?k.charAt(1):D[N-1]+k.charAt(1):H}U=D[F-1]}return U===void 0?"":U})}})},5692:function(f,S,n){var x=n("c430"),s=n("c6cd");(f.exports=function(a,g){return s[a]||(s[a]=g!==void 0?g:{})})("versions",[]).push({version:"3.6.5",mode:x?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(f,S,n){var x=n("d066"),s=n("241c"),a=n("7418"),g=n("825a");f.exports=x("Reflect","ownKeys")||function(h){var l=s.f(g(h)),o=a.f;return o?l.concat(o(h)):l}},"5a34":function(f,S,n){var x=n("44e7");f.exports=function(s){if(x(s))throw TypeError("The method doesn't accept regular expressions");return s}},"5c6c":function(f,S){f.exports=function(n,x){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:x}}},"5db7":function(f,S,n){var x=n("23e7"),s=n("a2bf"),a=n("7b0b"),g=n("50c4"),u=n("1c0b"),h=n("65f0");x({target:"Array",proto:!0},{flatMap:function(o){var d=a(this),v=g(d.length),c;return u(o),c=h(d,0),c.length=s(c,d,d,v,0,1,o,arguments.length>1?arguments[1]:void 0),c}})},6547:function(f,S,n){var x=n("a691"),s=n("1d80"),a=function(g){return function(u,h){var l=String(s(u)),o=x(h),d=l.length,v,c;return o<0||o>=d?g?"":void 0:(v=l.charCodeAt(o),v<55296||v>56319||o+1===d||(c=l.charCodeAt(o+1))<56320||c>57343?g?l.charAt(o):v:g?l.slice(o,o+2):(v-55296<<10)+(c-56320)+65536)}};f.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(f,S,n){var x=n("861d"),s=n("e8b5"),a=n("b622"),g=a("species");f.exports=function(u,h){var l;return s(u)&&(l=u.constructor,typeof l=="function"&&(l===Array||s(l.prototype))?l=void 0:x(l)&&(l=l[g],l===null&&(l=void 0))),new(l===void 0?Array:l)(h===0?0:h)}},"69f3":function(f,S,n){var x=n("7f9a"),s=n("da84"),a=n("861d"),g=n("9112"),u=n("5135"),h=n("f772"),l=n("d012"),o=s.WeakMap,d,v,c,p=function(P){return c(P)?v(P):d(P,{})},y=function(P){return function(b){var M;if(!a(b)||(M=v(b)).type!==P)throw TypeError("Incompatible receiver, "+P+" required");return M}};if(x){var m=new o,C=m.get,T=m.has,E=m.set;d=function(P,b){return E.call(m,P,b),b},v=function(P){return C.call(m,P)||{}},c=function(P){return T.call(m,P)}}else{var w=h("state");l[w]=!0,d=function(P,b){return g(P,w,b),b},v=function(P){return u(P,w)?P[w]:{}},c=function(P){return u(P,w)}}f.exports={set:d,get:v,has:c,enforce:p,getterFor:y}},"6eeb":function(f,S,n){var x=n("da84"),s=n("9112"),a=n("5135"),g=n("ce4e"),u=n("8925"),h=n("69f3"),l=h.get,o=h.enforce,d=String(String).split("String");(f.exports=function(v,c,p,y){var m=y?!!y.unsafe:!1,C=y?!!y.enumerable:!1,T=y?!!y.noTargetGet:!1;if(typeof p=="function"&&(typeof c=="string"&&!a(p,"name")&&s(p,"name",c),o(p).source=d.join(typeof c=="string"?c:"")),v===x){C?v[c]=p:g(c,p);return}else m?!T&&v[c]&&(C=!0):delete v[c];C?v[c]=p:s(v,c,p)})(Function.prototype,"toString",function(){return typeof this=="function"&&l(this).source||u(this)})},"6f53":function(f,S,n){var x=n("83ab"),s=n("df75"),a=n("fc6a"),g=n("d1e7").f,u=function(h){return function(l){for(var o=a(l),d=s(o),v=d.length,c=0,p=[],y;v>c;)y=d[c++],(!x||g.call(o,y))&&p.push(h?[y,o[y]]:o[y]);return p}};f.exports={entries:u(!0),values:u(!1)}},"73d9":function(f,S,n){var x=n("44d2");x("flatMap")},7418:function(f,S){S.f=Object.getOwnPropertySymbols},"746f":function(f,S,n){var x=n("428f"),s=n("5135"),a=n("e538"),g=n("9bf2").f;f.exports=function(u){var h=x.Symbol||(x.Symbol={});s(h,u)||g(h,u,{value:a.f(u)})}},7839:function(f,S){f.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(f,S,n){var x=n("1d80");f.exports=function(s){return Object(x(s))}},"7c73":function(f,S,n){var x=n("825a"),s=n("37e8"),a=n("7839"),g=n("d012"),u=n("1be4"),h=n("cc12"),l=n("f772"),o=">",d="<",v="prototype",c="script",p=l("IE_PROTO"),y=function(){},m=function(P){return d+c+o+P+d+"/"+c+o},C=function(P){P.write(m("")),P.close();var b=P.parentWindow.Object;return P=null,b},T=function(){var P=h("iframe"),b="java"+c+":",M;return P.style.display="none",u.appendChild(P),P.src=String(b),M=P.contentWindow.document,M.open(),M.write(m("document.F=Object")),M.close(),M.F},E,w=function(){try{E=document.domain&&new ActiveXObject("htmlfile")}catch{}w=E?C(E):T();for(var P=a.length;P--;)delete w[v][a[P]];return w()};g[p]=!0,f.exports=Object.create||function(b,M){var A;return b!==null?(y[v]=x(b),A=new y,y[v]=null,A[p]=b):A=w(),M===void 0?A:s(A,M)}},"7dd0":function(f,S,n){var x=n("23e7"),s=n("9ed3"),a=n("e163"),g=n("d2bb"),u=n("d44e"),h=n("9112"),l=n("6eeb"),o=n("b622"),d=n("c430"),v=n("3f8c"),c=n("ae93"),p=c.IteratorPrototype,y=c.BUGGY_SAFARI_ITERATORS,m=o("iterator"),C="keys",T="values",E="entries",w=function(){return this};f.exports=function(P,b,M,A,R,L,O){s(M,b,A);var D=function(N){if(N===R&&Y)return Y;if(!y&&N in G)return G[N];switch(N){case C:return function(){return new M(this,N)};case T:return function(){return new M(this,N)};case E:return function(){return new M(this,N)}}return function(){return new M(this)}},I=b+" Iterator",B=!1,G=P.prototype,z=G[m]||G["@@iterator"]||R&&G[R],Y=!y&&z||D(R),H=b=="Array"&&G.entries||z,k,U,F;if(H&&(k=a(H.call(new P)),p!==Object.prototype&&k.next&&(!d&&a(k)!==p&&(g?g(k,p):typeof k[m]!="function"&&h(k,m,w)),u(k,I,!0,!0),d&&(v[I]=w))),R==T&&z&&z.name!==T&&(B=!0,Y=function(){return z.call(this)}),(!d||O)&&G[m]!==Y&&h(G,m,Y),v[b]=Y,R)if(U={values:D(T),keys:L?Y:D(C),entries:D(E)},O)for(F in U)(y||B||!(F in G))&&l(G,F,U[F]);else x({target:b,proto:!0,forced:y||B},U);return U}},"7f9a":function(f,S,n){var x=n("da84"),s=n("8925"),a=x.WeakMap;f.exports=typeof a=="function"&&/native code/.test(s(a))},"825a":function(f,S,n){var x=n("861d");f.exports=function(s){if(!x(s))throw TypeError(String(s)+" is not an object");return s}},"83ab":function(f,S,n){var x=n("d039");f.exports=!x(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(f,S,n){var x=n("c04e"),s=n("9bf2"),a=n("5c6c");f.exports=function(g,u,h){var l=x(u);l in g?s.f(g,l,a(0,h)):g[l]=h}},"861d":function(f,S){f.exports=function(n){return typeof n=="object"?n!==null:typeof n=="function"}},8875:function(f,S,n){var x,s,a;(function(g,u){s=[],x=u,a=typeof x=="function"?x.apply(S,s):x,a!==void 0&&(f.exports=a)})(typeof self<"u"?self:this,function(){function g(){var u=Object.getOwnPropertyDescriptor(document,"currentScript");if(!u&&"currentScript"in document&&document.currentScript||u&&u.get!==g&&document.currentScript)return document.currentScript;try{throw new Error}catch(E){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,l=/@([^@]*):(\d+):(\d+)\s*$/ig,o=h.exec(E.stack)||l.exec(E.stack),d=o&&o[1]||!1,v=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),p,y,m,C=document.getElementsByTagName("script");d===c&&(p=document.documentElement.outerHTML,y=new RegExp("(?:[^\\n]+?\\n){0,"+(v-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),m=p.replace(y,"$1").trim());for(var T=0;T<C.length;T++)if(C[T].readyState==="interactive"||C[T].src===d||d===c&&C[T].innerHTML&&C[T].innerHTML.trim()===m)return C[T];return null}}return g})},8925:function(f,S,n){var x=n("c6cd"),s=Function.toString;typeof x.inspectSource!="function"&&(x.inspectSource=function(a){return s.call(a)}),f.exports=x.inspectSource},"8aa5":function(f,S,n){var x=n("6547").charAt;f.exports=function(s,a,g){return a+(g?x(s,a).length:1)}},"8bbf":function(f,S){f.exports=i},"90e3":function(f,S){var n=0,x=Math.random();f.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++n+x).toString(36)}},9112:function(f,S,n){var x=n("83ab"),s=n("9bf2"),a=n("5c6c");f.exports=x?function(g,u,h){return s.f(g,u,a(1,h))}:function(g,u,h){return g[u]=h,g}},9263:function(f,S,n){var x=n("ad6d"),s=n("9f7f"),a=RegExp.prototype.exec,g=String.prototype.replace,u=a,h=function(){var v=/a/,c=/b*/g;return a.call(v,"a"),a.call(c,"a"),v.lastIndex!==0||c.lastIndex!==0}(),l=s.UNSUPPORTED_Y||s.BROKEN_CARET,o=/()??/.exec("")[1]!==void 0,d=h||o||l;d&&(u=function(c){var p=this,y,m,C,T,E=l&&p.sticky,w=x.call(p),P=p.source,b=0,M=c;return E&&(w=w.replace("y",""),w.indexOf("g")===-1&&(w+="g"),M=String(c).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&c[p.lastIndex-1]!==`
`)&&(P="(?: "+P+")",M=" "+M,b++),m=new RegExp("^(?:"+P+")",w)),o&&(m=new RegExp("^"+P+"$(?!\\s)",w)),h&&(y=p.lastIndex),C=a.call(E?m:p,M),E?C?(C.input=C.input.slice(b),C[0]=C[0].slice(b),C.index=p.lastIndex,p.lastIndex+=C[0].length):p.lastIndex=0:h&&C&&(p.lastIndex=p.global?C.index+C[0].length:y),o&&C&&C.length>1&&g.call(C[0],m,function(){for(T=1;T<arguments.length-2;T++)arguments[T]===void 0&&(C[T]=void 0)}),C}),f.exports=u},"94ca":function(f,S,n){var x=n("d039"),s=/#|\.prototype\./,a=function(o,d){var v=u[g(o)];return v==l?!0:v==h?!1:typeof d=="function"?x(d):!!d},g=a.normalize=function(o){return String(o).replace(s,".").toLowerCase()},u=a.data={},h=a.NATIVE="N",l=a.POLYFILL="P";f.exports=a},"99af":function(f,S,n){var x=n("23e7"),s=n("d039"),a=n("e8b5"),g=n("861d"),u=n("7b0b"),h=n("50c4"),l=n("8418"),o=n("65f0"),d=n("1dde"),v=n("b622"),c=n("2d00"),p=v("isConcatSpreadable"),y=9007199254740991,m="Maximum allowed index exceeded",C=c>=51||!s(function(){var P=[];return P[p]=!1,P.concat()[0]!==P}),T=d("concat"),E=function(P){if(!g(P))return!1;var b=P[p];return b!==void 0?!!b:a(P)},w=!C||!T;x({target:"Array",proto:!0,forced:w},{concat:function(b){var M=u(this),A=o(M,0),R=0,L,O,D,I,B;for(L=-1,D=arguments.length;L<D;L++)if(B=L===-1?M:arguments[L],E(B)){if(I=h(B.length),R+I>y)throw TypeError(m);for(O=0;O<I;O++,R++)O in B&&l(A,R,B[O])}else{if(R>=y)throw TypeError(m);l(A,R++,B)}return A.length=R,A}})},"9bdd":function(f,S,n){var x=n("825a");f.exports=function(s,a,g,u){try{return u?a(x(g)[0],g[1]):a(g)}catch(l){var h=s.return;throw h!==void 0&&x(h.call(s)),l}}},"9bf2":function(f,S,n){var x=n("83ab"),s=n("0cfb"),a=n("825a"),g=n("c04e"),u=Object.defineProperty;S.f=x?u:function(l,o,d){if(a(l),o=g(o,!0),a(d),s)try{return u(l,o,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported");return"value"in d&&(l[o]=d.value),l}},"9ed3":function(f,S,n){var x=n("ae93").IteratorPrototype,s=n("7c73"),a=n("5c6c"),g=n("d44e"),u=n("3f8c"),h=function(){return this};f.exports=function(l,o,d){var v=o+" Iterator";return l.prototype=s(x,{next:a(1,d)}),g(l,v,!1,!0),u[v]=h,l}},"9f7f":function(f,S,n){var x=n("d039");function s(a,g){return RegExp(a,g)}S.UNSUPPORTED_Y=x(function(){var a=s("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),S.BROKEN_CARET=x(function(){var a=s("^r","gy");return a.lastIndex=2,a.exec("str")!=null})},a2bf:function(f,S,n){var x=n("e8b5"),s=n("50c4"),a=n("0366"),g=function(u,h,l,o,d,v,c,p){for(var y=d,m=0,C=c?a(c,p,3):!1,T;m<o;){if(m in l){if(T=C?C(l[m],m,h):l[m],v>0&&x(T))y=g(u,h,T,s(T.length),y,v-1)-1;else{if(y>=9007199254740991)throw TypeError("Exceed the acceptable array length");u[y]=T}y++}m++}return y};f.exports=g},a352:function(f,S){f.exports=r},a434:function(f,S,n){var x=n("23e7"),s=n("23cb"),a=n("a691"),g=n("50c4"),u=n("7b0b"),h=n("65f0"),l=n("8418"),o=n("1dde"),d=n("ae40"),v=o("splice"),c=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,y=Math.min,m=9007199254740991,C="Maximum allowed length exceeded";x({target:"Array",proto:!0,forced:!v||!c},{splice:function(E,w){var P=u(this),b=g(P.length),M=s(E,b),A=arguments.length,R,L,O,D,I,B;if(A===0?R=L=0:A===1?(R=0,L=b-M):(R=A-2,L=y(p(a(w),0),b-M)),b+R-L>m)throw TypeError(C);for(O=h(P,L),D=0;D<L;D++)I=M+D,I in P&&l(O,D,P[I]);if(O.length=L,R<L){for(D=M;D<b-L;D++)I=D+L,B=D+R,I in P?P[B]=P[I]:delete P[B];for(D=b;D>b-L+R;D--)delete P[D-1]}else if(R>L)for(D=b-L;D>M;D--)I=D+L-1,B=D+R-1,I in P?P[B]=P[I]:delete P[B];for(D=0;D<R;D++)P[D+M]=arguments[D+2];return P.length=b-L+R,O}})},a4d3:function(f,S,n){var x=n("23e7"),s=n("da84"),a=n("d066"),g=n("c430"),u=n("83ab"),h=n("4930"),l=n("fdbf"),o=n("d039"),d=n("5135"),v=n("e8b5"),c=n("861d"),p=n("825a"),y=n("7b0b"),m=n("fc6a"),C=n("c04e"),T=n("5c6c"),E=n("7c73"),w=n("df75"),P=n("241c"),b=n("057f"),M=n("7418"),A=n("06cf"),R=n("9bf2"),L=n("d1e7"),O=n("9112"),D=n("6eeb"),I=n("5692"),B=n("f772"),G=n("d012"),z=n("90e3"),Y=n("b622"),H=n("e538"),k=n("746f"),U=n("d44e"),F=n("69f3"),N=n("b727").forEach,V=B("hidden"),$="Symbol",X="prototype",j=Y("toPrimitive"),Q=F.set,K=F.getterFor($),q=Object[X],tt=s.Symbol,st=a("JSON","stringify"),nt=A.f,rt=R.f,ut=b.f,vt=L.f,pt=I("symbols"),ft=I("op-symbols"),lt=I("string-to-symbol-registry"),yt=I("symbol-to-string-registry"),Ct=I("wks"),Rt=s.QObject,Dt=!Rt||!Rt[X]||!Rt[X].findChild,Tt=u&&o(function(){return E(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a!=7})?function(At,Lt,Bt){var Yt=nt(q,Lt);Yt&&delete q[Lt],rt(At,Lt,Bt),Yt&&At!==q&&rt(q,Lt,Yt)}:rt,Et=function(At,Lt){var Bt=pt[At]=E(tt[X]);return Q(Bt,{type:$,tag:At,description:Lt}),u||(Bt.description=Lt),Bt},ot=l?function(At){return typeof At=="symbol"}:function(At){return Object(At)instanceof tt},at=function(Lt,Bt,Yt){Lt===q&&at(ft,Bt,Yt),p(Lt);var Xt=C(Bt,!0);return p(Yt),d(pt,Xt)?(Yt.enumerable?(d(Lt,V)&&Lt[V][Xt]&&(Lt[V][Xt]=!1),Yt=E(Yt,{enumerable:T(0,!1)})):(d(Lt,V)||rt(Lt,V,T(1,{})),Lt[V][Xt]=!0),Tt(Lt,Xt,Yt)):rt(Lt,Xt,Yt)},gt=function(Lt,Bt){p(Lt);var Yt=m(Bt),Xt=w(Yt).concat(St(Yt));return N(Xt,function(Re){(!u||it.call(Yt,Re))&&at(Lt,Re,Yt[Re])}),Lt},_=function(Lt,Bt){return Bt===void 0?E(Lt):gt(E(Lt),Bt)},it=function(Lt){var Bt=C(Lt,!0),Yt=vt.call(this,Bt);return this===q&&d(pt,Bt)&&!d(ft,Bt)?!1:Yt||!d(this,Bt)||!d(pt,Bt)||d(this,V)&&this[V][Bt]?Yt:!0},ht=function(Lt,Bt){var Yt=m(Lt),Xt=C(Bt,!0);if(!(Yt===q&&d(pt,Xt)&&!d(ft,Xt))){var Re=nt(Yt,Xt);return Re&&d(pt,Xt)&&!(d(Yt,V)&&Yt[V][Xt])&&(Re.enumerable=!0),Re}},dt=function(Lt){var Bt=ut(m(Lt)),Yt=[];return N(Bt,function(Xt){!d(pt,Xt)&&!d(G,Xt)&&Yt.push(Xt)}),Yt},St=function(Lt){var Bt=Lt===q,Yt=ut(Bt?ft:m(Lt)),Xt=[];return N(Yt,function(Re){d(pt,Re)&&(!Bt||d(q,Re))&&Xt.push(pt[Re])}),Xt};if(h||(tt=function(){if(this instanceof tt)throw TypeError("Symbol is not a constructor");var Lt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Bt=z(Lt),Yt=function(Xt){this===q&&Yt.call(ft,Xt),d(this,V)&&d(this[V],Bt)&&(this[V][Bt]=!1),Tt(this,Bt,T(1,Xt))};return u&&Dt&&Tt(q,Bt,{configurable:!0,set:Yt}),Et(Bt,Lt)},D(tt[X],"toString",function(){return K(this).tag}),D(tt,"withoutSetter",function(At){return Et(z(At),At)}),L.f=it,R.f=at,A.f=ht,P.f=b.f=dt,M.f=St,H.f=function(At){return Et(Y(At),At)},u&&(rt(tt[X],"description",{configurable:!0,get:function(){return K(this).description}}),g||D(q,"propertyIsEnumerable",it,{unsafe:!0}))),x({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:tt}),N(w(Ct),function(At){k(At)}),x({target:$,stat:!0,forced:!h},{for:function(At){var Lt=String(At);if(d(lt,Lt))return lt[Lt];var Bt=tt(Lt);return lt[Lt]=Bt,yt[Bt]=Lt,Bt},keyFor:function(Lt){if(!ot(Lt))throw TypeError(Lt+" is not a symbol");if(d(yt,Lt))return yt[Lt]},useSetter:function(){Dt=!0},useSimple:function(){Dt=!1}}),x({target:"Object",stat:!0,forced:!h,sham:!u},{create:_,defineProperty:at,defineProperties:gt,getOwnPropertyDescriptor:ht}),x({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:dt,getOwnPropertySymbols:St}),x({target:"Object",stat:!0,forced:o(function(){M.f(1)})},{getOwnPropertySymbols:function(Lt){return M.f(y(Lt))}}),st){var It=!h||o(function(){var At=tt();return st([At])!="[null]"||st({a:At})!="{}"||st(Object(At))!="{}"});x({target:"JSON",stat:!0,forced:It},{stringify:function(Lt,Bt,Yt){for(var Xt=[Lt],Re=1,Ki;arguments.length>Re;)Xt.push(arguments[Re++]);if(Ki=Bt,!(!c(Bt)&&Lt===void 0||ot(Lt)))return v(Bt)||(Bt=function(Yr,ao){if(typeof Ki=="function"&&(ao=Ki.call(this,Yr,ao)),!ot(ao))return ao}),Xt[1]=Bt,st.apply(null,Xt)}})}tt[X][j]||O(tt[X],j,tt[X].valueOf),U(tt,$),G[V]=!0},a630:function(f,S,n){var x=n("23e7"),s=n("4df4"),a=n("1c7e"),g=!a(function(u){Array.from(u)});x({target:"Array",stat:!0,forced:g},{from:s})},a640:function(f,S,n){var x=n("d039");f.exports=function(s,a){var g=[][s];return!!g&&x(function(){g.call(null,a||function(){throw 1},1)})}},a691:function(f,S){var n=Math.ceil,x=Math.floor;f.exports=function(s){return isNaN(s=+s)?0:(s>0?x:n)(s)}},ab13:function(f,S,n){var x=n("b622"),s=x("match");f.exports=function(a){var g=/./;try{"/./"[a](g)}catch{try{return g[s]=!1,"/./"[a](g)}catch{}}return!1}},ac1f:function(f,S,n){var x=n("23e7"),s=n("9263");x({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(f,S,n){var x=n("825a");f.exports=function(){var s=x(this),a="";return s.global&&(a+="g"),s.ignoreCase&&(a+="i"),s.multiline&&(a+="m"),s.dotAll&&(a+="s"),s.unicode&&(a+="u"),s.sticky&&(a+="y"),a}},ae40:function(f,S,n){var x=n("83ab"),s=n("d039"),a=n("5135"),g=Object.defineProperty,u={},h=function(l){throw l};f.exports=function(l,o){if(a(u,l))return u[l];o||(o={});var d=[][l],v=a(o,"ACCESSORS")?o.ACCESSORS:!1,c=a(o,0)?o[0]:h,p=a(o,1)?o[1]:void 0;return u[l]=!!d&&!s(function(){if(v&&!x)return!0;var y={length:-1};v?g(y,1,{enumerable:!0,get:h}):y[1]=1,d.call(y,c,p)})}},ae93:function(f,S,n){var x=n("e163"),s=n("9112"),a=n("5135"),g=n("b622"),u=n("c430"),h=g("iterator"),l=!1,o=function(){return this},d,v,c;[].keys&&(c=[].keys(),"next"in c?(v=x(x(c)),v!==Object.prototype&&(d=v)):l=!0),d==null&&(d={}),!u&&!a(d,h)&&s(d,h,o),f.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l}},b041:function(f,S,n){var x=n("00ee"),s=n("f5df");f.exports=x?{}.toString:function(){return"[object "+s(this)+"]"}},b0c0:function(f,S,n){var x=n("83ab"),s=n("9bf2").f,a=Function.prototype,g=a.toString,u=/^\s*function ([^ (]*)/,h="name";x&&!(h in a)&&s(a,h,{configurable:!0,get:function(){try{return g.call(this).match(u)[1]}catch{return""}}})},b622:function(f,S,n){var x=n("da84"),s=n("5692"),a=n("5135"),g=n("90e3"),u=n("4930"),h=n("fdbf"),l=s("wks"),o=x.Symbol,d=h?o:o&&o.withoutSetter||g;f.exports=function(v){return a(l,v)||(u&&a(o,v)?l[v]=o[v]:l[v]=d("Symbol."+v)),l[v]}},b64b:function(f,S,n){var x=n("23e7"),s=n("7b0b"),a=n("df75"),g=n("d039"),u=g(function(){a(1)});x({target:"Object",stat:!0,forced:u},{keys:function(l){return a(s(l))}})},b727:function(f,S,n){var x=n("0366"),s=n("44ad"),a=n("7b0b"),g=n("50c4"),u=n("65f0"),h=[].push,l=function(o){var d=o==1,v=o==2,c=o==3,p=o==4,y=o==6,m=o==5||y;return function(C,T,E,w){for(var P=a(C),b=s(P),M=x(T,E,3),A=g(b.length),R=0,L=w||u,O=d?L(C,A):v?L(C,0):void 0,D,I;A>R;R++)if((m||R in b)&&(D=b[R],I=M(D,R,P),o)){if(d)O[R]=I;else if(I)switch(o){case 3:return!0;case 5:return D;case 6:return R;case 2:h.call(O,D)}else if(p)return!1}return y?-1:c||p?p:O}};f.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},c04e:function(f,S,n){var x=n("861d");f.exports=function(s,a){if(!x(s))return s;var g,u;if(a&&typeof(g=s.toString)=="function"&&!x(u=g.call(s))||typeof(g=s.valueOf)=="function"&&!x(u=g.call(s))||!a&&typeof(g=s.toString)=="function"&&!x(u=g.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},c430:function(f,S){f.exports=!1},c6b6:function(f,S){var n={}.toString;f.exports=function(x){return n.call(x).slice(8,-1)}},c6cd:function(f,S,n){var x=n("da84"),s=n("ce4e"),a="__core-js_shared__",g=x[a]||s(a,{});f.exports=g},c740:function(f,S,n){var x=n("23e7"),s=n("b727").findIndex,a=n("44d2"),g=n("ae40"),u="findIndex",h=!0,l=g(u);u in[]&&Array(1)[u](function(){h=!1}),x({target:"Array",proto:!0,forced:h||!l},{findIndex:function(d){return s(this,d,arguments.length>1?arguments[1]:void 0)}}),a(u)},c8ba:function(f,S){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}f.exports=n},c975:function(f,S,n){var x=n("23e7"),s=n("4d64").indexOf,a=n("a640"),g=n("ae40"),u=[].indexOf,h=!!u&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),o=g("indexOf",{ACCESSORS:!0,1:0});x({target:"Array",proto:!0,forced:h||!l||!o},{indexOf:function(v){return h?u.apply(this,arguments)||0:s(this,v,arguments.length>1?arguments[1]:void 0)}})},ca84:function(f,S,n){var x=n("5135"),s=n("fc6a"),a=n("4d64").indexOf,g=n("d012");f.exports=function(u,h){var l=s(u),o=0,d=[],v;for(v in l)!x(g,v)&&x(l,v)&&d.push(v);for(;h.length>o;)x(l,v=h[o++])&&(~a(d,v)||d.push(v));return d}},caad:function(f,S,n){var x=n("23e7"),s=n("4d64").includes,a=n("44d2"),g=n("ae40"),u=g("indexOf",{ACCESSORS:!0,1:0});x({target:"Array",proto:!0,forced:!u},{includes:function(l){return s(this,l,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cc12:function(f,S,n){var x=n("da84"),s=n("861d"),a=x.document,g=s(a)&&s(a.createElement);f.exports=function(u){return g?a.createElement(u):{}}},ce4e:function(f,S,n){var x=n("da84"),s=n("9112");f.exports=function(a,g){try{s(x,a,g)}catch{x[a]=g}return g}},d012:function(f,S){f.exports={}},d039:function(f,S){f.exports=function(n){try{return!!n()}catch{return!0}}},d066:function(f,S,n){var x=n("428f"),s=n("da84"),a=function(g){return typeof g=="function"?g:void 0};f.exports=function(g,u){return arguments.length<2?a(x[g])||a(s[g]):x[g]&&x[g][u]||s[g]&&s[g][u]}},d1e7:function(f,S,n){var x={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,a=s&&!x.call({1:2},1);S.f=a?function(u){var h=s(this,u);return!!h&&h.enumerable}:x},d28b:function(f,S,n){var x=n("746f");x("iterator")},d2bb:function(f,S,n){var x=n("825a"),s=n("3bbe");f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,g={},u;try{u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,u.call(g,[]),a=g instanceof Array}catch{}return function(l,o){return x(l),s(o),a?u.call(l,o):l.__proto__=o,l}}():void 0)},d3b7:function(f,S,n){var x=n("00ee"),s=n("6eeb"),a=n("b041");x||s(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(f,S,n){var x=n("9bf2").f,s=n("5135"),a=n("b622"),g=a("toStringTag");f.exports=function(u,h,l){u&&!s(u=l?u:u.prototype,g)&&x(u,g,{configurable:!0,value:h})}},d58f:function(f,S,n){var x=n("1c0b"),s=n("7b0b"),a=n("44ad"),g=n("50c4"),u=function(h){return function(l,o,d,v){x(o);var c=s(l),p=a(c),y=g(c.length),m=h?y-1:0,C=h?-1:1;if(d<2)for(;;){if(m in p){v=p[m],m+=C;break}if(m+=C,h?m<0:y<=m)throw TypeError("Reduce of empty array with no initial value")}for(;h?m>=0:y>m;m+=C)m in p&&(v=o(v,p[m],m,c));return v}};f.exports={left:u(!1),right:u(!0)}},d784:function(f,S,n){n("ac1f");var x=n("6eeb"),s=n("d039"),a=n("b622"),g=n("9263"),u=n("9112"),h=a("species"),l=!s(function(){var p=/./;return p.exec=function(){var y=[];return y.groups={a:"7"},y},"".replace(p,"$<a>")!=="7"}),o=function(){return"a".replace(/./,"$0")==="$0"}(),d=a("replace"),v=function(){return/./[d]?/./[d]("a","$0")==="":!1}(),c=!s(function(){var p=/(?:)/,y=p.exec;p.exec=function(){return y.apply(this,arguments)};var m="ab".split(p);return m.length!==2||m[0]!=="a"||m[1]!=="b"});f.exports=function(p,y,m,C){var T=a(p),E=!s(function(){var R={};return R[T]=function(){return 7},""[p](R)!=7}),w=E&&!s(function(){var R=!1,L=/a/;return p==="split"&&(L={},L.constructor={},L.constructor[h]=function(){return L},L.flags="",L[T]=/./[T]),L.exec=function(){return R=!0,null},L[T](""),!R});if(!E||!w||p==="replace"&&!(l&&o&&!v)||p==="split"&&!c){var P=/./[T],b=m(T,""[p],function(R,L,O,D,I){return L.exec===g?E&&!I?{done:!0,value:P.call(L,O,D)}:{done:!0,value:R.call(O,L,D)}:{done:!1}},{REPLACE_KEEPS_$0:o,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),M=b[0],A=b[1];x(String.prototype,p,M),x(RegExp.prototype,T,y==2?function(R,L){return A.call(R,this,L)}:function(R){return A.call(R,this)})}C&&u(RegExp.prototype[T],"sham",!0)}},d81d:function(f,S,n){var x=n("23e7"),s=n("b727").map,a=n("1dde"),g=n("ae40"),u=a("map"),h=g("map");x({target:"Array",proto:!0,forced:!u||!h},{map:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}})},da84:function(f,S,n){(function(x){var s=function(a){return a&&a.Math==Math&&a};f.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof x=="object"&&x)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(f,S,n){var x=n("23e7"),s=n("83ab"),a=n("56ef"),g=n("fc6a"),u=n("06cf"),h=n("8418");x({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(o){for(var d=g(o),v=u.f,c=a(d),p={},y=0,m,C;c.length>y;)C=v(d,m=c[y++]),C!==void 0&&h(p,m,C);return p}})},dbf1:function(f,S,n){(function(x){n.d(S,"a",function(){return a});function s(){return typeof window<"u"?window.console:x.console}var a=s()}).call(this,n("c8ba"))},ddb0:function(f,S,n){var x=n("da84"),s=n("fdbc"),a=n("e260"),g=n("9112"),u=n("b622"),h=u("iterator"),l=u("toStringTag"),o=a.values;for(var d in s){var v=x[d],c=v&&v.prototype;if(c){if(c[h]!==o)try{g(c,h,o)}catch{c[h]=o}if(c[l]||g(c,l,d),s[d]){for(var p in a)if(c[p]!==a[p])try{g(c,p,a[p])}catch{c[p]=a[p]}}}}},df75:function(f,S,n){var x=n("ca84"),s=n("7839");f.exports=Object.keys||function(g){return x(g,s)}},e01a:function(f,S,n){var x=n("23e7"),s=n("83ab"),a=n("da84"),g=n("5135"),u=n("861d"),h=n("9bf2").f,l=n("e893"),o=a.Symbol;if(s&&typeof o=="function"&&(!("description"in o.prototype)||o().description!==void 0)){var d={},v=function(){var T=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),E=this instanceof v?new o(T):T===void 0?o():o(T);return T===""&&(d[E]=!0),E};l(v,o);var c=v.prototype=o.prototype;c.constructor=v;var p=c.toString,y=String(o("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/;h(c,"description",{configurable:!0,get:function(){var T=u(this)?this.valueOf():this,E=p.call(T);if(g(d,T))return"";var w=y?E.slice(7,-1):E.replace(m,"$1");return w===""?void 0:w}}),x({global:!0,forced:!0},{Symbol:v})}},e163:function(f,S,n){var x=n("5135"),s=n("7b0b"),a=n("f772"),g=n("e177"),u=a("IE_PROTO"),h=Object.prototype;f.exports=g?Object.getPrototypeOf:function(l){return l=s(l),x(l,u)?l[u]:typeof l.constructor=="function"&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?h:null}},e177:function(f,S,n){var x=n("d039");f.exports=!x(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},e260:function(f,S,n){var x=n("fc6a"),s=n("44d2"),a=n("3f8c"),g=n("69f3"),u=n("7dd0"),h="Array Iterator",l=g.set,o=g.getterFor(h);f.exports=u(Array,"Array",function(d,v){l(this,{type:h,target:x(d),index:0,kind:v})},function(){var d=o(this),v=d.target,c=d.kind,p=d.index++;return!v||p>=v.length?(d.target=void 0,{value:void 0,done:!0}):c=="keys"?{value:p,done:!1}:c=="values"?{value:v[p],done:!1}:{value:[p,v[p]],done:!1}},"values"),a.Arguments=a.Array,s("keys"),s("values"),s("entries")},e439:function(f,S,n){var x=n("23e7"),s=n("d039"),a=n("fc6a"),g=n("06cf").f,u=n("83ab"),h=s(function(){g(1)}),l=!u||h;x({target:"Object",stat:!0,forced:l,sham:!u},{getOwnPropertyDescriptor:function(d,v){return g(a(d),v)}})},e538:function(f,S,n){var x=n("b622");S.f=x},e893:function(f,S,n){var x=n("5135"),s=n("56ef"),a=n("06cf"),g=n("9bf2");f.exports=function(u,h){for(var l=s(h),o=g.f,d=a.f,v=0;v<l.length;v++){var c=l[v];x(u,c)||o(u,c,d(h,c))}}},e8b5:function(f,S,n){var x=n("c6b6");f.exports=Array.isArray||function(a){return x(a)=="Array"}},e95a:function(f,S,n){var x=n("b622"),s=n("3f8c"),a=x("iterator"),g=Array.prototype;f.exports=function(u){return u!==void 0&&(s.Array===u||g[a]===u)}},f5df:function(f,S,n){var x=n("00ee"),s=n("c6b6"),a=n("b622"),g=a("toStringTag"),u=s(function(){return arguments}())=="Arguments",h=function(l,o){try{return l[o]}catch{}};f.exports=x?s:function(l){var o,d,v;return l===void 0?"Undefined":l===null?"Null":typeof(d=h(o=Object(l),g))=="string"?d:u?s(o):(v=s(o))=="Object"&&typeof o.callee=="function"?"Arguments":v}},f772:function(f,S,n){var x=n("5692"),s=n("90e3"),a=x("keys");f.exports=function(g){return a[g]||(a[g]=s(g))}},fb15:function(f,S,n){if(n.r(S),typeof window<"u"){var x=window.document.currentScript;{var s=n("8875");x=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var a=x&&x.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");function g(ot,at,gt){return at in ot?Object.defineProperty(ot,at,{value:gt,enumerable:!0,configurable:!0,writable:!0}):ot[at]=gt,ot}function u(ot,at){var gt=Object.keys(ot);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(ot);at&&(_=_.filter(function(it){return Object.getOwnPropertyDescriptor(ot,it).enumerable})),gt.push.apply(gt,_)}return gt}function h(ot){for(var at=1;at<arguments.length;at++){var gt=arguments[at]!=null?arguments[at]:{};at%2?u(Object(gt),!0).forEach(function(_){g(ot,_,gt[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(gt)):u(Object(gt)).forEach(function(_){Object.defineProperty(ot,_,Object.getOwnPropertyDescriptor(gt,_))})}return ot}function l(ot){if(Array.isArray(ot))return ot}n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function o(ot,at){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ot)))){var gt=[],_=!0,it=!1,ht=void 0;try{for(var dt=ot[Symbol.iterator](),St;!(_=(St=dt.next()).done)&&(gt.push(St.value),!(at&&gt.length===at));_=!0);}catch(It){it=!0,ht=It}finally{try{!_&&dt.return!=null&&dt.return()}finally{if(it)throw ht}}return gt}}n("a630"),n("fb6a"),n("b0c0"),n("25f0");function d(ot,at){(at==null||at>ot.length)&&(at=ot.length);for(var gt=0,_=new Array(at);gt<at;gt++)_[gt]=ot[gt];return _}function v(ot,at){if(ot){if(typeof ot=="string")return d(ot,at);var gt=Object.prototype.toString.call(ot).slice(8,-1);if(gt==="Object"&&ot.constructor&&(gt=ot.constructor.name),gt==="Map"||gt==="Set")return Array.from(ot);if(gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return d(ot,at)}}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(ot,at){return l(ot)||o(ot,at)||v(ot,at)||c()}function y(ot){if(Array.isArray(ot))return d(ot)}function m(ot){if(typeof Symbol<"u"&&Symbol.iterator in Object(ot))return Array.from(ot)}function C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(ot){return y(ot)||m(ot)||v(ot)||C()}var E=n("a352"),w=n.n(E);function P(ot){ot.parentElement!==null&&ot.parentElement.removeChild(ot)}function b(ot,at,gt){var _=gt===0?ot.children[0]:ot.children[gt-1].nextSibling;ot.insertBefore(at,_)}var M=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");function A(ot){var at=Object.create(null);return function(_){var it=at[_];return it||(at[_]=ot(_))}}var R=/-(\w)/g,L=A(function(ot){return ot.replace(R,function(at,gt){return gt.toUpperCase()})});n("5db7"),n("73d9");var O=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],I=["Move"],B=[I,O,D].flatMap(function(ot){return ot}).map(function(ot){return"on".concat(ot)}),G={manage:I,manageAndEmit:O,emit:D};function z(ot){return B.indexOf(ot)!==-1}n("caad"),n("2ca0");var Y=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function H(ot){return Y.includes(ot)}function k(ot){return["transition-group","TransitionGroup"].includes(ot)}function U(ot){return["id","class","role","style"].includes(ot)||ot.startsWith("data-")||ot.startsWith("aria-")||ot.startsWith("on")}function F(ot){return ot.reduce(function(at,gt){var _=p(gt,2),it=_[0],ht=_[1];return at[it]=ht,at},{})}function N(ot){var at=ot.$attrs,gt=ot.componentData,_=gt===void 0?{}:gt,it=F(Object.entries(at).filter(function(ht){var dt=p(ht,2),St=dt[0];return dt[1],U(St)}));return h(h({},it),_)}function V(ot){var at=ot.$attrs,gt=ot.callBackBuilder,_=F($(at));Object.entries(gt).forEach(function(ht){var dt=p(ht,2),St=dt[0],It=dt[1];G[St].forEach(function(At){_["on".concat(At)]=It(At)})});var it="[data-draggable]".concat(_.draggable||"");return h(h({},_),{},{draggable:it})}function $(ot){return Object.entries(ot).filter(function(at){var gt=p(at,2),_=gt[0];return gt[1],!U(_)}).map(function(at){var gt=p(at,2),_=gt[0],it=gt[1];return[L(_),it]}).filter(function(at){var gt=p(at,2),_=gt[0];return gt[1],!z(_)})}n("c740");function X(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")}function j(ot,at){for(var gt=0;gt<at.length;gt++){var _=at[gt];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(ot,_.key,_)}}function Q(ot,at,gt){return at&&j(ot.prototype,at),ot}var K=function(at){var gt=at.el;return gt},q=function(at,gt){return at.__draggable_context=gt},tt=function(at){return at.__draggable_context},st=function(){function ot(at){var gt=at.nodes,_=gt.header,it=gt.default,ht=gt.footer,dt=at.root,St=at.realList;X(this,ot),this.defaultNodes=it,this.children=[].concat(T(_),T(it),T(ht)),this.externalComponent=dt.externalComponent,this.rootTransition=dt.transition,this.tag=dt.tag,this.realList=St}return Q(ot,[{key:"render",value:function(gt,_){var it=this.tag,ht=this.children,dt=this._isRootComponent,St=dt?{default:function(){return ht}}:ht;return gt(it,_,St)}},{key:"updated",value:function(){var gt=this.defaultNodes,_=this.realList;gt.forEach(function(it,ht){q(K(it),{element:_[ht],index:ht})})}},{key:"getUnderlyingVm",value:function(gt){return tt(gt)}},{key:"getVmIndexFromDomIndex",value:function(gt,_){var it=this.defaultNodes,ht=it.length,dt=_.children,St=dt.item(gt);if(St===null)return ht;var It=tt(St);if(It)return It.index;if(ht===0)return 0;var At=K(it[0]),Lt=T(dt).findIndex(function(Bt){return Bt===At});return gt<Lt?0:ht}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),ot}(),nt=n("8bbf");function rt(ot,at){var gt=ot[at];return gt?gt():[]}function ut(ot){var at=ot.$slots,gt=ot.realList,_=ot.getKey,it=gt||[],ht=["header","footer"].map(function(Bt){return rt(at,Bt)}),dt=p(ht,2),St=dt[0],It=dt[1],At=at.item;if(!At)throw new Error("draggable element must have an item slot");var Lt=it.flatMap(function(Bt,Yt){return At({element:Bt,index:Yt}).map(function(Xt){return Xt.key=_(Bt),Xt.props=h(h({},Xt.props||{}),{},{"data-draggable":!0}),Xt})});if(Lt.length!==it.length)throw new Error("Item slot must have only one child");return{header:St,footer:It,default:Lt}}function vt(ot){var at=k(ot),gt=!H(ot)&&!at;return{transition:at,externalComponent:gt,tag:gt?Object(nt.resolveComponent)(ot):at?nt.TransitionGroup:ot}}function pt(ot){var at=ot.$slots,gt=ot.tag,_=ot.realList,it=ot.getKey,ht=ut({$slots:at,realList:_,getKey:it}),dt=vt(gt);return new st({nodes:ht,root:dt,realList:_})}function ft(ot,at){var gt=this;Object(nt.nextTick)(function(){return gt.$emit(ot.toLowerCase(),at)})}function lt(ot){var at=this;return function(gt,_){if(at.realList!==null)return at["onDrag".concat(ot)](gt,_)}}function yt(ot){var at=this,gt=lt.call(this,ot);return function(_,it){gt.call(at,_,it),ft.call(at,ot,_)}}var Ct=null,Rt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(at){return at}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Dt=["update:modelValue","change"].concat(T([].concat(T(G.manageAndEmit),T(G.emit)).map(function(ot){return ot.toLowerCase()}))),Tt=Object(nt.defineComponent)({name:"draggable",inheritAttrs:!1,props:Rt,emits:Dt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var at=this.$slots,gt=this.$attrs,_=this.tag,it=this.componentData,ht=this.realList,dt=this.getKey,St=pt({$slots:at,tag:_,realList:ht,getKey:dt});this.componentStructure=St;var It=N({$attrs:gt,componentData:it});return St.render(nt.h,It)}catch(At){return this.error=!0,Object(nt.h)("pre",{style:{color:"red"}},At.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&M.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var at=this;if(!this.error){var gt=this.$attrs,_=this.$el,it=this.componentStructure;it.updated();var ht=V({$attrs:gt,callBackBuilder:{manageAndEmit:function(It){return yt.call(at,It)},emit:function(It){return ft.bind(at,It)},manage:function(It){return lt.call(at,It)}}}),dt=_.nodeType===1?_:_.parentElement;this._sortable=new w.a(dt,ht),this.targetDomElement=dt,dt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var at=this.list;return at||this.modelValue},getKey:function(){var at=this.itemKey;return typeof at=="function"?at:function(gt){return gt[at]}}},watch:{$attrs:{handler:function(at){var gt=this._sortable;gt&&$(at).forEach(function(_){var it=p(_,2),ht=it[0],dt=it[1];gt.option(ht,dt)})},deep:!0}},methods:{getUnderlyingVm:function(at){return this.componentStructure.getUnderlyingVm(at)||null},getUnderlyingPotencialDraggableComponent:function(at){return at.__draggable_component__},emitChanges:function(at){var gt=this;Object(nt.nextTick)(function(){return gt.$emit("change",at)})},alterList:function(at){if(this.list){at(this.list);return}var gt=T(this.modelValue);at(gt),this.$emit("update:modelValue",gt)},spliceList:function(){var at=arguments,gt=function(it){return it.splice.apply(it,T(at))};this.alterList(gt)},updatePosition:function(at,gt){var _=function(ht){return ht.splice(gt,0,ht.splice(at,1)[0])};this.alterList(_)},getRelatedContextFromMoveEvent:function(at){var gt=at.to,_=at.related,it=this.getUnderlyingPotencialDraggableComponent(gt);if(!it)return{component:it};var ht=it.realList,dt={list:ht,component:it};if(gt!==_&&ht){var St=it.getUnderlyingVm(_)||{};return h(h({},St),dt)}return dt},getVmIndexFromDomIndex:function(at){return this.componentStructure.getVmIndexFromDomIndex(at,this.targetDomElement)},onDragStart:function(at){this.context=this.getUnderlyingVm(at.item),at.item._underlying_vm_=this.clone(this.context.element),Ct=at.item},onDragAdd:function(at){var gt=at.item._underlying_vm_;if(gt!==void 0){P(at.item);var _=this.getVmIndexFromDomIndex(at.newIndex);this.spliceList(_,0,gt);var it={element:gt,newIndex:_};this.emitChanges({added:it})}},onDragRemove:function(at){if(b(this.$el,at.item,at.oldIndex),at.pullMode==="clone"){P(at.clone);return}var gt=this.context,_=gt.index,it=gt.element;this.spliceList(_,1);var ht={element:it,oldIndex:_};this.emitChanges({removed:ht})},onDragUpdate:function(at){P(at.item),b(at.from,at.item,at.oldIndex);var gt=this.context.index,_=this.getVmIndexFromDomIndex(at.newIndex);this.updatePosition(gt,_);var it={element:this.context.element,oldIndex:gt,newIndex:_};this.emitChanges({moved:it})},computeFutureIndex:function(at,gt){if(!at.element)return 0;var _=T(gt.to.children).filter(function(St){return St.style.display!=="none"}),it=_.indexOf(gt.related),ht=at.component.getVmIndexFromDomIndex(it),dt=_.indexOf(Ct)!==-1;return dt||!gt.willInsertAfter?ht:ht+1},onDragMove:function(at,gt){var _=this.move,it=this.realList;if(!_||!it)return!0;var ht=this.getRelatedContextFromMoveEvent(at),dt=this.computeFutureIndex(ht,at),St=h(h({},this.context),{},{futureIndex:dt}),It=h(h({},at),{},{relatedContext:ht,draggedContext:St});return _(It,gt)},onDragEnd:function(){Ct=null}}}),Et=Tt;S.default=Et},fb6a:function(f,S,n){var x=n("23e7"),s=n("861d"),a=n("e8b5"),g=n("23cb"),u=n("50c4"),h=n("fc6a"),l=n("8418"),o=n("b622"),d=n("1dde"),v=n("ae40"),c=d("slice"),p=v("slice",{ACCESSORS:!0,0:0,1:2}),y=o("species"),m=[].slice,C=Math.max;x({target:"Array",proto:!0,forced:!c||!p},{slice:function(E,w){var P=h(this),b=u(P.length),M=g(E,b),A=g(w===void 0?b:w,b),R,L,O;if(a(P)&&(R=P.constructor,typeof R=="function"&&(R===Array||a(R.prototype))?R=void 0:s(R)&&(R=R[y],R===null&&(R=void 0)),R===Array||R===void 0))return m.call(P,M,A);for(L=new(R===void 0?Array:R)(C(A-M,0)),O=0;M<A;M++,O++)M in P&&l(L,O,P[M]);return L.length=O,L}})},fc6a:function(f,S,n){var x=n("44ad"),s=n("1d80");f.exports=function(a){return x(s(a))}},fdbc:function(f,S){f.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(f,S,n){var x=n("4930");f.exports=x&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(V2);var yU=V2.exports;const hM=vv(yU),CU="/gui/header.png",SU="/gui/W_Sword017.png",TU="/gui/W_Gold_Mace.png",EU={components:{draggable:hM,coreui:dv},setup(){return{jigs:he()}},data(){return{playerStorage:[],playerInventory:[]}},mounted(){this.jigs=he(),this.jigs.myInventory()},computed:{draggingInfo(){return this.dragging?"under drag":""}},methods:{add:function(){this.list.push({name:"Juan "+id,id:id++})},replace:function(){this.list=[{name:"Edgard",id:id++}]},addToStorage:function(){ze.get("/tostorage?_wrapper_format=drupal_ajax&id="+this.jigs.item).then(e=>{this.jigs.divideInventory(e)}),console.log("Storage : "+this.jigs.item)},addToBackpack:function(){ze.get("/tobackpack?_wrapper_format=drupal_ajax&id="+this.jigs.item).then(e=>{this.jigs.divideInventory(e)}),console.log("Backpack : "+this.jigs.item)},updateItem(e){this.jigs.item=e.draggedContext.element.id}}},PU={class:"inventory"},wU=xt("img",{src:CU},null,-1),bU={class:"row"},MU={class:"col"},AU=xt("h3",null,"Storage",-1),RU={class:"inventory__item list-group-item"},OU=xt("img",{src:SU,alt:"",width:"34",height:"34"},null,-1),LU={class:"col"},DU=xt("h3",null,"Backpack",-1),FU={class:"inventory__item list-group-item"},IU=xt("img",{src:TU,alt:"",width:"34",height:"34"},null,-1);function BU(e,t,i,r,f,S){const n=Zi("draggable");return Ft(),Nt("div",PU,[wU,xt("div",bU,[xt("div",MU,[AU,ie(n,{class:"inventory__storage list-group",list:r.jigs.listStorage,group:"people",onChange:e.log,onEnd:S.addToBackpack,move:S.updateItem,itemKey:"name"},{item:ci(({element:x,index:s})=>[xt("div",RU,[xt("label",null,Jt(x.name)+" ",1),OU])]),_:1},8,["list","onChange","onEnd","move"])]),xt("div",LU,[DU,ie(n,{class:"inventory__backpack list-group",list:r.jigs.listBackpack,group:"people",onChange:e.log,itemKey:"name",onEnd:S.addToStorage,move:S.updateItem},{item:ci(({element:x,index:s})=>[xt("div",FU,[xt("label",null,Jt(x.name)+" ",1),IU])]),_:1},8,["list","onChange","onEnd","move"])])])])}const NU=zi(EU,[["render",BU]]),GU="/gui/psibot-head.png",kU="/gui/psibot-head-helmet.png",VU="/gui/psibot-head-visor.png",zU="/gui/psibot-implant.png",UU="/gui/psibot-implant-eye.png",WU="/gui/psibot-implant-brain.png",YU="/gui/psibot-implant-skin.png",$U="/gui/psibot-body.png",XU="/gui/psibot-body-suit-of-armour.png",HU="/gui/psibot-body-kevlar.png",KU="/gui/psibot-bionics.png",jU="/gui/psibot-bionics-fire.png",JU="/gui/psibot-bionics-ice.png",ZU="/gui/psibot-foot.png",QU="/gui/psibot-foot-steel-toe.png",qU="/gui/psibot-foot-magnetic.png",_U={name:"Character Page",setup(){return{jigs:Qe(he())}},data(){return{headgear:[{id:0,name:"None",image:"/gui/psibot-head.png"},{id:1,name:"Helmet",image:"/gui/psibot-head-helmet.png"},{id:2,name:"Visor",image:"/gui/psibot-head-visor.png"}],weaponsLeft:[{id:0,name:"Ranged",image:"/gui/weapon_gun.png"},{id:1,name:"Melee",image:"/gui/weapon_sword.png"},{id:2,name:"Bomb",image:"/gui/weapon_bomb.png"}],weaponsRight:[{id:0,name:"Sword",image:"/gui/weapon_sword.png"},{id:1,name:"Gun",image:"/gui/weapon_gun.png"}],bionics:[{id:0,name:"None",image:"/gui/psibot-bionics.png"},{id:1,name:"Fire",image:"/gui/psibot-bionics-fire.png"},{id:2,name:"Ice",image:"/gui/psibot-bionics-ice.png"}],implant:[{id:0,name:"None",image:"/gui/psibot-implant.png"},{id:1,name:"Eye",image:"/gui/psibot-implant-eye.png"},{id:2,name:"Brain",image:"/gui/psibot-implant-brain.png"},{id:3,name:"Skin",image:"/gui/psibot-implant-skin.png"}],armour:[{id:0,name:"None",image:"/gui/psibot-body.png"},{id:1,name:"Suit of armour",image:"/gui/psibot-body-suit-of-armour.png"},{id:2,name:"Kevlar vest",image:"/gui/psibot-body-kevlar.png"}],footwear:[{id:0,name:"None",image:"/gui/psibot-footwear.png"},{id:1,name:"Steel toe boots",image:"/gui/psibot-footwear.png"},{id:2,name:"Magnetic boots",image:"/gui/psibot-footwear.png"}],selectedHeadgear:"None",selectedWeaponLeft:"Gun",selectedWeaponRight:"Sword",selectedBionics:"None",selectedImplant:"None",selectedArmour:"None",selectedFootwear:"None"}},methods:{mouseover:function(){console.log("mouseover"),console.log(this)},mouseleave:function(){console.log("mouseout")}}},tW={class:"emc-layout emc-char"},eW={class:"emc-char__left"},iW={class:"emc-char__item"},sW=xt("div",{class:"emc-char__heading"},"Headgear",-1),rW={class:"emc-char__item"},nW=xt("div",{class:"emc-char__heading"},"Weapon",-1),aW={class:"emc-char__item"},oW=xt("div",{class:"emc-char__heading"},"Footwear",-1),hW={class:"emc-char__center"},lW={class:"emc-char__body"},uW={key:0,src:GU,width:"224",height:"200"},dW={key:1,src:kU,width:"224",height:"200"},fW={key:2,src:VU,width:"224",height:"200"},cW={class:"emc-char__part implant"},vW=xt("div",{class:"emc-char__heading"},"Implant",-1),pW={key:0,src:zU,width:"64",height:"64"},gW={key:1,src:UU,width:"64",height:"64"},mW={key:2,src:WU,width:"64",height:"64"},xW={key:3,src:YU,width:"64",height:"64"},yW={class:"emc-char__part armour"},CW={key:0,src:$U,width:"236",height:"112"},SW={key:1,src:XU,width:"236",height:"112"},TW={key:2,src:HU,width:"236",height:"112"},EW={class:"emc-char__part weapon_left"},PW=xt("div",{class:"emc-char__heading"},"Weapon",-1),wW={key:0,class:"weapon__thumb"},bW=[xt("img",{src:N2,alt:"gun thumbnail"},null,-1)],MW={key:1,class:"weapon__thumb"},AW=[xt("img",{src:G2,alt:"sword thumbnail"},null,-1)],RW={key:2,class:"weapon__thumb"},OW=[xt("img",{src:k2,alt:"bomb thumbnail"},null,-1)],LW={class:"emc-char__part bionics"},DW=xt("div",{class:"emc-char__heading"},"Bionics",-1),FW={key:0,src:KU,width:"68",height:"68"},IW={key:1,src:jU,width:"68",height:"68"},BW={key:2,src:JU,width:"68",height:"68"},NW={class:"emc-char__part footwear"},GW={key:0,src:ZU,width:"224",height:"100"},kW={key:1,src:QU,width:"224",height:"100"},VW={key:2,src:qU,width:"224",height:"100"},zW={class:"emc-char__right"},UW={class:"emc-char__item"},WW=xt("div",{class:"emc-char__heading"},"Implant",-1),YW={class:"emc-char__item"},$W=xt("div",{class:"emc-char__heading"},"Armour",-1),XW={class:"emc-char__item"},HW=xt("div",{class:"emc-char__heading"},"Bionics",-1);function KW(e,t,i,r,f,S){return Ft(),Nt("div",tW,[xt("div",eW,[xt("div",iW,[sW,ys(xt("select",{"onUpdate:modelValue":t[0]||(t[0]=n=>f.selectedHeadgear=n)},[(Ft(!0),Nt(Le,null,Cs(f.headgear,n=>(Ft(),Nt("option",null,Jt(n.name),1))),256))],512),[[xa,f.selectedHeadgear]])]),xt("div",rW,[nW,ys(xt("select",{"onUpdate:modelValue":t[1]||(t[1]=n=>f.selectedWeaponLeft=n)},[(Ft(!0),Nt(Le,null,Cs(f.weaponsLeft,n=>(Ft(),Nt("option",null,Jt(n.name),1))),256))],512),[[xa,f.selectedWeaponLeft]])]),xt("div",aW,[oW,ys(xt("select",{"onUpdate:modelValue":t[2]||(t[2]=n=>f.selectedFootwear=n)},[(Ft(!0),Nt(Le,null,Cs(f.footwear,n=>(Ft(),Nt("option",null,Jt(n.name),1))),256))],512),[[xa,f.selectedFootwear]])])]),xt("div",hW,[xt("div",lW,[xt("div",{class:"emc-char__part head",onMouseover:t[3]||(t[3]=(...n)=>S.mouseover&&S.mouseover(...n)),onMouseleave:t[4]||(t[4]=(...n)=>S.mouseleave&&S.mouseleave(...n))},[f.selectedHeadgear==="None"?(Ft(),Nt("img",uW)):fe("",!0),f.selectedHeadgear==="Helmet"?(Ft(),Nt("img",dW)):fe("",!0),f.selectedHeadgear==="Visor"?(Ft(),Nt("img",fW)):fe("",!0)],32),xt("div",cW,[vW,f.selectedImplant==="None"?(Ft(),Nt("img",pW)):fe("",!0),f.selectedImplant==="Eye"?(Ft(),Nt("img",gW)):fe("",!0),f.selectedImplant==="Brain"?(Ft(),Nt("img",mW)):fe("",!0),f.selectedImplant==="Skin"?(Ft(),Nt("img",xW)):fe("",!0)]),xt("div",yW,[f.selectedArmour==="None"?(Ft(),Nt("img",CW)):fe("",!0),f.selectedArmour==="Suit of armour"?(Ft(),Nt("img",SW)):fe("",!0),f.selectedArmour==="Kevlar vest"?(Ft(),Nt("img",TW)):fe("",!0)]),xt("div",EW,[PW,f.selectedWeaponLeft==="Ranged"?(Ft(),Nt("div",wW,bW)):fe("",!0),f.selectedWeaponLeft==="Melee"?(Ft(),Nt("div",MW,AW)):fe("",!0),f.selectedWeaponLeft==="Bomb"?(Ft(),Nt("div",RW,OW)):fe("",!0)]),xt("div",LW,[DW,f.selectedBionics==="None"?(Ft(),Nt("img",FW)):fe("",!0),f.selectedBionics==="Fire"?(Ft(),Nt("img",IW)):fe("",!0),f.selectedBionics==="Ice"?(Ft(),Nt("img",BW)):fe("",!0)]),xt("div",NW,[f.selectedFootwear==="None"?(Ft(),Nt("img",GW)):fe("",!0),f.selectedFootwear==="Steel toe boots"?(Ft(),Nt("img",kW)):fe("",!0),f.selectedFootwear==="Magnetic boots"?(Ft(),Nt("img",VW)):fe("",!0)])])]),xt("div",zW,[xt("div",UW,[WW,ys(xt("select",{"onUpdate:modelValue":t[5]||(t[5]=n=>f.selectedImplant=n)},[(Ft(!0),Nt(Le,null,Cs(f.implant,n=>(Ft(),Nt("option",null,Jt(n.name),1))),256))],512),[[xa,f.selectedImplant]])]),xt("div",YW,[$W,ys(xt("select",{"onUpdate:modelValue":t[6]||(t[6]=n=>f.selectedArmour=n)},[(Ft(!0),Nt(Le,null,Cs(f.armour,n=>(Ft(),Nt("option",null,Jt(n.name),1))),256))],512),[[xa,f.selectedArmour]])]),xt("div",XW,[HW,ys(xt("select",{"onUpdate:modelValue":t[7]||(t[7]=n=>f.selectedBionics=n)},[(Ft(!0),Nt(Le,null,Cs(f.bionics,n=>(Ft(),Nt("option",null,Jt(n.name),1))),256))],512),[[xa,f.selectedBionics]])])])])}const jW=zi(_U,[["render",KW]]),Zx="/gui/header2.png",JW={},ZW=xt("img",{src:Zx},null,-1);function QW(e,t,i,r,f,S){return Ft(),Nt("div",null,[ZW,Vi(" Crafting ")])}const qW=zi(JW,[["render",QW]]),_W={},tY=xt("img",{src:Zx},null,-1);function eY(e,t,i,r,f,S){return Ft(),Nt("div",null,[tY,Vi(" Maps ")])}const iY=zi(_W,[["render",eY]]),Ti=Object.freeze({None:null,Single:"single",Multiple:"multiple",SelectionFollowsFocus:"selectionFollowsFocus"});function lM(){function e(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="grt-";do r+=i.charAt(Math.floor(Math.random()*i.length));while(r.length<8||document.getElementById(r));return r}function t(i,r){const f=i.treeNodeSpec.idProperty,S=i[f],n=i[i.treeNodeSpec.childrenProperty];if(document.getElementById(`${r}-${S}`)){let x=1;for(;document.getElementById(`${r}-${S}-${x}`);)x++;i[f]=`${S}-${x}`}n.forEach(x=>t(x,r))}return{generateUniqueId:e,resolveNodeIdConflicts:t}}function Qx(){function e(t){var i;return mt(t)[(i=mt(t).treeNodeSpec.childrenProperty)!=null?i:"children"]}return{getChildren:e}}function Dv(){const{getChildren:e}=Qx();function t(r){return i(e(r))}function i(r){return mt(r).filter(f=>{var S,n,x,s,a,g;return((x=(n=(S=f.treeNodeSpec)==null?void 0:S._)==null?void 0:n.state)==null?void 0:x.matchesFilter)||((g=(a=(s=f.treeNodeSpec)==null?void 0:s._)==null?void 0:a.state)==null?void 0:g.subnodeMatchesFilter)})}return{getFilteredChildren:t,getFilteredNodes:i}}function qx(e){const{getFilteredChildren:t,getFilteredNodes:i}=Dv();function r(n){S(n,!1)}function f(n){S(n,!0)}function S(n,x){const s=i(e);if(s.length===0)return;let a=s.slice(),g=!0;for(;a.length>0&&g!==!1;){const u=a.shift(),h=t(u);a=x?h.concat(a):a.concat(h),g=n(u)}}return{breadthFirstTraverse:r,depthFirstTraverse:f}}function uM(){function e(i){return mt(i).treeNodeSpec.expandable===!0}function t(i){return mt(i).treeNodeSpec.state.expanded===!0}return{isExpandable:e,isExpanded:t}}function La(){const{isExpanded:e}=uM(),{getFilteredChildren:t,getFilteredNodes:i}=Dv();function r(g,u=!1){mt(g).treeNodeSpec._.keepCurrentDomFocus=u,mt(g).treeNodeSpec.focusable=!0}function f(g){mt(g).treeNodeSpec.focusable=!1}function S(g){return mt(g).treeNodeSpec.focusable===!0}function n(g,u=!1){const h=i(g);h.length>0&&r(h[0],u)}function x(g,u=!1){const h=i(g);let l=h[h.length-1],o=t(l);for(;o.length>0&&e(l);)l=o[o.length-1],o=t(l);r(l,u)}function s(g,u,h,l=!1){const o=i(g);let d=o.findIndex(c=>c[c.treeNodeSpec.idProperty]===u[u.treeNodeSpec.idProperty]),v=t(u);if(!h&&v.length>0&&e(u))r(v[0],l);else if(d<o.length-1)r(o[d+1],l);else return!1;return!0}function a(g,u,h=!1){const l=i(g);let o=l.findIndex(d=>d[d.treeNodeSpec.idProperty]===u[u.treeNodeSpec.idProperty]);if(o!==0){let d=l[o-1],v=t(d);for(;v.length>0&&e(d);)d=v[v.length-1],v=t(d);return r(d,h),!0}return!1}return{focus:r,focusFirst:n,focusLast:x,focusNext:s,focusPrevious:a,isFocused:S,unfocus:f}}function sY(){const{unfocus:e}=La(),t=Qe(null);function i(r){t.value!==r&&(t.value&&e(t),t.value=r)}return{focusableNodeModel:t,handleFocusableChange:i}}function Fv(){function e(S){mt(S).treeNodeSpec.state.selected=!0}function t(S){mt(S).treeNodeSpec.state.selected=!1}function i(S,n){mt(S).treeNodeSpec.state.selected=n}function r(S){return mt(S).treeNodeSpec.selectable===!0}function f(S){return mt(S).treeNodeSpec.state.selected===!0}return{deselect:t,isSelectable:r,isSelected:f,setSelected:i,select:e}}function rY(e){const{getFilteredNodes:t}=Dv(),{focusFirst:i}=La();let r=t(e).length===0;return as(()=>t(e),()=>{t(e).length>0?(r&&i(e,!0),r=!1):r=!0}),{}}const kt=Object.freeze({RootNodesLoad:"treeRootNodesLoad",Click:"treeNodeClick",DoubleClick:"treeNodeDblclick",CheckboxChange:"treeNodeCheckboxChange",ChildCheckboxChange:"treeNodeChildCheckboxChange",RadioChange:"treeNodeRadioChange",ExpandedChange:"treeNodeExpandedChange",ChildrenLoad:"treeNodeChildrenLoad",SelectedChange:"treeNodeSelectedChange",FocusableChange:"treeNodeAriaFocusableChange",RequestFirstFocus:"treeNodeAriaRequestFirstFocus",RequestLastFocus:"treeNodeAriaRequestLastFocus",RequestParentFocus:"treeNodeAriaRequestParentFocus",RequestPreviousFocus:"treeNodeAriaRequestPreviousFocus",RequestNextFocus:"treeNodeAriaRequestNextFocus",Add:"treeNodeAdd",Delete:"treeNodeDelete",DragMove:"treeNodeDragMove",Drop:"treeNodeDrop"});function nY(e,t,i,r){const{depthFirstTraverse:f}=qx(e),{deselect:S,isSelectable:n,isSelected:x,select:s}=Fv();as(t,g),as(i,d=>{mt(t)===Ti.SelectionFollowsFocus&&o(d)});const a=Me(()=>t.value===Ti.None?null:t.value===Ti.Multiple);function g(){mt(t)===Ti.Single?u():mt(t)===Ti.SelectionFollowsFocus&&h()}function u(){let d=!1;f(v=>{v.treeNodeSpec.state&&x(v)&&(d?S(v):d=!0)})}function h(){f(d=>{let v=d.treeNodeSpec.idProperty,c=i.value.treeNodeSpec.idProperty;d[v]===i.value[c]?n(d)&&s(d):x(d)&&S(d)})}function l(d){mt(t)===Ti.Single&&x(d)&&o(d),r(kt.SelectedChange,d)}function o(d){const v=d[d.treeNodeSpec.idProperty];f(c=>x(c)&&c[c.treeNodeSpec.idProperty]!==v?(S(c),!1):!0)}return{ariaMultiselectable:a,enforceSelectionMode:g,handleNodeSelectedChange:l}}const dM=Object.freeze({None:"none",Copy:"copy",Move:"move",Link:"link"}),Md=Object.freeze({None:"none",All:"all",Copy:"copy",Move:"move",Link:"link",CopyMove:"copyMove",CopyLink:"copyLink",LinkMove:"linkMove"}),ml=Object.freeze({Before:0,After:1,Child:2});function fM(){function e(i){return i!==null&&typeof i=="object"&&!Array.isArray(i)}function t(i){let r=JSON.parse(JSON.stringify(i));if(e(r))for(const f of Object.keys(i)){let S=i[f];typeof S=="function"?r[f]=S:e(S)&&(r[f]=t(S))}return r}return{isProbablyObject:e,cheapCopyObject:t}}const{resolveNodeIdConflicts:cM}=lM(),{cheapCopyObject:aY}=fM(),{unfocus:oY}=La();function hY(e,t,i,r){function f(n){const x=e.value.indexOf(n);x>-1&&e.value.splice(x,1)}function S(n){let x=n.droppedModel;if(n.isSameTree)if(n.dropEffect===dM.Move)x=r(x[x.treeNodeSpec.idProperty]),x.treeNodeSpec._.dragMoved=!0;else{let s=i(x[x.treeNodeSpec.idProperty]);x=aY(s),cM(x,t.value),oY(x)}else cM(x,t.value);if(x){let s=n.siblingNodeSet||e.value,a=s.indexOf(n.targetModel);switch(n.targetZone){case ml.Before:s.splice(a,0,x);break;case ml.After:s.splice(a+1,0,x);break;default:s.push(x);break}x.treeNodeSpec._.dragging=!1}}return{dragMoveNode:f,drop:S}}const Ad=Object.freeze({Checkbox:"checkbox",RadioButton:"radio"});function lY(e,t,i){const{depthFirstTraverse:r}=qx(e),{isSelectable:f,isSelected:S}=Fv();function n(h,l=0){let o=[];return typeof h=="function"&&r(d=>{if(h(d))return o.push(d),l<1||o.length<l}),o}function x(){return n(h=>h.treeNodeSpec.input&&h.treeNodeSpec.input.type===Ad.Checkbox&&h.treeNodeSpec.state.input.value)}function s(){return n(h=>h.treeNodeSpec.input&&h.treeNodeSpec.input.type===Ad.RadioButton&&t.value[h.treeNodeSpec.input.name]===h.treeNodeSpec.input.value)}function a(h){let l=null;return typeof h=="string"&&(l=e.value.find(o=>o[o.treeNodeSpec.idProperty]===h),l||r(o=>{if(l=o[o.treeNodeSpec.childrenProperty].find(d=>d[d.treeNodeSpec.idProperty]===h),l)return!1})),l}function g(){return i.value===Ti.None?[]:n(h=>f(h)&&S(h))}function u(h){let l=null;if(typeof h=="string"){let o=e.value.findIndex(d=>d[d.treeNodeSpec.idProperty]===h);o>-1?l=e.value.splice(o,1)[0]:r(d=>{let v=d[d.treeNodeSpec.childrenProperty];if(o=v.findIndex(c=>c[c.treeNodeSpec.idProperty]===h),o>-1)return l=v.splice(o,1)[0],!1})}return l}return{findById:a,getCheckedCheckboxes:x,getCheckedRadioButtons:s,getMatching:n,getSelected:g,removeById:u}}const{isProbablyObject:vM}=fM(),uY=[Md.Copy,Md.Move,Md.CopyMove,Md.None];function dY(e,t,i){function r(){e.value.treeNodeSpec||(e.value.treeNodeSpec={});const x=e.value.treeNodeSpec;f(mt(t),x),typeof x.childrenProperty!="string"&&(x.childrenProperty="children"),typeof x.idProperty!="string"&&(x.idProperty="id"),typeof x.labelProperty!="string"&&(x.labelProperty="label"),Array.isArray(e.value[x.childrenProperty])||(e.value[x.childrenProperty]=[]),typeof x.expandable!="boolean"&&(x.expandable=!0),typeof x.selectable!="boolean"&&(x.selectable=!1),typeof x.deletable!="boolean"&&(x.deletable=!1),typeof x.draggable!="boolean"&&(x.draggable=!1),typeof x.allowDrop!="boolean"&&(x.allowDrop=!1),(typeof x.dataTransferEffectAllowed!="string"||!uY.includes(x.dataTransferEffectAllowed))&&(x.dataTransferEffectAllowed=Md.CopyMove),typeof x.focusable!="boolean"&&(x.focusable=!1),typeof x.addChildCallback!="function"&&(x.addChildCallback=null),typeof x.deleteNodeCallback!="function"&&(x.deleteNodeCallback=null),(typeof x.title!="string"||x.title.trim().length===0)&&(x.title=null),(typeof x.expanderTitle!="string"||x.expanderTitle.trim().length===0)&&(x.expanderTitle=null),(typeof x.addChildTitle!="string"||x.addChildTitle.trim().length===0)&&(x.addChildTitle=null),(typeof x.deleteTitle!="string"||x.deleteTitle.trim().length===0)&&(x.deleteTitle=null),(x.customizations==null||typeof x.customizations!="object")&&(x.customizations={}),typeof x.loadChildrenAsync!="function"&&(x.loadChildrenAsync=null),x._={},x._.dragging=!1,S(x),n(x),e.value.treeNodeSpec=x}function f(x,s){if(vM(x)){const a=JSON.parse(JSON.stringify(x));Object.assign(a,s);for(const g of Object.keys(x)){const u=typeof x[g]=="function"?x[g]:a[g];vM(u)?(s[g]=s[g]||{},f(u,s[g])):(typeof u=="function"&&s[g],s[g]=u)}}}function S(x){let s=x.input;s===null||typeof s!="object"||!Object.values(Ad).includes(s.type)?x.input=null:((typeof s.name!="string"||s.name.trim().length===0)&&(s.name=null),s.type===Ad.RadioButton&&((typeof s.name!="string"||s.name.trim().length===0)&&(s.name="unspecifiedRadioName"),(typeof s.value!="string"||s.value.trim().length===0)&&(s.value=e.value[x.labelProperty].replace(/[\s&<>"'\/]/g,"")),i.value.hasOwnProperty(s.name)||(i.value[s.name]=""),s.isInitialRadioGroupValue===!0&&(i.value[s.name]=s.value)))}function n(x){(x.state===null||typeof x.state!="object")&&(x.state={}),(x._.state===null||typeof x._.state!="object")&&(x._.state={});let s=x.state,a=x._.state;a.areChildrenLoaded=typeof x.loadChildrenAsync!="function",a.areChildrenLoading=!1,(typeof s.expanded!="boolean"||!a.areChildrenLoaded)&&(s.expanded=!1),typeof s.selected!="boolean"&&(s.selected=!1),x.input&&((s.input===null||typeof s.input!="object")&&(s.input={}),(s.input.disabled===null||typeof s.input.disabled!="boolean")&&(s.input.disabled=!1),x.input.type===Ad.Checkbox&&typeof s.input.value!="boolean"&&(s.input.value=!1))}return{normalizeNodeData:r}}function _x(e,t){const{getChildren:i}=Qx(),r=Me(()=>typeof e.value.treeNodeSpec.loadChildrenAsync!="function"||e.value.treeNodeSpec._.state.areChildrenLoaded),f=Me(()=>e.value.treeNodeSpec._.state.areChildrenLoading),S=Me(()=>i(e)),n=Me(()=>S.value&&S.value.length>0),x=Me(()=>n.value||!r.value);async function s(){const u=e.value.treeNodeSpec;if(!u._.state.areChildrenLoaded&&!u._.state.areChildrenLoading){u._.state.areChildrenLoading=!0;var h=await u.loadChildrenAsync(e.value);h&&(u._.state.areChildrenLoaded=!0,S.value.splice(0,S.value.length,...h),t(kt.ChildrenLoad,e.value)),u._.state.areChildrenLoading=!1}}async function a(){if(e.value.treeNodeSpec.addChildCallback){var u=await e.value.treeNodeSpec.addChildCallback(e.value);u&&(S.value.push(u),t(kt.Add,u,e.value))}}function g(u){let h=S.value.indexOf(u);h>-1&&(S.value.splice(h,1),t(kt.Delete,u))}return{addChild:a,areChildrenLoaded:r,areChildrenLoading:f,children:S,deleteChild:g,hasChildren:n,loadChildren:s,mayHaveChildren:x}}const Rd=Object.freeze({Json:"application/json",PlainText:"text/plain",TreeViewNode:"application/x-grapoza-treeviewnode"});function fY(){function e(t,i){return(t.closest?t:t.parentElement).closest(i)}return{closest:e}}const{closest:cY}=fY();function vY(e,t,i,r){const{unfocus:f}=La(),S=e.value.treeNodeSpec;function n(v){const c=t.value.indexOf(v);c>-1&&t.value.splice(c,1)}function x(v,c){v.siblingNodeSet=v.siblingNodeSet||t.value,r(kt.Drop,v,c)}function s(v){v.stopPropagation();let c=JSON.parse(JSON.stringify(e.value));f(c),c=JSON.stringify(c),S._.dragging=!0,v.dataTransfer.effectAllowed=S.dataTransferEffectAllowed,v.dataTransfer.setData(Rd.TreeViewNode,`{"treeId":"${i.value}","data":${c}}`),v.dataTransfer.setData(Rd.Json,c),v.dataTransfer.setData(Rd.PlainText,c)}function a(v){o(v)&&(d(v,!0),v.preventDefault())}function g(v){o(v)&&(d(v,!0),v.preventDefault())}function u(v){o(v)&&d(v,!1)}function h(v){const c=JSON.parse(v.dataTransfer.getData(Rd.TreeViewNode)),p=v.target.classList.contains("grtvn-self-prev-target")?ml.Before:v.target.classList.contains("grtvn-self-next-target")?ml.After:ml.Child,y={isSameTree:c.treeId===i.value,droppedModel:c.data,targetModel:e.value,siblingNodeSet:p===ml.Child?t.value:null,dropEffect:v.dataTransfer.dropEffect,targetZone:p};r(kt.Drop,y,v),d(v,!1),v.preventDefault()}function l(v){v.dataTransfer.dropEffect===dM.Move?S._.dragMoved?delete S._.dragMoved:r(kt.DragMove,e.value,v):(d(v,!1),S._.dragging=!1)}function o(v){return S.allowDrop&&v.dataTransfer.types.includes(Rd.TreeViewNode)&&!cY(v.target,".grtvn-dragging")}function d(v,c){const p=v.target.classList&&v.target.classList.contains("grtvn-self-prev-target"),y=v.target.classList&&v.target.classList.contains("grtvn-self-next-target");S._.isDropTarget=c,p?(S._.isPrevDropTarget=c,S._.isChildDropTarget=!1):y?(S._.isNextDropTarget=c,S._.isChildDropTarget=!1):S._.isChildDropTarget=c}return{dragMoveChild:n,drop:x,onDragstart:s,onDragenter:a,onDragover:g,onDragleave:u,onDrop:h,onDragend:l}}function pY(e,t,i,r){const{focus:f,focusFirst:S,focusLast:n,focusNext:x,focusPrevious:s,isFocused:a,unfocus:g}=La(),{getChildren:u}=Qx(),h=Me(()=>u(e));as(()=>e.value.treeNodeSpec.focusable,function(m){m===!0&&(r.value&&!e.value.treeNodeSpec._.keepCurrentDomFocus&&t.value.focus(),delete e.value.treeNodeSpec._.keepCurrentDomFocus,i(kt.FocusableChange,e.value))});function l(m=!1){f(e,m)}function o(){g(e)}function d(){return a(e)}function v(m=!1){S(h.value,m)}function c(m=!1){n(h.value,m)}function p(m,C,T=!1){x(h.value,m,C,T)||i(kt.RequestNextFocus,mt(e),!0)}function y(m,C=!1){s(h.value,m,C)||l(C)}return{focusNode:l,unfocusNode:o,isFocusedNode:d,focusFirstChild:v,focusLastChild:c,focusNextNode:p,focusPreviousNode:y}}function gY(e,t,i){const{deselect:r,isSelectable:f,isSelected:S,setSelected:n,select:x}=Fv();as(()=>e.value.treeNodeSpec.state.selected,()=>{i(kt.SelectedChange,e.value)}),as(()=>e.value.treeNodeSpec.focusable,function(o){h()&&t.value===Ti.SelectionFollowsFocus&&g(o)});function s(){x(e)}function a(){r(e)}function g(o){n(e,o)}function u(){f(e)&&[Ti.Single,Ti.Multiple].includes(t.value)&&n(e,!l())}function h(){return f(e)}function l(){return S(e)}return{ariaSelected:Me(()=>t.value===Ti.None||!h()?null:t.value!==Ti.Multiple?l()?!0:null:l()),deselectNode:a,isNodeSelectable:h,isNodeSelected:l,setNodeSelected:g,selectNode:s,toggleNodeSelected:u}}function pM(e,t){const i=ha("filterMethod"),{isFocused:r,unfocus:f}=La(),{areChildrenLoaded:S}=_x(e),{getFilteredChildren:n}=Dv(),x=Me(()=>n(e)),s=Me(()=>typeof mt(i)=="function"),a=Me(()=>e.value.treeNodeSpec._.state.matchesFilter||e.value.treeNodeSpec._.state.subnodeMatchesFilter||!1),g=Me(()=>x.value&&x.value.length>0),u=Me(()=>g.value||!S.value);return lE(()=>{const h=e.value.treeNodeSpec;h._.state.matchesFilter=!s.value||mt(i)(e.value),h._.state.subnodeMatchesFilter=x.value.length>0,!a.value&&r(e)&&(f(e),t(kt.RequestFirstFocus,!0))}),{filteredChildren:x,filterIncludesNode:a,isFilteringEnabled:s,mayHaveFilteredChildren:u}}function mY(e,t){const{isExpandable:i,isExpanded:r}=uM(),{loadChildren:f}=_x(e,t),{mayHaveFilteredChildren:S}=pM(e,t),n=Me(()=>x.value?a():null),x=Me(()=>s()&&S.value);as(()=>e.value.treeNodeSpec.state.expanded,async function(){t(kt.ExpandedChange,e.value),a()&&await f()});function s(){return i(e)}function a(){return r(e)}function g(){return x.value&&a()?(e.value.treeNodeSpec.state.expanded=!1,!0):!1}function u(){return x.value&&!a()?(e.value.treeNodeSpec.state.expanded=!0,!0):!1}function h(){return a()?g():u()}return{ariaExpanded:n,canExpand:x,collapseNode:g,expandNode:u,isNodeExpandable:s,isNodeExpanded:a,toggleNodeExpanded:h}}const xY=["id","tabindex","aria-expanded","aria-selected"],yY=["draggable","dragging"],CY=["id","title"],SY=["for","title"],TY=["id","disabled"],EY=["for","title"],PY=["id","name","value","disabled"],wY=["title"],bY=["id","title"],MY=["id","title"],AY=["aria-hidden"],RY={__name:"TreeViewNode",props:{ariaKeyMap:{type:Object,required:!0},depth:{type:Number,required:!0},initialModel:{type:Object,required:!0},initialRadioGroupValues:{type:Object,required:!0},isMounted:{type:Boolean,required:!0},modelDefaults:{type:Object,required:!0},selectionMode:{type:String,required:!1,default:Ti.None,validator:function(e){return Object.values(Ti).includes(e)}},treeId:{type:String,required:!0}},emits:[kt.Add,kt.Click,kt.CheckboxChange,kt.ChildCheckboxChange,kt.ChildrenLoad,kt.Delete,kt.DoubleClick,kt.DragMove,kt.Drop,kt.ExpandedChange,kt.FocusableChange,kt.RadioChange,kt.RequestFirstFocus,kt.RequestLastFocus,kt.RequestNextFocus,kt.RequestParentFocus,kt.RequestPreviousFocus,kt.SelectedChange],setup(e,{emit:t}){const i=e,r="input, .grtvn-self-expander, .grtvn-self-expander *, .grtvn-self-action, .grtvn-self-action *",f=Qe(i.initialModel),S=Qe(i.initialRadioGroupValues),n=Qe(null),x=Me(()=>`${p.value}-add-child`),s=Me(()=>z()?0:-1),a=Me(()=>{var Tt,Et;return(Et=(Tt=y.value.customizations)==null?void 0:Tt.classes)!=null?Et:{}}),g=Me(()=>`${p.value}-delete`),u=Me(()=>`${p.value}-exp`),h=Me(()=>f.value[l.value]),l=Me(()=>{var Tt;return(Tt=y.value.idProperty)!=null?Tt:"id"}),o=Me(()=>`${p.value}-input`),d=Me(()=>i.selectionMode!==Ti.None&&H()&&k()),v=Me(()=>f.value[c.value]),c=Me(()=>{var Tt;return(Tt=y.value.labelProperty)!=null?Tt:"label"}),p=Me(()=>`${i.treeId}-${h.value}`),y=Me(()=>f.value.treeNodeSpec),m=Me(()=>i.treeId),{normalizeNodeData:C}=dY(f,i.modelDefaults,S);C();const{addChild:T,areChildrenLoaded:E,areChildrenLoading:w,children:P,deleteChild:b,hasChildren:M}=_x(f,t),{filteredChildren:A,filterIncludesNode:R,mayHaveFilteredChildren:L}=pM(f,t),{focus:O,isFocused:D}=La(),{focusNode:I,focusNextNode:B,focusPreviousNode:G,isFocusedNode:z}=pY(f,n,t,oa(i,"isMounted")),{ariaSelected:Y,isNodeSelectable:H,isNodeSelected:k,toggleNodeSelected:U}=gY(f,oa(i,"selectionMode"),t),{ariaExpanded:F,canExpand:N,collapseNode:V,expandNode:$,isNodeExpanded:X,toggleNodeExpanded:j}=mY(f,t),{dragMoveChild:Q,drop:K,onDragstart:q,onDragenter:tt,onDragover:st,onDragleave:nt,onDrop:rt,onDragend:ut}=vY(f,P,m,t);function vt(Tt){t(kt.CheckboxChange,f.value,Tt)}function pt(Tt){t(kt.RadioChange,f.value,Tt)}function ft(Tt){Tt.target.matches(r)||(t(kt.Click,f.value,Tt),U()),I()}function lt(Tt){Tt.target.matches(r)||t(kt.DoubleClick,f.value,Tt)}async function yt(Tt){var Et,ot,at;y.value.deletable&&((at=await((ot=(Et=y.value).deleteNodeCallback)==null?void 0:ot.call(Et,f.value)))==null||at)&&t(kt.Delete,f.value)}function Ct(Tt){let Et=!0;if(!(Tt.altKey||Tt.ctrlKey||Tt.metaKey||Tt.shift)){if(i.ariaKeyMap.activateItem.includes(Tt.keyCode)){if(y.value.input&&!y.value.state.input.disabled){let ot=n.value.querySelector(".grtvn-self"),at=ot.querySelector(".grtvn-self-input")||ot.querySelector("input");if(at){let gt=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});at.dispatchEvent(gt)}}}else i.ariaKeyMap.selectItem.includes(Tt.keyCode)?U():i.ariaKeyMap.expandFocusedItem.includes(Tt.keyCode)?L.value&&!w.value&&!$()&&X()&&O(A.value[0]):i.ariaKeyMap.collapseFocusedItem.includes(Tt.keyCode)?V()||t(kt.RequestParentFocus):i.ariaKeyMap.focusFirstItem.includes(Tt.keyCode)?t(kt.RequestFirstFocus):i.ariaKeyMap.focusLastItem.includes(Tt.keyCode)?t(kt.RequestLastFocus):i.ariaKeyMap.focusPreviousItem.includes(Tt.keyCode)?t(kt.RequestPreviousFocus,f.value):i.ariaKeyMap.focusNextItem.includes(Tt.keyCode)?t(kt.RequestNextFocus,f.value,!1):i.ariaKeyMap.insertItem.includes(Tt.keyCode)?T():i.ariaKeyMap.deleteItem.includes(Tt.keyCode)?yt():Et=!1;Et&&(Tt.stopPropagation(),Tt.preventDefault())}}function Rt(Tt){A.value.indexOf(Tt)>-1&&(D(Tt)&&(A.value.length>1&&A.value.indexOf(Tt)===0?B(Tt):G(Tt)),b(Tt))}function Dt(Tt,Et){t(kt.CheckboxChange,Tt,Et),P.value.includes(Tt)&&t(kt.ChildCheckboxChange,f.value,Tt,Et)}return(!h.value||typeof h.value!="number"&&typeof h.value!="string")&&console.error(`initialModel id is required and must be a number or string. Expected prop ${l.value} to exist on the model.`),(!v.value||typeof v.value!="string")&&console.error(`initialModel label is required and must be a string. Expected prop ${c.value} to exist on the model.`),(Tt,Et)=>{const ot=Zi("TreeViewNode",!0);return Ft(),Nt("li",{id:mt(p),ref_key:"nodeElement",ref:n,class:Xe(["grtvn",[mt(a).treeViewNode,mt(y)._.dragging?"grtvn-dragging":"",mt(R)?"":"grtvn-hidden"]]),role:"treeitem",tabindex:mt(s),"aria-expanded":mt(F),"aria-selected":mt(Y),onKeydown:Ct},[xt("div",{class:Xe(["grtvn-self",[mt(a).treeViewNodeSelf,mt(d)?"grtvn-self-selected":"",mt(d)?mt(a).treeViewNodeSelfSelected:"",mt(y)._.isDropTarget?"grtvn-self-drop-target":"",mt(y)._.isChildDropTarget?"grtvn-self-child-drop-target":""]]),draggable:mt(y).draggable,dragging:mt(y)._.dragging,onClick:ft,onDblclick:lt,onDragend:Et[4]||(Et[4]=(...at)=>mt(ut)&&mt(ut)(...at)),onDragenter:Et[5]||(Et[5]=(...at)=>mt(tt)&&mt(tt)(...at)),onDragleave:Et[6]||(Et[6]=(...at)=>mt(nt)&&mt(nt)(...at)),onDragover:Et[7]||(Et[7]=(...at)=>mt(st)&&mt(st)(...at)),onDragstart:Et[8]||(Et[8]=(...at)=>mt(q)&&mt(q)(...at)),onDrop:Et[9]||(Et[9]=(...at)=>mt(rt)&&mt(rt)(...at))},[xt("div",{class:Xe(["grtvn-self-sibling-drop-target grtvn-self-prev-target",[mt(y)._.isPrevDropTarget?"grtvn-self-sibling-drop-target-hover":""]])},null,2),mt(N)?(Ft(),Nt("button",{key:0,id:mt(u),type:"button","aria-hidden":"true",tabindex:"-1",title:mt(y).expanderTitle,class:Xe(["grtvn-self-expander",[mt(a).treeViewNodeSelfExpander,mt(y).state.expanded?"grtvn-self-expanded":"",mt(y).state.expanded?mt(a).treeViewNodeSelfExpanded:""]]),onClick:Et[0]||(Et[0]=(...at)=>mt(j)&&mt(j)(...at))},[xt("i",{class:Xe(["grtvn-self-expanded-indicator",mt(a).treeViewNodeSelfExpandedIndicator])},null,2)],10,CY)):(Ft(),Nt("span",{key:1,class:Xe(["grtvn-self-spacer",mt(a).treeViewNodeSelfSpacer])},null,2)),mt(y).input&&mt(y).input.type==="checkbox"?Ss(Tt.$slots,"checkbox",{key:2,model:f.value,customClasses:mt(a),inputId:mt(o),checkboxChangeHandler:vt},()=>[xt("label",{for:mt(o),title:mt(y).title,class:Xe(["grtvn-self-label",mt(a).treeViewNodeSelfLabel])},[ys(xt("input",{id:mt(o),tabindex:"-1",class:Xe(["grtvn-self-input grtvn-self-checkbox",[mt(a).treeViewNodeSelfInput,mt(a).treeViewNodeSelfCheckbox]]),type:"checkbox",disabled:mt(y).state.input.disabled,"onUpdate:modelValue":Et[1]||(Et[1]=at=>mt(y).state.input.value=at),onChange:vt},null,42,TY),[[Nc,mt(y).state.input.value]]),Vi(" "+Jt(mt(v)),1)],10,SY)]):mt(y).input&&mt(y).input.type==="radio"?Ss(Tt.$slots,"radio",{key:3,model:f.value,customClasses:mt(a),inputId:mt(o),radioGroupValues:S.value,radioChangeHandler:pt},()=>[xt("label",{for:mt(o),title:mt(y).title,class:Xe(["grtvn-self-label",mt(a).treeViewNodeSelfLabel])},[ys(xt("input",{id:mt(o),tabindex:"-1",class:Xe(["grtvn-self-input grtvn-self-radio",[mt(a).treeViewNodeSelfInput,mt(a).treeViewNodeSelfRadio]]),type:"radio",name:mt(y).input.name,value:mt(y).input.value,disabled:mt(y).state.input.disabled,"onUpdate:modelValue":Et[2]||(Et[2]=at=>S.value[mt(y).input.name]=at),onChange:pt},null,42,PY),[[Gc,S.value[mt(y).input.name]]]),Vi(" "+Jt(mt(v)),1)],10,EY)]):Ss(Tt.$slots,"text",{key:4,model:f.value,customClasses:mt(a)},()=>[xt("span",{title:mt(y).title,class:Xe(["grtvn-self-text",mt(a).treeViewNodeSelfText])},Jt(mt(v)),11,wY)]),mt(y).addChildCallback?(Ft(),Nt("button",{key:5,id:mt(x),type:"button","aria-hidden":"true",tabindex:"-1",title:mt(y).addChildTitle,class:Xe(["grtvn-self-action",[mt(a).treeViewNodeSelfAction,mt(a).treeViewNodeSelfAddChild]]),onClick:Et[3]||(Et[3]=(...at)=>mt(T)&&mt(T)(...at))},[xt("i",{class:Xe(["grtvn-self-add-child-icon",mt(a).treeViewNodeSelfAddChildIcon])},null,2)],10,bY)):fe("",!0),mt(y).deletable?(Ft(),Nt("button",{key:6,id:mt(g),type:"button","aria-hidden":"true",tabindex:"-1",title:mt(y).deleteTitle,class:Xe(["grtvn-self-action",[mt(a).treeViewNodeSelfAction,mt(a).treeViewNodeSelfDelete]]),onClick:yt},[xt("i",{class:Xe(["grtvn-self-delete-icon",mt(a).treeViewNodeSelfDeleteIcon])},null,2)],10,MY)):fe("",!0),xt("div",{class:Xe(["grtvn-self-sibling-drop-target grtvn-self-next-target",[mt(y)._.isNextDropTarget?"grtvn-self-sibling-drop-target-hover":""]])},null,2)],42,yY),xt("div",{class:Xe(["grtvn-children-wrapper",mt(a).treeViewNodeChildrenWrapper])},[mt(y).state.expanded&&!mt(E)?Ss(Tt.$slots,"loading",{key:0,model:f.value,customClasses:mt(a)},()=>[xt("span",{class:Xe(["grtvn-loading",mt(a).treeViewNodeLoading])}," ... ",2)]):fe("",!0),mt(M)?ys((Ft(),Nt("ul",{key:1,class:Xe(["grtvn-children",mt(a).treeViewNodeChildren]),role:"group","aria-hidden":!mt(y).state.expanded},[(Ft(!0),Nt(Le,null,Cs(mt(P),at=>{var gt,_;return Ft(),ua(ot,{key:at[(_=(gt=at.treeNodeSpec)==null?void 0:gt.idProperty)!=null?_:"id"],depth:e.depth+1,"initial-model":at,"model-defaults":e.modelDefaults,"parent-id":mt(h),"selection-mode":e.selectionMode,"tree-id":mt(m),"initial-radio-group-values":S.value,"aria-key-map":e.ariaKeyMap,"is-mounted":e.isMounted,onTreeNodeClick:Et[10]||(Et[10]=(it,ht)=>Tt.$emit(mt(kt).Click,it,ht)),onTreeNodeDblclick:Et[11]||(Et[11]=(it,ht)=>Tt.$emit(mt(kt).DoubleClick,it,ht)),onTreeNodeCheckboxChange:Dt,onTreeNodeChildCheckboxChange:Et[12]||(Et[12]=(it,ht,dt)=>Tt.$emit(mt(kt).ChildCheckboxChange,it,ht,dt)),onTreeNodeRadioChange:Et[13]||(Et[13]=(it,ht)=>Tt.$emit(mt(kt).RadioChange,it,ht)),onTreeNodeExpandedChange:Et[14]||(Et[14]=it=>Tt.$emit(mt(kt).ExpandedChange,it)),onTreeNodeChildrenLoad:Et[15]||(Et[15]=it=>Tt.$emit(mt(kt).ChildrenLoad,it)),onTreeNodeSelectedChange:Et[16]||(Et[16]=it=>Tt.$emit(mt(kt).SelectedChange,it)),onTreeNodeAdd:Et[17]||(Et[17]=(it,ht)=>Tt.$emit(mt(kt).Add,it,ht)),onTreeNodeDelete:Rt,onTreeNodeAriaFocusableChange:Et[18]||(Et[18]=it=>Tt.$emit(mt(kt).FocusableChange,it)),onTreeNodeAriaRequestParentFocus:Et[19]||(Et[19]=()=>mt(I)()),onTreeNodeAriaRequestFirstFocus:Et[20]||(Et[20]=it=>Tt.$emit(mt(kt).RequestFirstFocus,it)),onTreeNodeAriaRequestLastFocus:Et[21]||(Et[21]=()=>Tt.$emit(mt(kt).RequestLastFocus)),onTreeNodeAriaRequestPreviousFocus:mt(G),onTreeNodeAriaRequestNextFocus:mt(B),onTreeNodeDragMove:mt(Q),onTreeNodeDrop:mt(K)},{checkbox:ci(({model:it,customClasses:ht,inputId:dt,checkboxChangeHandler:St})=>[Ss(Tt.$slots,"checkbox",{model:it,customClasses:ht,inputId:dt,checkboxChangeHandler:St})]),radio:ci(({model:it,customClasses:ht,inputId:dt,radioGroupValues:St,radioChangeHandler:It})=>[Ss(Tt.$slots,"radio",{model:it,customClasses:ht,inputId:dt,radioGroupValues:St,radioChangeHandler:It})]),text:ci(({model:it,customClasses:ht})=>[Ss(Tt.$slots,"text",{model:it,customClasses:ht})]),loading:ci(({model:it,customClasses:ht})=>[Ss(Tt.$slots,"loading",{model:it,customClasses:ht})]),_:2},1032,["depth","initial-model","model-defaults","parent-id","selection-mode","tree-id","initial-radio-group-values","aria-key-map","is-mounted","onTreeNodeAriaRequestPreviousFocus","onTreeNodeAriaRequestNextFocus","onTreeNodeDragMove","onTreeNodeDrop"])}),128))],10,AY)),[[Xu,mt(y).state.expanded]]):fe("",!0)],2)],42,xY)}}},OY=xt("span",{class:"grtv-loading"}," ... ",-1),LY=["aria-multiselectable"],DY={components:{TreeView:{__name:"TreeView",props:{customAriaKeyMap:{type:Object,required:!1,default:function(){return{}},validator:function(e){for(const t in e)if(!Array.isArray(e[t])||e[t].some(i=>!Number.isInteger(i)))return console.error(`customAriaKeyMap properties must be Arrays of numbers (corresponding to keyCodes); property '${t}' fails check.`),!1;return!0}},filterMethod:{type:Function,required:!1,default:null},initialModel:{type:Array,required:!1,default:function(){return[]}},loadNodesAsync:{type:Function,required:!1,default:null},modelDefaults:{type:Object,required:!1,default:function(){return{}}},selectionMode:{type:String,required:!1,default:Ti.None,validator:function(e){return Object.values(Ti).includes(e)}},skinClass:{type:String,required:!1,default:"grtv-default-skin",validator:function(e){return e===null||!e.match(/\s/)}}},emits:[kt.Add,kt.CheckboxChange,kt.ChildrenLoad,kt.ChildCheckboxChange,kt.Click,kt.Delete,kt.DoubleClick,kt.ExpandedChange,kt.RadioChange,kt.RootNodesLoad,kt.SelectedChange],setup(e,{expose:t,emit:i}){const r=e,f=dc({activateItem:[32],selectItem:[13],focusLastItem:[35],focusFirstItem:[36],collapseFocusedItem:[37],expandFocusedItem:[39],focusPreviousItem:[38],focusNextItem:[40],insertItem:[45],deleteItem:[46]}),S=Qe(!1),n=Qe(!1),x=Qe(r.initialModel),s=Qe({}),a=Qe(""),g=Qe(null),{generateUniqueId:u}=lM(),{depthFirstTraverse:h}=qx(x),{focusableNodeModel:l,handleFocusableChange:o}=sY(),{focus:d,focusFirst:v,focusLast:c,focusNext:p,focusPrevious:y,isFocused:m,unfocus:C}=La(),{ariaMultiselectable:T,enforceSelectionMode:E,handleNodeSelectedChange:w}=nY(x,oa(r,"selectionMode"),l,i),{isSelectable:P,isSelected:b,select:M}=Fv(oa(r,"selectionMode")),{findById:A,getCheckedCheckboxes:R,getCheckedRadioButtons:L,getMatching:O,getSelected:D,removeById:I}=lY(x,s,oa(r,"selectionMode")),{dragMoveNode:B,drop:G}=hY(x,a,A,I);rY(x);const z=Me(()=>typeof r.loadNodesAsync!="function"||S.value),Y=Me(()=>Object.assign({},f,r.customAriaKeyMap));yo(async()=>{if(await H(),g.value.id&&(a.value=g.value.id),x.value.length>0){let F=null;h(N=>{m(N)&&(l.value?C(N):l.value=N),r.selectionMode!==Ti.None&&F===null&&b(N)&&(F=N)}),l.value||(l.value=F||x.value[0],d(l)),F===null&&P(l)&&r.selectionMode===Ti.SelectionFollowsFocus&&M(l),E()}Ou(()=>{r.selectionMode===Ti.Single&&E(),n.value=!0})});async function H(){if(!z.value){var F=await r.loadNodesAsync();F&&(S.value=!0,x.value.splice(0,x.value.length,...F),i(kt.RootNodesLoad,x.value))}}function k(F){let N=x.value.indexOf(F);N>-1&&(U(F),x.value.splice(N,1)),i(kt.Delete,F)}function U(F){m(F)&&(x.value.indexOf(F)===0?x.value.length>0&&p(x.value,F):y(x.value,F))}return Qm("filterMethod",oa(r,"filterMethod")),a.value=u(),t({getCheckedCheckboxes:R,getCheckedRadioButtons:L,getMatching:O,getSelected:D}),(F,N)=>(Ft(),Nt("div",{ref_key:"treeElement",ref:g,class:Xe(["grtv-wrapper",e.skinClass])},[mt(z)?fe("",!0):Ss(F.$slots,"loading-root",{key:0},()=>[OY]),mt(z)?(Ft(),Nt("ul",{key:1,class:"grtv",role:"tree","aria-multiselectable":mt(T)},[(Ft(!0),Nt(Le,null,Cs(x.value,V=>{var $,X;return Ft(),ua(RY,{key:V[(X=($=V.treeNodeSpec)==null?void 0:$.idProperty)!=null?X:"id"],"aria-key-map":mt(Y),depth:0,"model-defaults":e.modelDefaults,"initial-model":V,"selection-mode":e.selectionMode,"tree-id":a.value,"is-mounted":n.value,"initial-radio-group-values":s.value,onTreeNodeClick:N[0]||(N[0]=(j,Q)=>F.$emit(mt(kt).Click,j,Q)),onTreeNodeDblclick:N[1]||(N[1]=(j,Q)=>F.$emit(mt(kt).DoubleClick,j,Q)),onTreeNodeCheckboxChange:N[2]||(N[2]=(j,Q)=>F.$emit(mt(kt).CheckboxChange,j,Q)),onTreeNodeChildCheckboxChange:N[3]||(N[3]=(j,Q,K)=>F.$emit(mt(kt).ChildCheckboxChange,j,Q,K)),onTreeNodeRadioChange:N[4]||(N[4]=(j,Q)=>F.$emit(mt(kt).RadioChange,j,Q)),onTreeNodeExpandedChange:N[5]||(N[5]=j=>F.$emit(mt(kt).ExpandedChange,j)),onTreeNodeChildrenLoad:N[6]||(N[6]=j=>F.$emit(mt(kt).ChildrenLoad,j)),onTreeNodeSelectedChange:mt(w),onTreeNodeAdd:N[7]||(N[7]=(j,Q)=>F.$emit(mt(kt).Add,j,Q)),onTreeNodeDelete:k,onTreeNodeAriaFocusableChange:mt(o),onTreeNodeAriaRequestFirstFocus:N[8]||(N[8]=j=>mt(v)(x.value,j)),onTreeNodeAriaRequestLastFocus:N[9]||(N[9]=j=>mt(c)(x.value)),onTreeNodeAriaRequestPreviousFocus:N[10]||(N[10]=j=>mt(y)(x.value,j)),onTreeNodeAriaRequestNextFocus:N[11]||(N[11]=(j,Q)=>mt(p)(x.value,j,Q)),onTreeNodeDragMove:mt(B),onTreeNodeDrop:mt(G)},{checkbox:ci(({model:j,customClasses:Q,inputId:K,checkboxChangeHandler:q})=>[Ss(F.$slots,"checkbox",{model:j,customClasses:Q,inputId:K,checkboxChangeHandler:q})]),radio:ci(({model:j,customClasses:Q,inputId:K,radioGroupValues:q,radioChangeHandler:tt})=>[Ss(F.$slots,"radio",{model:j,customClasses:Q,inputId:K,radioGroupValues:q,radioChangeHandler:tt})]),text:ci(({model:j,customClasses:Q})=>[Ss(F.$slots,"text",{model:j,customClasses:Q})]),loading:ci(({model:j,customClasses:Q})=>[Ss(F.$slots,"loading",{model:j,customClasses:Q})]),_:2},1032,["aria-key-map","model-defaults","initial-model","selection-mode","tree-id","is-mounted","initial-radio-group-values","onTreeNodeSelectedChange","onTreeNodeAriaFocusableChange","onTreeNodeDragMove","onTreeNodeDrop"])}),128))],8,LY)):fe("",!0)],2))}}},data(){return{dataModel:[{id:"Skills",label:"Skills",treeNodeSpec:{expandable:!0,selectable:!0,deletable:!0,input:{type:"checkbox",name:"checkbox1"},state:{expanded:!0,selected:!1,input:{value:!1,disabled:!1}}},children:[{id:1,label:"Lock Picking",treeNodeSpec:{expandable:!0,selectable:!0,deletable:!0,input:{type:"checkbox",name:"checkbox1"},state:{expanded:!1,selected:!1,input:{value:!1,disabled:!1}}},children:[{id:1,label:"Level One"},{id:1,label:"Level Two"},{id:1,label:"Level Three"},{id:1,label:"Level Four"}]},{id:"node2",label:"Melee",treeNodeSpec:{expandable:!0,selectable:!0,deletable:!0,input:{type:"checkbox",name:"checkbox1"},state:{expanded:!1,selected:!1,input:{value:!1,disabled:!1}}},children:[{id:1,label:"Level One"},{id:1,label:"Level Two"},{id:1,label:"Level Three"},{id:1,label:"Level Four"}]},{id:1,label:"Range",treeNodeSpec:{expandable:!0,selectable:!0,deletable:!0,input:{type:"checkbox",name:"checkbox1"},state:{expanded:!1,selected:!1,input:{value:!1,disabled:!1}}},children:[{id:1,label:"Level One"},{id:1,label:"Level Two"},{id:1,label:"Level Three"},{id:1,label:"Level Four"}]},{id:"node2",label:"Heal",treeNodeSpec:{state:{expanded:!1}},children:[{id:1,label:"Level One"},{id:1,label:"Level Two"},{id:1,label:"Level Three"},{id:1,label:"Level Four"}]}]}]}}};function FY(e,t,i,r,f,S){const n=Zi("tree-view");return Ft(),ua(n,{id:"my-tree","initial-model":f.dataModel},null,8,["initial-model"])}const IY=zi(DY,[["render",FY]]),BY="/gui/quest.png",NY={components:{coreui:dv},setup(){return{jigs:he()}},data(){return{playerQuests:[]}},mounted(){this.jigs=he(),ze.get("/mymissions?_wrapper_format=drupal_ajax").then(e=>{this.jigs.playerQuests=e.data[0].value.playerMissions})}},GY={class:"quests"},kY=xt("img",{src:Zx},null,-1),VY={class:"quest accordion-item"},zY=xt("img",{class:"quest__thumbnail",src:BY,alt:"quest type thumbnail"},null,-1),UY={class:"accordion-header"},WY={class:"quest__heading accordion-button collapsed",type:"button","data-coreui-toggle":"collapse","data-coreui-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne"},YY={id:"flush-collapseOne",class:"accordion-collapse collapse","data-coreui-parent":"#accordionFlushExample"},$Y={class:"accordion-body"};function XY(e,t,i,r,f,S){return Ft(),Nt("div",GY,[kY,(Ft(!0),Nt(Le,null,Cs(r.jigs.playerQuests,n=>(Ft(),Nt("div",{class:"accordion accordion-flush",id:"accordionFlushExample",key:n.id},[xt("div",VY,[zY,xt("h2",UY,[xt("button",WY,Jt(n.id)+": "+Jt(n.title?n.title:"Quest Title"),1)]),xt("div",YY,[xt("div",$Y,Jt(n.content?n.content:"Content of the quest."),1)])])]))),128))])}const HY=zi(NY,[["render",XY]]),KY="/gui/log.png",jY={setup(){return{jigs:he()}},data(){return{playerLogs:[{id:0,title:"Log One"},{id:1,title:"Log Two"},{id:2,title:"Log Three"}],timestamp:""}},created(){setInterval(this.getNow,1e3)},methods:{getNow:function(){const e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),i=e.getHours()+":"+e.getMinutes()+":"+e.getSeconds(),r=t+" "+i;this.timestamp=r}}},JY={class:"logs"},ZY=xt("img",{class:"log__thumbnail",src:KY,alt:"log type thumbnail"},null,-1),QY={class:"log__heading"},qY={class:"log__body"};function _Y(e,t,i,r,f,S){return Ft(),Nt("div",JY,[(Ft(!0),Nt(Le,null,Cs(f.playerLogs,n=>(Ft(),Nt("div",{class:"log",key:n.id},[ZY,xt("h2",QY,Jt(n.id)+": "+Jt(n.title?n.title:"Log Title"),1),xt("div",qY,[Vi(Jt(n.content?n.content:"Content of the log.")+" ",1),xt("small",null,Jt(f.timestamp),1)])]))),128))])}const t$=zi(jY,[["render",_Y]]),HCt="modulepreload",KCt=function(e){return"/"+e},jCt={},e$=function(t,i,r){return Promise.resolve().then(()=>t()).catch(S=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=S,window.dispatchEvent(n),!n.defaultPrevented)throw S})},i$="game-container",s$={__name:"PhaserContainer",setup(e){let t=null;return e$(()=>Promise.resolve().then(()=>iCt),void 0),yo(()=>{}),Gu(()=>{t.destroy(!1)}),(i,r)=>(Ft(),Nt("div",null,[xt("div",{id:i$})]))}},r$=xt("div",{class:"placeholder"}," Downloading ... ",-1),n$={__name:"GamePhaser",setup(e){return(t,i)=>(Ft(),ua(aE,null,{fallback:ci(()=>[r$]),default:ci(()=>[ie(s$)]),_:1}))}},gM=JP("chatMessages",{persist:!0,state:()=>({id:0,chatMessages:[{id:0,text:"I've got a job that might take yer fancy.",author:"Pope Turlock"},{id:1,text:"A large zombie horde is heading up O'Connel Street",author:"World message"},{id:2,text:"I see you have a soul. Care to sell it?",author:"Hades"},{id:3,text:"Algae slimes numbers are increasing rapidly, especially in the Red District near the Liffey.",author:"World message"},{id:4,text:"The subject is interpolated into a deconstructed theory of knowledge and experience as a totality.",author:"~~ waveylines ~~"},{id:5,text:"Whad are ye lookin' at?! If ya wish to keep them eyes...",author:"Khan the Road Warrior"}]}),getters:{},actions:{addChatMessage(e){this.chatMessages.unshift({id:this.id++,text:e,author:"You"})}}}),a$=["disabled"],o$={__name:"ChatBox",setup(e){const t=Qe(""),i=gM();function r(f){f.length!==0&&(i.addChatMessage(f),t.value="")}return(f,S)=>(Ft(),Nt("form",{class:"chat-box",onSubmit:S[1]||(S[1]=Vh(n=>r(t.value),["prevent"]))},[ys(xt("input",{"onUpdate:modelValue":S[0]||(S[0]=n=>t.value=n),placeholder:"Write a message",type:"text"},null,512),[[bo,t.value]]),xt("button",{type:"submit",disabled:f.message===""},"Send",8,a$)],32))}},h$={__name:"Message",setup(e){const t=gM(),{chatMessages:i}=r9(t);return(r,f)=>(Ft(!0),Nt(Le,null,Cs(mt(i),S=>(Ft(),Nt("div",{key:S.id,class:"message"},[xt("small",null,Jt(S.author)+": ",1),Vi(" "+Jt(S.text),1)]))),128))}},l$={class:"messages"},u$={components:{draggable:hM,Crafting:qW,Maps:iY,Skills:IY,Inventory:NU,Character:jW,Logs:t$,Quests:HY,coreui:dv,GamePhaser:n$,Messenger:{__name:"Messenger",setup(e){return(t,i)=>(Ft(),Nt(Le,null,[xt("div",l$,[ie(h$)]),ie(o$,{class:"chat-box-wrapper"})],64))}}},data(){return{gameState:[]}},setup(){return{jigs:he()}},props:{msg:String}},d$={class:"main"},f$={class:"messenger"};function c$(e,t,i,r,f,S){const n=Zi("Messenger");return Ft(),Nt("div",d$,[(Ft(),ua(wE(i.msg))),xt("section",f$,[ie(n)])])}const v$=zi(u$,[["render",c$]]);var ty={};ArrayBuffer.isView||(ArrayBuffer.isView=e=>e!==null&&typeof e=="object"&&e.buffer instanceof ArrayBuffer),typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window);var xl={},Iv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServerError=e.CloseCode=void 0,function(i){i[i.CONSENTED=4e3]="CONSENTED",i[i.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(e.CloseCode||(e.CloseCode={}));class t extends Error{constructor(r,f){super(f),this.name="ServerError",this.code=r}}e.ServerError=t})(Iv);var Od={},yl={};Object.defineProperty(yl,"__esModule",{value:!0}),yl.decode=yl.encode=void 0;function Cl(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(e))this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength);else throw new Error("Invalid argument")}function p$(e,t,i){for(var r="",f=0,S=t,n=t+i;S<n;S++){var x=e.getUint8(S);if(!(x&128)){r+=String.fromCharCode(x);continue}if((x&224)===192){r+=String.fromCharCode((x&31)<<6|e.getUint8(++S)&63);continue}if((x&240)===224){r+=String.fromCharCode((x&15)<<12|(e.getUint8(++S)&63)<<6|(e.getUint8(++S)&63)<<0);continue}if((x&248)===240){f=(x&7)<<18|(e.getUint8(++S)&63)<<12|(e.getUint8(++S)&63)<<6|(e.getUint8(++S)&63)<<0,f>=65536?(f-=65536,r+=String.fromCharCode((f>>>10)+55296,(f&1023)+56320)):r+=String.fromCharCode(f);continue}throw new Error("Invalid byte "+x.toString(16))}return r}Cl.prototype._array=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=this._parse();return t},Cl.prototype._map=function(e){for(var t="",i={},r=0;r<e;r++)t=this._parse(),i[t]=this._parse();return i},Cl.prototype._str=function(e){var t=p$(this._view,this._offset,e);return this._offset+=e,t},Cl.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},Cl.prototype._parse=function(){var e=this._view.getUint8(this._offset++),t,i=0,r=0,f=0,S=0;if(e<192)return e<128?e:e<144?this._map(e&15):e<160?this._array(e&15):this._str(e&31);if(e>223)return(255-e+1)*-1;switch(e){case 192:return null;case 194:return!1;case 195:return!0;case 196:return i=this._view.getUint8(this._offset),this._offset+=1,this._bin(i);case 197:return i=this._view.getUint16(this._offset),this._offset+=2,this._bin(i);case 198:return i=this._view.getUint32(this._offset),this._offset+=4,this._bin(i);case 199:if(i=this._view.getUint8(this._offset),r=this._view.getInt8(this._offset+1),this._offset+=2,r===-1){var n=this._view.getUint32(this._offset);return f=this._view.getInt32(this._offset+4),S=this._view.getUint32(this._offset+8),this._offset+=12,new Date((f*4294967296+S)*1e3+n/1e6)}return[r,this._bin(i)];case 200:return i=this._view.getUint16(this._offset),r=this._view.getInt8(this._offset+2),this._offset+=3,[r,this._bin(i)];case 201:return i=this._view.getUint32(this._offset),r=this._view.getInt8(this._offset+4),this._offset+=5,[r,this._bin(i)];case 202:return t=this._view.getFloat32(this._offset),this._offset+=4,t;case 203:return t=this._view.getFloat64(this._offset),this._offset+=8,t;case 204:return t=this._view.getUint8(this._offset),this._offset+=1,t;case 205:return t=this._view.getUint16(this._offset),this._offset+=2,t;case 206:return t=this._view.getUint32(this._offset),this._offset+=4,t;case 207:return f=this._view.getUint32(this._offset)*Math.pow(2,32),S=this._view.getUint32(this._offset+4),this._offset+=8,f+S;case 208:return t=this._view.getInt8(this._offset),this._offset+=1,t;case 209:return t=this._view.getInt16(this._offset),this._offset+=2,t;case 210:return t=this._view.getInt32(this._offset),this._offset+=4,t;case 211:return f=this._view.getInt32(this._offset)*Math.pow(2,32),S=this._view.getUint32(this._offset+4),this._offset+=8,f+S;case 212:if(r=this._view.getInt8(this._offset),this._offset+=1,r===0){this._offset+=1;return}return[r,this._bin(1)];case 213:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(2)];case 214:return r=this._view.getInt8(this._offset),this._offset+=1,r===-1?(t=this._view.getUint32(this._offset),this._offset+=4,new Date(t*1e3)):[r,this._bin(4)];case 215:if(r=this._view.getInt8(this._offset),this._offset+=1,r===0)return f=this._view.getInt32(this._offset)*Math.pow(2,32),S=this._view.getUint32(this._offset+4),this._offset+=8,new Date(f+S);if(r===-1){f=this._view.getUint32(this._offset),S=this._view.getUint32(this._offset+4),this._offset+=8;var x=(f&3)*4294967296+S;return new Date(x*1e3+(f>>>2)/1e6)}return[r,this._bin(8)];case 216:return r=this._view.getInt8(this._offset),this._offset+=1,[r,this._bin(16)];case 217:return i=this._view.getUint8(this._offset),this._offset+=1,this._str(i);case 218:return i=this._view.getUint16(this._offset),this._offset+=2,this._str(i);case 219:return i=this._view.getUint32(this._offset),this._offset+=4,this._str(i);case 220:return i=this._view.getUint16(this._offset),this._offset+=2,this._array(i);case 221:return i=this._view.getUint32(this._offset),this._offset+=4,this._array(i);case 222:return i=this._view.getUint16(this._offset),this._offset+=2,this._map(i);case 223:return i=this._view.getUint32(this._offset),this._offset+=4,this._map(i)}throw new Error("Could not parse")};function g$(e,t=0){var i=new Cl(e,t),r=i._parse();if(i._offset!==e.byteLength)throw new Error(e.byteLength-i._offset+" trailing bytes");return r}yl.decode=g$;var m$=4294967296-1,x$=17179869184-1;function y$(e,t,i){for(var r=0,f=0,S=i.length;f<S;f++)r=i.charCodeAt(f),r<128?e.setUint8(t++,r):r<2048?(e.setUint8(t++,192|r>>6),e.setUint8(t++,128|r&63)):r<55296||r>=57344?(e.setUint8(t++,224|r>>12),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|r&63)):(f++,r=65536+((r&1023)<<10|i.charCodeAt(f)&1023),e.setUint8(t++,240|r>>18),e.setUint8(t++,128|r>>12&63),e.setUint8(t++,128|r>>6&63),e.setUint8(t++,128|r&63))}function C$(e){for(var t=0,i=0,r=0,f=e.length;r<f;r++)t=e.charCodeAt(r),t<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(r++,i+=4);return i}function Sl(e,t,i){var r=typeof i,f=0,S=0,n=0,x=0,s=0,a=0;if(r==="string"){if(s=C$(i),s<32)e.push(s|160),a=1;else if(s<256)e.push(217,s),a=2;else if(s<65536)e.push(218,s>>8,s),a=3;else if(s<4294967296)e.push(219,s>>24,s>>16,s>>8,s),a=5;else throw new Error("String too long");return t.push({_str:i,_length:s,_offset:e.length}),a+s}if(r==="number")return Math.floor(i)!==i||!isFinite(i)?(e.push(203),t.push({_float:i,_length:8,_offset:e.length}),9):i>=0?i<128?(e.push(i),1):i<256?(e.push(204,i),2):i<65536?(e.push(205,i>>8,i),3):i<4294967296?(e.push(206,i>>24,i>>16,i>>8,i),5):(n=i/Math.pow(2,32)>>0,x=i>>>0,e.push(207,n>>24,n>>16,n>>8,n,x>>24,x>>16,x>>8,x),9):i>=-32?(e.push(i),1):i>=-128?(e.push(208,i),2):i>=-32768?(e.push(209,i>>8,i),3):i>=-2147483648?(e.push(210,i>>24,i>>16,i>>8,i),5):(n=Math.floor(i/Math.pow(2,32)),x=i>>>0,e.push(211,n>>24,n>>16,n>>8,n,x>>24,x>>16,x>>8,x),9);if(r==="object"){if(i===null)return e.push(192),1;if(Array.isArray(i)){if(s=i.length,s<16)e.push(s|144),a=1;else if(s<65536)e.push(220,s>>8,s),a=3;else if(s<4294967296)e.push(221,s>>24,s>>16,s>>8,s),a=5;else throw new Error("Array too large");for(f=0;f<s;f++)a+=Sl(e,t,i[f]);return a}if(i instanceof Date){var g=i.getTime(),u=Math.floor(g/1e3),h=(g-u*1e3)*1e6;return u>=0&&h>=0&&u<=x$?h===0&&u<=m$?(e.push(214,255,u>>24,u>>16,u>>8,u),6):(n=u/4294967296,x=u&4294967295,e.push(215,255,h>>22,h>>14,h>>6,n,x>>24,x>>16,x>>8,x),10):(n=Math.floor(u/4294967296),x=u>>>0,e.push(199,12,255,h>>24,h>>16,h>>8,h,n>>24,n>>16,n>>8,n,x>>24,x>>16,x>>8,x),15)}if(i instanceof ArrayBuffer){if(s=i.byteLength,s<256)e.push(196,s),a=2;else if(s<65536)e.push(197,s>>8,s),a=3;else if(s<4294967296)e.push(198,s>>24,s>>16,s>>8,s),a=5;else throw new Error("Buffer too large");return t.push({_bin:i,_length:s,_offset:e.length}),a+s}if(typeof i.toJSON=="function")return Sl(e,t,i.toJSON());var l=[],o="",d=Object.keys(i);for(f=0,S=d.length;f<S;f++)o=d[f],i[o]!==void 0&&typeof i[o]!="function"&&l.push(o);if(s=l.length,s<16)e.push(s|128),a=1;else if(s<65536)e.push(222,s>>8,s),a=3;else if(s<4294967296)e.push(223,s>>24,s>>16,s>>8,s),a=5;else throw new Error("Object too large");for(f=0;f<s;f++)o=l[f],a+=Sl(e,t,o),a+=Sl(e,t,i[o]);return a}if(r==="boolean")return e.push(i?195:194),1;if(r==="undefined")return e.push(192),1;if(typeof i.toJSON=="function")return Sl(e,t,i.toJSON());throw new Error("Could not encode")}function S$(e){var t=[],i=[],r=Sl(t,i,e),f=new ArrayBuffer(r),S=new DataView(f),n=0,x=0,s=-1;i.length>0&&(s=i[0]._offset);for(var a,g=0,u=0,h=0,l=t.length;h<l;h++)if(S.setUint8(x+h,t[h]),h+1===s){if(a=i[n],g=a._length,u=x+s,a._bin)for(var o=new Uint8Array(a._bin),d=0;d<g;d++)S.setUint8(u+d,o[d]);else a._str?y$(S,u,a._str):a._float!==void 0&&S.setFloat64(u,a._float);n++,x+=g,i[n]&&(s=i[n]._offset)}return f}yl.encode=S$;var Bv={},Nv={},T$=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},E$=je&&je.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.WebSocketTransport=void 0;const P$=E$(T$),mM=globalThis.WebSocket||P$.default;class w${constructor(t){this.events=t}send(t){t instanceof ArrayBuffer?this.ws.send(t):Array.isArray(t)&&this.ws.send(new Uint8Array(t).buffer)}connect(t){this.ws=new mM(t,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(t,i){this.ws.close(t,i)}get isOpen(){return this.ws.readyState===mM.OPEN}}Nv.WebSocketTransport=w$,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.Connection=void 0;const b$=Nv;class M${constructor(){this.events={},this.transport=new b$.WebSocketTransport(this.events)}send(t){this.transport.send(t)}connect(t){this.transport.connect(t)}close(t,i){this.transport.close(t,i)}get isOpen(){return this.transport.isOpen}}Bv.Connection=M$;var ey={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.utf8Length=e.utf8Read=e.ErrorCode=e.Protocol=void 0,function(r){r[r.HANDSHAKE=9]="HANDSHAKE",r[r.JOIN_ROOM=10]="JOIN_ROOM",r[r.ERROR=11]="ERROR",r[r.LEAVE_ROOM=12]="LEAVE_ROOM",r[r.ROOM_DATA=13]="ROOM_DATA",r[r.ROOM_STATE=14]="ROOM_STATE",r[r.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",r[r.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",r[r.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(e.Protocol||(e.Protocol={})),function(r){r[r.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",r[r.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",r[r.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",r[r.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",r[r.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",r[r.AUTH_FAILED=4215]="AUTH_FAILED",r[r.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(e.ErrorCode||(e.ErrorCode={}));function t(r,f){const S=r[f++];for(var n="",x=0,s=f,a=f+S;s<a;s++){var g=r[s];if(!(g&128)){n+=String.fromCharCode(g);continue}if((g&224)===192){n+=String.fromCharCode((g&31)<<6|r[++s]&63);continue}if((g&240)===224){n+=String.fromCharCode((g&15)<<12|(r[++s]&63)<<6|(r[++s]&63)<<0);continue}if((g&248)===240){x=(g&7)<<18|(r[++s]&63)<<12|(r[++s]&63)<<6|(r[++s]&63)<<0,x>=65536?(x-=65536,n+=String.fromCharCode((x>>>10)+55296,(x&1023)+56320)):n+=String.fromCharCode(x);continue}throw new Error("Invalid byte "+g.toString(16))}return n}e.utf8Read=t;function i(r=""){let f=0,S=0;for(let n=0,x=r.length;n<x;n++)f=r.charCodeAt(n),f<128?S+=1:f<2048?S+=2:f<55296||f>=57344?S+=3:(n++,S+=4);return S+1}e.utf8Length=i})(ey);var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.getSerializer=Xo.registerSerializer=void 0;const xM={};function A$(e,t){xM[e]=t}Xo.registerSerializer=A$;function R$(e){const t=xM[e];if(!t)throw new Error("missing serializer: "+e);return t}Xo.getSerializer=R$;var Ld={};Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.createNanoEvents=void 0;const O$=()=>({emit(e,...t){let i=this.events[e]||[];for(let r=0,f=i.length;r<f;r++)i[r](...t)},events:{},on(e,t){var i;return!((i=this.events[e])===null||i===void 0)&&i.push(t)||(this.events[e]=[t]),()=>{var r;this.events[e]=(r=this.events[e])===null||r===void 0?void 0:r.filter(f=>t!==f)}}});Ld.createNanoEvents=O$;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.createSignal=Tl.EventEmitter=void 0;let yM=class{constructor(){this.handlers=[]}register(t,i=!1){return this.handlers.push(t),this}invoke(...t){this.handlers.forEach(i=>i.apply(this,t))}invokeAsync(...t){return Promise.all(this.handlers.map(i=>i.apply(this,t)))}remove(t){const i=this.handlers.indexOf(t);this.handlers[i]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}};Tl.EventEmitter=yM;function L$(){const e=new yM;function t(i){return e.register(i,this===null)}return t.once=i=>{const r=function(...f){i.apply(this,f),e.remove(r)};e.register(r)},t.remove=i=>e.remove(i),t.invoke=(...i)=>e.invoke(...i),t.invokeAsync=(...i)=>e.invokeAsync(...i),t.clear=()=>e.clear(),t}Tl.createSignal=L$;var iy={exports:{}};(function(e,t){(function(i,r){r(t)})(je,function(i){var r=function(J,W){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,et){Z.__proto__=et}||function(Z,et){for(var ct in et)Object.prototype.hasOwnProperty.call(et,ct)&&(Z[ct]=et[ct])},r(J,W)};function f(J,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");r(J,W);function Z(){this.constructor=J}J.prototype=W===null?Object.create(W):(Z.prototype=W.prototype,new Z)}function S(J,W,Z,et){var ct=arguments.length,Ot=ct<3?W:et,zt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ot=Reflect.decorate(J,W,Z,et);else for(var te=J.length-1;te>=0;te--)(zt=J[te])&&(Ot=(ct<3?zt(Ot):ct>3?zt(W,Z,Ot):zt(W,Z))||Ot);return ct>3&&Ot&&Object.defineProperty(W,Z,Ot),Ot}function n(J,W,Z){if(arguments.length===2)for(var et=0,ct=W.length,Ot;et<ct;et++)(Ot||!(et in W))&&(Ot||(Ot=Array.prototype.slice.call(W,0,et)),Ot[et]=W[et]);return J.concat(Ot||Array.prototype.slice.call(W))}var x=255,s=213;i.OPERATION=void 0,function(J){J[J.ADD=128]="ADD",J[J.REPLACE=0]="REPLACE",J[J.DELETE=64]="DELETE",J[J.DELETE_AND_ADD=192]="DELETE_AND_ADD",J[J.TOUCH=1]="TOUCH",J[J.CLEAR=10]="CLEAR"}(i.OPERATION||(i.OPERATION={}));var a=function(){function J(W,Z,et){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=W,this.setParent(Z,et)}return J.prototype.setParent=function(W,Z,et){var ct=this;if(this.indexes||(this.indexes=this.ref instanceof Tr?this.ref._definition.indexes:{}),this.parent=W,this.parentIndex=et,!!Z)if(this.root=Z,this.ref instanceof Tr){var Ot=this.ref._definition;for(var zt in Ot.schema){var te=this.ref[zt];if(te&&te.$changes){var Te=Ot.indexes[zt];te.$changes.setParent(this.ref,Z,Te)}}}else typeof this.ref=="object"&&this.ref.forEach(function(ve,Ht){if(ve instanceof Tr){var Ee=ve.$changes,Qt=ct.ref.$changes.indexes[Ht];Ee.setParent(ct.ref,ct.root,Qt)}})},J.prototype.operation=function(W){this.changes.set(--this.currentCustomOperation,W)},J.prototype.change=function(W,Z){Z===void 0&&(Z=i.OPERATION.ADD);var et=typeof W=="number"?W:this.indexes[W];this.assertValidIndex(et,W);var ct=this.changes.get(et);(!ct||ct.op===i.OPERATION.DELETE||ct.op===i.OPERATION.TOUCH)&&this.changes.set(et,{op:ct&&ct.op===i.OPERATION.DELETE?i.OPERATION.DELETE_AND_ADD:Z,index:et}),this.allChanges.add(et),this.changed=!0,this.touchParents()},J.prototype.touch=function(W){var Z=typeof W=="number"?W:this.indexes[W];this.assertValidIndex(Z,W),this.changes.has(Z)||this.changes.set(Z,{op:i.OPERATION.TOUCH,index:Z}),this.allChanges.add(Z),this.touchParents()},J.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},J.prototype.getType=function(W){if(this.ref._definition){var Z=this.ref._definition;return Z.schema[Z.fieldsByIndex[W]]}else{var Z=this.parent._definition,et=Z.schema[Z.fieldsByIndex[this.parentIndex]];return Object.values(et)[0]}},J.prototype.getChildrenFilter=function(){var W=this.parent._definition.childFilters;return W&&W[this.parentIndex]},J.prototype.getValue=function(W){return this.ref.getByIndex(W)},J.prototype.delete=function(W){var Z=typeof W=="number"?W:this.indexes[W];if(Z===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(W," (").concat(Z,")"));return}var et=this.getValue(Z);this.changes.set(Z,{op:i.OPERATION.DELETE,index:Z}),this.allChanges.delete(Z),delete this.caches[Z],et&&et.$changes&&(et.$changes.parent=void 0),this.changed=!0,this.touchParents()},J.prototype.discard=function(W,Z){var et=this;W===void 0&&(W=!1),Z===void 0&&(Z=!1),this.ref instanceof Tr||this.changes.forEach(function(ct){if(ct.op===i.OPERATION.DELETE){var Ot=et.ref.getIndex(ct.index);delete et.indexes[Ot]}}),this.changes.clear(),this.changed=W,Z&&this.allChanges.clear(),this.currentCustomOperation=0},J.prototype.discardAll=function(){var W=this;this.changes.forEach(function(Z){var et=W.getValue(Z.index);et&&et.$changes&&et.$changes.discardAll()}),this.discard()},J.prototype.cache=function(W,Z){this.caches[W]=Z},J.prototype.clone=function(){return new J(this.ref,this.parent,this.root)},J.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},J.prototype.assertValidIndex=function(W,Z){if(W===void 0)throw new Error('ChangeTree: missing index for field "'.concat(Z,'"'))},J}();function g(J,W,Z,et){return J[W]||(J[W]=[]),J[W].push(Z),et==null||et.forEach(function(ct,Ot){return Z(ct,Ot)}),function(){return h(J[W],J[W].indexOf(Z))}}function u(J){var W=this,Z=typeof this.$changes.getType()!="string";this.$items.forEach(function(et,ct){J.push({refId:W.$changes.refId,op:i.OPERATION.DELETE,field:ct,value:void 0,previousValue:et}),Z&&W.$changes.root.removeRef(et.$changes.refId)})}function h(J,W){if(W===-1||W>=J.length)return!1;for(var Z=J.length-1,et=W;et<Z;et++)J[et]=J[et+1];return J.length=Z,!0}var l=function(J,W){var Z=J.toString(),et=W.toString();return Z<et?-1:Z>et?1:0};function o(J){return J.$proxy=!0,J=new Proxy(J,{get:function(W,Z){return typeof Z!="symbol"&&!isNaN(Z)?W.at(Z):W[Z]},set:function(W,Z,et){if(typeof Z!="symbol"&&!isNaN(Z)){var ct=Array.from(W.$items.keys()),Ot=parseInt(ct[Z]||Z);et==null?W.deleteAt(Ot):W.setAt(Ot,et)}else W[Z]=et;return!0},deleteProperty:function(W,Z){return typeof Z=="number"?W.deleteAt(Z):delete W[Z],!0}}),J}var d=function(){function J(){for(var W=[],Z=0;Z<arguments.length;Z++)W[Z]=arguments[Z];this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,W)}return J.prototype.onAdd=function(W,Z){return Z===void 0&&(Z=!0),g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.ADD,W,Z?this.$items:void 0)},J.prototype.onRemove=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,W)},J.prototype.onChange=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,W)},J.is=function(W){return Array.isArray(W)||W.array!==void 0},Object.defineProperty(J.prototype,"length",{get:function(){return this.$items.size},set:function(W){W===0?this.clear():this.splice(W,this.length-W)},enumerable:!1,configurable:!0}),J.prototype.push=function(){for(var W=this,Z=[],et=0;et<arguments.length;et++)Z[et]=arguments[et];var ct;return Z.forEach(function(Ot){ct=W.$refId++,W.setAt(ct,Ot)}),ct},J.prototype.pop=function(){var W=Array.from(this.$indexes.values()).pop();if(W!==void 0){this.$changes.delete(W),this.$indexes.delete(W);var Z=this.$items.get(W);return this.$items.delete(W),Z}},J.prototype.at=function(W){var Z=Array.from(this.$items.keys())[W];return this.$items.get(Z)},J.prototype.setAt=function(W,Z){var et,ct;Z.$changes!==void 0&&Z.$changes.setParent(this,this.$changes.root,W);var Ot=(ct=(et=this.$changes.indexes[W])===null||et===void 0?void 0:et.op)!==null&&ct!==void 0?ct:i.OPERATION.ADD;this.$changes.indexes[W]=W,this.$indexes.set(W,W),this.$items.set(W,Z),this.$changes.change(W,Ot)},J.prototype.deleteAt=function(W){var Z=Array.from(this.$items.keys())[W];return Z===void 0?!1:this.$deleteAt(Z)},J.prototype.$deleteAt=function(W){return this.$changes.delete(W),this.$indexes.delete(W),this.$items.delete(W)},J.prototype.clear=function(W){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),W&&u.call(this,W),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},J.prototype.concat=function(){for(var W,Z=[],et=0;et<arguments.length;et++)Z[et]=arguments[et];return new(J.bind.apply(J,n([void 0],(W=Array.from(this.$items.values())).concat.apply(W,Z),!1)))},J.prototype.join=function(W){return Array.from(this.$items.values()).join(W)},J.prototype.reverse=function(){var W=this,Z=Array.from(this.$items.keys()),et=Array.from(this.$items.values()).reverse();return et.forEach(function(ct,Ot){W.setAt(Z[Ot],ct)}),this},J.prototype.shift=function(){var W=Array.from(this.$items.keys()),Z=W.shift();if(Z!==void 0){var et=this.$items.get(Z);return this.$deleteAt(Z),et}},J.prototype.slice=function(W,Z){var et=new J;return et.push.apply(et,Array.from(this.$items.values()).slice(W,Z)),et},J.prototype.sort=function(W){var Z=this;W===void 0&&(W=l);var et=Array.from(this.$items.keys()),ct=Array.from(this.$items.values()).sort(W);return ct.forEach(function(Ot,zt){Z.setAt(et[zt],Ot)}),this},J.prototype.splice=function(W,Z){Z===void 0&&(Z=this.length-W);for(var et=Array.from(this.$items.keys()),ct=[],Ot=W;Ot<W+Z;Ot++)ct.push(this.$items.get(et[Ot])),this.$deleteAt(et[Ot]);return ct},J.prototype.unshift=function(){for(var W=this,Z=[],et=0;et<arguments.length;et++)Z[et]=arguments[et];var ct=this.length,Ot=Z.length,zt=Array.from(this.$items.values());return Z.forEach(function(te,Te){W.setAt(Te,te)}),zt.forEach(function(te,Te){W.setAt(Ot+Te,te)}),ct+Ot},J.prototype.indexOf=function(W,Z){return Array.from(this.$items.values()).indexOf(W,Z)},J.prototype.lastIndexOf=function(W,Z){return Z===void 0&&(Z=this.length-1),Array.from(this.$items.values()).lastIndexOf(W,Z)},J.prototype.every=function(W,Z){return Array.from(this.$items.values()).every(W,Z)},J.prototype.some=function(W,Z){return Array.from(this.$items.values()).some(W,Z)},J.prototype.forEach=function(W,Z){Array.from(this.$items.values()).forEach(W,Z)},J.prototype.map=function(W,Z){return Array.from(this.$items.values()).map(W,Z)},J.prototype.filter=function(W,Z){return Array.from(this.$items.values()).filter(W,Z)},J.prototype.reduce=function(W,Z){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},J.prototype.reduceRight=function(W,Z){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},J.prototype.find=function(W,Z){return Array.from(this.$items.values()).find(W,Z)},J.prototype.findIndex=function(W,Z){return Array.from(this.$items.values()).findIndex(W,Z)},J.prototype.fill=function(W,Z,et){throw new Error("ArraySchema#fill() not implemented")},J.prototype.copyWithin=function(W,Z,et){throw new Error("ArraySchema#copyWithin() not implemented")},J.prototype.toString=function(){return this.$items.toString()},J.prototype.toLocaleString=function(){return this.$items.toLocaleString()},J.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},J.prototype.entries=function(){return this.$items.entries()},J.prototype.keys=function(){return this.$items.keys()},J.prototype.values=function(){return this.$items.values()},J.prototype.includes=function(W,Z){return Array.from(this.$items.values()).includes(W,Z)},J.prototype.flatMap=function(W,Z){throw new Error("ArraySchema#flatMap() is not supported.")},J.prototype.flat=function(W){throw new Error("ArraySchema#flat() is not supported.")},J.prototype.findLast=function(){var W=Array.from(this.$items.values());return W.findLast.apply(W,arguments)},J.prototype.findLastIndex=function(){var W=Array.from(this.$items.values());return W.findLastIndex.apply(W,arguments)},J.prototype.setIndex=function(W,Z){this.$indexes.set(W,Z)},J.prototype.getIndex=function(W){return this.$indexes.get(W)},J.prototype.getByIndex=function(W){return this.$items.get(this.$indexes.get(W))},J.prototype.deleteByIndex=function(W){var Z=this.$indexes.get(W);this.$items.delete(Z),this.$indexes.delete(W)},J.prototype.toArray=function(){return Array.from(this.$items.values())},J.prototype.toJSON=function(){return this.toArray().map(function(W){return typeof W.toJSON=="function"?W.toJSON():W})},J.prototype.clone=function(W){var Z;return W?Z=new(J.bind.apply(J,n([void 0],Array.from(this.$items.values()),!1))):Z=new(J.bind.apply(J,n([void 0],this.map(function(et){return et.$changes?et.clone():et}),!1))),Z},J}();function v(J){return J.$proxy=!0,J=new Proxy(J,{get:function(W,Z){return typeof Z!="symbol"&&typeof W[Z]>"u"?W.get(Z):W[Z]},set:function(W,Z,et){return typeof Z!="symbol"&&Z.indexOf("$")===-1&&Z!=="onAdd"&&Z!=="onRemove"&&Z!=="onChange"?W.set(Z,et):W[Z]=et,!0},deleteProperty:function(W,Z){return W.delete(Z),!0}}),J}var c=function(){function J(W){var Z=this;if(this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,W)if(W instanceof Map||W instanceof J)W.forEach(function(ct,Ot){return Z.set(Ot,ct)});else for(var et in W)this.set(et,W[et])}return J.prototype.onAdd=function(W,Z){return Z===void 0&&(Z=!0),g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.ADD,W,Z?this.$items:void 0)},J.prototype.onRemove=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,W)},J.prototype.onChange=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,W)},J.is=function(W){return W.map!==void 0},J.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(J.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),J.prototype.set=function(W,Z){if(Z==null)throw new Error("MapSchema#set('".concat(W,"', ").concat(Z,"): trying to set ").concat(Z," value on '").concat(W,"'."));var et=typeof this.$changes.indexes[W]<"u",ct=et?this.$changes.indexes[W]:this.$refId++,Ot=et?i.OPERATION.REPLACE:i.OPERATION.ADD,zt=Z.$changes!==void 0;return zt&&Z.$changes.setParent(this,this.$changes.root,ct),et?zt&&this.$items.get(W)!==Z&&(Ot=i.OPERATION.ADD):(this.$changes.indexes[W]=ct,this.$indexes.set(ct,W)),this.$items.set(W,Z),this.$changes.change(W,Ot),this},J.prototype.get=function(W){return this.$items.get(W)},J.prototype.delete=function(W){return this.$changes.delete(W),this.$items.delete(W)},J.prototype.clear=function(W){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),W&&u.call(this,W),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},J.prototype.has=function(W){return this.$items.has(W)},J.prototype.forEach=function(W){this.$items.forEach(W)},J.prototype.entries=function(){return this.$items.entries()},J.prototype.keys=function(){return this.$items.keys()},J.prototype.values=function(){return this.$items.values()},Object.defineProperty(J.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),J.prototype.setIndex=function(W,Z){this.$indexes.set(W,Z)},J.prototype.getIndex=function(W){return this.$indexes.get(W)},J.prototype.getByIndex=function(W){return this.$items.get(this.$indexes.get(W))},J.prototype.deleteByIndex=function(W){var Z=this.$indexes.get(W);this.$items.delete(Z),this.$indexes.delete(W)},J.prototype.toJSON=function(){var W={};return this.forEach(function(Z,et){W[et]=typeof Z.toJSON=="function"?Z.toJSON():Z}),W},J.prototype.clone=function(W){var Z;return W?Z=Object.assign(new J,this):(Z=new J,this.forEach(function(et,ct){et.$changes?Z.set(ct,et.clone()):Z.set(ct,et)})),Z},J}(),p={};function y(J,W){p[J]=W}function m(J){return p[J]}var C=function(){function J(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return J.create=function(W){var Z=new J;return Z.schema=Object.assign({},W&&W.schema||{}),Z.indexes=Object.assign({},W&&W.indexes||{}),Z.fieldsByIndex=Object.assign({},W&&W.fieldsByIndex||{}),Z.descriptors=Object.assign({},W&&W.descriptors||{}),Z.deprecated=Object.assign({},W&&W.deprecated||{}),Z},J.prototype.addField=function(W,Z){var et=this.getNextFieldIndex();this.fieldsByIndex[et]=W,this.indexes[W]=et,this.schema[W]=Array.isArray(Z)?{array:Z[0]}:Z},J.prototype.hasField=function(W){return this.indexes[W]!==void 0},J.prototype.addFilter=function(W,Z){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[W]]=Z,this.indexesWithFilters.push(this.indexes[W]),!0},J.prototype.addChildrenFilter=function(W,Z){var et=this.indexes[W],ct=this.schema[W];if(m(Object.keys(ct)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[et]=Z,!0;console.warn("@filterChildren: field '".concat(W,"' can't have children. Ignoring filter."))},J.prototype.getChildrenFilter=function(W){return this.childFilters&&this.childFilters[this.indexes[W]]},J.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},J}();function T(J){return J._context&&J._context.useFilters}var E=function(){function J(){this.types={},this.schemas=new Map,this.useFilters=!1}return J.prototype.has=function(W){return this.schemas.has(W)},J.prototype.get=function(W){return this.types[W]},J.prototype.add=function(W,Z){Z===void 0&&(Z=this.schemas.size),W._definition=C.create(W._definition),W._typeid=Z,this.types[Z]=W,this.schemas.set(W,Z)},J.create=function(W){return W===void 0&&(W={}),function(Z){return W.context||(W.context=new J),P(Z,W)}},J}(),w=new E;function P(J,W){return W===void 0&&(W={}),function(Z,et){var ct=W.context||w,Ot=Z.constructor;if(Ot._context=ct,!J)throw new Error("".concat(Ot.name,': @type() reference provided for "').concat(et,`" is undefined. Make sure you don't have any circular dependencies.`));ct.has(Ot)||ct.add(Ot);var zt=Ot._definition;if(zt.addField(et,J),zt.descriptors[et]){if(zt.deprecated[et])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(et,"' definition on '").concat(Ot.name,`'.
Check @type() annotation`))}catch(Qt){var te=Qt.stack.split(`
`)[4].trim();throw new Error("".concat(Qt.message," ").concat(te))}}var Te=d.is(J),ve=!Te&&c.is(J);if(typeof J!="string"&&!Tr.is(J)){var Ht=Object.values(J)[0];typeof Ht!="string"&&!ct.has(Ht)&&ct.add(Ht)}if(W.manual){zt.descriptors[et]={enumerable:!0,configurable:!0,writable:!0};return}var Ee="_".concat(et);zt.descriptors[Ee]={enumerable:!1,configurable:!1,writable:!0},zt.descriptors[et]={get:function(){return this[Ee]},set:function(Qt){Qt!==this[Ee]&&(Qt!=null?(Te&&!(Qt instanceof d)&&(Qt=new(d.bind.apply(d,n([void 0],Qt,!1)))),ve&&!(Qt instanceof c)&&(Qt=new c(Qt)),Qt.$proxy===void 0&&(ve?Qt=v(Qt):Te&&(Qt=o(Qt))),this.$changes.change(et),Qt.$changes&&Qt.$changes.setParent(this,this.$changes.root,this._definition.indexes[et])):this[Ee]&&this.$changes.delete(et),this[Ee]=Qt)},enumerable:!0,configurable:!0}}}function b(J){return function(W,Z){var et=W.constructor,ct=et._definition;ct.addFilter(Z,J)&&(et._context.useFilters=!0)}}function M(J){return function(W,Z){var et=W.constructor,ct=et._definition;ct.addChildrenFilter(Z,J)&&(et._context.useFilters=!0)}}function A(J){return J===void 0&&(J=!0),function(W,Z){var et=W.constructor,ct=et._definition;ct.deprecated[Z]=!0,J&&(ct.descriptors[Z]={get:function(){throw new Error("".concat(Z," is deprecated."))},set:function(Ot){},enumerable:!1,configurable:!0})}}function R(J,W,Z){Z===void 0&&(Z={}),Z.context||(Z.context=J._context||Z.context||w);for(var et in W)P(W[et],Z)(J.prototype,et);return J}function L(J){for(var W=0,Z=0,et=0,ct=J.length;et<ct;et++)W=J.charCodeAt(et),W<128?Z+=1:W<2048?Z+=2:W<55296||W>=57344?Z+=3:(et++,Z+=4);return Z}function O(J,W,Z){for(var et=0,ct=0,Ot=Z.length;ct<Ot;ct++)et=Z.charCodeAt(ct),et<128?J[W++]=et:et<2048?(J[W++]=192|et>>6,J[W++]=128|et&63):et<55296||et>=57344?(J[W++]=224|et>>12,J[W++]=128|et>>6&63,J[W++]=128|et&63):(ct++,et=65536+((et&1023)<<10|Z.charCodeAt(ct)&1023),J[W++]=240|et>>18,J[W++]=128|et>>12&63,J[W++]=128|et>>6&63,J[W++]=128|et&63)}function D(J,W){J.push(W&255)}function I(J,W){J.push(W&255)}function B(J,W){J.push(W&255),J.push(W>>8&255)}function G(J,W){J.push(W&255),J.push(W>>8&255)}function z(J,W){J.push(W&255),J.push(W>>8&255),J.push(W>>16&255),J.push(W>>24&255)}function Y(J,W){var Z=W>>24,et=W>>16,ct=W>>8,Ot=W;J.push(Ot&255),J.push(ct&255),J.push(et&255),J.push(Z&255)}function H(J,W){var Z=Math.floor(W/Math.pow(2,32)),et=W>>>0;Y(J,et),Y(J,Z)}function k(J,W){var Z=W/Math.pow(2,32)>>0,et=W>>>0;Y(J,et),Y(J,Z)}function U(J,W){X(J,W)}function F(J,W){j(J,W)}var N=new Int32Array(2),V=new Float32Array(N.buffer),$=new Float64Array(N.buffer);function X(J,W){V[0]=W,z(J,N[0])}function j(J,W){$[0]=W,z(J,N[0]),z(J,N[1])}function Q(J,W){return I(J,W?1:0)}function K(J,W){W||(W="");var Z=L(W),et=0;if(Z<32)J.push(Z|160),et=1;else if(Z<256)J.push(217),I(J,Z),et=2;else if(Z<65536)J.push(218),G(J,Z),et=3;else if(Z<4294967296)J.push(219),Y(J,Z),et=5;else throw new Error("String too long");return O(J,J.length,W),et+Z}function q(J,W){if(isNaN(W))return q(J,0);if(isFinite(W)){if(W!==(W|0))return J.push(203),j(J,W),9}else return q(J,W>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return W>=0?W<128?(I(J,W),1):W<256?(J.push(204),I(J,W),2):W<65536?(J.push(205),G(J,W),3):W<4294967296?(J.push(206),Y(J,W),5):(J.push(207),k(J,W),9):W>=-32?(J.push(224|W+32),1):W>=-128?(J.push(208),D(J,W),2):W>=-32768?(J.push(209),B(J,W),3):W>=-2147483648?(J.push(210),z(J,W),5):(J.push(211),H(J,W),9)}var tt=Object.freeze({__proto__:null,utf8Write:O,int8:D,uint8:I,int16:B,uint16:G,int32:z,uint32:Y,int64:H,uint64:k,float32:U,float64:F,writeFloat32:X,writeFloat64:j,boolean:Q,string:K,number:q});function st(J,W,Z){for(var et="",ct=0,Ot=W,zt=W+Z;Ot<zt;Ot++){var te=J[Ot];if(!(te&128)){et+=String.fromCharCode(te);continue}if((te&224)===192){et+=String.fromCharCode((te&31)<<6|J[++Ot]&63);continue}if((te&240)===224){et+=String.fromCharCode((te&15)<<12|(J[++Ot]&63)<<6|(J[++Ot]&63)<<0);continue}if((te&248)===240){ct=(te&7)<<18|(J[++Ot]&63)<<12|(J[++Ot]&63)<<6|(J[++Ot]&63)<<0,ct>=65536?(ct-=65536,et+=String.fromCharCode((ct>>>10)+55296,(ct&1023)+56320)):et+=String.fromCharCode(ct);continue}console.error("Invalid byte "+te.toString(16))}return et}function nt(J,W){return rt(J,W)<<24>>24}function rt(J,W){return J[W.offset++]}function ut(J,W){return vt(J,W)<<16>>16}function vt(J,W){return J[W.offset++]|J[W.offset++]<<8}function pt(J,W){return J[W.offset++]|J[W.offset++]<<8|J[W.offset++]<<16|J[W.offset++]<<24}function ft(J,W){return pt(J,W)>>>0}function lt(J,W){return ot(J,W)}function yt(J,W){return at(J,W)}function Ct(J,W){var Z=ft(J,W),et=pt(J,W)*Math.pow(2,32);return et+Z}function Rt(J,W){var Z=ft(J,W),et=ft(J,W)*Math.pow(2,32);return et+Z}var Dt=new Int32Array(2),Tt=new Float32Array(Dt.buffer),Et=new Float64Array(Dt.buffer);function ot(J,W){return Dt[0]=pt(J,W),Tt[0]}function at(J,W){return Dt[0]=pt(J,W),Dt[1]=pt(J,W),Et[0]}function gt(J,W){return rt(J,W)>0}function _(J,W){var Z=J[W.offset++],et;Z<192?et=Z&31:Z===217?et=rt(J,W):Z===218?et=vt(J,W):Z===219&&(et=ft(J,W));var ct=st(J,W.offset,et);return W.offset+=et,ct}function it(J,W){var Z=J[W.offset];return Z<192&&Z>160||Z===217||Z===218||Z===219}function ht(J,W){var Z=J[W.offset++];if(Z<128)return Z;if(Z===202)return ot(J,W);if(Z===203)return at(J,W);if(Z===204)return rt(J,W);if(Z===205)return vt(J,W);if(Z===206)return ft(J,W);if(Z===207)return Rt(J,W);if(Z===208)return nt(J,W);if(Z===209)return ut(J,W);if(Z===210)return pt(J,W);if(Z===211)return Ct(J,W);if(Z>223)return(255-Z+1)*-1}function dt(J,W){var Z=J[W.offset];return Z<128||Z>=202&&Z<=211}function St(J,W){return J[W.offset]<160}function It(J,W){return J[W.offset-1]===x&&(J[W.offset]<128||J[W.offset]>=202&&J[W.offset]<=211)}var At=Object.freeze({__proto__:null,int8:nt,uint8:rt,int16:ut,uint16:vt,int32:pt,uint32:ft,float32:lt,float64:yt,int64:Ct,uint64:Rt,readFloat32:ot,readFloat64:at,boolean:gt,string:_,stringCheck:it,number:ht,numberCheck:dt,arrayCheck:St,switchStructureCheck:It}),Lt=function(){function J(W){var Z=this;this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,W&&W.forEach(function(et){return Z.add(et)})}return J.prototype.onAdd=function(W,Z){return Z===void 0&&(Z=!0),g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.ADD,W,Z?this.$items:void 0)},J.prototype.onRemove=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,W)},J.prototype.onChange=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,W)},J.is=function(W){return W.collection!==void 0},J.prototype.add=function(W){var Z=this.$refId++,et=W.$changes!==void 0;return et&&W.$changes.setParent(this,this.$changes.root,Z),this.$changes.indexes[Z]=Z,this.$indexes.set(Z,Z),this.$items.set(Z,W),this.$changes.change(Z),Z},J.prototype.at=function(W){var Z=Array.from(this.$items.keys())[W];return this.$items.get(Z)},J.prototype.entries=function(){return this.$items.entries()},J.prototype.delete=function(W){for(var Z=this.$items.entries(),et,ct;(ct=Z.next())&&!ct.done;)if(W===ct.value[1]){et=ct.value[0];break}return et===void 0?!1:(this.$changes.delete(et),this.$indexes.delete(et),this.$items.delete(et))},J.prototype.clear=function(W){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),W&&u.call(this,W),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},J.prototype.has=function(W){return Array.from(this.$items.values()).some(function(Z){return Z===W})},J.prototype.forEach=function(W){var Z=this;this.$items.forEach(function(et,ct,Ot){return W(et,ct,Z)})},J.prototype.values=function(){return this.$items.values()},Object.defineProperty(J.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),J.prototype.setIndex=function(W,Z){this.$indexes.set(W,Z)},J.prototype.getIndex=function(W){return this.$indexes.get(W)},J.prototype.getByIndex=function(W){return this.$items.get(this.$indexes.get(W))},J.prototype.deleteByIndex=function(W){var Z=this.$indexes.get(W);this.$items.delete(Z),this.$indexes.delete(W)},J.prototype.toArray=function(){return Array.from(this.$items.values())},J.prototype.toJSON=function(){var W=[];return this.forEach(function(Z,et){W.push(typeof Z.toJSON=="function"?Z.toJSON():Z)}),W},J.prototype.clone=function(W){var Z;return W?Z=Object.assign(new J,this):(Z=new J,this.forEach(function(et){et.$changes?Z.add(et.clone()):Z.add(et)})),Z},J}(),Bt=function(){function J(W){var Z=this;this.$changes=new a(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,W&&W.forEach(function(et){return Z.add(et)})}return J.prototype.onAdd=function(W,Z){return Z===void 0&&(Z=!0),g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.ADD,W,Z?this.$items:void 0)},J.prototype.onRemove=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,W)},J.prototype.onChange=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,W)},J.is=function(W){return W.set!==void 0},J.prototype.add=function(W){var Z,et;if(this.has(W))return!1;var ct=this.$refId++;W.$changes!==void 0&&W.$changes.setParent(this,this.$changes.root,ct);var Ot=(et=(Z=this.$changes.indexes[ct])===null||Z===void 0?void 0:Z.op)!==null&&et!==void 0?et:i.OPERATION.ADD;return this.$changes.indexes[ct]=ct,this.$indexes.set(ct,ct),this.$items.set(ct,W),this.$changes.change(ct,Ot),ct},J.prototype.entries=function(){return this.$items.entries()},J.prototype.delete=function(W){for(var Z=this.$items.entries(),et,ct;(ct=Z.next())&&!ct.done;)if(W===ct.value[1]){et=ct.value[0];break}return et===void 0?!1:(this.$changes.delete(et),this.$indexes.delete(et),this.$items.delete(et))},J.prototype.clear=function(W){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),W&&u.call(this,W),this.$items.clear(),this.$changes.operation({index:0,op:i.OPERATION.CLEAR}),this.$changes.touchParents()},J.prototype.has=function(W){for(var Z=this.$items.values(),et=!1,ct;(ct=Z.next())&&!ct.done;)if(W===ct.value){et=!0;break}return et},J.prototype.forEach=function(W){var Z=this;this.$items.forEach(function(et,ct,Ot){return W(et,ct,Z)})},J.prototype.values=function(){return this.$items.values()},Object.defineProperty(J.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),J.prototype.setIndex=function(W,Z){this.$indexes.set(W,Z)},J.prototype.getIndex=function(W){return this.$indexes.get(W)},J.prototype.getByIndex=function(W){return this.$items.get(this.$indexes.get(W))},J.prototype.deleteByIndex=function(W){var Z=this.$indexes.get(W);this.$items.delete(Z),this.$indexes.delete(W)},J.prototype.toArray=function(){return Array.from(this.$items.values())},J.prototype.toJSON=function(){var W=[];return this.forEach(function(Z,et){W.push(typeof Z.toJSON=="function"?Z.toJSON():Z)}),W},J.prototype.clone=function(W){var Z;return W?Z=Object.assign(new J,this):(Z=new J,this.forEach(function(et){et.$changes?Z.add(et.clone()):Z.add(et)})),Z},J}(),Yt=function(){function J(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return J.prototype.addRefId=function(W){this.refIds.has(W)||(this.refIds.add(W),this.containerIndexes.set(W,new Set))},J.get=function(W){return W.$filterState===void 0&&(W.$filterState=new J),W.$filterState},J}(),Xt=function(){function J(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return J.prototype.getNextUniqueId=function(){return this.nextUniqueId++},J.prototype.addRef=function(W,Z,et){et===void 0&&(et=!0),this.refs.set(W,Z),et&&(this.refCounts[W]=(this.refCounts[W]||0)+1)},J.prototype.removeRef=function(W){this.refCounts[W]=this.refCounts[W]-1,this.deletedRefs.add(W)},J.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},J.prototype.garbageCollectDeletedRefs=function(){var W=this;this.deletedRefs.forEach(function(Z){if(!(W.refCounts[Z]>0)){var et=W.refs.get(Z);if(et instanceof Tr)for(var ct in et._definition.schema)typeof et._definition.schema[ct]!="string"&&et[ct]&&et[ct].$changes&&W.removeRef(et[ct].$changes.refId);else{var Ot=et.$changes.parent._definition,zt=Ot.schema[Ot.fieldsByIndex[et.$changes.parentIndex]];typeof Object.values(zt)[0]=="function"&&Array.from(et.values()).forEach(function(te){return W.removeRef(te.$changes.refId)})}W.refs.delete(Z),delete W.refCounts[Z]}}),this.deletedRefs.clear()},J}(),Re=function(J){f(W,J);function W(){return J!==null&&J.apply(this,arguments)||this}return W}(Error);function Ki(J,W,Z,et){var ct,Ot=!1;switch(W){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":ct="number",isNaN(J)&&console.log('trying to encode "NaN" in '.concat(Z.constructor.name,"#").concat(et));break;case"string":ct="string",Ot=!0;break;case"boolean":return}if(typeof J!==ct&&(!Ot||Ot&&J!==null)){var zt="'".concat(JSON.stringify(J),"'").concat(J&&J.constructor&&" (".concat(J.constructor.name,")")||"");throw new Re("a '".concat(ct,"' was expected, but ").concat(zt," was provided in ").concat(Z.constructor.name,"#").concat(et))}}function Yr(J,W,Z,et){if(!(J instanceof W))throw new Re("a '".concat(W.name,"' was expected, but '").concat(J.constructor.name,"' was provided in ").concat(Z.constructor.name,"#").concat(et))}function ao(J,W,Z,et,ct){Ki(Z,J,et,ct);var Ot=tt[J];if(Ot)Ot(W,Z);else throw new Re("a '".concat(J,"' was expected, but ").concat(Z," was provided in ").concat(et.constructor.name,"#").concat(ct))}function sCt(J,W,Z){return At[J](W,Z)}var Tr=function(){function J(){for(var W=[],Z=0;Z<arguments.length;Z++)W[Z]=arguments[Z];Object.defineProperties(this,{$changes:{value:new a(this,void 0,new Xt),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var et=this._definition.descriptors;et&&Object.defineProperties(this,et),W[0]&&this.assign(W[0])}return J.onError=function(W){console.error(W)},J.is=function(W){return W._definition&&W._definition.schema!==void 0},J.prototype.onChange=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.REPLACE,W)},J.prototype.onRemove=function(W){return g(this.$callbacks||(this.$callbacks=[]),i.OPERATION.DELETE,W)},J.prototype.assign=function(W){return Object.assign(this,W),this},Object.defineProperty(J.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),J.prototype.setDirty=function(W,Z){this.$changes.change(W,Z)},J.prototype.listen=function(W,Z,et){var ct=this;return et===void 0&&(et=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[W]||(this.$callbacks[W]=[]),this.$callbacks[W].push(Z),et&&this[W]!==void 0&&Z(this[W],void 0),function(){return h(ct.$callbacks[W],ct.$callbacks[W].indexOf(Z))}},J.prototype.decode=function(W,Z,et){var ct;Z===void 0&&(Z={offset:0}),et===void 0&&(et=this);var Ot=[],zt=this.$changes.root,te=W.length,Te=0;for(zt.refs.set(Te,this);Z.offset<te;){var ve=W[Z.offset++];if(ve==x){Te=ht(W,Z);var Ht=zt.refs.get(Te);if(!Ht)throw new Error('"refId" not found: '.concat(Te));et=Ht;continue}var Ee=et.$changes,Qt=et._definition!==void 0,me=Qt?ve>>6<<6:ve;if(me===i.OPERATION.CLEAR){et.clear(Ot);continue}var _t=Qt?ve%(me||255):ht(W,Z),pe=Qt?et._definition.fieldsByIndex[_t]:"",$t=Ee.getType(_t),xe=void 0,Ve=void 0,ei=void 0;if(Qt?Ve=et["_".concat(pe)]:(Ve=et.getByIndex(_t),(me&i.OPERATION.ADD)===i.OPERATION.ADD?(ei=et instanceof c?_(W,Z):_t,et.setIndex(_t,ei)):ei=et.getIndex(_t)),(me&i.OPERATION.DELETE)===i.OPERATION.DELETE&&(me!==i.OPERATION.DELETE_AND_ADD&&et.deleteByIndex(_t),Ve&&Ve.$changes&&zt.removeRef(Ve.$changes.refId),xe=null),pe===void 0){console.warn("@colyseus/schema: definition mismatch");for(var be={offset:Z.offset};Z.offset<te&&!(It(W,Z)&&(be.offset=Z.offset+1,zt.refs.has(ht(W,be))));)Z.offset++;continue}else if(me!==i.OPERATION.DELETE)if(J.is($t)){var Ce=ht(W,Z);if(xe=zt.refs.get(Ce),me!==i.OPERATION.REPLACE){var oo=this.getSchemaType(W,Z,$t);xe||(xe=this.createTypeInstance(oo),xe.$changes.refId=Ce,Ve&&(xe.$callbacks=Ve.$callbacks,Ve.$changes.refId&&Ce!==Ve.$changes.refId&&zt.removeRef(Ve.$changes.refId))),zt.addRef(Ce,xe,xe!==Ve)}}else if(typeof $t=="string")xe=sCt($t,W,Z);else{var mT=m(Object.keys($t)[0]),gs=ht(W,Z),Gi=zt.refs.has(gs)?Ve||zt.refs.get(gs):new mT.constructor;if(xe=Gi.clone(!0),xe.$changes.refId=gs,Ve&&(xe.$callbacks=Ve.$callbacks,Ve.$changes.refId&&gs!==Ve.$changes.refId)){zt.removeRef(Ve.$changes.refId);for(var ji=Ve.entries(),Jf=void 0;(Jf=ji.next())&&!Jf.done;){var ia=(ct=Jf.value,ct[0]),xT=ct[1];Ot.push({refId:gs,op:i.OPERATION.DELETE,field:ia,value:void 0,previousValue:xT})}}zt.addRef(gs,xe,Gi!==Ve)}if(xe!=null){if(xe.$changes&&xe.$changes.setParent(Ee.ref,Ee.root,_t),et instanceof J)et[pe]=xe;else if(et instanceof c){var ia=ei;et.$items.set(ia,xe),et.$changes.allChanges.add(_t)}else if(et instanceof d)et.setAt(_t,xe);else if(et instanceof Lt){var ho=et.add(xe);et.setIndex(_t,ho)}else if(et instanceof Bt){var ho=et.add(xe);ho!==!1&&et.setIndex(_t,ho)}}Ve!==xe&&Ot.push({refId:Te,op:me,field:pe,dynamicIndex:ei,value:xe,previousValue:Ve})}return this._triggerChanges(Ot),zt.garbageCollectDeletedRefs(),Ot},J.prototype.encode=function(W,Z,et){W===void 0&&(W=!1),Z===void 0&&(Z=[]),et===void 0&&(et=!1);for(var ct=this.$changes,Ot=new WeakSet,zt=[ct],te=1,Te=0;Te<te;Te++){var ve=zt[Te],Ht=ve.ref,Ee=Ht instanceof J;ve.ensureRefId(),Ot.add(ve),ve!==ct&&(ve.changed||W)&&(I(Z,x),q(Z,ve.refId));for(var Qt=W?Array.from(ve.allChanges):Array.from(ve.changes.values()),me=0,_t=Qt.length;me<_t;me++){var pe=W?{op:i.OPERATION.ADD,index:Qt[me]}:Qt[me],$t=pe.index,xe=Ee?Ht._definition.fieldsByIndex&&Ht._definition.fieldsByIndex[$t]:$t,Ve=Z.length;if(pe.op!==i.OPERATION.TOUCH)if(Ee)I(Z,$t|pe.op);else{if(I(Z,pe.op),pe.op===i.OPERATION.CLEAR)continue;q(Z,$t)}if(!Ee&&(pe.op&i.OPERATION.ADD)==i.OPERATION.ADD&&Ht instanceof c){var ei=ve.ref.$indexes.get($t);K(Z,ei)}if(pe.op!==i.OPERATION.DELETE){var be=ve.getType($t),Ce=ve.getValue($t);if(Ce&&Ce.$changes&&!Ot.has(Ce.$changes)&&(zt.push(Ce.$changes),Ce.$changes.ensureRefId(),te++),pe.op!==i.OPERATION.TOUCH){if(J.is(be))Yr(Ce,be,Ht,xe),q(Z,Ce.$changes.refId),(pe.op&i.OPERATION.ADD)===i.OPERATION.ADD&&this.tryEncodeTypeId(Z,be,Ce.constructor);else if(typeof be=="string")ao(be,Z,Ce,Ht,xe);else{var oo=m(Object.keys(be)[0]);Yr(Ht["_".concat(xe)],oo.constructor,Ht,xe),q(Z,Ce.$changes.refId)}et&&ve.cache($t,Z.slice(Ve))}}}!W&&!et&&ve.discard()}return Z},J.prototype.encodeAll=function(W){return this.encode(!0,[],W)},J.prototype.applyFilters=function(W,Z){var et,ct;Z===void 0&&(Z=!1);for(var Ot=this,zt=new Set,te=Yt.get(W),Te=[this.$changes],ve=1,Ht=[],Ee=function(me){var _t=Te[me];if(zt.has(_t.refId))return"continue";var pe=_t.ref,$t=pe instanceof J;I(Ht,x),q(Ht,_t.refId);var xe=te.refIds.has(_t),Ve=Z||!xe;te.addRefId(_t);var ei=te.containerIndexes.get(_t),be=Ve?Array.from(_t.allChanges):Array.from(_t.changes.values());if(!Z&&$t&&pe._definition.indexesWithFilters){var Ce=pe._definition.indexesWithFilters;Ce.forEach(function(vm){!ei.has(vm)&&_t.allChanges.has(vm)&&(Ve?be.push(vm):be.push({op:i.OPERATION.ADD,index:vm}))})}for(var oo=0,mT=be.length;oo<mT;oo++){var gs=Ve?{op:i.OPERATION.ADD,index:be[oo]}:be[oo];if(gs.op===i.OPERATION.CLEAR){I(Ht,gs.op);continue}var Gi=gs.index;if(gs.op===i.OPERATION.DELETE){$t?I(Ht,gs.op|Gi):(I(Ht,gs.op),q(Ht,Gi));continue}var ji=_t.getValue(Gi),Jf=_t.getType(Gi);if($t){var ia=pe._definition.filters&&pe._definition.filters[Gi];if(ia&&!ia.call(pe,W,ji,Ot)){ji&&ji.$changes&&zt.add(ji.$changes.refId);continue}}else{var xT=_t.parent,ia=_t.getChildrenFilter();if(ia&&!ia.call(xT,W,pe.$indexes.get(Gi),ji,Ot)){ji&&ji.$changes&&zt.add(ji.$changes.refId);continue}}if(ji.$changes&&(Te.push(ji.$changes),ve++),gs.op!==i.OPERATION.TOUCH)if(gs.op===i.OPERATION.ADD||$t)Ht.push.apply(Ht,(et=_t.caches[Gi])!==null&&et!==void 0?et:[]),ei.add(Gi);else if(ei.has(Gi))Ht.push.apply(Ht,(ct=_t.caches[Gi])!==null&&ct!==void 0?ct:[]);else{if(ei.add(Gi),I(Ht,i.OPERATION.ADD),q(Ht,Gi),pe instanceof c){var ho=_t.ref.$indexes.get(Gi);K(Ht,ho)}ji.$changes?q(Ht,ji.$changes.refId):tt[Jf](Ht,ji)}else if(ji.$changes&&!$t){if(I(Ht,i.OPERATION.ADD),q(Ht,Gi),pe instanceof c){var ho=_t.ref.$indexes.get(Gi);K(Ht,ho)}q(Ht,ji.$changes.refId)}}},Qt=0;Qt<ve;Qt++)Ee(Qt);return Ht},J.prototype.clone=function(){var W,Z=new this.constructor,et=this._definition.schema;for(var ct in et)typeof this[ct]=="object"&&typeof((W=this[ct])===null||W===void 0?void 0:W.clone)=="function"?Z[ct]=this[ct].clone():Z[ct]=this[ct];return Z},J.prototype.toJSON=function(){var W=this._definition.schema,Z=this._definition.deprecated,et={};for(var ct in W)!Z[ct]&&this[ct]!==null&&typeof this[ct]<"u"&&(et[ct]=typeof this[ct].toJSON=="function"?this[ct].toJSON():this["_".concat(ct)]);return et},J.prototype.discardAllChanges=function(){this.$changes.discardAll()},J.prototype.getByIndex=function(W){return this[this._definition.fieldsByIndex[W]]},J.prototype.deleteByIndex=function(W){this[this._definition.fieldsByIndex[W]]=void 0},J.prototype.tryEncodeTypeId=function(W,Z,et){Z._typeid!==et._typeid&&(I(W,s),q(W,et._typeid))},J.prototype.getSchemaType=function(W,Z,et){var ct;return W[Z.offset]===s&&(Z.offset++,ct=this.constructor._context.get(ht(W,Z))),ct||et},J.prototype.createTypeInstance=function(W){var Z=new W;return Z.$changes.root=this.$changes.root,Z},J.prototype._triggerChanges=function(W){for(var Z,et,ct,Ot,zt,te,Te,ve,Ht,Ee=new Set,Qt=this.$changes.root.refs,me=function(pe){var $t=W[pe],xe=$t.refId,Ve=Qt.get(xe),ei=Ve.$callbacks;if(($t.op&i.OPERATION.DELETE)===i.OPERATION.DELETE&&$t.previousValue instanceof J&&((et=(Z=$t.previousValue.$callbacks)===null||Z===void 0?void 0:Z[i.OPERATION.DELETE])===null||et===void 0||et.forEach(function(be){return be()})),!ei)return"continue";if(Ve instanceof J){if(!Ee.has(xe))try{(ct=ei==null?void 0:ei[i.OPERATION.REPLACE])===null||ct===void 0||ct.forEach(function(be){return be(W)})}catch(be){J.onError(be)}try{ei.hasOwnProperty($t.field)&&((Ot=ei[$t.field])===null||Ot===void 0||Ot.forEach(function(be){return be($t.value,$t.previousValue)}))}catch(be){J.onError(be)}}else $t.op===i.OPERATION.ADD&&$t.previousValue===void 0?(zt=ei[i.OPERATION.ADD])===null||zt===void 0||zt.forEach(function(be){var Ce;return be($t.value,(Ce=$t.dynamicIndex)!==null&&Ce!==void 0?Ce:$t.field)}):$t.op===i.OPERATION.DELETE?$t.previousValue!==void 0&&((te=ei[i.OPERATION.DELETE])===null||te===void 0||te.forEach(function(be){var Ce;return be($t.previousValue,(Ce=$t.dynamicIndex)!==null&&Ce!==void 0?Ce:$t.field)})):$t.op===i.OPERATION.DELETE_AND_ADD&&($t.previousValue!==void 0&&((Te=ei[i.OPERATION.DELETE])===null||Te===void 0||Te.forEach(function(be){var Ce;return be($t.previousValue,(Ce=$t.dynamicIndex)!==null&&Ce!==void 0?Ce:$t.field)})),(ve=ei[i.OPERATION.ADD])===null||ve===void 0||ve.forEach(function(be){var Ce;return be($t.value,(Ce=$t.dynamicIndex)!==null&&Ce!==void 0?Ce:$t.field)})),$t.value!==$t.previousValue&&((Ht=ei[i.OPERATION.REPLACE])===null||Ht===void 0||Ht.forEach(function(be){var Ce;return be($t.value,(Ce=$t.dynamicIndex)!==null&&Ce!==void 0?Ce:$t.field)}));Ee.add(xe)},_t=0;_t<W.length;_t++)me(_t)},J._definition=C.create(),J}();function rCt(J){for(var W=[J.$changes],Z=1,et={},ct=et,Ot=function(te){var Te=W[te];Te.changes.forEach(function(ve){var Ht=Te.ref,Ee=ve.index,Qt=Ht._definition?Ht._definition.fieldsByIndex[Ee]:Ht.$indexes.get(Ee);ct[Qt]=Te.getValue(Ee)})},zt=0;zt<Z;zt++)Ot(zt);return et}var Ph={context:new E},pT=function(J){f(W,J);function W(){return J!==null&&J.apply(this,arguments)||this}return S([P("string",Ph)],W.prototype,"name",void 0),S([P("string",Ph)],W.prototype,"type",void 0),S([P("number",Ph)],W.prototype,"referencedType",void 0),W}(Tr),gT=function(J){f(W,J);function W(){var Z=J!==null&&J.apply(this,arguments)||this;return Z.fields=new d,Z}return S([P("number",Ph)],W.prototype,"id",void 0),S([P([pT],Ph)],W.prototype,"fields",void 0),W}(Tr),nCt=function(J){f(W,J);function W(){var Z=J!==null&&J.apply(this,arguments)||this;return Z.types=new d,Z}return W.encode=function(Z){var et=Z.constructor,ct=new W;ct.rootType=et._typeid;var Ot=function(ve,Ht){for(var Ee in Ht){var Qt=new pT;Qt.name=Ee;var me=void 0;if(typeof Ht[Ee]=="string")me=Ht[Ee];else{var _t=Ht[Ee],pe=void 0;Tr.is(_t)?(me="ref",pe=Ht[Ee]):(me=Object.keys(_t)[0],typeof _t[me]=="string"?me+=":"+_t[me]:pe=_t[me]),Qt.referencedType=pe?pe._typeid:-1}Qt.type=me,ve.fields.push(Qt)}ct.types.push(ve)},zt=et._context.types;for(var te in zt){var Te=new gT;Te.id=Number(te),Ot(Te,zt[te]._definition.schema)}return ct.encodeAll()},W.decode=function(Z,et){var ct=new E,Ot=new W;Ot.decode(Z,et);var zt=Ot.types.reduce(function(Ee,Qt){var me=function(pe){f($t,pe);function $t(){return pe!==null&&pe.apply(this,arguments)||this}return $t}(Tr),_t=Qt.id;return Ee[_t]=me,ct.add(me,_t),Ee},{});Ot.types.forEach(function(Ee){var Qt=zt[Ee.id];Ee.fields.forEach(function(me){var _t;if(me.referencedType!==void 0){var pe=me.type,$t=zt[me.referencedType];if(!$t){var xe=me.type.split(":");pe=xe[0],$t=xe[1]}pe==="ref"?P($t,{context:ct})(Qt.prototype,me.name):P((_t={},_t[pe]=$t,_t),{context:ct})(Qt.prototype,me.name)}else P(me.type,{context:ct})(Qt.prototype,me.name)})});var te=zt[Ot.rootType],Te=new te;for(var ve in te._definition.schema){var Ht=te._definition.schema[ve];typeof Ht!="string"&&(Te[ve]=typeof Ht=="function"?new Ht:new(m(Object.keys(Ht)[0])).constructor)}return Te},S([P([gT],Ph)],W.prototype,"types",void 0),S([P("number",Ph)],W.prototype,"rootType",void 0),W}(Tr);y("map",{constructor:c}),y("array",{constructor:d}),y("set",{constructor:Bt}),y("collection",{constructor:Lt}),i.ArraySchema=d,i.CollectionSchema=Lt,i.Context=E,i.MapSchema=c,i.Reflection=nCt,i.ReflectionField=pT,i.ReflectionType=gT,i.Schema=Tr,i.SchemaDefinition=C,i.SetSchema=Bt,i.decode=At,i.defineTypes=R,i.deprecated=A,i.dumpChanges=rCt,i.encode=tt,i.filter=b,i.filterChildren=M,i.hasFilter=T,i.registerType=y,i.type=P,Object.defineProperty(i,"__esModule",{value:!0})})})(iy,iy.exports);var CM=iy.exports,D$=je&&je.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var f=Object.getOwnPropertyDescriptor(t,i);(!f||("get"in f?!t.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,f)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),F$=je&&je.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),I$=je&&je.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&D$(t,e,i);return F$(t,e),t};Object.defineProperty(Od,"__esModule",{value:!0}),Od.Room=void 0;const SM=I$(yl),B$=Bv,ts=ey,TM=Xo,N$=Ld,Gv=Tl,js=CM,EM=Iv;class sy{constructor(t,i){this.onStateChange=(0,Gv.createSignal)(),this.onError=(0,Gv.createSignal)(),this.onLeave=(0,Gv.createSignal)(),this.onJoin=(0,Gv.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,N$.createNanoEvents)(),this.roomId=null,this.name=t,i&&(this.serializer=new((0,TM.getSerializer)("schema")),this.rootSchema=i,this.serializer.state=new i),this.onError((r,f)=>{var S;return(S=console.warn)===null||S===void 0?void 0:S.call(console,`colyseus.js - onError => (${r}) ${f}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(t,i,r=this){const f=new B$.Connection;r.connection=f,f.events.onmessage=sy.prototype.onMessageCallback.bind(r),f.events.onclose=function(S){var n;if(!r.hasJoined){(n=console.warn)===null||n===void 0||n.call(console,`Room connection was closed unexpectedly (${S.code}): ${S.reason}`),r.onError.invoke(S.code,S.reason);return}S.code===EM.CloseCode.DEVMODE_RESTART&&i?i():(r.onLeave.invoke(S.code),r.destroy())},f.events.onerror=function(S){var n;(n=console.warn)===null||n===void 0||n.call(console,`Room, onError (${S.code}): ${S.reason}`),r.onError.invoke(S.code,S.reason)},f.connect(t)}leave(t=!0){return new Promise(i=>{this.onLeave(r=>i(r)),this.connection?t?this.connection.send([ts.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(EM.CloseCode.CONSENTED)})}onMessage(t,i){return this.onMessageHandlers.on(this.getMessageHandlerKey(t),i)}send(t,i){const r=[ts.Protocol.ROOM_DATA];typeof t=="string"?js.encode.string(r,t):js.encode.number(r,t);let f;if(i!==void 0){const S=SM.encode(i);f=new Uint8Array(r.length+S.byteLength),f.set(new Uint8Array(r),0),f.set(new Uint8Array(S),r.length)}else f=new Uint8Array(r);this.connection.send(f.buffer)}sendBytes(t,i){const r=[ts.Protocol.ROOM_DATA_BYTES];typeof t=="string"?js.encode.string(r,t):js.encode.number(r,t);let f;f=new Uint8Array(r.length+(i.byteLength||i.length)),f.set(new Uint8Array(r),0),f.set(new Uint8Array(i),r.length),this.connection.send(f.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(t){const i=Array.from(new Uint8Array(t.data)),r=i[0];if(r===ts.Protocol.JOIN_ROOM){let f=1;const S=(0,ts.utf8Read)(i,f);if(f+=(0,ts.utf8Length)(S),this.serializerId=(0,ts.utf8Read)(i,f),f+=(0,ts.utf8Length)(this.serializerId),!this.serializer){const n=(0,TM.getSerializer)(this.serializerId);this.serializer=new n}i.length>f&&this.serializer.handshake&&this.serializer.handshake(i,{offset:f}),this.reconnectionToken=`${this.roomId}:${S}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([ts.Protocol.JOIN_ROOM])}else if(r===ts.Protocol.ERROR){const f={offset:1},S=js.decode.number(i,f),n=js.decode.string(i,f);this.onError.invoke(S,n)}else if(r===ts.Protocol.LEAVE_ROOM)this.leave();else if(r===ts.Protocol.ROOM_DATA_SCHEMA){const f={offset:1},n=this.serializer.getState().constructor._context.get(js.decode.number(i,f)),x=new n;x.decode(i,f),this.dispatchMessage(n,x)}else if(r===ts.Protocol.ROOM_STATE)i.shift(),this.setState(i);else if(r===ts.Protocol.ROOM_STATE_PATCH)i.shift(),this.patch(i);else if(r===ts.Protocol.ROOM_DATA){const f={offset:1},S=js.decode.stringCheck(i,f)?js.decode.string(i,f):js.decode.number(i,f),n=i.length>f.offset?SM.decode(t.data,f.offset):void 0;this.dispatchMessage(S,n)}else if(r===ts.Protocol.ROOM_DATA_BYTES){const f={offset:1},S=js.decode.stringCheck(i,f)?js.decode.string(i,f):js.decode.number(i,f);this.dispatchMessage(S,new Uint8Array(i.slice(f.offset)))}}setState(t){this.serializer.setState(t),this.onStateChange.invoke(this.serializer.getState())}patch(t){this.serializer.patch(t),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(t,i){var r;const f=this.getMessageHandlerKey(t);this.onMessageHandlers.events[f]?this.onMessageHandlers.emit(f,i):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",t,i):(r=console.warn)===null||r===void 0||r.call(console,`colyseus.js: onMessage() not registered for type '${t}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(t){switch(typeof t){case"function":return`$${t._typeid}`;case"string":return t;case"number":return`i${t}`;default:throw new Error("invalid message type.")}}}Od.Room=sy;var kv={};function PM(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function Rr(e,t,i){return new Promise(function(r,f){i=i||{};var S=new XMLHttpRequest,n,x,s,a=i.body,g=i.headers||{};i.timeout&&(S.timeout=i.timeout),S.ontimeout=S.onerror=function(u){u.timeout=u.type=="timeout",f(u)},S.open(e,t.href||t),S.onload=function(){for(s=S.getAllResponseHeaders().trim().split(/[\r\n]+/),PM(S,S);x=s.shift();)x=x.split(": "),S.headers[x.shift().toLowerCase()]=x.join(": ");if(x=S.headers["content-type"],x&&~x.indexOf("application/json"))try{S.data=JSON.parse(S.data,i.reviver)}catch(u){return PM(S,u),f(u)}(S.status>=400?f:r)(S)},typeof FormData<"u"&&a instanceof FormData||a&&typeof a=="object"&&(g["content-type"]="application/json",a=JSON.stringify(a)),S.withCredentials=!!i.withCredentials;for(n in g)S.setRequestHeader(n,g[n]);S.send(a)})}var G$=Rr.bind(Rr,"GET"),k$=Rr.bind(Rr,"POST"),V$=Rr.bind(Rr,"PATCH"),z$=Rr.bind(Rr,"DELETE"),U$=Rr.bind(Rr,"PUT");const W$=Ox(Object.freeze(Object.defineProperty({__proto__:null,del:z$,get:G$,patch:V$,post:k$,put:U$,send:Rr},Symbol.toStringTag,{value:"Module"})));var Y$=je&&je.__createBinding||(Object.create?function(e,t,i,r){r===void 0&&(r=i);var f=Object.getOwnPropertyDescriptor(t,i);(!f||("get"in f?!t.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,f)}:function(e,t,i,r){r===void 0&&(r=i),e[r]=t[i]}),$$=je&&je.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X$=je&&je.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)&&Y$(t,e,i);return $$(t,e),t};Object.defineProperty(kv,"__esModule",{value:!0}),kv.HTTP=void 0;const H$=Iv,K$=X$(W$);class j${constructor(t){this.client=t}get(t,i={}){return this.request("get",t,i)}post(t,i={}){return this.request("post",t,i)}del(t,i={}){return this.request("del",t,i)}put(t,i={}){return this.request("put",t,i)}request(t,i,r={}){return K$[t](this.client.getHttpEndpoint(i),this.getOptions(r)).catch(f=>{var S;const n=f.statusCode,x=((S=f.data)===null||S===void 0?void 0:S.error)||f.statusMessage||f.message;throw!n&&!x?f:new H$.ServerError(n,x)})}getOptions(t){return this.authToken&&(t.headers||(t.headers={}),t.headers.Authorization=`Bearer ${this.authToken}`),typeof cc<"u"&&cc.sys&&cc.sys.isNative||(t.withCredentials=!0),t}}kv.HTTP=j$;var Dd={},Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.getItem=Da.removeItem=Da.setItem=void 0;let Fd;function ry(){if(!Fd)try{Fd=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:window.localStorage}catch{}return Fd||(Fd={cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),Fd}function J$(e,t){ry().setItem(e,t)}Da.setItem=J$;function Z$(e){ry().removeItem(e)}Da.removeItem=Z$;function Q$(e,t){const i=ry().getItem(e);typeof Promise>"u"||!(i instanceof Promise)?t(i):i.then(r=>t(r))}Da.getItem=Q$;var Ho=je&&je.__awaiter||function(e,t,i,r){function f(S){return S instanceof i?S:new i(function(n){n(S)})}return new(i||(i=Promise))(function(S,n){function x(g){try{a(r.next(g))}catch(u){n(u)}}function s(g){try{a(r.throw(g))}catch(u){n(u)}}function a(g){g.done?S(g.value):f(g.value).then(x,s)}a((r=r.apply(e,t||[])).next())})},El=je&&je.__classPrivateFieldGet||function(e,t,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(e):r?r.value:t.get(e)},Id=je&&je.__classPrivateFieldSet||function(e,t,i,r,f){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!f:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?f.call(e,i):f?f.value=i:t.set(e,i),i},Vv,ny,Fa,zv;Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.Auth=void 0;const ay=Da,q$=Ld;class _${constructor(t){this.http=t,this.settings={path:"/auth",key:"colyseus-auth-token"},Vv.set(this,!1),ny.set(this,void 0),Fa.set(this,void 0),zv.set(this,(0,q$.createNanoEvents)()),(0,ay.getItem)(this.settings.key,i=>this.token=i)}set token(t){this.http.authToken=t}get token(){return this.http.authToken}onChange(t){const i=El(this,zv,"f").on("change",t);return El(this,Vv,"f")||Id(this,ny,new Promise((r,f)=>{this.getUserData().then(S=>{this.emitChange(Object.assign(Object.assign({},S),{token:this.token}))}).catch(S=>{this.emitChange({user:null,token:void 0})}).finally(()=>{r()})}),"f"),Id(this,Vv,!0,"f"),i}getUserData(){return Ho(this,void 0,void 0,function*(){if(this.token)return(yield this.http.get(`${this.settings.path}/userdata`)).data;throw new Error("missing auth.token")})}registerWithEmailAndPassword(t,i,r){return Ho(this,void 0,void 0,function*(){const f=(yield this.http.post(`${this.settings.path}/register`,{body:{email:t,password:i,options:r}})).data;return this.emitChange(f),f})}signInWithEmailAndPassword(t,i){return Ho(this,void 0,void 0,function*(){const r=(yield this.http.post(`${this.settings.path}/login`,{body:{email:t,password:i}})).data;return this.emitChange(r),r})}signInAnonymously(t){return Ho(this,void 0,void 0,function*(){const i=(yield this.http.post(`${this.settings.path}/anonymous`,{body:{options:t}})).data;return this.emitChange(i),i})}sendPasswordResetEmail(t){return Ho(this,void 0,void 0,function*(){return(yield this.http.post(`${this.settings.path}/forgot-password`,{body:{email:t}})).data})}signInWithProvider(t,i={}){return Ho(this,void 0,void 0,function*(){return new Promise((r,f)=>{const S=i.width||480,n=i.height||768,x=this.token?`?token=${this.token}`:"",s=`Login with ${t[0].toUpperCase()+t.substring(1)}`,a=this.http.client.getHttpEndpoint(`${i.prefix||`${this.settings.path}/provider`}/${t}${x}`),g=screen.width/2-S/2,u=screen.height/2-n/2;Id(this,Fa,window.open(a,s,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+S+", height="+n+", top="+u+", left="+g),"f");const h=o=>{o.data.user===void 0&&o.data.token===void 0||(clearInterval(l),El(this,Fa,"f").close(),Id(this,Fa,void 0,"f"),window.removeEventListener("message",h),o.data.error!==void 0?f(o.data.error):(r(o.data),this.emitChange(o.data)))},l=setInterval(()=>{(!El(this,Fa,"f")||El(this,Fa,"f").closed)&&(Id(this,Fa,void 0,"f"),f("cancelled"),window.removeEventListener("message",h))},200);window.addEventListener("message",h)})})}signOut(){return Ho(this,void 0,void 0,function*(){this.emitChange({user:null,token:null})})}emitChange(t){t.token!==void 0&&(this.token=t.token,t.token===null?(0,ay.removeItem)(this.settings.key):(0,ay.setItem)(this.settings.key,t.token)),El(this,zv,"f").emit("change",t)}}Dd.Auth=_$,Vv=new WeakMap,ny=new WeakMap,Fa=new WeakMap,zv=new WeakMap;var Uv={};Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.discordURLBuilder=void 0;function tX(e){var t;const i=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.hostname)||"localhost",r=e.hostname.split("."),f=r.length>2?`/${r[0]}`:"";return`${e.protocol}//${i}/colyseus${f}${e.pathname}${e.search}`}Uv.discordURLBuilder=tX;var sn=je&&je.__awaiter||function(e,t,i,r){function f(S){return S instanceof i?S:new i(function(n){n(S)})}return new(i||(i=Promise))(function(S,n){function x(g){try{a(r.next(g))}catch(u){n(u)}}function s(g){try{a(r.throw(g))}catch(u){n(u)}}function a(g){g.done?S(g.value):f(g.value).then(x,s)}a((r=r.apply(e,t||[])).next())})},oy;Object.defineProperty(xl,"__esModule",{value:!0}),xl.Client=xl.MatchMakeError=void 0;const eX=Iv,iX=Od,sX=kv,rX=Dd,nX=Uv;class Wv extends Error{constructor(t,i){super(t),this.code=i,Object.setPrototypeOf(this,Wv.prototype)}}xl.MatchMakeError=Wv;const wM=typeof window<"u"&&typeof((oy=window==null?void 0:window.location)===null||oy===void 0?void 0:oy.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";class aX{constructor(t=wM,i){var r,f;if(typeof t=="string"){const S=t.startsWith("/")?new URL(t,wM):new URL(t),n=S.protocol==="https:"||S.protocol==="wss:",x=Number(S.port||(n?443:80));this.settings={hostname:S.hostname,pathname:S.pathname,port:x,secure:n}}else t.port===void 0&&(t.port=t.secure?443:80),t.pathname===void 0&&(t.pathname=""),this.settings=t;this.settings.pathname.endsWith("/")&&(this.settings.pathname=this.settings.pathname.slice(0,-1)),this.http=new sX.HTTP(this),this.auth=new rX.Auth(this.http),this.urlBuilder=i,!this.urlBuilder&&typeof window<"u"&&(!((f=(r=window==null?void 0:window.location)===null||r===void 0?void 0:r.hostname)===null||f===void 0)&&f.includes("discordsays.com"))&&(this.urlBuilder=nX.discordURLBuilder,console.log("Colyseus SDK: Discord Embedded SDK detected. Using custom URL builder."))}joinOrCreate(t,i={},r){return sn(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",t,i,r)})}create(t,i={},r){return sn(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",t,i,r)})}join(t,i={},r){return sn(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",t,i,r)})}joinById(t,i={},r){return sn(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",t,i,r)})}reconnect(t,i){return sn(this,void 0,void 0,function*(){if(typeof t=="string"&&typeof i=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[r,f]=t.split(":");if(!r||!f)throw new Error(`Invalid reconnection token format.
The format should be roomId:reconnectionToken`);return yield this.createMatchMakeRequest("reconnect",r,{reconnectionToken:f},i)})}getAvailableRooms(t=""){return sn(this,void 0,void 0,function*(){return(yield this.http.get(`matchmake/${t}`,{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(t,i,r){return sn(this,void 0,void 0,function*(){const f=this.createRoom(t.room.name,i);f.roomId=t.room.roomId,f.sessionId=t.sessionId;const S={sessionId:f.sessionId};t.reconnectionToken&&(S.reconnectionToken=t.reconnectionToken);const n=r||f;return f.connect(this.buildEndpoint(t.room,S),t.devMode&&(()=>sn(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${f.roomId}'...`);let x=0,s=8;const a=()=>sn(this,void 0,void 0,function*(){x++;try{yield this.consumeSeatReservation(t,i,n),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${f.roomId}'`)}catch{x<s?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${x} out of ${s})`),setTimeout(a,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(a,2e3)})),n),new Promise((x,s)=>{const a=(g,u)=>s(new eX.ServerError(g,u));n.onError.once(a),n.onJoin.once(()=>{n.onError.remove(a),x(n)})})})}createMatchMakeRequest(t,i,r={},f,S){return sn(this,void 0,void 0,function*(){const n=(yield this.http.post(`matchmake/${t}/${i}`,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).data;if(n.error)throw new Wv(n.error,n.code);return t==="reconnect"&&(n.reconnectionToken=r.reconnectionToken),yield this.consumeSeatReservation(n,f,S)})}createRoom(t,i){return new iX.Room(t,i)}buildEndpoint(t,i={}){const r=[];for(const n in i)i.hasOwnProperty(n)&&r.push(`${n}=${i[n]}`);let f=this.settings.secure?"wss://":"ws://";t.publicAddress?f+=`${t.publicAddress}`:f+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`;const S=`${f}/${t.processId}/${t.roomId}?${r.join("&")}`;return this.urlBuilder?this.urlBuilder(new URL(S)):S}getHttpEndpoint(t=""){const i=t.startsWith("/")?t:`/${t}`,r=`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}${i}`;return this.urlBuilder?this.urlBuilder(new URL(r)):r}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}}xl.Client=aX;var Yv={};Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.SchemaSerializer=void 0;const bM=CM;class oX{setState(t){return this.state.decode(t)}getState(){return this.state}patch(t){return this.state.decode(t)}teardown(){var t,i;(i=(t=this.state)===null||t===void 0?void 0:t.$changes)===null||i===void 0||i.root.clearRefs()}handshake(t,i){this.state?new bM.Reflection().decode(t,i):this.state=bM.Reflection.decode(t,i)}}Yv.SchemaSerializer=oX;var $v={};Object.defineProperty($v,"__esModule",{value:!0}),$v.NoneSerializer=void 0;class hX{setState(t){}getState(){return null}patch(t){}teardown(){}handshake(t){}}$v.NoneSerializer=hX,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SchemaSerializer=e.registerSerializer=e.Auth=e.Room=e.ErrorCode=e.Protocol=e.Client=void 0;var t=xl;Object.defineProperty(e,"Client",{enumerable:!0,get:function(){return t.Client}});var i=ey;Object.defineProperty(e,"Protocol",{enumerable:!0,get:function(){return i.Protocol}}),Object.defineProperty(e,"ErrorCode",{enumerable:!0,get:function(){return i.ErrorCode}});var r=Od;Object.defineProperty(e,"Room",{enumerable:!0,get:function(){return r.Room}});var f=Dd;Object.defineProperty(e,"Auth",{enumerable:!0,get:function(){return f.Auth}});const S=Yv;Object.defineProperty(e,"SchemaSerializer",{enumerable:!0,get:function(){return S.SchemaSerializer}});const n=$v,x=Xo;Object.defineProperty(e,"registerSerializer",{enumerable:!0,get:function(){return x.registerSerializer}}),(0,x.registerSerializer)("schema",S.SchemaSerializer),(0,x.registerSerializer)("none",n.NoneSerializer)}(ty);const lX=window.location.href.indexOf("192.168.178.206")===-1?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://192.168.178.206:2567",uX={components:{Room:ty.Room,Character:Bz,ViewMain:v$,coreui:dv,CButton:Ck},setup(){return{jigs:he()}},data(){return{gameState:[]}},mounted(){},methods:{formSubmit(e){e.preventDefault(),this.jigs.hydrate(1)},toggleClass(e){document.querySelectorAll(".tab-buttons .btn").forEach(i=>{i.classList.remove("active"),e.target.classList.contains("active")||e.target.classList.add("active")})},log(e){e.preventDefault(),this.toggleClass(e),this.jigs.gameState="Logs",console.log(this.jigs.userMapGrid),console.log(this.jigs.gameState),console.log(this.jigs.tiled),console.log(this.jigs.portalsArray),this.jigs.room.leave()},char(e){e.preventDefault(),this.toggleClass(e),this.jigs.gameState="Character",console.log(this.jigs.userMapGrid),console.log(this.jigs.tiled),console.log(this.jigs.gameState),this.jigs.room.leave()},inventory(e){e.preventDefault(),this.toggleClass(e),this.jigs.gameState="Inventory",console.log(this.jigs.userMapGrid),console.log(this.jigs.tiled),console.log(this.jigs.gameState),this.jigs.room.leave()},skills(e){e.preventDefault(),this.toggleClass(e),this.jigs.gameState="Skills",console.log(this.jigs.gameState),console.log(this.jigs.tiled),console.log(this.jigs.userMapGrid),this.jigs.room.leave()},quests(e){e.preventDefault(),this.toggleClass(e),this.jigs.gameState="Quests",console.log(this.jigs.gameState),console.log(this.jigs.tiled),console.log(this.jigs.userMapGrid),this.jigs.room.leave()},game(e){e.preventDefault(),this.toggleClass(e),this.jigs.gameState="GamePhaser",console.log(this.jigs.gameState),console.log(this.jigs.tiled),console.log(this.jigs.userMapGrid)}}},dX={class:"layout-container"},fX={class:"tab-buttons"},cX={class:"sidebar-2"},vX={class:"tab-panels"};function pX(e,t,i,r,f,S){const n=Zi("CButton"),x=Zi("ViewMain"),s=Zi("Character");return Ft(),Nt("div",dX,[xt("form",{onSubmit:t[0]||(t[0]=(...a)=>S.formSubmit&&S.formSubmit(...a)),class:"tabs"},[xt("div",fX,[ie(n,{onClick:S.game,component:"button",color:"primary",shape:"rounded-pill",size:"lg",active:""},{default:ci(()=>[Vi("Game")]),_:1},8,["onClick"]),ie(n,{onClick:S.char,component:"button",color:"primary",shape:"rounded-pill",size:"sm"},{default:ci(()=>[Vi("Character")]),_:1},8,["onClick"]),ie(n,{onClick:S.inventory,component:"button",color:"primary",shape:"rounded-pill",size:"sm"},{default:ci(()=>[Vi("Inventory")]),_:1},8,["onClick"]),ie(n,{onClick:S.skills,component:"button",color:"primary",shape:"rounded-pill",size:"sm"},{default:ci(()=>[Vi("Skills")]),_:1},8,["onClick"]),ie(n,{onClick:S.quests,component:"button",color:"primary",shape:"rounded-pill",size:"sm"},{default:ci(()=>[Vi("Quests")]),_:1},8,["onClick"]),ie(n,{onClick:S.log,component:"button",color:"primary",shape:"rounded-pill",size:"sm"},{default:ci(()=>[Vi("Logs")]),_:1},8,["onClick"])])],32),ie(x,{msg:r.jigs.gameState},null,8,["msg"]),xt("div",cX,[xt("div",vX,[ie(s)])])])}const gX=zi(uX,[["render",pX]]),MM=_B();MM.use(QB);let hy=window.document.querySelector("#module-name-game");if(hy){let e=window.document.createElement("div");e.setAttribute("id","client"),e.setAttribute("class","client"),hy.insertBefore(e,hy.childNodes[0])}kP(gX).use(MM).mount("#client");var AM={exports:{}};(function(e,t){(function(r,f){e.exports=f()})(je,()=>(()=>{var i={50792:n=>{var x=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function g(o,d,v){this.fn=o,this.context=d,this.once=v||!1}function u(o,d,v,c,p){if(typeof v!="function")throw new TypeError("The listener must be a function");var y=new g(v,c||o,p),m=s?s+d:d;return o._events[m]?o._events[m].fn?o._events[m]=[o._events[m],y]:o._events[m].push(y):(o._events[m]=y,o._eventsCount++),o}function h(o,d){--o._eventsCount===0?o._events=new a:delete o._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],v,c;if(this._eventsCount===0)return d;for(c in v=this._events)x.call(v,c)&&d.push(s?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(v)):d},l.prototype.listeners=function(d){var v=s?s+d:d,c=this._events[v];if(!c)return[];if(c.fn)return[c.fn];for(var p=0,y=c.length,m=new Array(y);p<y;p++)m[p]=c[p].fn;return m},l.prototype.listenerCount=function(d){var v=s?s+d:d,c=this._events[v];return c?c.fn?1:c.length:0},l.prototype.emit=function(d,v,c,p,y,m){var C=s?s+d:d;if(!this._events[C])return!1;var T=this._events[C],E=arguments.length,w,P;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),E){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,v),!0;case 3:return T.fn.call(T.context,v,c),!0;case 4:return T.fn.call(T.context,v,c,p),!0;case 5:return T.fn.call(T.context,v,c,p,y),!0;case 6:return T.fn.call(T.context,v,c,p,y,m),!0}for(P=1,w=new Array(E-1);P<E;P++)w[P-1]=arguments[P];T.fn.apply(T.context,w)}else{var b=T.length,M;for(P=0;P<b;P++)switch(T[P].once&&this.removeListener(d,T[P].fn,void 0,!0),E){case 1:T[P].fn.call(T[P].context);break;case 2:T[P].fn.call(T[P].context,v);break;case 3:T[P].fn.call(T[P].context,v,c);break;case 4:T[P].fn.call(T[P].context,v,c,p);break;default:if(!w)for(M=1,w=new Array(E-1);M<E;M++)w[M-1]=arguments[M];T[P].fn.apply(T[P].context,w)}}return!0},l.prototype.on=function(d,v,c){return u(this,d,v,c,!1)},l.prototype.once=function(d,v,c){return u(this,d,v,c,!0)},l.prototype.removeListener=function(d,v,c,p){var y=s?s+d:d;if(!this._events[y])return this;if(!v)return h(this,y),this;var m=this._events[y];if(m.fn)m.fn===v&&(!p||m.once)&&(!c||m.context===c)&&h(this,y);else{for(var C=0,T=[],E=m.length;C<E;C++)(m[C].fn!==v||p&&!m[C].once||c&&m[C].context!==c)&&T.push(m[C]);T.length?this._events[y]=T.length===1?T[0]:T:h(this,y)}return this},l.prototype.removeAllListeners=function(d){var v;return d?(v=s?s+d:d,this._events[v]&&h(this,v)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=s,l.EventEmitter=l,n.exports=l},11517:(n,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(38829),g=function(u,h,l,o){for(var d=u[0],v=1;v<u.length;v++){var c=u[v];a(c,d,h,l,o),d=c}return u};n.exports=g},80318:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"angle",h,l,o,d)};n.exports=g},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var u=0;u<s.length;u++){var h=s[u];a.call(g,h)}return s};n.exports=x},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){g===void 0&&(g=0);for(var u=g;u<s.length;u++){var h=s[u],l=!0;for(var o in a)h[o]!==a[o]&&(l=!1);if(l)return h}return null};n.exports=x},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){g===void 0&&(g=0);for(var u=s.length-1;u>=g;u--){var h=s[u],l=!0;for(var o in a)h[o]!==a[o]&&(l=!1);if(l)return h}return null};n.exports=x},94420:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(11879),g=s(60461),u=s(95540),h=s(29747),l=s(41481),o=new l({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0),d=function(v,c){c===void 0&&(c={});var p=c.hasOwnProperty("width"),y=c.hasOwnProperty("height"),m=u(c,"width",-1),C=u(c,"height",-1),T=u(c,"cellWidth",1),E=u(c,"cellHeight",T),w=u(c,"position",g.TOP_LEFT),P=u(c,"x",0),b=u(c,"y",0),M=0,A=0,R=m*T,L=C*E;o.setPosition(P,b),o.setSize(T,E);for(var O=0;O<v.length;O++)if(a(v[O],o,w),p&&m===-1)o.x+=T;else if(y&&C===-1)o.y+=E;else if(y&&!p){if(A+=E,o.y+=E,A===L&&(A=0,M+=T,o.y=b,o.x+=T,M===R))break}else if(M+=T,o.x+=T,M===R&&(M=0,A+=E,o.x=P,o.y+=E,A===L))break;return v};n.exports=d},41721:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"alpha",h,l,o,d)};n.exports=g},67285:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"x",h,l,o,d)};n.exports=g},9074:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d,v,c){return l==null&&(l=h),a(u,"x",h,o,v,c),a(u,"y",l,d,v,c)};n.exports=g},75222:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"y",h,l,o,d)};n.exports=g},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g===void 0&&(g=0),u===void 0&&(u=6.28);for(var h=g,l=(u-g)/s.length,o=a.x,d=a.y,v=a.radius,c=0;c<s.length;c++)s[c].x=o+v*Math.cos(h),s[c].y=d+v*Math.sin(h),h+=l;return s};n.exports=x},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g===void 0&&(g=0),u===void 0&&(u=6.28);for(var h=g,l=(u-g)/s.length,o=a.width/2,d=a.height/2,v=0;v<s.length;v++)s[v].x=a.x+o*Math.cos(h),s[v].y=a.y+d*Math.sin(h),h+=l;return s};n.exports=x},88505:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15258),g=s(26708),u=function(h,l,o){var d;o?d=g(l,o,h.length):d=a(l,h.length);for(var v=0;v<h.length;v++){var c=h[v],p=d[v];c.x=p.x,c.y=p.y}return h};n.exports=u},41346:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(14649),g=s(86003),u=s(49498),h=function(l,o,d){d===void 0&&(d=0);var v=a(o,!1,l.length);d>0?g(v,d):d<0&&u(v,Math.abs(d));for(var c=0;c<l.length;c++)l[c].x=v[c].x,l[c].y=v[c].y;return l};n.exports=h},11575:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84993),g=function(u,h,l){var o=a({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},l),d=a({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},l),v=a({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},l);o.pop(),d.pop(),v.pop(),o=o.concat(d,v);for(var c=o.length/u.length,p=0,y=0;y<u.length;y++){var m=u[y],C=o[Math.floor(p)];m.x=C.x,m.y=C.y,p+=c}return u};n.exports=g},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var u=0;u<s.length;u++){var h=s[u];h.anims&&h.anims.play(a,g)}return s};n.exports=x},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h,l){u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=1);var o,d=0,v=s.length;if(l===1)for(o=h;o<v;o++)s[o][a]+=g+d*u,d++;else for(o=h;o>=0;o--)s[o][a]+=g+d*u,d++;return s};n.exports=x},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h,l){u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=1);var o,d=0,v=s.length;if(l===1)for(o=h;o<v;o++)s[o][a]=g+d*u,d++;else for(o=h;o>=0;o--)s[o][a]=g+d*u,d++;return s};n.exports=x},88926:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28176),g=function(u,h){for(var l=0;l<u.length;l++)a(h,u[l]);return u};n.exports=g},33286:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(24820),g=function(u,h){for(var l=0;l<u.length;l++)a(h,u[l]);return u};n.exports=g},96e3:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65822),g=function(u,h){for(var l=0;l<u.length;l++)a(h,u[l]);return u};n.exports=g},28789:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26597),g=function(u,h){for(var l=0;l<u.length;l++)a(h,u[l]);return u};n.exports=g},97154:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(90260),g=function(u,h){for(var l=0;l<u.length;l++)a(h,u[l]);return u};n.exports=g},20510:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"rotation",h,l,o,d)};n.exports=g},91051:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(1163),g=s(20339),u=function(h,l,o){for(var d=l.x,v=l.y,c=0;c<h.length;c++){var p=h[c];a(p,d,v,o,Math.max(1,g(p.x,p.y,d,v)))}return h};n.exports=u},76332:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(1163),g=function(u,h,l,o){var d=h.x,v=h.y;if(o===0)return u;for(var c=0;c<u.length;c++)a(u[c],d,v,l,o);return u};n.exports=g},61619:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"scaleX",h,l,o,d)};n.exports=g},94868:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d,v,c){return l==null&&(l=h),a(u,"scaleX",h,o,v,c),a(u,"scaleY",l,d,v,c)};n.exports=g},95532:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66979),g=function(u,h,l,o,d){return a(u,"scaleY",h,l,o,d)};n.exports=g},8689:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"alpha",h,l,o,d)};n.exports=g},2645:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o){return a(u,"blendMode",h,0,l,o)};n.exports=g},32372:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"depth",h,l,o,d)};n.exports=g},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var u=0;u<s.length;u++)s[u].setInteractive(a,g);return s};n.exports=x},81583:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d,v,c){return l==null&&(l=h),a(u,"originX",h,o,v,c),a(u,"originY",l,d,v,c),u.forEach(function(p){p.updateDisplayOrigin()}),u};n.exports=g},79939:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"rotation",h,l,o,d)};n.exports=g},2699:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d,v,c){return l==null&&(l=h),a(u,"scaleX",h,o,v,c),a(u,"scaleY",l,d,v,c)};n.exports=g},98739:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"scaleX",h,l,o,d)};n.exports=g},98476:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"scaleY",h,l,o,d)};n.exports=g},6207:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d,v,c){return l==null&&(l=h),a(u,"scrollFactorX",h,o,v,c),a(u,"scrollFactorY",l,d,v,c)};n.exports=g},6607:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"scrollFactorX",h,l,o,d)};n.exports=g},72248:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"scrollFactorY",h,l,o,d)};n.exports=g},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){for(var l=0;l<s.length;l++)s[l].setTint(a,g,u,h);return s};n.exports=x},50159:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o){return a(u,"visible",h,0,l,o)};n.exports=g},77597:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"x",h,l,o,d)};n.exports=g},83194:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d,v,c){return l==null&&(l=h),a(u,"x",h,o,v,c),a(u,"y",l,d,v,c)};n.exports=g},67678:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43967),g=function(u,h,l,o,d){return a(u,"y",h,l,o,d)};n.exports=g},35850:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d){o===void 0&&(o=0),d===void 0&&(d=new a);var v,c,p=u.length;if(p===1)v=u[0].x,c=u[0].y,u[0].x=h,u[0].y=l;else{var y=1,m=0;o===0&&(m=p-1,y=p-2),v=u[m].x,c=u[m].y,u[m].x=h,u[m].y=l;for(var C=0;C<p;C++)if(!(y>=p||y===-1)){var T=u[y],E=T.x,w=T.y;T.x=v,T.y=c,v=E,c=w,o===0?y--:y++}}return d.x=v,d.y=c,d};n.exports=g},8628:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33680),g=function(u){return a(u)};n.exports=g},21837:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7602),g=function(u,h,l,o,d){d===void 0&&(d=!1);var v=Math.abs(o-l)/u.length,c;if(d)for(c=0;c<u.length;c++)u[c][h]+=a(c*v,l,o);else for(c=0;c<u.length;c++)u[c][h]=a(c*v,l,o);return u};n.exports=g},21910:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54261),g=function(u,h,l,o,d){d===void 0&&(d=!1);var v=Math.abs(o-l)/u.length,c;if(d)for(c=0;c<u.length;c++)u[c][h]+=a(c*v,l,o);else for(c=0;c<u.length;c++)u[c][h]=a(c*v,l,o);return u};n.exports=g},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){if(h===void 0&&(h=!1),s.length===0)return s;if(s.length===1)return h?s[0][a]+=(u+g)/2:s[0][a]=(u+g)/2,s;var l=Math.abs(u-g)/(s.length-1),o;if(h)for(o=0;o<s.length;o++)s[o][a]+=o*l+g;else for(o=0;o<s.length;o++)s[o][a]=o*l+g;return s};n.exports=x},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=0;a<s.length;a++)s[a].visible=!s[a].visible;return s};n.exports=x},39665:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15994),g=function(u,h,l){l===void 0&&(l=0);for(var o=0;o<u.length;o++){var d=u[o];d.x=a(d.x,h.left-l,h.right+l),d.y=a(d.y,h.top-l,h.bottom+l)}return u};n.exports=g},61061:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:s(11517),Angle:s(80318),Call:s(60757),GetFirst:s(69927),GetLast:s(32265),GridAlign:s(94420),IncAlpha:s(41721),IncX:s(67285),IncXY:s(9074),IncY:s(75222),PlaceOnCircle:s(22983),PlaceOnEllipse:s(95253),PlaceOnLine:s(88505),PlaceOnRectangle:s(41346),PlaceOnTriangle:s(11575),PlayAnimation:s(29953),PropertyValueInc:s(66979),PropertyValueSet:s(43967),RandomCircle:s(88926),RandomEllipse:s(33286),RandomLine:s(96e3),RandomRectangle:s(28789),RandomTriangle:s(97154),Rotate:s(20510),RotateAround:s(91051),RotateAroundDistance:s(76332),ScaleX:s(61619),ScaleXY:s(94868),ScaleY:s(95532),SetAlpha:s(8689),SetBlendMode:s(2645),SetDepth:s(32372),SetHitArea:s(85373),SetOrigin:s(81583),SetRotation:s(79939),SetScale:s(2699),SetScaleX:s(98739),SetScaleY:s(98476),SetScrollFactor:s(6207),SetScrollFactorX:s(6607),SetScrollFactorY:s(72248),SetTint:s(14036),SetVisible:s(50159),SetX:s(77597),SetXY:s(83194),SetY:s(67678),ShiftPosition:s(35850),Shuffle:s(8628),SmootherStep:s(21910),SmoothStep:s(21837),Spread:s(62054),ToggleVisible:s(79815),WrapInRectangle:s(39665)}},42099:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(74943),h=s(81957),l=s(41138),o=s(35154),d=s(90126),v=new g({initialize:function(p,y,m){this.manager=p,this.key=y,this.type="frame",this.frames=this.getFrames(p.textureManager,o(m,"frames",[]),o(m,"defaultTextureKey",null),o(m,"sortFrames",!0)),this.frameRate=o(m,"frameRate",null),this.duration=o(m,"duration",null),this.msPerFrame,this.skipMissedFrames=o(m,"skipMissedFrames",!0),this.delay=o(m,"delay",0),this.repeat=o(m,"repeat",0),this.repeatDelay=o(m,"repeatDelay",0),this.yoyo=o(m,"yoyo",!1),this.showBeforeDelay=o(m,"showBeforeDelay",!1),this.showOnStart=o(m,"showOnStart",!1),this.hideOnComplete=o(m,"hideOnComplete",!1),this.randomFrame=o(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(u.PAUSE_ALL,this.pause,this),this.manager.on(u.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(c,p,y,m){y===null&&m===null?(c.frameRate=24,c.duration=24/p*1e3):y&&m===null?(c.duration=y,c.frameRate=p/(y/1e3)):(c.frameRate=m,c.duration=p/m*1e3),c.msPerFrame=1e3/c.frameRate},addFrame:function(c){return this.addFrameAt(this.frames.length,c)},addFrameAt:function(c,p){var y=this.getFrames(this.manager.textureManager,p);if(y.length>0){if(c===0)this.frames=y.concat(this.frames);else if(c===this.frames.length)this.frames=this.frames.concat(y);else{var m=this.frames.slice(0,c),C=this.frames.slice(c);this.frames=m.concat(y,C)}this.updateFrameSequence()}return this},checkFrame:function(c){return c>=0&&c<this.frames.length},getFirstTick:function(c){c.accumulator=0,c.nextTick=c.currentFrame.duration?c.currentFrame.duration:c.msPerFrame},getFrameAt:function(c){return this.frames[c]},getFrames:function(c,p,y,m){m===void 0&&(m=!0);var C=[],T,E,w=1,P,b;if(typeof p=="string"){if(b=p,!c.exists(b))return console.warn('Texture "%s" not found',b),C;var M=c.get(b),A=M.getFrameNames();m&&d(A),p=[],A.forEach(function(B){p.push({key:b,frame:B})})}if(!Array.isArray(p)||p.length===0)return C;for(P=0;P<p.length;P++){var R=p[P],L=o(R,"key",y);if(L){var O=o(R,"frame",0),D=c.getFrame(L,O);if(!D){console.warn('Texture "%s" not found',L);continue}E=new l(L,O,w,D),E.duration=o(R,"duration",0),E.isFirst=!T,T&&(T.nextFrame=E,E.prevFrame=T),C.push(E),T=E,w++}}if(C.length>0){E.isLast=!0,E.nextFrame=C[0],C[0].prevFrame=E;var I=1/(C.length-1);for(P=0;P<C.length;P++)C[P].progress=P*I}return C},getNextTick:function(c){c.accumulator-=c.nextTick,c.nextTick=c.currentFrame.duration?c.currentFrame.duration:c.msPerFrame},getFrameByProgress:function(c){return c=a(c,0,1),h(c,this.frames,"progress")},nextFrame:function(c){var p=c.currentFrame;p.isLast?c.yoyo?this.handleYoyoFrame(c,!1):c.repeatCounter>0?c.inReverse&&c.forward?c.forward=!1:this.repeatAnimation(c):c.complete():this.updateAndGetNextTick(c,p.nextFrame)},handleYoyoFrame:function(c,p){if(p||(p=!1),c.inReverse===!p&&c.repeatCounter>0){(c.repeatDelay===0||c.pendingRepeat)&&(c.forward=p),this.repeatAnimation(c);return}if(c.inReverse!==p&&c.repeatCounter===0){c.complete();return}c.forward=p;var y=p?c.currentFrame.nextFrame:c.currentFrame.prevFrame;this.updateAndGetNextTick(c,y)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(c){var p=c.currentFrame;p.isFirst?c.yoyo?this.handleYoyoFrame(c,!0):c.repeatCounter>0?c.inReverse&&!c.forward?this.repeatAnimation(c):(c.forward=!0,this.repeatAnimation(c)):c.complete():this.updateAndGetNextTick(c,p.prevFrame)},updateAndGetNextTick:function(c,p){c.setCurrentFrame(p),this.getNextTick(c)},removeFrame:function(c){var p=this.frames.indexOf(c);return p!==-1&&this.removeFrameAt(p),this},removeFrameAt:function(c){return this.frames.splice(c,1),this.updateFrameSequence(),this},repeatAnimation:function(c){if(c._pendingStop===2){if(c._pendingStopValue===0)return c.stop();c._pendingStopValue--}c.repeatDelay>0&&!c.pendingRepeat?(c.pendingRepeat=!0,c.accumulator-=c.nextTick,c.nextTick+=c.repeatDelay):(c.repeatCounter--,c.forward?c.setCurrentFrame(c.currentFrame.nextFrame):c.setCurrentFrame(c.currentFrame.prevFrame),c.isPlaying&&(this.getNextTick(c),c.handleRepeat()))},toJSON:function(){var c={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(p){c.frames.push(p.toJSON())}),c},updateFrameSequence:function(){for(var c=this.frames.length,p=1/(c-1),y,m=0;m<c;m++)y=this.frames[m],y.index=m+1,y.isFirst=!1,y.isLast=!1,y.progress=m*p,m===0?(y.isFirst=!0,c===1?(y.isLast=!0,y.nextFrame=y,y.prevFrame=y):(y.isLast=!1,y.prevFrame=this.frames[c-1],y.nextFrame=this.frames[m+1])):m===c-1&&c>1?(y.isLast=!0,y.prevFrame=this.frames[c-2],y.nextFrame=this.frames[0]):c>1&&(y.prevFrame=this.frames[m-1],y.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(u.PAUSE_ALL,this.pause,this),this.manager.off(u.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var c=0;c<this.frames.length;c++)this.frames[c].destroy();this.frames=[],this.manager=null}});n.exports=v},41138:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d,v){v===void 0&&(v=!1),this.textureKey=h,this.textureFrame=l,this.index=o,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=v},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=g},60848:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42099),g=s(83419),u=s(90330),h=s(50792),l=s(74943),o=s(8443),d=s(95540),v=s(35154),c=s(36383),p=s(20283),y=s(41836),m=new g({Extends:h,initialize:function(T){h.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new u,this.mixes=new u,this.paused=!1,this.name="AnimationManager",T.events.once(o.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(o.DESTROY,this.destroy,this)},addMix:function(C,T,E){var w=this.anims,P=this.mixes,b=typeof C=="string"?C:C.key,M=typeof T=="string"?T:T.key;if(w.has(b)&&w.has(M)){var A=P.get(b);A||(A={}),A[M]=E,P.set(b,A)}return this},removeMix:function(C,T){var E=this.mixes,w=typeof C=="string"?C:C.key,P=E.get(w);if(P)if(T){var b=typeof T=="string"?T:T.key;P.hasOwnProperty(b)&&delete P[b]}else T||E.delete(w);return this},getMix:function(C,T){var E=this.mixes,w=typeof C=="string"?C:C.key,P=typeof T=="string"?T:T.key,b=E.get(w);return b&&b.hasOwnProperty(P)?b[P]:0},add:function(C,T){return this.anims.has(C)?(console.warn("Animation key exists: "+C),this):(T.key=C,this.anims.set(C,T),this.emit(l.ADD_ANIMATION,C,T),this)},exists:function(C){return this.anims.has(C)},createFromAseprite:function(C,T,E){var w=[],P=this.game.cache.json.get(C);if(!P)return console.warn("No Aseprite data found for: "+C),w;var b=this,M=v(P,"meta",null),A=v(P,"frames",null);if(M&&A){var R=v(M,"frameTags",[]);R.forEach(function(L){var O=[],D=d(L,"name",null),I=d(L,"from",0),B=d(L,"to",0),G=d(L,"direction","forward");if(D&&(!T||T&&T.indexOf(D)>-1)){for(var z=0,Y=I;Y<=B;Y++){var H=Y.toString(),k=A[H];if(k){var U=d(k,"duration",c.MAX_SAFE_INTEGER);O.push({key:C,frame:H,duration:U}),z+=U}}G==="reverse"&&(O=O.reverse());var F={key:D,frames:O,duration:z,yoyo:G==="pingpong"},N;E?E.anims&&(N=E.anims.create(F)):N=b.create(F),N&&w.push(N)}})}return w},create:function(C){var T=C.key,E=!1;return T&&(E=this.get(T),E?console.warn("AnimationManager key already exists: "+T):(E=new a(this,T,C),this.anims.set(T,E),this.emit(l.ADD_ANIMATION,T,E))),E},fromJSON:function(C,T){T===void 0&&(T=!1),T&&this.anims.clear(),typeof C=="string"&&(C=JSON.parse(C));var E=[];if(C.hasOwnProperty("anims")&&Array.isArray(C.anims)){for(var w=0;w<C.anims.length;w++)E.push(this.create(C.anims[w]));C.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=C.globalTimeScale)}else C.hasOwnProperty("key")&&C.type==="frame"&&E.push(this.create(C));return E},generateFrameNames:function(C,T){var E=v(T,"prefix",""),w=v(T,"start",0),P=v(T,"end",0),b=v(T,"suffix",""),M=v(T,"zeroPad",0),A=v(T,"outputArray",[]),R=v(T,"frames",!1);if(!this.textureManager.exists(C))return console.warn('Texture "%s" not found',C),A;var L=this.textureManager.get(C);if(!L)return A;var O;if(T)for(R||(R=p(w,P)),O=0;O<R.length;O++){var D=E+y(R[O],M,"0",1)+b;L.has(D)?A.push({key:C,frame:D}):console.warn('Frame "%s" not found in texture "%s"',D,C)}else for(R=L.getFrameNames(),O=0;O<R.length;O++)A.push({key:C,frame:R[O]});return A},generateFrameNumbers:function(C,T){var E=v(T,"start",0),w=v(T,"end",-1),P=v(T,"first",!1),b=v(T,"outputArray",[]),M=v(T,"frames",!1);if(!this.textureManager.exists(C))return console.warn('Texture "%s" not found',C),b;var A=this.textureManager.get(C);if(!A)return b;P&&A.has(P)&&b.push({key:C,frame:P}),M||(w===-1&&(w=A.frameTotal-2),M=p(E,w));for(var R=0;R<M.length;R++){var L=M[R];A.has(L)?b.push({key:C,frame:L}):console.warn('Frame "%s" not found in texture "%s"',L,C)}return b},get:function(C){return this.anims.get(C)},getAnimsFromTexture:function(C){for(var T=this.textureManager.get(C),E=T.key,w=this.anims.getArray(),P=[],b=0;b<w.length;b++)for(var M=w[b],A=M.frames,R=0;R<A.length;R++)if(A[R].textureKey===E){P.push(M.key);break}return P},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(C,T){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++)T[E].anims.play(C);return this},staggerPlay:function(C,T,E,w){E===void 0&&(E=0),w===void 0&&(w=!0),Array.isArray(T)||(T=[T]);var P=T.length;w||P--;for(var b=0;b<T.length;b++){var M=E<0?Math.abs(E)*(P-b):E*b;T[b].anims.playAfterDelay(C,M)}return this},remove:function(C){var T=this.get(C);return T&&(this.emit(l.REMOVE_ANIMATION,C,T),this.anims.delete(C),this.removeMix(C)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(C){var T={anims:[],globalTimeScale:this.globalTimeScale};return C!==void 0&&C!==""?T.anims.push(this.anims.get(C).toJSON()):this.anims.each(function(E,w){T.anims.push(w.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=m},9674:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42099),g=s(30976),u=s(83419),h=s(90330),l=s(74943),o=s(95540),d=new u({initialize:function(c){this.parent=c,this.animationManager=c.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(v){var c=this.parent;if(v===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,c;Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var y=v[p];this.nextAnim?this.nextAnimsQueue.push(y):this.nextAnim=y}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(v){this.isPlaying&&this.stop();var c=this.animationManager,p=typeof v=="string"?v:o(v,"key",null),y=this.exists(p)?this.get(p):c.get(p);if(!y)console.warn("Missing animation: "+p);else{this.currentAnim=y;var m=y.getTotalFrames(),C=o(v,"frameRate",y.frameRate),T=o(v,"duration",y.duration);y.calculateDuration(this,m,T,C),this.delay=o(v,"delay",y.delay),this.repeat=o(v,"repeat",y.repeat),this.repeatDelay=o(v,"repeatDelay",y.repeatDelay),this.yoyo=o(v,"yoyo",y.yoyo),this.showBeforeDelay=o(v,"showBeforeDelay",y.showBeforeDelay),this.showOnStart=o(v,"showOnStart",y.showOnStart),this.hideOnComplete=o(v,"hideOnComplete",y.hideOnComplete),this.skipMissedFrames=o(v,"skipMissedFrames",y.skipMissedFrames),this.randomFrame=o(v,"randomFrame",y.randomFrame),this.timeScale=o(v,"timeScale",this.timeScale);var E=o(v,"startFrame",0);E>m&&(E=0),this.randomFrame&&(E=g(0,m-1));var w=y.frames[E];E===0&&!this.forward&&(w=y.getLastFrame()),this.currentFrame=w}return this.parent},pause:function(v){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),v!==void 0&&this.setCurrentFrame(v),this.parent},resume:function(v){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),v!==void 0&&this.setCurrentFrame(v),this.parent},playAfterDelay:function(v,c){if(!this.isPlaying)this.delayCounter=c,this.play(v,!0);else{var p=this.nextAnim,y=this.nextAnimsQueue;p&&y.unshift(p),this.nextAnim=v,this._pendingStop=1,this._pendingStopValue=c}return this.parent},playAfterRepeat:function(v,c){if(c===void 0&&(c=1),!this.isPlaying)this.play(v);else{var p=this.nextAnim,y=this.nextAnimsQueue;p&&y.unshift(p),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this.nextAnim=v,this._pendingStop=2,this._pendingStopValue=c}return this.parent},play:function(v,c){c===void 0&&(c=!1);var p=this.currentAnim,y=this.parent,m=typeof v=="string"?v:v.key;if(c&&this.isPlaying&&p.key===m)return y;if(p&&this.isPlaying){var C=this.animationManager.getMix(p.key,v);if(C>0)return this.playAfterDelay(v,C)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v)},playReverse:function(v,c){c===void 0&&(c=!1);var p=typeof v=="string"?v:v.key;return c&&this.isPlaying&&this.currentAnim.key===p?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(v))},startAnimation:function(v){this.load(v);var c=this.currentAnim,p=this.parent;return c&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,c.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),p},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(v,c){var p=this.currentAnim;if(p){var y=this.currentFrame,m=this.parent,C=y.textureFrame;m.emit(v,p,y,m,C),c&&m.emit(c+p.key,p,y,m,C)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var v=this.currentFrame;if(!v)return 0;var c=v.progress;return this.inReverse&&(c*=-1),c},setProgress:function(v){return this.forward||(v=1-v),this.setCurrentFrame(this.currentAnim.getFrameByProgress(v)),this.parent},setRepeat:function(v){return this.repeatCounter=v===-1?Number.MAX_VALUE:v,this.parent},globalRemove:function(v,c){c===void 0&&(c=this.currentAnim),this.isPlaying&&c.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(v,c){v===void 0&&(v=!1),c===void 0&&(c=!1);var p=this.currentAnim,y=this.parent;return p?(c&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),p.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!v,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(p.frames[0]),this.parent):y},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(v)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var v=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(v)}return this.parent},stopAfterDelay:function(v){return this._pendingStop=1,this._pendingStopValue=v,this.parent},stopAfterRepeat:function(v){return v===void 0&&(v=1),this.repeatCounter!==-1&&v>this.repeatCounter&&(v=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=v,this.parent},stopOnFrame:function(v){return this._pendingStop=3,this._pendingStopValue=v,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(v,c){var p=this.currentAnim;if(!(!this.isPlaying||!p||p.paused)){if(this.accumulator+=c*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=c,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?p.nextFrame(this):p.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var y=0;do this.forward?p.nextFrame(this):p.previousFrame(this),y++;while(this.isPlaying&&this.accumulator>this.nextTick&&y<60)}}},setCurrentFrame:function(v){var c=this.parent;return this.currentFrame=v,c.texture=v.frame.texture,c.frame=v.frame,c.isCropped&&c.frame.updateCropUVs(c._crop,c.flipX,c.flipY),v.setAlpha&&(c.alpha=v.alpha),c.setSizeToFrame(),c._originComponent&&(v.frame.customPivot?c.setOrigin(v.frame.pivotX,v.frame.pivotY):c.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===v&&this.stop()),c},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(v){return this.anims?this.anims.get(v):null},exists:function(v){return this.anims?this.anims.has(v):!1},create:function(v){var c=v.key,p=!1;return c&&(p=this.get(c),p?console.warn("Animation key already exists: "+c):(p=new a(this,c,v),this.anims||(this.anims=new h),this.anims.set(c,p))),p},createFromAseprite:function(v,c){return this.animationManager.createFromAseprite(v,c,this.parent)},generateFrameNames:function(v,c){return this.animationManager.generateFrameNames(v,c)},generateFrameNumbers:function(v,c){return this.animationManager.generateFrameNumbers(v,c)},remove:function(v){var c=this.get(v);return c&&(this.currentAnim===c&&this.stop(),this.anims.delete(v)),c},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=d},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:s(57090),ANIMATION_COMPLETE:s(25312),ANIMATION_COMPLETE_KEY:s(89580),ANIMATION_REPEAT:s(52860),ANIMATION_RESTART:s(63850),ANIMATION_START:s(99085),ANIMATION_STOP:s(28087),ANIMATION_UPDATE:s(1794),PAUSE_ALL:s(52562),REMOVE_ANIMATION:s(57953),RESUME_ALL:s(68339)}},60421:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:s(42099),AnimationFrame:s(41138),AnimationManager:s(60848),AnimationState:s(9674),Events:s(74943)}},2161:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(90330),u=s(50792),h=s(24736),l=new a({initialize:function(){this.entries=new g,this.events=new u},add:function(o,d){return this.entries.set(o,d),this.events.emit(h.ADD,this,o,d),this},has:function(o){return this.entries.has(o)},exists:function(o){return this.entries.has(o)},get:function(o){return this.entries.get(o)},remove:function(o){var d=this.get(o);return d&&(this.entries.delete(o),this.events.emit(h.REMOVE,this,o,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=l},24047:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2161),g=s(83419),u=s(8443),h=new g({initialize:function(o){this.game=o,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(u.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new a),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],o=0;o<l.length;o++)this[l[o]].destroy(),this[l[o]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});n.exports=h},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(51464),REMOVE:s(59261)}},83388:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:s(2161),CacheManager:s(24047),Events:s(24736)}},71911:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(39506),h=s(50792),l=s(19715),o=s(87841),d=s(61340),v=s(80333),c=s(26099),p=new a({Extends:h,Mixins:[g.AlphaSingle,g.Visible],initialize:function(m,C,T,E){m===void 0&&(m=0),C===void 0&&(C=0),T===void 0&&(T=0),E===void 0&&(E=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new o,this.dirty=!0,this._x=m,this._y=C,this._width=T,this._height=E,this._bounds=new o,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=v("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new c(T/2,E/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(y){this.renderList.push(y)},setOrigin:function(y,m){return y===void 0&&(y=.5),m===void 0&&(m=y),this.originX=y,this.originY=m,this},getScroll:function(y,m,C){C===void 0&&(C=new c);var T=this.width*.5,E=this.height*.5;return C.x=y-T,C.y=m-E,this.useBounds&&(C.x=this.clampX(C.x),C.y=this.clampY(C.y)),C},centerOnX:function(y){var m=this.width*.5;return this.midPoint.x=y,this.scrollX=y-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(y){var m=this.height*.5;return this.midPoint.y=y,this.scrollY=y-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(y,m){return this.centerOnX(y),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var y=this._bounds,m=this.width*.5,C=this.height*.5;this.midPoint.set(y.centerX,y.centerY),this.scrollX=y.centerX-m,this.scrollY=y.centerY-C}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(y){if(this.disableCull)return y;var m=this.matrix.matrix,C=m[0],T=m[1],E=m[2],w=m[3],P=C*w-T*E;if(!P)return y;var b=m[4],M=m[5],A=this.scrollX,R=this.scrollY,L=this.width,O=this.height,D=this.y,I=D+O,B=this.x,G=B+L,z=this.culledObjects,Y=y.length;P=1/P,z.length=0;for(var H=0;H<Y;++H){var k=y[H];if(!k.hasOwnProperty("width")||k.parentContainer){z.push(k);continue}var U=k.width,F=k.height,N=k.x-A*k.scrollFactorX-U*k.originX,V=k.y-R*k.scrollFactorY-F*k.originY,$=N*C+V*E+b,X=N*T+V*w+M,j=(N+U)*C+(V+F)*E+b,Q=(N+U)*T+(V+F)*w+M;j>B&&$<G&&Q>D&&X<I&&z.push(k)}return z},getWorldPoint:function(y,m,C){C===void 0&&(C=new c);var T=this.matrix.matrix,E=T[0],w=T[1],P=T[2],b=T[3],M=T[4],A=T[5],R=E*b-w*P;if(!R)return C.x=y,C.y=m,C;R=1/R;var L=b*R,O=-w*R,D=-P*R,I=E*R,B=(P*A-b*M)*R,G=(w*M-E*A)*R,z=Math.cos(this.rotation),Y=Math.sin(this.rotation),H=this.zoomX,k=this.zoomY,U=this.scrollX,F=this.scrollY,N=y+(U*z-F*Y)*H,V=m+(U*Y+F*z)*k;return C.x=N*L+V*D+B,C.y=N*O+V*I+G,C},ignore:function(y){var m=this.id;Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++){var T=y[C];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=m}return this},preRender:function(){this.renderList.length=0;var y=this.width,m=this.height,C=y*.5,T=m*.5,E=this.zoomX,w=this.zoomY,P=this.matrix,b=y*this.originX,M=m*this.originY,A=this.scrollX,R=this.scrollY;this.useBounds&&(A=this.clampX(A),R=this.clampY(R)),this.scrollX=A,this.scrollY=R;var L=A+C,O=R+T;this.midPoint.set(L,O);var D=y/E,I=m/w;this.worldView.setTo(L-D/2,O-I/2,D,I),P.applyITRS(this.x+b,this.y+M,this.rotation,E,w),P.translate(-b,-M)},clampX:function(y){var m=this._bounds,C=this.displayWidth,T=m.x+(C-this.width)/2,E=Math.max(T,T+m.width-C);return y<T?y=T:y>E&&(y=E),y},clampY:function(y){var m=this._bounds,C=this.displayHeight,T=m.y+(C-this.height)/2,E=Math.max(T,T+m.height-C);return y<T?y=T:y>E&&(y=E),y},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(y){return y===void 0&&(y=0),this.rotation=u(y),this},setBackgroundColor:function(y){return y===void 0&&(y="rgba(0,0,0,0)"),this.backgroundColor=v(y),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(y,m,C,T,E){return E===void 0&&(E=!1),this._bounds.setTo(y,m,C,T),this.dirty=!0,this.useBounds=!0,E?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(y){y===void 0&&(y=new o);var m=this._bounds;return y.setTo(m.x,m.y,m.width,m.height),y},setName:function(y){return y===void 0&&(y=""),this.name=y,this},setPosition:function(y,m){return m===void 0&&(m=y),this.x=y,this.y=m,this},setRotation:function(y){return y===void 0&&(y=0),this.rotation=y,this},setRoundPixels:function(y){return this.roundPixels=y,this},setScene:function(y,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=y,this.isSceneCamera=m;var C=y.sys;return this.sceneManager=C.game.scene,this.scaleManager=C.scale,this.cameraManager=C.cameras,this.updateSystem(),this},setScroll:function(y,m){return m===void 0&&(m=y),this.scrollX=y,this.scrollY=m,this},setSize:function(y,m){return m===void 0&&(m=y),this.width=y,this.height=m,this},setViewport:function(y,m,C,T){return this.x=y,this.y=m,this.width=C,this.height=T,this},setZoom:function(y,m){return y===void 0&&(y=1),m===void 0&&(m=y),y===0&&(y=.001),m===0&&(m=.001),this.zoomX=y,this.zoomY=m,this},setMask:function(y,m){return m===void 0&&(m=!0),this.mask=y,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(y){return y===void 0&&(y=!1),y&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var y={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(y.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),y},update:function(){},setIsSceneCamera:function(y){return this.isSceneCamera=y,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var y=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;y&&!this._customViewport?m.customViewports++:!y&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=y}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(y){this._x=y,this.updateSystem()}},y:{get:function(){return this._y},set:function(y){this._y=y,this.updateSystem()}},width:{get:function(){return this._width},set:function(y){this._width=y,this.updateSystem()}},height:{get:function(){return this._height},set:function(y){this._height=y,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(y){y!==this._scrollX&&(this._scrollX=y,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(y){y!==this._scrollY&&(this._scrollY=y,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(y){this._zoomX=y,this._zoomY=y,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(y){this._zoomX=y,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(y){this._zoomY=y,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(y){this._rotation=y,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=p},38058:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71911),g=s(67502),u=s(45319),h=s(83419),l=s(31401),o=s(20052),d=s(19715),v=s(28915),c=s(87841),p=s(26099),y=new h({Extends:a,Mixins:[l.PostPipeline],initialize:function(C,T,E,w){a.call(this,C,T,E,w),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new o.Fade(this),this.flashEffect=new o.Flash(this),this.shakeEffect=new o.Shake(this),this.panEffect=new o.Pan(this),this.rotateToEffect=new o.RotateTo(this),this.zoomEffect=new o.Zoom(this),this.lerp=new p(1,1),this.followOffset=new p,this.deadzone=null,this._follow=null},setDeadzone:function(m,C){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=C):this.deadzone=new c(0,0,m,C),this._follow){var T=this.width/2,E=this.height/2,w=this._follow.x-this.followOffset.x,P=this._follow.y-this.followOffset.y;this.midPoint.set(w,P),this.scrollX=w-T,this.scrollY=P-E}g(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,C,T,E,w,P){return this.fadeEffect.start(!1,m,C,T,E,!0,w,P)},fadeOut:function(m,C,T,E,w,P){return this.fadeEffect.start(!0,m,C,T,E,!0,w,P)},fadeFrom:function(m,C,T,E,w,P,b){return this.fadeEffect.start(!1,m,C,T,E,w,P,b)},fade:function(m,C,T,E,w,P,b){return this.fadeEffect.start(!0,m,C,T,E,w,P,b)},flash:function(m,C,T,E,w,P,b){return this.flashEffect.start(m,C,T,E,w,P,b)},shake:function(m,C,T,E,w){return this.shakeEffect.start(m,C,T,E,w)},pan:function(m,C,T,E,w,P,b){return this.panEffect.start(m,C,T,E,w,P,b)},rotateTo:function(m,C,T,E,w,P,b){return this.rotateToEffect.start(m,C,T,E,w,P,b)},zoomTo:function(m,C,T,E,w,P){return this.zoomEffect.start(m,C,T,E,w,P)},preRender:function(){this.renderList.length=0;var m=this.width,C=this.height,T=m*.5,E=C*.5,w=this.zoom,P=this.matrix,b=m*this.originX,M=C*this.originY,A=this._follow,R=this.deadzone,L=this.scrollX,O=this.scrollY;R&&g(R,this.midPoint.x,this.midPoint.y);var D=!1;if(A&&!this.panEffect.isRunning){var I=this.lerp,B=A.x-this.followOffset.x,G=A.y-this.followOffset.y;R?(B<R.x?L=v(L,L-(R.x-B),I.x):B>R.right&&(L=v(L,L+(B-R.right),I.x)),G<R.y?O=v(O,O-(R.y-G),I.y):G>R.bottom&&(O=v(O,O+(G-R.bottom),I.y))):(L=v(L,B-b,I.x),O=v(O,G-M,I.y)),D=!0}this.useBounds&&(L=this.clampX(L),O=this.clampY(O)),this.scrollX=L,this.scrollY=O;var z=L+T,Y=O+E;this.midPoint.set(z,Y);var H=m/w,k=C/w,U=Math.floor(z-H/2),F=Math.floor(Y-k/2);this.worldView.setTo(U,F,H,k),P.applyITRS(Math.floor(this.x+b),Math.floor(this.y+M),this.rotation,w,w),P.translate(-b,-M),this.shakeEffect.preRender(),D&&this.emit(d.FOLLOW_UPDATE,this,A)},setLerp:function(m,C){return m===void 0&&(m=1),C===void 0&&(C=m),this.lerp.set(m,C),this},setFollowOffset:function(m,C){return m===void 0&&(m=0),C===void 0&&(C=0),this.followOffset.set(m,C),this},startFollow:function(m,C,T,E,w,P){C===void 0&&(C=!1),T===void 0&&(T=1),E===void 0&&(E=T),w===void 0&&(w=0),P===void 0&&(P=w),this._follow=m,this.roundPixels=C,T=u(T,0,1),E=u(E,0,1),this.lerp.set(T,E),this.followOffset.set(w,P);var b=this.width/2,M=this.height/2,A=m.x-w,R=m.y-P;return this.midPoint.set(A,R),this.scrollX=A-b,this.scrollY=R-M,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,C){this.visible&&(this.rotateToEffect.update(m,C),this.panEffect.update(m,C),this.zoomEffect.update(m,C),this.shakeEffect.update(m,C),this.flashEffect.update(m,C),this.fadeEffect.update(m,C))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=y},32743:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(38058),g=s(83419),u=s(95540),h=s(37277),l=s(37303),o=s(97480),d=s(44594),v=new g({initialize:function(p){this.scene=p,this.systems=p.sys,this.roundPixels=p.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,p.sys.events.once(d.BOOT,this.boot,this),p.sys.events.on(d.START,this.start,this)},boot:function(){var c=this.systems;c.settings.cameras?this.fromJSON(c.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,c.scale.width,c.scale.height).setScene(this.scene),c.game.scale.on(o.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var c=this.systems;c.settings.cameras?this.fromJSON(c.settings.cameras):this.add(),this.main=this.cameras[0]}var p=this.systems.events;p.on(d.UPDATE,this.update,this),p.once(d.SHUTDOWN,this.shutdown,this)},add:function(c,p,y,m,C,T){c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),C===void 0&&(C=!1),T===void 0&&(T="");var E=new a(c,p,y,m);return E.setName(T),E.setScene(this.scene),E.setRoundPixels(this.roundPixels),E.id=this.getNextID(),this.cameras.push(E),C&&(this.main=E),E},addExisting:function(c,p){p===void 0&&(p=!1);var y=this.cameras.indexOf(c);return y===-1?(c.id=this.getNextID(),c.setRoundPixels(this.roundPixels),this.cameras.push(c),p&&(this.main=c),c):null},getNextID:function(){for(var c=this.cameras,p=1,y=0;y<32;y++){for(var m=!1,C=0;C<c.length;C++){var T=c[C];if(T&&T.id===p){m=!0;continue}}if(m)p=p<<1;else return p}return 0},getTotal:function(c){c===void 0&&(c=!1);for(var p=0,y=this.cameras,m=0;m<y.length;m++){var C=y[m];(!c||c&&C.visible)&&p++}return p},fromJSON:function(c){Array.isArray(c)||(c=[c]);for(var p=this.scene.sys.scale.width,y=this.scene.sys.scale.height,m=0;m<c.length;m++){var C=c[m],T=u(C,"x",0),E=u(C,"y",0),w=u(C,"width",p),P=u(C,"height",y),b=this.add(T,E,w,P);b.name=u(C,"name",""),b.zoom=u(C,"zoom",1),b.rotation=u(C,"rotation",0),b.scrollX=u(C,"scrollX",0),b.scrollY=u(C,"scrollY",0),b.roundPixels=u(C,"roundPixels",!1),b.visible=u(C,"visible",!0);var M=u(C,"backgroundColor",!1);M&&b.setBackgroundColor(M);var A=u(C,"bounds",null);if(A){var R=u(A,"x",0),L=u(A,"y",0),O=u(A,"width",p),D=u(A,"height",y);b.setBounds(R,L,O,D)}}return this},getCamera:function(c){for(var p=this.cameras,y=0;y<p.length;y++)if(p[y].name===c)return p[y];return null},getCamerasBelowPointer:function(c){for(var p=this.cameras,y=c.x,m=c.y,C=[],T=0;T<p.length;T++){var E=p[T];E.visible&&E.inputEnabled&&l(E,y,m)&&C.unshift(E)}return C},remove:function(c,p){p===void 0&&(p=!0),Array.isArray(c)||(c=[c]);for(var y=0,m=this.cameras,C=0;C<c.length;C++){var T=m.indexOf(c[C]);T!==-1&&(p?m[T].destroy():m[T].renderList=[],m.splice(T,1),y++)}return!this.main&&m[0]&&(this.main=m[0]),y},render:function(c,p){for(var y=this.scene,m=this.cameras,C=0;C<m.length;C++){var T=m[C];if(T.visible&&T.alpha>0){T.preRender();var E=this.getVisibleChildren(p.getChildren(),T);c.render(y,E,T)}}},getVisibleChildren:function(c,p){return c.filter(function(y){return y.willRender(p)})},resetAll:function(){for(var c=0;c<this.cameras.length;c++)this.cameras[c].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(c,p){for(var y=0;y<this.cameras.length;y++)this.cameras[y].update(c,p)},onResize:function(c,p,y,m,C){for(var T=0;T<this.cameras.length;T++){var E=this.cameras[T];E._x===0&&E._y===0&&E._width===m&&E._height===C&&E.setSize(p.width,p.height)}},resize:function(c,p){for(var y=0;y<this.cameras.length;y++)this.cameras[y].setSize(c,p)},shutdown:function(){this.main=void 0;for(var c=0;c<this.cameras.length;c++)this.cameras[c].destroy();this.cameras=[];var p=this.systems.events;p.off(d.UPDATE,this.update,this),p.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(o.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",v,"cameras"),n.exports=v},5020:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(19715),h=new g({initialize:function(o){this.camera=o,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,o,d,v,c,p,y,m){if(l===void 0&&(l=!0),o===void 0&&(o=1e3),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=!1),y===void 0&&(y=null),m===void 0&&(m=this.camera.scene),!p&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=o,this.direction=l,this.progress=0,this.red=d,this.green=v,this.blue=c,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=y,this._onUpdateScope=m;var C=l?u.FADE_OUT_START:u.FADE_IN_START;return this.camera.emit(C,this.camera,this,o,d,v,c),this.camera},update:function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(l,o){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,v=this.red/255,c=this.green/255,p=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,o(p,c,v,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?u.FADE_OUT_COMPLETE:u.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},10662:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(19715),h=new g({initialize:function(o){this.camera=o,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,o,d,v,c,p,y){return l===void 0&&(l=250),o===void 0&&(o=255),d===void 0&&(d=255),v===void 0&&(v=255),c===void 0&&(c=!1),p===void 0&&(p=null),y===void 0&&(y=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=o,this.green=d,this.blue=v,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=y,this.camera.emit(u.FLASH_START,this.camera,this,l,o,d,v),this.camera)},update:function(l,o){this.isRunning&&(this._elapsed+=o,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var o=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(o.x,o.y,o.width,o.height),!0},postRenderWebGL:function(l,o){if(!this.isRunning)return!1;var d=this.camera,v=this.red/255,c=this.green/255,p=this.blue/255;return l.drawFillRect(d.x,d.y,d.width,d.height,o(p,c,v,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},20359:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(62640),h=s(19715),l=s(26099),o=new g({initialize:function(v){this.camera=v,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,v,c,p,y,m,C){c===void 0&&(c=1e3),p===void 0&&(p=u.Linear),y===void 0&&(y=!1),m===void 0&&(m=null),C===void 0&&(C=this.camera.scene);var T=this.camera;return!y&&this.isRunning||(this.isRunning=!0,this.duration=c,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(d,v),T.getScroll(d,v,this.current),typeof p=="string"&&u.hasOwnProperty(p)?this.ease=u[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=C,this.camera.emit(h.PAN_START,this.camera,this,c,d,v)),T},update:function(d,v){if(this.isRunning){this._elapsed+=v;var c=a(this._elapsed/this.duration,0,1);this.progress=c;var p=this.camera;if(this._elapsed<this.duration){var y=this.ease(c);p.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*y,C=this.source.y+(this.current.y-this.source.y)*y;p.setScroll(m,C),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,c,m,C)}else p.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,p,c,p.scrollX,p.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=o},34208:(n,x,s)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=s(45319),g=s(83419),u=s(19715),h=s(62640),l=new g({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(o,d,v,c,p,y,m){v===void 0&&(v=1e3),c===void 0&&(c=h.Linear),p===void 0&&(p=!1),y===void 0&&(y=null),m===void 0&&(m=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var C=o;o<0?(C=-1*o,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;C=C-Math.floor(C/T)*T;var E=this.camera;if(!p&&this.isRunning)return E;if(this.isRunning=!0,this.duration=v,this.progress=0,this.source=E.rotation,this.destination=C,typeof c=="string"&&h.hasOwnProperty(c)?this.ease=h[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=y,this._onUpdateScope=m,this.shortestPath){var w=0,P=0;this.destination>this.source?w=Math.abs(this.destination-this.source):w=Math.abs(this.destination+T)-this.source,this.source>this.destination?P=Math.abs(this.source-this.destination):P=Math.abs(this.source+T)-this.destination,w<P?this.clockwise=!0:w>P&&(this.clockwise=!1)}return this.camera.emit(u.ROTATE_START,this.camera,this,v,C),E},update:function(o,d){if(this.isRunning){this._elapsed+=d;var v=a(this._elapsed/this.duration,0,1);this.progress=v;var c=this.camera;if(this._elapsed<this.duration){var p=this.ease(v);this.current=c.rotation;var y=0,m=360*Math.PI/180,C=this.destination,T=this.current;this.clockwise===!1&&(C=this.current,T=this.destination),C>=T?y=Math.abs(C-T):y=Math.abs(C+m)-T;var E=0;this.clockwise?E=c.rotation+y*p:E=c.rotation-y*p,c.rotation=E,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,v,E)}else c.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,v,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=l},30330:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(19715),h=s(26099),l=new g({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(o,d,v,c,p){return o===void 0&&(o=100),d===void 0&&(d=.05),v===void 0&&(v=!1),c===void 0&&(c=null),p===void 0&&(p=this.camera.scene),!v&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=c,this._onUpdateScope=p,this.camera.emit(u.SHAKE_START,this.camera,this,o,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(o,d){if(this.isRunning)if(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var v=this.intensity,c=this.camera.width,p=this.camera.height,y=this.camera.zoom;this._offsetX=(Math.random()*v.x*c*2-v.x*c)*y,this._offsetY=(Math.random()*v.y*p*2-v.y*p)*y,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=l},45641:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(62640),h=s(19715),l=new g({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,d,v,c,p,y){d===void 0&&(d=1e3),v===void 0&&(v=u.Linear),c===void 0&&(c=!1),p===void 0&&(p=null),y===void 0&&(y=this.camera.scene);var m=this.camera;return!c&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=m.zoom,this.destination=o,typeof v=="string"&&u.hasOwnProperty(v)?this.ease=u[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=y,this.camera.emit(h.ZOOM_START,this.camera,this,d,o)),m},update:function(o,d){this.isRunning&&(this._elapsed+=d,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l},20052:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:s(5020),Flash:s(10662),Pan:s(20359),Shake:s(30330),RotateTo:s(34208),Zoom:s(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:s(16438),FADE_IN_COMPLETE:s(32726),FADE_IN_START:s(87807),FADE_OUT_COMPLETE:s(45917),FADE_OUT_START:s(95666),FLASH_COMPLETE:s(47056),FLASH_START:s(91261),FOLLOW_UPDATE:s(45047),PAN_COMPLETE:s(81927),PAN_START:s(74264),POST_RENDER:s(54419),PRE_RENDER:s(79330),ROTATE_COMPLETE:s(93183),ROTATE_START:s(80112),SHAKE_COMPLETE:s(62252),SHAKE_START:s(86017),ZOOM_COMPLETE:s(539),ZOOM_START:s(51892)}},87969:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:s(38058),BaseCamera:s(71911),CameraManager:s(32743),Effects:s(20052),Events:s(19715)}},63091:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(35154),u=new a({initialize:function(l){this.camera=g(l,"camera",null),this.left=g(l,"left",null),this.right=g(l,"right",null),this.up=g(l,"up",null),this.down=g(l,"down",null),this.zoomIn=g(l,"zoomIn",null),this.zoomOut=g(l,"zoomOut",null),this.zoomSpeed=g(l,"zoomSpeed",.01),this.minZoom=g(l,"minZoom",.001),this.maxZoom=g(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var o=g(l,"speed",null);typeof o=="number"?(this.speedX=o,this.speedY=o):(this.speedX=g(l,"speed.x",0),this.speedY=g(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=u},58818:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(35154),u=new a({initialize:function(l){this.camera=g(l,"camera",null),this.left=g(l,"left",null),this.right=g(l,"right",null),this.up=g(l,"up",null),this.down=g(l,"down",null),this.zoomIn=g(l,"zoomIn",null),this.zoomOut=g(l,"zoomOut",null),this.zoomSpeed=g(l,"zoomSpeed",.01),this.minZoom=g(l,"minZoom",.001),this.maxZoom=g(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var o=g(l,"acceleration",null);typeof o=="number"?(this.accelX=o,this.accelY=o):(this.accelX=g(l,"acceleration.x",0),this.accelY=g(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=g(l,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=g(l,"drag.x",0),this.dragY=g(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var v=g(l,"maxSpeed",null);typeof v=="number"?(this.maxSpeedX=v,this.maxSpeedY=v):(this.maxSpeedX=g(l,"maxSpeed.x",0),this.maxSpeedY=g(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*h|0),this._speedY!==0&&(l.scrollY-=this._speedY*h|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=u},38865:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:s(63091),SmoothedKeyControl:s(58818)}},26638:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:s(38865),Scene2D:s(87969)}},8054:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.80.1",BlendModes:s(10312),ScaleModes:s(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=a},69547:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(8054),u=s(42363),h=s(82264),l=s(95540),o=s(35154),d=s(41212),v=s(29747),c=s(75508),p=s(36060),y=s(80333),m=new a({initialize:function(T){T===void 0&&(T={});var E=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],w="#ffffff",P=o(T,"scale",null);this.width=o(P,"width",1024,T),this.height=o(P,"height",768,T),this.zoom=o(P,"zoom",1,T),this.parent=o(P,"parent",void 0,T),this.scaleMode=o(P,P?"mode":"scaleMode",0,T),this.expandParent=o(P,"expandParent",!0,T),this.autoRound=o(P,"autoRound",!1,T),this.autoCenter=o(P,"autoCenter",0,T),this.resizeInterval=o(P,"resizeInterval",500,T),this.fullscreenTarget=o(P,"fullscreenTarget",null,T),this.minWidth=o(P,"min.width",0,T),this.maxWidth=o(P,"max.width",0,T),this.minHeight=o(P,"min.height",0,T),this.maxHeight=o(P,"max.height",0,T),this.snapWidth=o(P,"snap.width",0,T),this.snapHeight=o(P,"snap.height",0,T),this.renderType=o(T,"type",g.AUTO),this.canvas=o(T,"canvas",null),this.context=o(T,"context",null),this.canvasStyle=o(T,"canvasStyle",null),this.customEnvironment=o(T,"customEnvironment",!1),this.sceneConfig=o(T,"scene",null),this.seed=o(T,"seed",[(Date.now()*Math.random()).toString()]),c.RND=new c.RandomDataGenerator(this.seed),this.gameTitle=o(T,"title",""),this.gameURL=o(T,"url","https://phaser.io"),this.gameVersion=o(T,"version",""),this.autoFocus=o(T,"autoFocus",!0),this.stableSort=o(T,"stableSort",-1),this.stableSort===-1&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=o(T,"dom.createContainer",!1),this.domPointerEvents=o(T,"dom.pointerEvents","none"),this.inputKeyboard=o(T,"input.keyboard",!0),this.inputKeyboardEventTarget=o(T,"input.keyboard.target",window),this.inputKeyboardCapture=o(T,"input.keyboard.capture",[]),this.inputMouse=o(T,"input.mouse",!0),this.inputMouseEventTarget=o(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=o(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=o(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=o(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=o(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=o(T,"input.touch",h.input.touch),this.inputTouchEventTarget=o(T,"input.touch.target",null),this.inputTouchCapture=o(T,"input.touch.capture",!0),this.inputActivePointers=o(T,"input.activePointers",1),this.inputSmoothFactor=o(T,"input.smoothFactor",0),this.inputWindowEvents=o(T,"input.windowEvents",!0),this.inputGamepad=o(T,"input.gamepad",!1),this.inputGamepadEventTarget=o(T,"input.gamepad.target",window),this.disableContextMenu=o(T,"disableContextMenu",!1),this.audio=o(T,"audio",{}),this.hideBanner=o(T,"banner",null)===!1,this.hidePhaser=o(T,"banner.hidePhaser",!1),this.bannerTextColor=o(T,"banner.text",w),this.bannerBackgroundColor=o(T,"banner.background",E),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=o(T,"fps",null),this.disablePreFX=o(T,"disablePreFX",!1),this.disablePostFX=o(T,"disablePostFX",!1);var b=o(T,"render",null);this.pipeline=o(b,"pipeline",null,T),this.autoMobilePipeline=o(b,"autoMobilePipeline",!0,T),this.defaultPipeline=o(b,"defaultPipeline",p.MULTI_PIPELINE,T),this.antialias=o(b,"antialias",!0,T),this.antialiasGL=o(b,"antialiasGL",!0,T),this.mipmapFilter=o(b,"mipmapFilter","",T),this.desynchronized=o(b,"desynchronized",!1,T),this.roundPixels=o(b,"roundPixels",!0,T),this.pixelArt=o(b,"pixelArt",this.zoom!==1,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=o(b,"transparent",!1,T),this.clearBeforeRender=o(b,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=o(b,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=o(b,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=o(b,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=o(b,"powerPreference","default",T),this.batchSize=o(b,"batchSize",4096,T),this.maxTextures=o(b,"maxTextures",-1,T),this.maxLights=o(b,"maxLights",10,T);var M=o(T,"backgroundColor",0);this.backgroundColor=y(M),this.transparent&&(this.backgroundColor=y(0),this.backgroundColor.alpha=0),this.preBoot=o(T,"callbacks.preBoot",v),this.postBoot=o(T,"callbacks.postBoot",v),this.physics=o(T,"physics",{}),this.defaultPhysicsSystem=o(this.physics,"default",!1),this.loaderBaseURL=o(T,"loader.baseURL",""),this.loaderPath=o(T,"loader.path",""),this.loaderMaxParallelDownloads=o(T,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=o(T,"loader.crossOrigin",void 0),this.loaderResponseType=o(T,"loader.responseType",""),this.loaderAsync=o(T,"loader.async",!0),this.loaderUser=o(T,"loader.user",""),this.loaderPassword=o(T,"loader.password",""),this.loaderTimeout=o(T,"loader.timeout",0),this.loaderWithCredentials=o(T,"loader.withCredentials",!1),this.loaderImageLoadType=o(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=o(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=o(T,"fx.glow.quality",.1),this.glowFXDistance=o(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=o(T,"plugins",null),R=u.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:d(A)&&(this.installGlobalPlugins=l(A,"global",[]),this.installScenePlugins=l(A,"scene",[]),Array.isArray(A.default)?R=A.default:Array.isArray(A.defaultMerge)&&(R=R.concat(A.defaultMerge)))),this.defaultPlugins=R;var L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=o(T,"images.default",L+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=o(T,"images.missing",L+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=o(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=g.WEBGL:window.FORCE_CANVAS&&(this.renderType=g.CANVAS))}});n.exports=m},86054:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20623),g=s(27919),u=s(8054),h=s(89357),l=function(o){var d=o.config;if((d.customEnvironment||d.canvas)&&d.renderType===u.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==u.HEADLESS)if(d.renderType===u.AUTO&&(d.renderType=h.webGL?u.WEBGL:u.CANVAS),d.renderType===u.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===u.CANVAS){if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||g.disableSmoothing();var v=o.scale.baseSize,c=v.width,p=v.height;if(d.canvas?(o.canvas=d.canvas,o.canvas.width=c,o.canvas.height=p):o.canvas=g.create(o,c,p,d.renderType),d.canvasStyle&&(o.canvas.style=d.canvasStyle),d.antialias||a.setCrisp(o.canvas),d.renderType!==u.HEADLESS){var y,m;y=s(68627),m=s(74797),d.renderType===u.WEBGL?o.renderer=new m(o):(o.renderer=new y(o),o.context=o.renderer.gameContext)}};n.exports=l},96391:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8054),g=function(u){var h=u.config;if(!h.hideBanner){var l="WebGL";h.renderType===a.CANVAS?l="Canvas":h.renderType===a.HEADLESS&&(l="Headless");var o=h.audio,d=u.device.audio,v;if(d.webAudio&&!o.disableWebAudio?v="Web Audio":o.noAudio||!d.webAudio&&!d.audioData?v="No Audio":v="HTML5 Audio",u.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var c="",p=[c];if(Array.isArray(h.bannerBackgroundColor)){var y;h.bannerBackgroundColor.forEach(function(C){c=c.concat("%c "),p.push("background: "+C),y=C}),p[p.length-1]="color: "+h.bannerTextColor+"; background: "+y}else c=c.concat("%c "),p.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor);p.push("background: transparent"),h.gameTitle&&(c=c.concat(h.gameTitle),h.gameVersion&&(c=c.concat(" v"+h.gameVersion)),h.hidePhaser||(c=c.concat(" / ")));var m="";h.hidePhaser||(c=c.concat("Phaser v"+a.VERSION+m+" ("+l+" | "+v+")")),c=c.concat(" %c "+h.gameURL),p[0]=c,console.log.apply(console,p)}}};n.exports=g},50127:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40366),g=s(60848),u=s(24047),h=s(27919),l=s(83419),o=s(69547),d=s(83719),v=s(86054),c=s(45893),p=s(96391),y=s(82264),m=s(57264),C=s(50792),T=s(8443),E=s(7003),w=s(37277),P=s(77332),b=s(76531),M=s(60903),A=s(69442),R=s(17130),L=s(65898),O=s(51085),D=s(14747),I=new l({initialize:function(G){this.config=new o(G),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new C,this.anims=new g(this),this.textures=new R(this),this.cache=new u(this),this.registry=new c(this,new C),this.input=new E(this,this.config),this.scene=new M(this,this.config.sceneConfig),this.device=y,this.scale=new b(this,this.config),this.sound=null,this.sound=D.create(this),this.loop=new L(this,this.config.fps),this.plugins=new P(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},boot:function(){if(!w.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),v(this),d(this),p(this),a(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(T.BOOT)},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),O(this);var B=this.events;B.on(T.HIDDEN,this.onHidden,this),B.on(T.VISIBLE,this.onVisible,this),B.on(T.BLUR,this.onBlur,this),B.on(T.FOCUS,this.onFocus,this)},step:function(B,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(T.PRE_STEP,B,G),z.emit(T.STEP,B,G),this.scene.update(B,G),z.emit(T.POST_STEP,B,G);var Y=this.renderer;Y.preRender(),z.emit(T.PRE_RENDER,Y,B,G),this.scene.render(Y),Y.postRender(),z.emit(T.POST_RENDER,Y,B,G)}},headlessStep:function(B,G){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var z=this.events;z.emit(T.PRE_STEP,B,G),z.emit(T.STEP,B,G),this.scene.update(B,G),z.emit(T.POST_STEP,B,G),this.scene.isProcessing=!1,z.emit(T.PRE_RENDER,null,B,G),z.emit(T.POST_RENDER,null,B,G)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var B=this.isPaused;this.isPaused=!0,B||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME)},resume:function(){var B=this.isPaused;this.isPaused=!1,B&&this.events.emit(T.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(B,G){G===void 0&&(G=!1),this.pendingDestroy=!0,this.removeCanvas=B,this.noReturn=G},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=I},65898:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(35154),u=s(29747),h=s(43092),l=new a({initialize:function(d,v){this.game=d,this.raf=new h,this.started=!1,this.running=!1,this.minFps=g(v,"min",5),this.targetFps=g(v,"target",60),this.fpsLimit=g(v,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=u,this.forceSetTimeOut=g(v,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=g(v,"deltaHistory",10),this.panicMax=g(v,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=g(v,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var o=window.performance.now();this.time=o,this.lastTime=o,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(o){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=o;var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target)},smoothDelta:function(o){var d=this.deltaIndex,v=this.deltaHistory,c=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,o=Math.min(o,this._target)),o>this._min&&(o=v[d],o=Math.min(o,this._min)),v[d]=o,this.deltaIndex++,this.deltaIndex>=c&&(this.deltaIndex=0);for(var p=0,y=0;y<c;y++)p+=v[y];return p/=c,p},updateFPS:function(o){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=o+1e3,this.framesThisSecond=0},stepLimitFPS:function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(o,this.delta),this.delta=0),this.lastTime=o,this.frame++},step:function(o){this.now=o;var d=Math.max(0,o-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,o>=this.nextFpsUpdate&&this.updateFPS(o),this.framesThisSecond++,this.callback(o,d),this.lastTime=o,this.frame++},tick:function(){var o=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(o):this.step(o)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(o){o===void 0&&(o=!1);var d=window.performance.now();if(!this.running){o&&(this.startTime+=-this.lastTime+(this.lastTime+d));var v=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(v,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=l},51085:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8443),g=function(u){var h,l=u.events;if(document.hidden!==void 0)h="visibilitychange";else{var o=["webkit","moz","ms"];o.forEach(function(v){document[v+"Hidden"]!==void 0&&(document.hidden=function(){return document[v+"Hidden"]},h=v+"visibilitychange")})}var d=function(v){document.hidden||v.type==="pause"?l.emit(a.HIDDEN):l.emit(a.VISIBLE)};h&&document.addEventListener(h,d,!1),window.onblur=function(){l.emit(a.BLUR)},window.onfocus=function(){l.emit(a.FOCUS)},window.focus&&u.config.autoFocus&&window.focus()};n.exports=g},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:s(97217),BOOT:s(47548),CONTEXT_LOST:s(19814),DESTROY:s(68446),FOCUS:s(41700),HIDDEN:s(25432),PAUSE:s(65942),POST_RENDER:s(59211),POST_STEP:s(47789),PRE_RENDER:s(39066),PRE_STEP:s(460),READY:s(16175),RESUME:s(42331),STEP:s(11966),SYSTEM_READY:s(32969),VISIBLE:s(94830)}},42857:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:s(69547),CreateRenderer:s(86054),DebugHeader:s(96391),Events:s(8443),TimeStep:s(65898),VisibilityHandler:s(51085)}},99584:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(5290),g=s(27919),u=s(35154),h=function(l){var o=u(l,"data",[]),d=u(l,"canvas",null),v=u(l,"palette",a),c=u(l,"pixelWidth",1),p=u(l,"pixelHeight",c),y=u(l,"resizeCanvas",!0),m=u(l,"clearCanvas",!0),C=u(l,"preRender",null),T=u(l,"postRender",null),E=Math.floor(Math.abs(o[0].length*c)),w=Math.floor(Math.abs(o.length*p));d||(d=g.create2D(this,E,w),y=!1,m=!1),y&&(d.width=E,d.height=w);var P=d.getContext("2d",{willReadFrequently:!0});m&&P.clearRect(0,0,E,w),C&&C(d,P);for(var b=0;b<o.length;b++)for(var M=o[b],A=0;A<M.length;A++){var R=M[A];R!=="."&&R!==" "&&(P.fillStyle=v[R],P.fillRect(A*c,b*p,c,p))}return T&&T(d,P),d};n.exports=h},15822:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:s(99584),Palettes:s(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:s(5290),C64:s(23816),CGA:s(9866),JMP:s(77552),MSX:s(92259)}},46728:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(36316),u=s(80021),h=s(26099),l=new a({Extends:u,initialize:function(d,v,c,p){u.call(this,"CubicBezierCurve"),Array.isArray(d)&&(p=new h(d[6],d[7]),c=new h(d[4],d[5]),v=new h(d[2],d[3]),d=new h(d[0],d[1])),this.p0=d,this.p1=v,this.p2=c,this.p3=p},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,d){d===void 0&&(d=new h);var v=this.p0,c=this.p1,p=this.p2,y=this.p3;return d.set(g(o,v.x,c.x,p.x,y.x),g(o,v.y,c.y,p.y,y.y))},draw:function(o,d){d===void 0&&(d=32);var v=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var c=1;c<v.length;c++)o.lineTo(v[c].x,v[c].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(o){var d=o.points,v=new h(d[0],d[1]),c=new h(d[2],d[3]),p=new h(d[4],d[5]),y=new h(d[6],d[7]);return new l(v,c,p,y)},n.exports=l},80021:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(19217),u=s(87841),h=s(26099),l=new a({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(o,d){return d===void 0&&(d=32),o.strokePoints(this.getPoints(d))},getBounds:function(o,d){o||(o=new u),d===void 0&&(d=16);var v=this.getLength();d>v&&(d=v/2);var c=Math.max(1,Math.round(v/d));return g(this.getSpacedPoints(c),o)},getDistancePoints:function(o){var d=this.getLength(),v=Math.max(1,d/o);return this.getSpacedPoints(v)},getEndPoint:function(o){return o===void 0&&(o=new h),this.getPointAt(1,o)},getLength:function(){var o=this.getLengths();return o[o.length-1]},getLengths:function(o){if(o===void 0&&(o=this.arcLengthDivisions),this.cacheArcLengths.length===o+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],v,c=this.getPoint(0,this._tmpVec2A),p=0;d.push(0);for(var y=1;y<=o;y++)v=this.getPoint(y/o,this._tmpVec2B),p+=v.distance(c),d.push(p),c.copy(v);return this.cacheArcLengths=d,d},getPointAt:function(o,d){var v=this.getUtoTmapping(o);return this.getPoint(v,d)},getPoints:function(o,d,v){v===void 0&&(v=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var c=0;c<=o;c++)v.push(this.getPoint(c/o));return v},getRandomPoint:function(o){return o===void 0&&(o=new h),this.getPoint(Math.random(),o)},getSpacedPoints:function(o,d,v){v===void 0&&(v=[]),o||(d?o=this.getLength()/d:o=this.defaultDivisions);for(var c=0;c<=o;c++){var p=this.getUtoTmapping(c/o,null,o);v.push(this.getPoint(p))}return v},getStartPoint:function(o){return o===void 0&&(o=new h),this.getPointAt(0,o)},getTangent:function(o,d){d===void 0&&(d=new h);var v=1e-4,c=o-v,p=o+v;return c<0&&(c=0),p>1&&(p=1),this.getPoint(c,this._tmpVec2A),this.getPoint(p,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(o,d){var v=this.getUtoTmapping(o);return this.getTangent(v,d)},getTFromDistance:function(o,d){return o<=0?0:this.getUtoTmapping(0,o,d)},getUtoTmapping:function(o,d,v){var c=this.getLengths(v),p=0,y=c.length,m;d?m=Math.min(d,c[y-1]):m=o*c[y-1];for(var C=0,T=y-1,E;C<=T;)if(p=Math.floor(C+(T-C)/2),E=c[p]-m,E<0)C=p+1;else if(E>0)T=p-1;else{T=p;break}if(p=T,c[p]===m)return p/(y-1);var w=c[p],P=c[p+1],b=P-w,M=(m-w)/b;return(p+M)/(y-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=l},73825:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(80021),u=s(39506),h=s(35154),l=s(43396),o=s(26099),d=new a({Extends:g,initialize:function(c,p,y,m,C,T,E,w){if(typeof c=="object"){var P=c;c=h(P,"x",0),p=h(P,"y",0),y=h(P,"xRadius",0),m=h(P,"yRadius",y),C=h(P,"startAngle",0),T=h(P,"endAngle",360),E=h(P,"clockwise",!1),w=h(P,"rotation",0)}else m===void 0&&(m=y),C===void 0&&(C=0),T===void 0&&(T=360),E===void 0&&(E=!1),w===void 0&&(w=0);g.call(this,"EllipseCurve"),this.p0=new o(c,p),this._xRadius=y,this._yRadius=m,this._startAngle=u(C),this._endAngle=u(T),this._clockwise=E,this._rotation=u(w)},getStartPoint:function(v){return v===void 0&&(v=new o),this.getPoint(0,v)},getResolution:function(v){return v*2},getPoint:function(v,c){c===void 0&&(c=new o);for(var p=Math.PI*2,y=this._endAngle-this._startAngle,m=Math.abs(y)<Number.EPSILON;y<0;)y+=p;for(;y>p;)y-=p;y<Number.EPSILON&&(m?y=0:y=p),this._clockwise&&!m&&(y===p?y=-p:y=y-p);var C=this._startAngle+v*y,T=this.p0.x+this._xRadius*Math.cos(C),E=this.p0.y+this._yRadius*Math.sin(C);if(this._rotation!==0){var w=Math.cos(this._rotation),P=Math.sin(this._rotation),b=T-this.p0.x,M=E-this.p0.y;T=b*w-M*P+this.p0.x,E=b*P+M*w+this.p0.y}return c.set(T,E)},setXRadius:function(v){return this.xRadius=v,this},setYRadius:function(v){return this.yRadius=v,this},setWidth:function(v){return this.xRadius=v/2,this},setHeight:function(v){return this.yRadius=v/2,this},setStartAngle:function(v){return this.startAngle=v,this},setEndAngle:function(v){return this.endAngle=v,this},setClockwise:function(v){return this.clockwise=v,this},setRotation:function(v){return this.rotation=v,this},x:{get:function(){return this.p0.x},set:function(v){this.p0.x=v}},y:{get:function(){return this.p0.y},set:function(v){this.p0.y=v}},xRadius:{get:function(){return this._xRadius},set:function(v){this._xRadius=v}},yRadius:{get:function(){return this._yRadius},set:function(v){this._yRadius=v}},startAngle:{get:function(){return l(this._startAngle)},set:function(v){this._startAngle=u(v)}},endAngle:{get:function(){return l(this._endAngle)},set:function(v){this._endAngle=u(v)}},clockwise:{get:function(){return this._clockwise},set:function(v){this._clockwise=v}},angle:{get:function(){return l(this._rotation)},set:function(v){this._rotation=u(v)}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});d.fromJSON=function(v){return new d(v)},n.exports=d},33951:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(80021),u=s(19217),h=s(87841),l=s(26099),o=new a({Extends:g,initialize:function(v,c){g.call(this,"LineCurve"),Array.isArray(v)&&(c=new l(v[2],v[3]),v=new l(v[0],v[1])),this.p0=v,this.p1=c,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new h),u([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new l),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,v){return v===void 0&&(v=new l),d===1?v.copy(this.p1):(v.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),v)},getPointAt:function(d,v){return this.getPoint(d,v)},getTangent:function(d,v){return v===void 0&&(v=new l),v.copy(this.p1).subtract(this.p0).normalize(),v},getUtoTmapping:function(d,v,c){var p;if(v){var y=this.getLengths(c),m=y[y.length-1],C=Math.min(v,m);p=C/m}else p=d;return p},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});o.fromJSON=function(d){var v=d.points,c=new l(v[0],v[1]),p=new l(v[2],v[3]);return new o(c,p)},n.exports=o},14744:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(80021),u=s(32112),h=s(26099),l=new a({Extends:g,initialize:function(d,v,c){g.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(c=new h(d[4],d[5]),v=new h(d[2],d[3]),d=new h(d[0],d[1])),this.p0=d,this.p1=v,this.p2=c},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.p0)},getResolution:function(o){return o},getPoint:function(o,d){d===void 0&&(d=new h);var v=this.p0,c=this.p1,p=this.p2;return d.set(u(o,v.x,c.x,p.x),u(o,v.y,c.y,p.y))},draw:function(o,d){d===void 0&&(d=32);var v=this.getPoints(d);o.beginPath(),o.moveTo(this.p0.x,this.p0.y);for(var c=1;c<v.length;c++)o.lineTo(v[c].x,v[c].y);return o.strokePath(),o},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(o){var d=o.points,v=new h(d[0],d[1]),c=new h(d[2],d[3]),p=new h(d[4],d[5]);return new l(v,c,p)},n.exports=l},42534:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87842),g=s(83419),u=s(80021),h=s(26099),l=new g({Extends:u,initialize:function(d){d===void 0&&(d=[]),u.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(o){for(var d=0;d<o.length;d++){var v=new h;typeof o[d]=="number"?(v.x=o[d],v.y=o[d+1],d++):Array.isArray(o[d])?(v.x=o[d][0],v.y=o[d][1]):(v.x=o[d].x,v.y=o[d].y),this.points.push(v)}return this},addPoint:function(o,d){var v=new h(o,d);return this.points.push(v),v},getStartPoint:function(o){return o===void 0&&(o=new h),o.copy(this.points[0])},getResolution:function(o){return o*this.points.length},getPoint:function(o,d){d===void 0&&(d=new h);var v=this.points,c=(v.length-1)*o,p=Math.floor(c),y=c-p,m=v[p===0?p:p-1],C=v[p],T=v[p>v.length-2?v.length-1:p+1],E=v[p>v.length-3?v.length-1:p+2];return d.set(a(y,m.x,C.x,T.x,E.x),a(y,m.y,C.y,T.y,E.y))},toJSON:function(){for(var o=[],d=0;d<this.points.length;d++)o.push(this.points[d].x),o.push(this.points[d].y);return{type:this.type,points:o}}});l.fromJSON=function(o){return new l(o.points)},n.exports=l},25410:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:s(46669),MoveTo:s(68618),CubicBezier:s(46728),Curve:s(80021),Ellipse:s(73825),Line:s(33951),QuadraticBezier:s(14744),Spline:s(42534)}},68618:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),u=new a({initialize:function(l,o){this.active=!1,this.p0=new g(l,o)},getPoint:function(h,l){return l===void 0&&(l=new g),l.copy(this.p0)},getPointAt:function(h,l){return this.getPoint(h,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=u},46669:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(46728),u=s(73825),h=s(39429),l=s(33951),o=s(68618),d=s(14744),v=s(87841),c=s(42534),p=s(26099),y=s(36383),m=new a({initialize:function(T,E){T===void 0&&(T=0),E===void 0&&(E=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new p,this._tmpVec2A=new p,this._tmpVec2B=new p,typeof T=="object"?this.fromJSON(T):this.startPoint.set(T,E)},add:function(C){return this.curves.push(C),this},circleTo:function(C,T,E){return T===void 0&&(T=!1),this.ellipseTo(C,C,0,360,T,E)},closePath:function(){var C=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return C.equals(T)||this.curves.push(new l(T,C)),this},cubicBezierTo:function(C,T,E,w,P,b){var M=this.getEndPoint(),A,R,L;return C instanceof p?(A=C,R=T,L=E):(A=new p(E,w),R=new p(P,b),L=new p(C,T)),this.add(new g(M,A,R,L))},quadraticBezierTo:function(C,T,E,w){var P=this.getEndPoint(),b,M;return C instanceof p?(b=C,M=T):(b=new p(E,w),M=new p(C,T)),this.add(new d(P,b,M))},draw:function(C,T){for(var E=0;E<this.curves.length;E++){var w=this.curves[E];w.active&&w.draw(C,T)}return C},ellipseTo:function(C,T,E,w,P,b){var M=new u(0,0,C,T,E,w,P,b),A=this.getEndPoint(this._tmpVec2A),R=M.getStartPoint(this._tmpVec2B);return A.subtract(R),M.x=A.x,M.y=A.y,this.add(M)},fromJSON:function(C){this.curves=[],this.cacheLengths=[],this.startPoint.set(C.x,C.y),this.autoClose=C.autoClose;for(var T=0;T<C.curves.length;T++){var E=C.curves[T];switch(E.type){case"LineCurve":this.add(l.fromJSON(E));break;case"EllipseCurve":this.add(u.fromJSON(E));break;case"SplineCurve":this.add(c.fromJSON(E));break;case"CubicBezierCurve":this.add(g.fromJSON(E));break;case"QuadraticBezierCurve":this.add(d.fromJSON(E));break}}return this},getBounds:function(C,T){C===void 0&&(C=new v),T===void 0&&(T=16),C.x=Number.MAX_VALUE,C.y=Number.MAX_VALUE;for(var E=new v,w=y.MIN_SAFE_INTEGER,P=y.MIN_SAFE_INTEGER,b=0;b<this.curves.length;b++){var M=this.curves[b];M.active&&(M.getBounds(E,T),C.x=Math.min(C.x,E.x),C.y=Math.min(C.y,E.y),w=Math.max(w,E.right),P=Math.max(P,E.bottom))}return C.right=w,C.bottom=P,C},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var C=[],T=0,E=0;E<this.curves.length;E++)T+=this.curves[E].getLength(),C.push(T);return this.cacheLengths=C,C},getCurveAt:function(C){for(var T=C*this.getLength(),E=this.getCurveLengths(),w=0;w<E.length;){if(E[w]>=T)return this.curves[w];w++}return null},getEndPoint:function(C){return C===void 0&&(C=new p),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,C):C.copy(this.startPoint),C},getLength:function(){var C=this.getCurveLengths();return C[C.length-1]},getPoint:function(C,T){T===void 0&&(T=new p);for(var E=C*this.getLength(),w=this.getCurveLengths(),P=0;P<w.length;){if(w[P]>=E){var b=w[P]-E,M=this.curves[P],A=M.getLength(),R=A===0?0:1-b/A;return M.getPointAt(R,T)}P++}return null},getPoints:function(C,T){!C&&!T&&(C=this.defaultDivisions);for(var E=[],w,P=0;P<this.curves.length;P++){var b=this.curves[P];if(b.active)for(var M=b.getResolution(C),A=b.getPoints(M,T),R=0;R<A.length;R++){var L=A[R];w&&w.equals(L)||(E.push(L),w=L)}}return this.autoClose&&E.length>1&&!E[E.length-1].equals(E[0])&&E.push(E[0]),E},getRandomPoint:function(C){return C===void 0&&(C=new p),this.getPoint(Math.random(),C)},getSpacedPoints:function(C){C===void 0&&(C=40);for(var T=[],E=0;E<=C;E++)T.push(this.getPoint(E/C));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(C){return C===void 0&&(C=new p),C.copy(this.startPoint)},getTangent:function(C,T){T===void 0&&(T=new p);for(var E=C*this.getLength(),w=this.getCurveLengths(),P=0;P<w.length;){if(w[P]>=E){var b=w[P]-E,M=this.curves[P],A=M.getLength(),R=A===0?0:1-b/A;return M.getTangentAt(R,T)}P++}return null},lineTo:function(C,T){C instanceof p?this._tmpVec2B.copy(C):typeof C=="object"?this._tmpVec2B.setFromObject(C):this._tmpVec2B.set(C,T);var E=this.getEndPoint(this._tmpVec2A);return this.add(new l([E.x,E.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(C){return C.unshift(this.getEndPoint()),this.add(new c(C))},moveTo:function(C,T){return C instanceof p?this.add(new o(C.x,C.y)):this.add(new o(C,T))},toJSON:function(){for(var C=[],T=0;T<this.curves.length;T++)C.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:C}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(C,T){return new m(C,T)}),n.exports=m},45893:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(24882),u=new a({initialize:function(l,o){this.parent=l,this.events=o,o||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(g.DESTROY,this.destroy,this)},get:function(h){var l=this.list;if(Array.isArray(h)){for(var o=[],d=0;d<h.length;d++)o.push(l[h[d]]);return o}else return l[h]},getAll:function(){var h={};for(var l in this.list)this.list.hasOwnProperty(l)&&(h[l]=this.list[l]);return h},query:function(h){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&o.match(h)&&(l[o]=this.list[o]);return l},set:function(h,l){if(this._frozen)return this;if(typeof h=="string")return this.setValue(h,l);for(var o in h)this.setValue(o,h[o]);return this},inc:function(h,l){if(this._frozen)return this;l===void 0&&(l=1);var o=this.get(h);return o===void 0&&(o=0),this.set(h,o+l),this},toggle:function(h){return this._frozen?this:(this.set(h,!this.get(h)),this)},setValue:function(h,l){if(this._frozen)return this;if(this.has(h))this.values[h]=l;else{var o=this,d=this.list,v=this.events,c=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return d[h]},set:function(p){if(!o._frozen){var y=d[h];d[h]=p,v.emit(g.CHANGE_DATA,c,h,p,y),v.emit(g.CHANGE_DATA_KEY+h,c,p,y)}}}),d[h]=l,v.emit(g.SET_DATA,c,h,l)}return this},each:function(h,l){for(var o=[this.parent,null,void 0],d=1;d<arguments.length;d++)o.push(arguments[d]);for(var v in this.list)o[1]=v,o[2]=this.list[v],h.apply(l,o);return this},merge:function(h,l){l===void 0&&(l=!0);for(var o in h)h.hasOwnProperty(o)&&(l||!l&&!this.has(o))&&this.setValue(o,h[o]);return this},remove:function(h){if(this._frozen)return this;if(Array.isArray(h))for(var l=0;l<h.length;l++)this.removeValue(h[l]);else return this.removeValue(h);return this},removeValue:function(h){if(this.has(h)){var l=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(g.REMOVE_DATA,this.parent,h,l)}return this},pop:function(h){var l=void 0;return!this._frozen&&this.has(h)&&(l=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(g.REMOVE_DATA,this.parent,h,l)),l},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(g.CHANGE_DATA),this.events.off(g.SET_DATA),this.events.off(g.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var l in this.list)this.list[l]!==void 0&&h++;return h}}});n.exports=u},63646:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45893),u=s(37277),h=s(44594),l=new a({Extends:g,initialize:function(d){g.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){g.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});u.register("DataManagerPlugin",l,"data"),n.exports=l},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:s(10700),CHANGE_DATA_KEY:s(93608),DESTROY:s(60883),REMOVE_DATA:s(69780),SET_DATA:s(22166)}},44965:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:s(45893),DataManagerPlugin:s(63646),Events:s(24882)}},7098:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84148),g={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function u(){if(typeof importScripts=="function")return g;g.audioData=!!window.Audio,g.webAudio=!!(window.AudioContext||window.webkitAudioContext);var h=document.createElement("audio"),l=!!h.canPlayType;try{if(l){var o=function(c,p){var y=h.canPlayType("audio/"+c).replace(/^no$/,"");return p?!!(y||h.canPlayType("audio/"+p).replace(/^no$/,"")):!!y};if(g.ogg=o('ogg; codecs="vorbis"'),g.opus=o('ogg; codecs="opus"',"opus"),g.mp3=o("mpeg"),g.wav=o("wav"),g.m4a=o("x-m4a"),g.aac=o("aac"),g.flac=o("flac","x-flac"),g.webm=o('webm; codecs="vorbis"'),h.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)g.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),v=parseInt(RegExp.$2,10);(d===10&&v>=11||d>10)&&(g.dolby=!0)}}}}catch{}return g}n.exports=u()},84148:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25892),g={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function u(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(g.edge=!0,g.es2019=!0):/OPR/.test(h)?(g.opera=!0,g.es2019=!0):/Chrome\/(\d+)/.test(h)&&!a.windowsPhone?(g.chrome=!0,g.chromeVersion=parseInt(RegExp.$1,10),g.es2019=g.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(g.firefox=!0,g.firefoxVersion=parseInt(RegExp.$1,10),g.es2019=g.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&a.iOS?(g.mobileSafari=!0,g.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(g.ie=!0,g.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!a.windowsPhone?(g.safari=!0,g.safariVersion=parseInt(RegExp.$1,10),g.es2019=g.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(g.ie=!0,g.trident=!0,g.tridentVersion=parseInt(RegExp.$1,10),g.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(g.silk=!0),g}n.exports=u()},89289:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g={supportInverseAlpha:!1,supportNewBlendModes:!1};function u(){var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",v=new Image;return v.onload=function(){var c=new Image;c.onload=function(){var p=a.create2D(c,6),y=p.getContext("2d",{willReadFrequently:!0});if(y.globalCompositeOperation="multiply",y.drawImage(v,0,0),y.drawImage(c,2,0),!y.getImageData(2,0,1,1))return!1;var m=y.getImageData(2,0,1,1).data;a.remove(c),g.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},c.src=o+"/wCKxvRF"+d},v.src=o+"AP804Oa6"+d,!1}function h(){var o=a.create2D(this,2),d=o.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var v=d.getImageData(0,0,1,1);if(v===null)return!1;d.putImageData(v,1,0);var c=d.getImageData(1,0,1,1),p=c.data[0]===v.data[0]&&c.data[1]===v.data[1]&&c.data[2]===v.data[2]&&c.data[3]===v.data[3];return a.remove(this),p}function l(){return typeof importScripts!="function"&&document!==void 0&&(g.supportNewBlendModes=u(),g.supportInverseAlpha=h()),g}n.exports=l()},89357:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25892),g=s(84148),u=s(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var d=new ArrayBuffer(4),v=new Uint8Array(d),c=new Uint32Array(d);return v[0]=161,v[1]=178,v[2]=195,v[3]=212,c[0]===3569595041?!0:c[0]===2712847316?!1:null}function o(){if(typeof importScripts=="function")return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch{h.localStorage=!1}h.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,h.fileSystem=!!window.requestFileSystem;var d=!1,v=function(){if(window.WebGLRenderingContext)try{var c=u.createWebGL(this),p=c.getContext("webgl")||c.getContext("experimental-webgl"),y=u.create2D(this),m=y.getContext("2d",{willReadFrequently:!0}),C=m.createImageData(1,1);return d=C.data instanceof Uint8ClampedArray,u.remove(c),u.remove(y),!!p}catch{return!1}return!1};return h.webGL=v(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,g.firefox&&g.firefoxVersion<21&&(h.getUserMedia=!1),!a.iOS&&(g.ie||g.firefox||g.chrome)&&(h.canvasBitBltShift=!0),(g.safari||g.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(h.littleEndian=l()),h.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&h.littleEndian!==null&&d,h}n.exports=o()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={available:!1,cancel:"",keyboard:!1,request:""};function s(){if(typeof importScripts=="function")return x;var a,g="Fullscreen",u="FullScreen",h=["request"+g,"request"+u,"webkitRequest"+g,"webkitRequest"+u,"msRequest"+g,"msRequest"+u,"mozRequest"+u,"mozRequest"+g];for(a=0;a<h.length;a++)if(document.documentElement[h[a]]){x.available=!0,x.request=h[a];break}var l=["cancel"+u,"exit"+g,"webkitCancel"+u,"webkitExit"+g,"msCancel"+u,"msExit"+g,"mozCancel"+u,"mozExit"+g];if(x.available){for(a=0;a<l.length;a++)if(document[l[a]]){x.cancel=l[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(x.keyboard=!0),Object.defineProperty(x,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),x}n.exports=s()},31784:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84148),g={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function u(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(g.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(g.mspointer=!0),navigator.getGamepads&&(g.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?g.wheelEvent="wheel":"onmousewheel"in window?g.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(g.wheelEvent="DOMMouseScroll")),g}n.exports=u()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function s(){if(typeof importScripts=="function")return x;var a=navigator.userAgent;/Windows/.test(a)?x.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(x.iOS=!0,x.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),x.iOSVersion=parseInt(RegExp.$1,10)):x.macOS=!0:/Android/.test(a)?x.android=!0:/Linux/.test(a)?x.linux=!0:/iP[ao]d|iPhone/i.test(a)?(x.iOS=!0,navigator.appVersion.match(/OS (\d+)/),x.iOSVersion=parseInt(RegExp.$1,10),x.iPhone=a.toLowerCase().indexOf("iphone")!==-1,x.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?x.kindle=!0:/CrOS/.test(a)&&(x.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(x.android=!1,x.iOS=!1,x.macOS=!1,x.windows=!0,x.windowsPhone=!0);var g=/Silk/.test(a);return(x.windows||x.macOS||x.linux&&!g||x.chromeOS)&&(x.desktop=!0),(x.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(x.desktop=!1),navigator.standalone&&(x.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(x.cordova=!0),window.ejecta!==void 0&&(x.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(x.node=!0),x.node&&typeof process.versions=="object"&&(x.nodeWebkit=!!process.versions["node-webkit"],x.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(x.crosswalk=!0),x.pixelRatio=window.devicePixelRatio||1,x}n.exports=s()},43267:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function u(){if(typeof importScripts=="function")return g;var h=document.createElement("video"),l=!!h.canPlayType,o=/^no$/;try{l&&(h.canPlayType('video/ogg; codecs="theora"').replace(o,"")&&(g.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(o,"")&&(g.h264=!0,g.mp4=!0),h.canPlayType("video/x-m4v").replace(o,"")&&(g.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(o,"")&&(g.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(o,"")&&(g.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(o,"")&&(g.hls=!0))}catch{}return h.parentNode&&h.parentNode.removeChild(h),g.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var c=a(d[v],"url",d[v]);if(c.indexOf("blob:")===0)return{url:c,type:""};var p;if(c.indexOf("data:")===0?p=c.split(",")[0].match(/\/(.*?);/):p=c.match(/\.([a-zA-Z0-9]+)($|\?)/),p=a(d[v],"type",p?p[1]:"").toLowerCase(),g[p])return{url:c,type:p}}return null},g}n.exports=u()},82264:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:s(25892),browser:s(84148),features:s(89357),input:s(31784),audio:s(7098),video:s(43267),fullscreen:s(91639),canvasFeatures:s(89289)}},89422:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new Float32Array(20),u=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var o=h;return this.multiply([o,0,0,0,0,0,o,0,0,0,0,0,o,0,0,0,0,0,1,0],l)},saturate:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var o=h*2/3+1,d=(o-1)*-.5;return this.multiply([o,d,d,0,0,d,o,d,0,0,d,d,o,0,0,0,0,0,1,0],l)},desaturate:function(h){return h===void 0&&(h=!1),this.saturate(-1,h)},hue:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1),h=h/180*Math.PI;var o=Math.cos(h),d=Math.sin(h),v=.213,c=.715,p=.072;return this.multiply([v+o*(1-v)+d*-v,c+o*-c+d*-c,p+o*-p+d*(1-p),0,0,v+o*-v+d*.143,c+o*(1-c)+d*.14,p+o*-p+d*-.283,0,0,v+o*-v+d*-(1-v),c+o*-c+d*c,p+o*(1-p)+d*p,0,0,0,0,0,1,0],l)},grayscale:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=!1),this.saturate(-h,l)},blackWhite:function(h){return h===void 0&&(h=!1),this.multiply(u.BLACK_WHITE,h)},contrast:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var o=h+1,d=-.5*(o-1);return this.multiply([o,0,0,0,d,0,o,0,0,d,0,0,o,0,d,0,0,0,1,0],l)},negative:function(h){return h===void 0&&(h=!1),this.multiply(u.NEGATIVE,h)},desaturateLuminance:function(h){return h===void 0&&(h=!1),this.multiply(u.DESATURATE_LUMINANCE,h)},sepia:function(h){return h===void 0&&(h=!1),this.multiply(u.SEPIA,h)},night:function(h,l){return h===void 0&&(h=.1),l===void 0&&(l=!1),this.multiply([h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0],l)},lsd:function(h){return h===void 0&&(h=!1),this.multiply(u.LSD,h)},brown:function(h){return h===void 0&&(h=!1),this.multiply(u.BROWN,h)},vintagePinhole:function(h){return h===void 0&&(h=!1),this.multiply(u.VINTAGE,h)},kodachrome:function(h){return h===void 0&&(h=!1),this.multiply(u.KODACHROME,h)},technicolor:function(h){return h===void 0&&(h=!1),this.multiply(u.TECHNICOLOR,h)},polaroid:function(h){return h===void 0&&(h=!1),this.multiply(u.POLAROID,h)},shiftToBGR:function(h){return h===void 0&&(h=!1),this.multiply(u.SHIFT_BGR,h)},multiply:function(h,l){l===void 0&&(l=!1),l||this.reset();var o=this._matrix,d=g;return d.set(o),o.set([d[0]*h[0]+d[1]*h[5]+d[2]*h[10]+d[3]*h[15],d[0]*h[1]+d[1]*h[6]+d[2]*h[11]+d[3]*h[16],d[0]*h[2]+d[1]*h[7]+d[2]*h[12]+d[3]*h[17],d[0]*h[3]+d[1]*h[8]+d[2]*h[13]+d[3]*h[18],d[0]*h[4]+d[1]*h[9]+d[2]*h[14]+d[3]*h[19]+d[4],d[5]*h[0]+d[6]*h[5]+d[7]*h[10]+d[8]*h[15],d[5]*h[1]+d[6]*h[6]+d[7]*h[11]+d[8]*h[16],d[5]*h[2]+d[6]*h[7]+d[7]*h[12]+d[8]*h[17],d[5]*h[3]+d[6]*h[8]+d[7]*h[13]+d[8]*h[18],d[5]*h[4]+d[6]*h[9]+d[7]*h[14]+d[8]*h[19]+d[9],d[10]*h[0]+d[11]*h[5]+d[12]*h[10]+d[13]*h[15],d[10]*h[1]+d[11]*h[6]+d[12]*h[11]+d[13]*h[16],d[10]*h[2]+d[11]*h[7]+d[12]*h[12]+d[13]*h[17],d[10]*h[3]+d[11]*h[8]+d[12]*h[13]+d[13]*h[18],d[10]*h[4]+d[11]*h[9]+d[12]*h[14]+d[13]*h[19]+d[14],d[15]*h[0]+d[16]*h[5]+d[17]*h[10]+d[18]*h[15],d[15]*h[1]+d[16]*h[6]+d[17]*h[11]+d[18]*h[16],d[15]*h[2]+d[16]*h[7]+d[17]*h[12]+d[18]*h[17],d[15]*h[3]+d[16]*h[8]+d[17]*h[13]+d[18]*h[18],d[15]*h[4]+d[16]*h[9]+d[17]*h[14]+d[18]*h[19]+d[19]]),this._dirty=!0,this}});u.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],u.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],u.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],u.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],u.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],u.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],u.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],u.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],u.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],u.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],u.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=u},51767:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(29747),u=new a({initialize:function(l,o,d){this._rgb=[0,0,0],this.onChangeCallback=g,this.dirty=!1,this.set(l,o,d)},set:function(h,l,o){return h===void 0&&(h=0),l===void 0&&(l=0),o===void 0&&(o=0),this._rgb=[h,l,o],this.onChange(),this},equals:function(h,l,o){var d=this._rgb;return d[0]===h&&d[1]===l&&d[2]===o},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=u},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=x},54312:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(35893),u=s(86327),h=s(88417),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)+v),u(o,a(d)+c),o};n.exports=l},46768:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),u=s(86327),h=s(385),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)-v),u(o,a(d)+c),o};n.exports=l},35827:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(54380),u=s(86327),h=s(40136),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)+v),u(o,a(d)+c),o};n.exports=l},46871:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66786),g=s(35893),u=s(7702),h=function(l,o,d,v){return d===void 0&&(d=0),v===void 0&&(v=0),a(l,g(o)+d,u(o)+v),l};n.exports=h},5198:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(26541),u=s(20786),h=s(385),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)-v),u(o,a(d)+c),o};n.exports=l},11879:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=[];g[a.BOTTOM_CENTER]=s(54312),g[a.BOTTOM_LEFT]=s(46768),g[a.BOTTOM_RIGHT]=s(35827),g[a.CENTER]=s(46871),g[a.LEFT_CENTER]=s(5198),g[a.RIGHT_CENTER]=s(80503),g[a.TOP_CENTER]=s(89698),g[a.TOP_LEFT]=s(922),g[a.TOP_RIGHT]=s(21373),g[a.LEFT_BOTTOM]=g[a.BOTTOM_LEFT],g[a.LEFT_TOP]=g[a.TOP_LEFT],g[a.RIGHT_BOTTOM]=g[a.BOTTOM_RIGHT],g[a.RIGHT_TOP]=g[a.TOP_RIGHT];var u=function(h,l,o,d,v){return g[o](h,l,d,v)};n.exports=u},80503:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(54380),u=s(20786),h=s(40136),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)+v),u(o,a(d)+c),o};n.exports=l},89698:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35893),g=s(17717),u=s(88417),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,a(d)+v),h(o,g(d)-c),o};n.exports=l},922:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26541),g=s(17717),u=s(385),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,a(d)-v),h(o,g(d)-c),o};n.exports=l},21373:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54380),g=s(17717),u=s(40136),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,a(d)+v),h(o,g(d)-c),o};n.exports=l},91660:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:s(54312),BottomLeft:s(46768),BottomRight:s(35827),Center:s(46871),LeftCenter:s(5198),QuickSet:s(11879),RightCenter:s(80503),TopCenter:s(89698),TopLeft:s(922),TopRight:s(21373)}},71926:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=s(79291),u={In:s(91660),To:s(16694)};u=g(!1,u,a),n.exports=u},21578:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(35893),u=s(88417),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,g(d)+v),h(o,a(d)+c),o};n.exports=l},10210:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),u=s(385),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,g(d)-v),h(o,a(d)+c),o};n.exports=l},82341:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(54380),u=s(40136),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,g(d)+v),h(o,a(d)+c),o};n.exports=l},87958:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),u=s(86327),h=s(40136),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)-v),u(o,a(d)+c),o};n.exports=l},40080:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(26541),u=s(20786),h=s(40136),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)-v),u(o,a(d)+c),o};n.exports=l},88466:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26541),g=s(17717),u=s(40136),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,a(d)-v),h(o,g(d)-c),o};n.exports=l},38829:(n,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=[];g[a.BOTTOM_CENTER]=s(21578),g[a.BOTTOM_LEFT]=s(10210),g[a.BOTTOM_RIGHT]=s(82341),g[a.LEFT_BOTTOM]=s(87958),g[a.LEFT_CENTER]=s(40080),g[a.LEFT_TOP]=s(88466),g[a.RIGHT_BOTTOM]=s(19211),g[a.RIGHT_CENTER]=s(34609),g[a.RIGHT_TOP]=s(48741),g[a.TOP_CENTER]=s(49440),g[a.TOP_LEFT]=s(81288),g[a.TOP_RIGHT]=s(61323);var u=function(h,l,o,d,v){return g[o](h,l,d,v)};n.exports=u},19211:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(54380),u=s(86327),h=s(385),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)+v),u(o,a(d)+c),o};n.exports=l},34609:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7702),g=s(54380),u=s(20786),h=s(385),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,g(d)+v),u(o,a(d)+c),o};n.exports=l},48741:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54380),g=s(17717),u=s(385),h=s(66737),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),u(o,a(d)+v),h(o,g(d)-c),o};n.exports=l},49440:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35893),g=s(17717),u=s(86327),h=s(88417),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,a(d)+v),u(o,g(d)-c),o};n.exports=l},81288:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26541),g=s(17717),u=s(86327),h=s(385),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,a(d)-v),u(o,g(d)-c),o};n.exports=l},61323:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54380),g=s(17717),u=s(86327),h=s(40136),l=function(o,d,v,c){return v===void 0&&(v=0),c===void 0&&(c=0),h(o,a(d)+v),u(o,g(d)-c),o};n.exports=l},16694:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:s(21578),BottomLeft:s(10210),BottomRight:s(82341),LeftBottom:s(87958),LeftCenter:s(40080),LeftTop:s(88466),QuickSet:s(38829),RightBottom:s(19211),RightCenter:s(34609),RightTop:s(48741),TopCenter:s(49440),TopLeft:s(81288),TopRight:s(61323)}},66786:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(88417),g=s(20786),u=function(h,l,o){return a(h,l),g(h,o)};n.exports=u},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.y+s.height-s.height*s.originY};n.exports=x},72873:(n,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62235),g=s(26541),u=s(54380),h=s(17717),l=s(87841),o=function(d,v){v===void 0&&(v=new l);var c=g(d),p=h(d);return v.x=c,v.y=p,v.width=u(d)-c,v.height=a(d)-p,v};n.exports=o},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x-s.width*s.originX+s.width*.5};n.exports=x},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.y-s.height*s.originY+s.height*.5};n.exports=x},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x-s.width*s.originX};n.exports=x},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.width*s.originX};n.exports=x},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.height*s.originY};n.exports=x},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x+s.width-s.width*s.originX};n.exports=x},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.y-s.height*s.originY};n.exports=x},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.y=a-s.height+s.height*s.originY,s};n.exports=x},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.width*s.originX;return s.x=a+g-s.width*.5,s};n.exports=x},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.height*s.originY;return s.y=a+g-s.height*.5,s};n.exports=x},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x=a+s.width*s.originX,s};n.exports=x},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x=a-s.width+s.width*s.originX,s};n.exports=x},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.y=a+s.height*s.originY,s};n.exports=x},58724:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:s(66786),GetBottom:s(62235),GetBounds:s(72873),GetCenterX:s(35893),GetCenterY:s(7702),GetLeft:s(26541),GetOffsetX:s(87431),GetOffsetY:s(46928),GetRight:s(54380),GetTop:s(17717),SetBottom:s(86327),SetCenterX:s(88417),SetCenterY:s(20786),SetLeft:s(385),SetRight:s(40136),SetTop:s(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCrisp:function(s){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(g){s.style["image-rendering"]=g}),s.style.msInterpolationMode="nearest-neighbor",s},setBicubic:function(s){return s.style["image-rendering"]="auto",s.style.msInterpolationMode="bicubic",s}};n.exports=x},27919:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8054),g=s(68703),u=[],h=!1,l=function(){var o=function(E,w,P,b,M){w===void 0&&(w=1),P===void 0&&(P=1),b===void 0&&(b=a.CANVAS),M===void 0&&(M=!1);var A,R=c(b);return R===null?(R={parent:E,canvas:document.createElement("canvas"),type:b},b===a.CANVAS&&u.push(R),A=R.canvas):(R.parent=E,A=R.canvas),M&&(R.parent=A),A.width=w,A.height=P,h&&b===a.CANVAS&&g.disable(A.getContext("2d",{willReadFrequently:!1})),A},d=function(E,w,P){return o(E,w,P,a.CANVAS)},v=function(E,w,P){return o(E,w,P,a.WEBGL)},c=function(E){if(E===void 0&&(E=a.CANVAS),E===a.WEBGL)return null;for(var w=0;w<u.length;w++){var P=u[w];if(!P.parent&&P.type===E)return P}return null},p=function(E){var w=E instanceof HTMLCanvasElement;u.forEach(function(P){(w&&P.canvas===E||!w&&P.parent===E)&&(P.parent=null,P.canvas.width=1,P.canvas.height=1)})},y=function(){var E=0;return u.forEach(function(w){w.parent&&E++}),E},m=function(){return u.length-y()},C=function(){h=!0},T=function(){h=!1};return{create2D:d,create:o,createWebGL:v,disableSmoothing:C,enableSmoothing:T,first:c,free:m,pool:u,remove:p,total:y}};n.exports=l()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="",s=function(){var a=function(l){for(var o=["i","webkitI","msI","mozI","oI"],d=0;d<o.length;d++){var v=o[d]+"mageSmoothingEnabled";if(v in l)return v}return null},g=function(l){return x===""&&(x=a(l)),x&&(l[x]=!0),l},u=function(l){return x===""&&(x=a(l)),x&&(l[x]=!1),l},h=function(l){return x!==null?l[x]:null};return{disable:u,enable:g,getPrefix:a,isEnabled:h}};n.exports=s()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a="none"),s.style.msTouchAction=a,s.style["ms-touch-action"]=a,s.style["touch-action"]=a,s};n.exports=x},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a="none");var g=["-webkit-","-khtml-","-moz-","-ms-",""];return g.forEach(function(u){s.style[u+"user-select"]=a}),s.style["-webkit-touch-callout"]=a,s.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",s};n.exports=x},26253:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:s(20623),CanvasPool:s(27919),Smoothing:s(68703),TouchAction:s(65208),UserSelect:s(91610)}},40987:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37589),u=s(1e3),h=s(7537),l=s(87837),o=new a({initialize:function(v,c,p,y){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(v,c,p,y)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,v,c,p,y){return p===void 0&&(p=255),y===void 0&&(y=!0),this._locked=!0,this.red=d,this.green=v,this.blue=c,this.alpha=p,this._locked=!1,this.update(y)},setGLTo:function(d,v,c,p){return p===void 0&&(p=1),this._locked=!0,this.redGL=d,this.greenGL=v,this.blueGL=c,this.alphaGL=p,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,v,c){return h(d,v,c,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var v=this.r,c=this.g,p=this.b,y=this.a;return this._color=g(v,c,p),this._color32=u(v,c,p,y),this._rgba="rgba("+v+","+c+","+p+","+y/255+")",d&&l(v,c,p,this),this},updateHSV:function(){var d=this.r,v=this.g,c=this.b;return l(d,v,c,this),this},clone:function(){return new o(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var c=Math.floor(d+Math.random()*(v-d)),p=Math.floor(d+Math.random()*(v-d)),y=Math.floor(d+Math.random()*(v-d));return this.setTo(c,p,y)},randomGray:function(d,v){d===void 0&&(d=0),v===void 0&&(v=255);var c=Math.floor(d+Math.random()*(v-d));return this.setTo(c,c,c)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var v=this.r,c=this.g,p=this.b;return v=Math.max(0,Math.min(255,v-Math.round(255*-(d/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(d/100)))),p=Math.max(0,Math.min(255,p-Math.round(255*-(d/100)))),this.setTo(v,c,p)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,h(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,h(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,h(this._h,this._s,d,this)}}});n.exports=o},92728:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37589),g=function(u){u===void 0&&(u=1024);var h=[],l=255,o,d=255,v=0,c=0;for(o=0;o<=l;o++)h.push({r:d,g:o,b:c,color:a(d,o,c)});for(v=255,o=l;o>=0;o--)h.push({r:o,g:v,b:c,color:a(o,v,c)});for(d=0,o=0;o<=l;o++,v--)h.push({r:d,g:v,b:o,color:a(d,v,o)});for(v=0,c=255,o=0;o<=l;o++,c--,d++)h.push({r:d,g:v,b:c,color:a(d,v,c)});if(u===1024)return h;var p=[],y=0,m=1024/u;for(o=0;o<u;o++)p.push(h[Math.floor(y)]),y+=m;return p};n.exports=g},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a={r:s>>16&255,g:s>>8&255,b:s&255,a:255};return s>16777215&&(a.a=s>>>24),a};n.exports=x},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.toString(16);return a.length===1?"0"+a:a};n.exports=x},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s<<16|a<<8|g};n.exports=x},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return u<<24|s<<16|a<<8|g};n.exports=x},62183:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=s(89528),u=function(h,l,o){var d=o,v=o,c=o;if(l!==0){var p=o<.5?o*(1+l):o+l-o*l,y=2*o-p;d=g(y,p,h+1/3),v=g(y,p,h),c=g(y,p,h-1/3)}var m=new a;return m.setGLTo(d,v,c,1)};n.exports=u},27939:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7537),g=function(u,h){u===void 0&&(u=1),h===void 0&&(h=1);for(var l=[],o=0;o<=359;o++)l.push(a(o/359,u,h));return l};n.exports=g},7537:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37589);function g(h,l,o,d){var v=(h+l*6)%6,c=Math.min(v,4-v,1);return Math.round(255*(d-d*o*Math.max(0,c)))}var u=function(h,l,o,d){l===void 0&&(l=1),o===void 0&&(o=1);var v=g(5,h,l,o),c=g(3,h,l,o),p=g(1,h,l,o);return d?d.setTo?d.setTo(v,c,p,d.alpha,!0):(d.r=v,d.g=c,d.b=p,d.color=a(v,c,p),d):{r:v,g:c,b:p,color:a(v,c,p)}};n.exports=u},70238:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=function(u){var h=new a;u=u.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(c,p,y,m){return p+p+y+y+m+m});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(u);if(l){var o=parseInt(l[1],16),d=parseInt(l[2],16),v=parseInt(l[3],16);h.setTo(o,d,v)}return h};n.exports=g},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g<0&&(g+=1),g>1&&(g-=1),g<.16666666666666666?s+(a-s)*6*g:g<.5?a:g<.6666666666666666?s+(a-s)*(.6666666666666666-g)*6:s};n.exports=x},30100:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=s(90664),u=function(h){var l=g(h);return new a(l.r,l.g,l.b,l.a)};n.exports=u},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s>16777215?{a:s>>>24,r:s>>16&255,g:s>>8&255,b:s&255}:{a:255,r:s>>16&255,g:s>>8&255,b:s&255}};n.exports=x},13699:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28915),g=function(l,o,d,v,c,p,y,m){y===void 0&&(y=100),m===void 0&&(m=0);var C=m/y;return{r:a(l,v,C),g:a(o,c,C),b:a(d,p,C)}},u=function(l,o,d,v){return d===void 0&&(d=100),v===void 0&&(v=0),g(l.r,l.g,l.b,o.r,o.g,o.b,d,v)},h=function(l,o,d,v,c,p){return c===void 0&&(c=100),p===void 0&&(p=0),g(l.r,l.g,l.b,o,d,v,c,p)};n.exports={RGBWithRGB:g,ColorWithRGB:h,ColorWithColor:u}},68957:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=function(u){return new a(u.r,u.g,u.b,u.a)};n.exports=g},87388:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987),g=function(u){var h=new a,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(u.toLowerCase());if(l){var o=parseInt(l[1],10),d=parseInt(l[2],10),v=parseInt(l[3],10),c=l[4]!==void 0?parseFloat(l[4]):1;h.setTo(o,d,v,c*255)}return h};n.exports=g},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){u===void 0&&(u={h:0,s:0,v:0}),s/=255,a/=255,g/=255;var h=Math.min(s,a,g),l=Math.max(s,a,g),o=l-h,d=0,v=l===0?0:o/l,c=l;return l!==h&&(l===s?d=(a-g)/o+(a<g?6:0):l===a?d=(g-s)/o+2:l===g&&(d=(s-a)/o+4),d/=6),u.hasOwnProperty("_h")?(u._h=d,u._s=v,u._v=c):(u.h=d,u.s=v,u.v=c),u};n.exports=x},75723:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62957),g=function(u,h,l,o,d){return o===void 0&&(o=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(u<<16)+(h<<8)+l).toString(16).slice(1,7):"0x"+a(o)+a(u)+a(h)+a(l)};n.exports=g},85386:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(40987),u=function(h,l){return h===void 0&&(h=0),l===void 0&&(l=255),new g(a(h,l),a(h,l),a(h,l))};n.exports=u},80333:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70238),g=s(30100),u=s(68957),h=s(87388),l=function(o){var d=typeof o;switch(d){case"string":return o.substr(0,3).toLowerCase()==="rgb"?h(o):a(o);case"number":return g(o);case"object":return u(o)}};n.exports=l},3956:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40987);a.ColorSpectrum=s(92728),a.ColorToRGBA=s(91588),a.ComponentToHex=s(62957),a.GetColor=s(37589),a.GetColor32=s(1e3),a.HexStringToColor=s(70238),a.HSLToColor=s(62183),a.HSVColorWheel=s(27939),a.HSVToRGB=s(7537),a.HueToComponent=s(89528),a.IntegerToColor=s(30100),a.IntegerToRGB=s(90664),a.Interpolate=s(13699),a.ObjectToColor=s(68957),a.RandomRGB=s(85386),a.RGBStringToColor=s(87388),a.RGBToHSV=s(87837),a.RGBToString=s(75723),a.ValueToColor=s(80333),n.exports=a},27460:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:s(71926),BaseShader:s(73894),Bounds:s(58724),Canvas:s(26253),Color:s(3956),ColorMatrix:s(89422),Masks:s(69781),RGB:s(51767)}},6858:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(39429),u=new a({initialize:function(l,o,d,v,c,p){o||(o=l.sys.make.image({x:d,y:v,key:c,frame:p,add:!1})),this.bitmapMask=o,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,l,o){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,o)},postRenderWebGL:function(h,l,o){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,o)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});g.register("bitmapMask",function(h,l,o,d,v){return new u(this.scene,h,l,o,d,v)}),n.exports=u},80661:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(u){return this.geometryMask=u,this},setInvertAlpha:function(u){return u===void 0&&(u=!0),this.invertAlpha=u,this},preRenderWebGL:function(u,h,l){var o=u.gl;u.flush(),u.maskStack.length===0&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),u.maskCount=0),u.currentCameraMask.mask!==this&&(u.currentMask.mask=this),u.maskStack.push({mask:this,camera:l}),this.applyStencil(u,l,!0),u.maskCount++},applyStencil:function(u,h,l){var o=u.gl,d=this.geometryMask,v=u.maskCount,c=255;o.colorMask(!1,!1,!1,!1),l?(o.stencilFunc(o.EQUAL,v,c),o.stencilOp(o.KEEP,o.KEEP,o.INCR),v++):(o.stencilFunc(o.EQUAL,v+1,c),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),this.level=v,d.renderWebGL(u,d,h),u.flush(),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.invertAlpha?o.stencilFunc(o.NOTEQUAL,v,c):o.stencilFunc(o.EQUAL,v,c)},postRenderWebGL:function(u){var h=u.gl;u.maskStack.pop(),u.maskCount--,u.flush();var l=u.currentMask;if(u.maskStack.length===0)l.mask=null,h.disable(h.STENCIL_TEST);else{var o=u.maskStack[u.maskStack.length-1];o.mask.applyStencil(u,o.camera,!1),u.currentCameraMask.mask!==o.mask?(l.mask=o.mask,l.camera=o.camera):l.mask=null}},preRenderCanvas:function(u,h,l){var o=this.geometryMask;u.currentContext.save(),o.renderCanvas(u,o,l,null,null,!0),u.currentContext.clip()},postRenderCanvas:function(u){u.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=g},69781:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:s(6858),GeometryMask:s(80661)}},73894:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!o||o==="")&&(o=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=h,this.fragmentSrc=l,this.vertexSrc=o,this.uniforms=d}});n.exports=g},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g;if(a)typeof a=="string"?g=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(g=a);else if(s.parentElement||a===null)return s;return g||(g=document.body),g.appendChild(s),s};n.exports=x},83719:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40366),g=function(u){var h=u.config;if(!(!h.parent||!h.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+u.scale.width+"px;","height: "+u.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),u.domContainer=l,a(l,h.parent)}};n.exports=g},57264:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25892),g=function(u){if(document.readyState==="complete"||document.readyState==="interactive"){u();return}var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),u()};document.body?a.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)};n.exports=g},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(!s)return window.innerHeight;var a=Math.abs(window.orientation),g={w:0,h:0},u=document.createElement("div");return u.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(u),g.w=a===90?u.offsetHeight:window.innerWidth,g.h=a===90?window.innerWidth:u.offsetHeight,document.documentElement.removeChild(u),u=null,Math.abs(window.orientation)!==90?g.h:g.w};n.exports=x},45818:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13560),g=function(u,h){var l=window.screen,o=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(o&&typeof o.type=="string")return o.type;if(typeof o=="string")return o;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return h>u?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};n.exports=g},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a;return s!==""&&(typeof s=="string"?a=document.getElementById(s):s&&s.nodeType===1&&(a=s)),a||(a=document.body),a};n.exports=x},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a="";try{if(window.DOMParser){var g=new DOMParser;a=g.parseFromString(s,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(s)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};n.exports=x},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){s.parentNode&&s.parentNode.removeChild(s)};n.exports=x},43092:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(29747),u=new a({initialize:function(){this.isRunning=!1,this.callback=g,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function o(d){l.callback(d),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(o))},this.stepTimeout=function o(){l.isRunning&&(l.timeOutID=window.setTimeout(o,l.delay)),l.callback(window.performance.now())}},start:function(h,l,o){this.isRunning||(this.callback=h,this.isSetTimeOut=l,this.delay=o,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=g}});n.exports=u},84902:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:s(40366),DOMContentLoaded:s(57264),GetInnerHeight:s(57811),GetScreenOrientation:s(45818),GetTarget:s(74403),ParseXML:s(56836),RemoveFromDOM:s(35846),RequestAnimationFrame:s(43092)};n.exports=a},47565:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(37277),h=new a({Extends:g,initialize:function(){g.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});u.register("EventEmitter",h,"events"),n.exports=h},93055:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:s(47565)}},20122:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d){d===void 0&&(d=1),g.call(this,u.BARREL,o),this.amount=d}});n.exports=h},32251:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p,y,m){v===void 0&&(v=1),c===void 0&&(c=1),p===void 0&&(p=1),y===void 0&&(y=1),m===void 0&&(m=4),g.call(this,u.BLOOM,o),this.steps=m,this.offsetX=v,this.offsetY=c,this.blurStrength=p,this.strength=y,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});n.exports=h},9047:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p,y,m){d===void 0&&(d=0),v===void 0&&(v=2),c===void 0&&(c=2),p===void 0&&(p=1),m===void 0&&(m=4),g.call(this,u.BLUR,o),this.quality=d,this.x=v,this.y=c,this.steps=m,this.strength=p,this.glcolor=[1,1,1],y!=null&&(this.color=y)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});n.exports=h},27885:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p,y,m,C){d===void 0&&(d=.5),v===void 0&&(v=1),c===void 0&&(c=.2),p===void 0&&(p=!1),y===void 0&&(y=1),m===void 0&&(m=1),C===void 0&&(C=1),g.call(this,u.BOKEH,o),this.radius=d,this.amount=v,this.contrast=c,this.isTiltShift=p,this.strength=C,this.blurX=y,this.blurY=m}});n.exports=h},12578:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p,y){d===void 0&&(d=8),p===void 0&&(p=1),y===void 0&&(y=.005),g.call(this,u.CIRCLE,o),this.scale=p,this.feather=y,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],v!=null&&(this.color=v),c!=null&&(this.backgroundColor=c)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor2;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});n.exports=h},15802:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89422),u=s(14811),h=new a({Extends:g,initialize:function(o){g.call(this),this.type=u.COLOR_MATRIX,this.gameObject=o,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=h},72898:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.type=h,this.gameObject=l,this.active=!0},setActive:function(u){return this.active=u,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=g},44553:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c){d===void 0&&(d="__WHITE"),v===void 0&&(v=.005),c===void 0&&(c=.005),g.call(this,u.DISPLACEMENT,o),this.x=v,this.y=c,this.glTexture,this.setTexture(d)},setTexture:function(l){var o=this.gameObject.scene.sys.textures.getFrame(l);return o&&(this.glTexture=o.glTexture),this}});n.exports=h},68531:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p){v===void 0&&(v=4),c===void 0&&(c=0),p===void 0&&(p=!1),g.call(this,u.GLOW,o),this.outerStrength=v,this.innerStrength=c,this.knockout=p,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});n.exports=h},37102:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p,y,m,C,T){c===void 0&&(c=.2),p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=1),T===void 0&&(T=0),g.call(this,u.GRADIENT,o),this.alpha=c,this.size=T,this.fromX=p,this.fromY=y,this.toX=m,this.toY=C,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),v!=null&&(this.color2=v)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var o=this.glcolor1;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var o=this.glcolor2;o[0]=l>>16&255,o[1]=l>>8&255,o[2]=l&255}}});n.exports=h},86886:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d){d===void 0&&(d=1),g.call(this,u.PIXELATE,o),this.amount=d}});n.exports=h},92322:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p,y,m,C){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=.1),p===void 0&&(p=1),m===void 0&&(m=6),C===void 0&&(C=1),g.call(this,u.SHADOW,o),this.x=d,this.y=v,this.decay=c,this.power=p,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=C,y!==void 0&&(this.color=y)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var o=this.glcolor;o[0]=(l>>16&255)/255,o[1]=(l>>8&255)/255,o[2]=(l&255)/255}}});n.exports=h},39563:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p){d===void 0&&(d=.5),v===void 0&&(v=.5),c===void 0&&(c=3),p===void 0&&(p=!1),g.call(this,u.SHINE,o),this.speed=d,this.lineWidth=v,this.gradient=c,this.reveal=p}});n.exports=h},56448:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p){d===void 0&&(d=.5),v===void 0&&(v=.5),c===void 0&&(c=.5),p===void 0&&(p=.5),g.call(this,u.VIGNETTE,o),this.x=d,this.y=v,this.radius=c,this.strength=p}});n.exports=h},38433:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72898),u=s(14811),h=new a({Extends:g,initialize:function(o,d,v,c,p){d===void 0&&(d=.1),v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=!1),g.call(this,u.WIPE,o),this.progress=0,this.wipeWidth=d,this.direction=v,this.axis=c,this.reveal=p}});n.exports=h},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=x},66064:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(14811),u={Barrel:s(20122),Controller:s(72898),Bloom:s(32251),Blur:s(9047),Bokeh:s(27885),Circle:s(12578),ColorMatrix:s(15802),Displacement:s(44553),Glow:s(68531),Gradient:s(37102),Pixelate:s(86886),Shadow:s(92322),Shine:s(39563),Vignette:s(56448),Wipe:s(38433)};u=a(!1,u,g),n.exports=u},25305:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(23568),u=function(h,l,o){l.x=g(o,"x",0),l.y=g(o,"y",0),l.depth=g(o,"depth",0),l.flipX=g(o,"flipX",!1),l.flipY=g(o,"flipY",!1);var d=g(o,"scale",null);typeof d=="number"?l.setScale(d):d!==null&&(l.scaleX=g(d,"x",1),l.scaleY=g(d,"y",1));var v=g(o,"scrollFactor",null);typeof v=="number"?l.setScrollFactor(v):v!==null&&(l.scrollFactorX=g(v,"x",1),l.scrollFactorY=g(v,"y",1)),l.rotation=g(o,"rotation",0);var c=g(o,"angle",null);c!==null&&(l.angle=c),l.alpha=g(o,"alpha",1);var p=g(o,"origin",null);if(typeof p=="number")l.setOrigin(p);else if(p!==null){var y=g(p,"x",.5),m=g(p,"y",.5);l.setOrigin(y,m)}l.blendMode=g(o,"blendMode",a.NORMAL),l.visible=g(o,"visible",!0);var C=g(o,"add",!0);return C&&h.sys.displayList.add(l),l.preUpdate&&h.sys.updateList.add(l),l};n.exports=u},13059:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23568),g=function(u,h){var l=a(h,"anims",null);if(l===null)return u;if(typeof l=="string")u.anims.play(l);else if(typeof l=="object"){var o=u.anims,d=a(l,"key",void 0);if(d){var v=a(l,"startFrame",void 0),c=a(l,"delay",0),p=a(l,"repeat",0),y=a(l,"repeatDelay",0),m=a(l,"yoyo",!1),C=a(l,"play",!1),T=a(l,"delayedPlay",0),E={key:d,delay:c,repeat:p,repeatDelay:y,yoyo:m,startFrame:v};C?o.play(E):T>0?o.playAfterDelay(E,T):o.load(E)}}return u};n.exports=g},8050:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(73162),u=s(37277),h=s(51708),l=s(44594),o=s(19186),d=new a({Extends:g,initialize:function(c){g.call(this,c),this.sortChildrenFlag=!1,this.scene=c,this.systems=c.sys,this.events=c.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(v){v.displayList&&v.displayList!==this&&v.removeFromDisplayList(),v.parentContainer&&v.parentContainer.remove(v),v.displayList||(this.queueDepthSort(),v.displayList=this,v.emit(h.ADDED_TO_SCENE,v,this.scene),this.events.emit(l.ADDED_TO_SCENE,v,this.scene))},removeChildCallback:function(v){this.queueDepthSort(),v.displayList=null,v.emit(h.REMOVED_FROM_SCENE,v,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,v,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(o(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(v,c){return v._depth-c._depth},getChildren:function(){return this.list},shutdown:function(){for(var v=this.list;v.length;)v[0].destroy(!0);this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});u.register("DisplayList",d,"displayList"),n.exports=d},95643:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(53774),u=s(45893),h=s(50792),l=s(51708),o=s(44594),d=new a({Extends:h,initialize:function(c,p){h.call(this),this.scene=c,this.displayList=null,this.type=p,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),c.sys.queueDepthSort()},setActive:function(v){return this.active=v,this},setName:function(v){return this.name=v,this},setState:function(v){return this.state=v,this},setDataEnabled:function(){return this.data||(this.data=new u(this)),this},setData:function(v,c){return this.data||(this.data=new u(this)),this.data.set(v,c),this},incData:function(v,c){return this.data||(this.data=new u(this)),this.data.inc(v,c),this},toggleData:function(v){return this.data||(this.data=new u(this)),this.data.toggle(v),this},getData:function(v){return this.data||(this.data=new u(this)),this.data.get(v)},setInteractive:function(v,c,p){return this.scene.sys.input.enable(this,v,c,p),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return g(this)},willRender:function(v){var c=this.displayList&&this.displayList.active?this.displayList.willRender(v):!0;return!(!c||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&v.id)},getIndexList:function(){for(var v=this,c=this.parentContainer,p=[];c&&(p.unshift(c.getIndex(v)),v=c,c.parentContainer);)c=c.parentContainer;return this.displayList?p.unshift(this.displayList.getIndex(v)):p.unshift(this.scene.sys.displayList.getIndex(v)),p},addToDisplayList:function(v){return v===void 0&&(v=this.scene.sys.displayList),this.displayList&&this.displayList!==v&&this.removeFromDisplayList(),v.exists(this)||(this.displayList=v,v.add(this,!0),v.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),v.events.emit(o.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var v=this.displayList||this.scene.sys.displayList;return v&&v.exists(this)&&(v.remove(this,!0),v.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),v.events.emit(o.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(v){!this.scene||this.ignoreDestroy||(v===void 0&&(v=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,v),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,n.exports=d},44603:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37277),u=s(44594),h=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,o){h.prototype.hasOwnProperty(l)||(h.prototype[l]=o)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},g.register("GameObjectCreator",h,"make"),n.exports=h},39429:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37277),u=s(44594),h=new a({initialize:function(o){this.scene=o,this.systems=o.sys,this.events=o.sys.events,this.displayList,this.updateList,this.events.once(u.BOOT,this.boot,this),this.events.on(u.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,o){h.prototype.hasOwnProperty(l)||(h.prototype[l]=o)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},g.register("GameObjectFactory",h,"add"),n.exports=h},91296:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61340),g=new a,u=new a,h=new a,l={camera:g,sprite:u,calc:h},o=function(d,v,c){var p=g,y=u,m=h;return y.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),p.copyFrom(v.matrix),c?(p.multiplyWithOffset(c,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),y.e=d.x,y.f=d.y):(y.e-=v.scrollX*d.scrollFactorX,y.f-=v.scrollY*d.scrollFactorY),p.multiply(y,m),l};n.exports=o},45027:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(25774),u=s(37277),h=s(44594),l=new a({Extends:g,initialize:function(d){g.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(h.BOOT,this.boot,this),d.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var o=this.systems.events;o.on(h.PRE_UPDATE,this.update,this),o.on(h.UPDATE,this.sceneUpdate,this),o.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(o,d){for(var v=this._active,c=v.length,p=0;p<c;p++){var y=v[p];y.active&&y.preUpdate.call(y,o,d)}},shutdown:function(){for(var o=this._active.length;o--;)this._active[o].destroy(!0);for(o=this._pending.length;o--;)this._pending[o].destroy(!0);for(o=this._destroy.length;o--;)this._destroy[o].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(h.PRE_UPDATE,this.update,this),d.off(h.UPDATE,this.sceneUpdate,this),d.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});u.register("UpdateList",l,"updateList"),n.exports=l},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h,l,o,d,v,c,p,y,m,C,T){var E=g.x-a.displayOriginX+h,w=g.y-a.displayOriginY+l,P=E+g.w,b=w+g.h,M=o.getXRound(E,w,d),A=o.getYRound(E,w,d),R=o.getXRound(E,b,d),L=o.getYRound(E,b,d),O=o.getXRound(P,b,d),D=o.getYRound(P,b,d),I=o.getXRound(P,w,d),B=o.getYRound(P,w,d);s.batchQuad(a,M,A,R,L,O,D,I,B,u.u0,u.v0,u.u1,u.v1,v,c,p,y,m,C,T)};n.exports=x},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){if(g===void 0&&(g=!1),u===void 0)return u={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},u;var h=s.text,l=h.length,o=s.maxWidth,d=s.wordWrapCharCode,v=Number.MAX_VALUE,c=Number.MAX_VALUE,p=0,y=0,m=s.fontData.chars,C=s.fontData.lineHeight,T=s.letterSpacing,E=s.lineSpacing,w=0,P=0,b=0,M=null,A=s._align,R=0,L=0,O=s.fontSize/s.fontData.size,D=O*s.scaleX,I=O*s.scaleY,B=null,G=0,z=[],Y=Number.MAX_VALUE,H=0,k=0,U=0,F,N=[],V=[],$=null;if(o>0){for(F=0;F<l;F++){if(b=h.charCodeAt(F),b===10){$!==null&&(N.push({word:$.word,i:$.i,x:$.x*D,y:$.y*I,w:$.w*D,h:$.h*I,cr:!0}),$=null),w=0,P+=C+E,B=null;continue}if(M=m[b],!!M){if(B!==null)var X=M.kerning[G];b===d?$!==null&&(N.push({word:$.word,i:$.i,x:$.x*D,y:$.y*I,w:$.w*D,h:$.h*I,cr:!1}),$=null):($===null&&($={word:"",i:F,x:w,y:P,w:0,h:C,cr:!1}),$.word=$.word.concat(h[F]),$.w+=M.xOffset+M.xAdvance+(X!==void 0?X:0)),w+=M.xAdvance+T,B=M,G=b}}$!==null&&N.push({word:$.word,i:$.i,x:$.x*D,y:$.y*I,w:$.w*D,h:$.h*I,cr:!1}),w=0,P=0,B=null,G=0;var j,Q=0,K=[];for(F=0;F<N.length;F++){var q=N[F],tt=q.x,st=q.x+q.w;if(j){var nt=tt-(j.x+j.w);Q=tt-(nt+j.w),j=null}var rt=tt-Q,ut=st-Q;rt>o||ut>o?(K.push(q.i-1),q.cr?(K.push(q.i+q.word.length),Q=0,j=null):j=q):q.cr&&(K.push(q.i+q.word.length),Q=0,j=null)}var vt=function(_,it,ht){return _.substr(0,it)+ht+_.substr(it+1)};for(F=K.length-1;F>=0;F--)h=vt(h,K[F],`
`);u.wrappedText=h,l=h.length,N=[],$=null}var pt=0;for(F=0;F<l;F++){if(b=h.charCodeAt(F),b===10){$!==null&&(N.push({word:$.word,i:$.i,x:$.x*D,y:$.y*I,w:$.w*D,h:$.h*I}),$=null),w=0,P+=C+E,B=null,z[k]=U,U>H&&(H=U),U<Y&&(Y=U),k++,U=0;continue}if(M=m[b],!!M){if(R=w,L=P,B!==null){var ft=M.kerning[G];R+=ft!==void 0?ft:0}v>R&&(v=R),c>L&&(c=L);var lt=R+M.xAdvance,yt=L+C;p<lt&&(p=lt),y<yt&&(y=yt);var Ct=M.xOffset+M.xAdvance+(ft!==void 0?ft:0);b===d?$!==null&&(N.push({word:$.word,i:$.i,x:$.x*D,y:$.y*I,w:$.w*D,h:$.h*I}),$=null):($===null&&($={word:"",i:pt,x:w,y:P,w:0,h:C}),$.word=$.word.concat(h[F]),$.w+=Ct),V.push({i:pt,idx:F,char:h[F],code:b,x:(M.xOffset+R)*O,y:(M.yOffset+P)*O,w:M.width*O,h:M.height*O,t:P*O,r:lt*O,b:C*O,line:k,glyph:M}),w+=M.xAdvance+T+(ft!==void 0?ft:0),B=M,G=b,U=lt*O,pt++}}if($!==null&&N.push({word:$.word,i:$.i,x:$.x*D,y:$.y*I,w:$.w*D,h:$.h*I}),z[k]=U,U>H&&(H=U),U<Y&&(Y=U),A>0)for(var Rt=0;Rt<V.length;Rt++){var Dt=V[Rt];if(A===1){var Tt=(H-z[Dt.line])/2;Dt.x+=Tt,Dt.r+=Tt}else if(A===2){var Et=H-z[Dt.line];Dt.x+=Et,Dt.r+=Et}}var ot=u.local,at=u.global,gt=u.lines;return ot.x=v*O,ot.y=c*O,ot.width=p*O,ot.height=y*O,at.x=s.x-s._displayOriginX+v*D,at.y=s.y-s._displayOriginY+c*I,at.width=p*D,at.height=y*I,gt.shortest=Y,gt.longest=H,gt.lengths=z,a&&(ot.x=Math.ceil(ot.x),ot.y=Math.ceil(ot.y),ot.width=Math.ceil(ot.width),ot.height=Math.ceil(ot.height),at.x=Math.ceil(at.x),at.y=Math.ceil(at.y),at.width=Math.ceil(at.width),at.height=Math.ceil(at.height),gt.shortest=Math.ceil(Y),gt.longest=Math.ceil(H)),g&&(s._displayOriginX=s.originX*ot.width,s._displayOriginY=s.originY*ot.height,at.x=s.x-s._displayOriginX*s.scaleX,at.y=s.y-s._displayOriginY*s.scaleY,a&&(at.x=Math.ceil(at.x),at.y=Math.ceil(at.y))),u.words=N,u.characters=V,u.lines.height=C,u.scale=O,u.scaleX=s.scaleX,u.scaleY=s.scaleY,u};n.exports=x},61327:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(21859),g=function(u,h,l,o,d,v,c){var p=u.sys.textures.get(l),y=p.get(o),m=u.sys.cache.xml.get(d);if(y&&m){var C=a(m,y,v,c,p);return u.sys.cache.bitmapFont.add(h,{data:C,texture:l,frame:o,fromAtlas:!0}),!0}else return!1};n.exports=g},6925:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=function(u,h){var l=h.width,o=h.height,d=Math.floor(l/2),v=Math.floor(o/2),c=a(h,"chars","");if(c!==""){var p=a(h,"image",""),y=u.sys.textures.getFrame(p),m=y.cutX,C=y.cutY,T=y.source.width,E=y.source.height,w=a(h,"offset.x",0),P=a(h,"offset.y",0),b=a(h,"spacing.x",0),M=a(h,"spacing.y",0),A=a(h,"lineSpacing",0),R=a(h,"charsPerRow",null);R===null&&(R=T/l,R>c.length&&(R=c.length));for(var L=w,O=P,D={retroFont:!0,font:p,size:l,lineHeight:o+A,chars:{}},I=0,B=0;B<c.length;B++){var G=c.charCodeAt(B),z=(m+L)/T,Y=(C+O)/E,H=(m+L+l)/T,k=(C+O+o)/E;D.chars[G]={x:L,y:O,width:l,height:o,centerX:d,centerY:v,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:z,v0:Y,u1:H,v1:k},I++,I===R?(I=0,L=w,O+=o+M):L+=l+b}var U={data:D,frame:null,texture:p};return U}};n.exports=g},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(a,g){return parseInt(a.getAttribute(g),10)}var s=function(a,g,u,h,l){u===void 0&&(u=0),h===void 0&&(h=0);var o=g.cutX,d=g.cutY,v=g.source.width,c=g.source.height,p=g.sourceIndex,y={},m=a.getElementsByTagName("info")[0],C=a.getElementsByTagName("common")[0];y.font=m.getAttribute("face"),y.size=x(m,"size"),y.lineHeight=x(C,"lineHeight")+h,y.chars={};var T=a.getElementsByTagName("char"),E=g!==void 0&&g.trimmed;if(E)var w=g.height,P=g.width;for(var b=0;b<T.length;b++){var M=T[b],A=x(M,"id"),R=String.fromCharCode(A),L=x(M,"x"),O=x(M,"y"),D=x(M,"width"),I=x(M,"height");E&&(L<P&&(P=L),O<w&&(w=O)),E&&w!==0&&P!==0&&(L-=g.x,O-=g.y);var B=(o+L)/v,G=(d+O)/c,z=(o+L+D)/v,Y=(d+O+I)/c;if(y.chars[A]={x:L,y:O,width:D,height:I,centerX:Math.floor(D/2),centerY:Math.floor(I/2),xOffset:x(M,"xoffset"),yOffset:x(M,"yoffset"),xAdvance:x(M,"xadvance")+u,data:{},kerning:{},u0:B,v0:G,u1:z,v1:Y},l&&D!==0&&I!==0){var H=l.add(R,p,L,O,D,I);H&&H.setUVs(D,I,B,G,z,Y)}}var k=a.getElementsByTagName("kerning");for(b=0;b<k.length;b++){var U=k[b],F=x(U,"first"),N=x(U,"second"),V=x(U,"amount");y.chars[N].kerning[F]=V}return y};n.exports=s},196:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87662),g=s(79291),u={Parse:s(6925)};u=g(!1,u,a),n.exports=u},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=x},2638:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22186),g=s(83419),u=s(12310),h=new g({Extends:a,Mixins:[u],initialize:function(o,d,v,c,p,y,m){a.call(this,o,d,v,c,p,y,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,o){return this.cropWidth=l,this.cropHeight=o,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});n.exports=h},86741:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20926),g=function(u,h,l,o){var d=h._text,v=d.length,c=u.currentContext;if(!(v===0||!a(u,c,h,l,o))){l.addToRenderList(h);var p=h.fromAtlas?h.frame:h.texture.frames.__BASE,y=h.displayCallback,m=h.callbackData,C=h.fontData.chars,T=h.fontData.lineHeight,E=h._letterSpacing,w=0,P=0,b=0,M=null,A=0,R=0,L=0,O=0,D=0,I=0,B=null,G=0,z=h.frame.source.image,Y=p.cutX,H=p.cutY,k=0,U=0,F=h._fontSize/h.fontData.size,N=h._align,V=0,$=0;h.getTextBounds(!1);var X=h._bounds.lines;N===1?$=(X.longest-X.lengths[0])/2:N===2&&($=X.longest-X.lengths[0]),c.translate(-h.displayOriginX,-h.displayOriginY);var j=l.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(c.beginPath(),c.rect(0,0,h.cropWidth,h.cropHeight),c.clip());for(var Q=0;Q<v;Q++){if(U=F,k=0,b=d.charCodeAt(Q),b===10){V++,N===1?$=(X.longest-X.lengths[V])/2:N===2&&($=X.longest-X.lengths[V]),w=0,P+=T,B=null;continue}if(M=C[b],!!M){if(A=Y+M.x,R=H+M.y,L=M.width,O=M.height,D=M.xOffset+w-h.scrollX,I=M.yOffset+P-h.scrollY,B!==null){var K=M.kerning[G];D+=K!==void 0?K:0}if(y){m.index=Q,m.charCode=b,m.x=D,m.y=I,m.scale=U,m.rotation=k,m.data=M.data;var q=y(m);D=q.x,I=q.y,U=q.scale,k=q.rotation}D*=U,I*=U,D+=$,w+=M.xAdvance+E+(K!==void 0?K:0),B=M,G=b,!(L===0||O===0||b===32)&&(j&&(D=Math.round(D),I=Math.round(I)),c.save(),c.translate(D,I),c.rotate(k),c.scale(U,U),c.drawImage(z,A,R,L,O,0,0,L,O),c.restore())}}c.restore()}};n.exports=g},11164:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2638),g=s(25305),u=s(44603),h=s(23568);u.register("dynamicBitmapText",function(l,o){l===void 0&&(l={});var d=h(l,"font",""),v=h(l,"text",""),c=h(l,"size",!1),p=new a(this.scene,0,0,d,v,c);return o!==void 0&&(l.add=o),g(this.scene,p,l),p})},72566:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2638),g=s(39429);g.register("dynamicBitmapText",function(u,h,l,o,d){return this.displayList.add(new a(this.scene,u,h,l,o,d))})},12310:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(73482),u=s(86741),n.exports={renderWebGL:g,renderCanvas:u}},73482:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(61340),u=s(70554),h=new g,l=function(o,d,v,c){var p=d.text,y=p.length;if(y!==0){v.addToRenderList(d);var m=o.pipelines.set(d.pipeline,d),C=a(d,v,c);o.pipelines.preBatch(d);var T=C.sprite,E=C.calc,w=h,P=d.cropWidth>0||d.cropHeight>0;P&&(m.flush(),o.pushScissor(E.tx,E.ty,d.cropWidth*E.scaleX,d.cropHeight*E.scaleY));var b=d.frame,M=b.glTexture,A=d.tintFill,R=u.getTintAppendFloatAlpha(d.tintTopLeft,v.alpha*d._alphaTL),L=u.getTintAppendFloatAlpha(d.tintTopRight,v.alpha*d._alphaTR),O=u.getTintAppendFloatAlpha(d.tintBottomLeft,v.alpha*d._alphaBL),D=u.getTintAppendFloatAlpha(d.tintBottomRight,v.alpha*d._alphaBR),I=m.setGameObject(d),B=0,G=0,z=0,Y=0,H=d.letterSpacing,k,U=0,F=0,N,V=d.scrollX,$=d.scrollY,X=d.fontData,j=X.chars,Q=X.lineHeight,K=d.fontSize/X.size,q=0,tt=d._align,st=0,nt=0,rt=d.getTextBounds(!1);d.maxWidth>0&&(p=rt.wrappedText,y=p.length);var ut=d._bounds.lines;tt===1?nt=(ut.longest-ut.lengths[0])/2:tt===2&&(nt=ut.longest-ut.lengths[0]);for(var vt=v.roundPixels,pt=d.displayCallback,ft=d.callbackData,lt=0;lt<y;lt++){if(z=p.charCodeAt(lt),z===10){st++,tt===1?nt=(ut.longest-ut.lengths[st])/2:tt===2&&(nt=ut.longest-ut.lengths[st]),B=0,G+=Q,N=null;continue}if(k=j[z],!!k){U=k.width,F=k.height;var yt=k.xOffset+B-V,Ct=k.yOffset+G-$;if(N!==null){var Rt=k.kerning[Y];yt+=Rt!==void 0?Rt:0}if(B+=k.xAdvance+H,N=k,Y=z,!(U===0||F===0||z===32)){if(K=d.fontSize/d.fontData.size,q=0,pt){ft.color=0,ft.tint.topLeft=R,ft.tint.topRight=L,ft.tint.bottomLeft=O,ft.tint.bottomRight=D,ft.index=lt,ft.charCode=z,ft.x=yt,ft.y=Ct,ft.scale=K,ft.rotation=q,ft.data=k.data;var Dt=pt(ft);yt=Dt.x,Ct=Dt.y,K=Dt.scale,q=Dt.rotation,Dt.color?(R=Dt.color,L=Dt.color,O=Dt.color,D=Dt.color):(R=Dt.tint.topLeft,L=Dt.tint.topRight,O=Dt.tint.bottomLeft,D=Dt.tint.bottomRight),R=u.getTintAppendFloatAlpha(R,v.alpha*d._alphaTL),L=u.getTintAppendFloatAlpha(L,v.alpha*d._alphaTR),O=u.getTintAppendFloatAlpha(O,v.alpha*d._alphaBL),D=u.getTintAppendFloatAlpha(D,v.alpha*d._alphaBR)}yt*=K,Ct*=K,yt-=d.displayOriginX,Ct-=d.displayOriginY,yt+=nt,w.applyITRS(yt,Ct,q,K,K),E.multiply(w,T);var Tt=k.u0,Et=k.v0,ot=k.u1,at=k.v1,gt=U,_=F,it=T.e,ht=T.f,dt=_*T.c+T.e,St=_*T.d+T.f,It=gt*T.a+_*T.c+T.e,At=gt*T.b+_*T.d+T.f,Lt=gt*T.a+T.e,Bt=gt*T.b+T.f;vt&&(it=Math.round(it),ht=Math.round(ht),dt=Math.round(dt),St=Math.round(St),It=Math.round(It),At=Math.round(At),Lt=Math.round(Lt),Bt=Math.round(Bt)),m.shouldFlush(6)&&(m.flush(),I=m.setGameObject(d)),m.batchQuad(d,it,ht,dt,St,It,At,Lt,Bt,Tt,Et,ot,at,R,L,O,D,A,M,I)}}}P&&(m.flush(),o.popScissor()),o.pipelines.postBatch(d)}};n.exports=l},22186:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45319),u=s(31401),h=s(95643),l=s(53048),o=s(61327),d=s(21859),v=s(87841),c=s(18658),p=new a({Extends:h,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Texture,u.Tint,u.Transform,u.Visible,c],initialize:function(m,C,T,E,w,P,b){w===void 0&&(w=""),b===void 0&&(b=0),h.call(this,m,"BitmapText"),this.font=E;var M=this.scene.sys.cache.bitmapFont.get(E);M||console.warn("Invalid BitmapText key: "+E),this.fontData=M.data,this._text="",this._fontSize=P||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=b,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=M.fromAtlas,this.setTexture(M.texture,M.frame),this.setPosition(C,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(w)},setLeftAlign:function(){return this._align=p.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=p.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=p.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(y){return this._fontSize=y,this._dirty=!0,this},setLetterSpacing:function(y){return y===void 0&&(y=0),this._letterSpacing=y,this._dirty=!0,this},setLineSpacing:function(y){return y===void 0&&(y=0),this.lineSpacing=y,this},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this.text&&(this._text=y.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(y,m,C,T){return y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=0),T===void 0&&(T=.5),this.dropShadowX=y,this.dropShadowY=m,this.dropShadowColor=C,this.dropShadowAlpha=T,this},setCharacterTint:function(y,m,C,T,E,w,P){y===void 0&&(y=0),m===void 0&&(m=1),C===void 0&&(C=!1),T===void 0&&(T=-1),E===void 0&&(E=T,w=T,P=T);var b=this.text.length;m===-1&&(m=b),y<0&&(y=b+y),y=g(y,0,b-1);for(var M=g(y+m,y,b),A=this.charColors,R=y;R<M;R++){var L=A[R];if(T===-1)A[R]=null;else{var O=C?1:0;L?(L.tintEffect=O,L.tintTL=T,L.tintTR=E,L.tintBL=w,L.tintBR=P):A[R]={tintEffect:O,tintTL:T,tintTR:E,tintBL:w,tintBR:P}}}return this},setWordTint:function(y,m,C,T,E,w,P){m===void 0&&(m=1);for(var b=this.getTextBounds(),M=b.words,A=typeof y=="number",R=0,L=0;L<M.length;L++){var O=M[L];if((A&&L===y||!A&&O.word===y)&&(this.setCharacterTint(O.i,O.word.length,C,T,E,w,P),R++,R===m))return this}return this},getTextBounds:function(y){var m=this._bounds;return(this._dirty||y||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(l(this,y,!0,m),this._dirty=!1),m},getCharacterAt:function(y,m,C){for(var T=this.getLocalPoint(y,m,null,C),E=this.getTextBounds(),w=E.characters,P=new v,b=0;b<w.length;b++){var M=w[b];if(P.setTo(M.x,M.t,M.r-M.x,M.b),P.contains(T.x,T.y))return M}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(y,m,C){m===void 0&&(m=this._fontSize),C===void 0&&(C=this._align);var T=this.scene.sys.cache.bitmapFont.get(y);return T&&(this.font=y,this.fontData=T.data,this._fontSize=m,this._align=C,this.fromAtlas=T.fromAtlas===!0,this.setTexture(T.texture,T.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(y,m){return this._maxWidth=y,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},align:{set:function(y){this._align=y,this._dirty=!0},get:function(){return this._align}},text:{set:function(y){this.setText(y)},get:function(){return this._text}},fontSize:{set:function(y){this._fontSize=y,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(y){this._letterSpacing=y,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(y){this._lineSpacing=y,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(y){this._maxWidth=y,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var y=u.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return y.data=m,y},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});p.ALIGN_LEFT=0,p.ALIGN_CENTER=1,p.ALIGN_RIGHT=2,p.ParseFromAtlas=o,p.ParseXMLBitmapFont=d,n.exports=p},37289:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20926),g=function(u,h,l,o){var d=h._text,v=d.length,c=u.currentContext;if(!(v===0||!a(u,c,h,l,o))){l.addToRenderList(h);var p=h.fromAtlas?h.frame:h.texture.frames.__BASE,y=h.fontData.chars,m=h.fontData.lineHeight,C=h._letterSpacing,T=h._lineSpacing,E=0,w=0,P=0,b=null,M=0,A=0,R=0,L=0,O=0,D=0,I=null,B=0,G=p.source.image,z=p.cutX,Y=p.cutY,H=h._fontSize/h.fontData.size,k=h._align,U=0,F=0,N=h.getTextBounds(!1);h.maxWidth>0&&(d=N.wrappedText,v=d.length);var V=h._bounds.lines;k===1?F=(V.longest-V.lengths[0])/2:k===2&&(F=V.longest-V.lengths[0]),c.translate(-h.displayOriginX,-h.displayOriginY);for(var $=l.roundPixels,X=0;X<v;X++){if(P=d.charCodeAt(X),P===10){U++,k===1?F=(V.longest-V.lengths[U])/2:k===2&&(F=V.longest-V.lengths[U]),E=0,w+=m+T,I=null;continue}if(b=y[P],!!b){if(M=z+b.x,A=Y+b.y,R=b.width,L=b.height,O=b.xOffset+E,D=b.yOffset+w,I!==null){var j=b.kerning[B];O+=j!==void 0?j:0}O*=H,D*=H,O+=F,E+=b.xAdvance+C+(j!==void 0?j:0),I=b,B=P,!(R===0||L===0||P===32)&&($&&(O=Math.round(O),D=Math.round(D)),c.save(),c.translate(O,D),c.scale(H,H),c.drawImage(G,M,A,R,L,0,0,R,L),c.restore())}}c.restore()}};n.exports=g},57336:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22186),g=s(25305),u=s(44603),h=s(23568),l=s(35154);u.register("bitmapText",function(o,d){o===void 0&&(o={});var v=l(o,"font",""),c=h(o,"text",""),p=h(o,"size",!1),y=l(o,"align",0),m=new a(this.scene,0,0,v,c,p,y);return d!==void 0&&(o.add=d),g(this.scene,m,o),m})},34914:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22186),g=s(39429);g.register("bitmapText",function(u,h,l,o,d,v){return this.displayList.add(new a(this.scene,u,h,l,o,d,v))})},18658:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(33590),u=s(37289),n.exports={renderWebGL:g,renderCanvas:u}},33590:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(3217),g=s(91296),u=s(70554),h=function(l,o,d,v){var c=o._text,p=c.length;if(p!==0){d.addToRenderList(o);var y=l.pipelines.set(o.pipeline,o),m=g(o,d,v).calc;l.pipelines.preBatch(o);var C=d.roundPixels,T=d.alpha,E=o.charColors,w=o.tintFill,P=u.getTintAppendFloatAlpha,b=P(o.tintTopLeft,T*o._alphaTL),M=P(o.tintTopRight,T*o._alphaTR),A=P(o.tintBottomLeft,T*o._alphaBL),R=P(o.tintBottomRight,T*o._alphaBR),L=o.frame.glTexture,O=y.setGameObject(o),D=o.getTextBounds(!1),I,B,G,z=D.characters,Y=o.dropShadowX,H=o.dropShadowY,k=Y!==0||H!==0;if(k){var U=o.dropShadowColor,F=o.dropShadowAlpha,N=P(U,T*F*o._alphaTL),V=P(U,T*F*o._alphaTR),$=P(U,T*F*o._alphaBL),X=P(U,T*F*o._alphaBR);for(I=0;I<z.length;I++)B=z[I],G=B.glyph,!(B.code===32||G.width===0||G.height===0)&&a(y,o,B,G,Y,H,m,C,N,V,$,X,1,L,O)}for(I=0;I<z.length;I++)if(B=z[I],G=B.glyph,!(B.code===32||G.width===0||G.height===0))if(y.shouldFlush(6)&&(y.flush(),O=y.setGameObject(o)),E[B.i]){var j=E[B.i],Q=j.tintEffect,K=P(j.tintTL,T*o._alphaTL),q=P(j.tintTR,T*o._alphaTR),tt=P(j.tintBL,T*o._alphaBL),st=P(j.tintBR,T*o._alphaBR);a(y,o,B,G,0,0,m,C,K,q,tt,st,Q,L,O)}else a(y,o,B,G,0,0,m,C,b,M,A,R,w,L,O);l.pipelines.postBatch(o)}};n.exports=h},6107:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(48011),g=s(46590),u=s(83419),h=s(31401),l=s(4327),o=s(95643),d=s(73162),v=new u({Extends:o,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,a],initialize:function(p,y,m,C,T){o.call(this,p,"Blitter"),this.setTexture(C,T),this.setPosition(y,m),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(c,p,y,m,C){m===void 0&&(m=!0),C===void 0&&(C=this.children.length),y===void 0?y=this.frame:y instanceof l||(y=this.texture.get(y));var T=new g(this,c,p,y,m);return this.children.addAt(T,C,!1),this.dirty=!0,T},createFromCallback:function(c,p,y,m){for(var C=this.createMultiple(p,y,m),T=0;T<C.length;T++){var E=C[T];c.call(this,E,T)}return C},createMultiple:function(c,p,y){p===void 0&&(p=this.frame.name),y===void 0&&(y=!0),Array.isArray(p)||(p=[p]);var m=[],C=this;return p.forEach(function(T){for(var E=0;E<c;E++)m.push(C.create(0,0,T,y))}),m},childCanRender:function(c){return c.visible&&c.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=v},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=a.getRenderList();if(h.length!==0){var l=s.currentContext,o=g.alpha*a.alpha;if(o!==0){g.addToRenderList(a),l.globalCompositeOperation=s.blendModes[a.blendMode],l.imageSmoothingEnabled=!a.frame.source.scaleMode;var d=a.x-g.scrollX*a.scrollFactorX,v=a.y-g.scrollY*a.scrollFactorY;l.save(),u&&u.copyToContext(l);for(var c=g.roundPixels,p=0;p<h.length;p++){var y=h[p],m=y.flipX||y.flipY,C=y.frame,T=C.canvasData,E=C.x,w=C.y,P=1,b=1,M=y.alpha*o;M!==0&&(l.globalAlpha=M,m?(y.flipX&&(P=-1,E-=T.width),y.flipY&&(b=-1,w-=T.height),T.width>0&&T.height>0&&(l.save(),l.translate(y.x+d,y.y+v),l.scale(P,b),l.drawImage(C.source.image,T.x,T.y,T.width,T.height,E,w,T.width,T.height),l.restore())):(c&&(E=Math.round(E),w=Math.round(w)),T.width>0&&T.height>0&&l.drawImage(C.source.image,T.x,T.y,T.width,T.height,E+y.x+d,w+y.y+v,T.width,T.height)))}l.restore()}}};n.exports=x},9403:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6107),g=s(25305),u=s(44603),h=s(23568);u.register("blitter",function(l,o){l===void 0&&(l={});var d=h(l,"key",null),v=h(l,"frame",null),c=new a(this.scene,0,0,d,v);return o!==void 0&&(l.add=o),g(this.scene,c,l),c})},12709:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6107),g=s(39429);g.register("blitter",function(u,h,l,o){return this.displayList.add(new a(this.scene,u,h,l,o))})},48011:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(99485),u=s(72396),n.exports={renderWebGL:g,renderCanvas:u}},99485:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61340),g=s(70554),u=new a,h=function(l,o,d,v){var c=o.getRenderList(),p=d.alpha*o.alpha;if(!(c.length===0||p===0)){d.addToRenderList(o);var y=l.pipelines.set(this.pipeline,o),m=d.scrollX*o.scrollFactorX,C=d.scrollY*o.scrollFactorY,T=u.copyFrom(d.matrix);v&&(T.multiplyWithOffset(v,-m,-C),m=0,C=0);var E=o.x-m,w=o.y-C,P=-1,b=!1;l.pipelines.preBatch(o);for(var M=0;M<c.length;M++){var A=c[M],R=A.frame,L=A.alpha*p;if(L!==0){var O=R.width,D=R.height,I=E+A.x+R.x,B=w+A.y+R.y;A.flipX&&(O*=-1,I+=R.width),A.flipY&&(D*=-1,B+=R.height);var G=T.setQuad(I,B,I+O,B+D),z=g.getTintAppendFloatAlpha(A.tint,L);if(R.sourceIndex!==P){var Y=y.setGameObject(o,R);P=R.sourceIndex}y.batchQuad(o,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],R.u0,R.v0,R.u1,R.v1,z,z,z,z,b,R.glTexture,Y)&&(P=-1)}}l.pipelines.postBatch(o)}};n.exports=h},46590:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(4327),u=new a({initialize:function(l,o,d,v,c){this.parent=l,this.x=o,this.y=d,this.frame=v,this.data={},this.tint=16777215,this._visible=c,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return h===void 0?this.frame=this.parent.frame:h instanceof g&&h.texture===this.parent.texture?this.frame=h:this.frame=this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,l,o){return this.x=h,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,o&&this.setFrame(o),this},setPosition:function(h,l){return this.x=h,this.y=l,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,l){return this.flipX=h,this.flipY=l,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});n.exports=u},16005:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=2,u={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,l,o,d){return h===void 0&&(h=1),l===void 0?this.alpha=h:(this._alphaTL=a(h,0,1),this._alphaTR=a(l,0,1),this._alphaBL=a(o,0,1),this._alphaBR=a(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var l=a(h,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~g:this.renderFlags|=g}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var l=a(h,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=g)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var l=a(h,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=g)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var l=a(h,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=g)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var l=a(h,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=g)}}};n.exports=u},88509:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=2,u={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return h===void 0&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var l=a(h,0,1);this._alpha=l,l===0?this.renderFlags&=~g:this.renderFlags|=g}}};n.exports=u},90065:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(u){typeof u=="string"&&(u=a[u]),u|=0,u>=-1&&(this._blendMode=u)}},setBlendMode:function(u){return this.blendMode=u,this}};n.exports=g},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}},setSize:function(s,a){return this.width=s,this.height=a,this},setDisplaySize:function(s,a){return this.displayWidth=s,this.displayHeight=a,this}};n.exports=x},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={texture:null,frame:null,isCropped:!1,setCrop:function(s,a,g,u){if(s===void 0)this.isCropped=!1;else if(this.frame){if(typeof s=="number")this.frame.setCropUVs(this._crop,s,a,g,u,this.flipX,this.flipY);else{var h=s;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=x},89272:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_depth:0,depth:{get:function(){return this._depth},set:function(s){this.displayList&&this.displayList.queueDepthSort(),this._depth=s}},setDepth:function(s){return s===void 0&&(s=0),this.depth=s,this}};n.exports=x},47059:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(66064),u=s(19133),h=new a({initialize:function(o,d){this.gameObject=o,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var o=this.gameObject.scene.sys.renderer;o&&o.pipelines?(this.gameObject.pipeline=o.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,o=0;o<l.length;o++)l[o].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var o;if(this.isPost){var d=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(d)||(d=[d]),o=0;o<d.length;o++){var v=d[o];if(v.controller===l){this.gameObject.removePostPipeline(v),l.destroy();break}}}else{var c=this.list;for(o=0;o<c.length;o++)c[o]===l&&(u(c,o),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,o){if(this.isPost){var d=String(l.type);this.gameObject.setPostPipeline(d,o);var v=this.gameObject.getPostPipeline(d);if(v)return Array.isArray(v)&&(v=v.pop()),v.controller=l,l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,o,d,v,c,p){return this.add(new g.Glow(this.gameObject,l,o,d,v),{quality:c,distance:p})},addShadow:function(l,o,d,v,c,p,y){return this.add(new g.Shadow(this.gameObject,l,o,d,v,c,p,y))},addPixelate:function(l){return this.add(new g.Pixelate(this.gameObject,l))},addVignette:function(l,o,d,v){return this.add(new g.Vignette(this.gameObject,l,o,d,v))},addShine:function(l,o,d,v){return this.add(new g.Shine(this.gameObject,l,o,d,v))},addBlur:function(l,o,d,v,c,p){return this.add(new g.Blur(this.gameObject,l,o,d,v,c,p))},addGradient:function(l,o,d,v,c,p,y,m){return this.add(new g.Gradient(this.gameObject,l,o,d,v,c,p,y,m))},addBloom:function(l,o,d,v,c,p){return this.add(new g.Bloom(this.gameObject,l,o,d,v,c,p))},addColorMatrix:function(){return this.add(new g.ColorMatrix(this.gameObject))},addCircle:function(l,o,d,v,c){return this.add(new g.Circle(this.gameObject,l,o,d,v,c))},addBarrel:function(l){return this.add(new g.Barrel(this.gameObject,l))},addDisplacement:function(l,o,d){return this.add(new g.Displacement(this.gameObject,l,o,d))},addWipe:function(l,o,d){return this.add(new g.Wipe(this.gameObject,l,o,d))},addReveal:function(l,o,d){return this.add(new g.Wipe(this.gameObject,l,o,d,!0))},addBokeh:function(l,o,d){return this.add(new g.Bokeh(this.gameObject,l,o,d))},addTiltShift:function(l,o,d,v,c,p){return this.add(new g.Bokeh(this.gameObject,l,o,d,!0,v,c,p))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=h},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(s){return this.flipX=s,this},setFlipY:function(s){return this.flipY=s,this},setFlip:function(s,a){return this.flipX=s,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=x},8004:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(11520),u=s(26099),h={prepareBoundsOutput:function(l,o){if(o===void 0&&(o=!1),this.rotation!==0&&g(l,this.x,this.y,this.rotation),o&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,o){return l===void 0&&(l=new u),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getTopLeft:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getTopCenter:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getTopRight:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,o)},getLeftCenter:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getRightCenter:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,o)},getBottomLeft:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBottomCenter:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBottomRight:function(l,o){return l||(l=new u),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,o)},getBounds:function(l){l===void 0&&(l=new a);var o,d,v,c,p,y,m,C;if(this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),T.transformPoint(l.x,l.y,l),o=l.x,d=l.y,this.getTopRight(l),T.transformPoint(l.x,l.y,l),v=l.x,c=l.y,this.getBottomLeft(l),T.transformPoint(l.x,l.y,l),p=l.x,y=l.y,this.getBottomRight(l),T.transformPoint(l.x,l.y,l),m=l.x,C=l.y}else this.getTopLeft(l),o=l.x,d=l.y,this.getTopRight(l),v=l.x,c=l.y,this.getBottomLeft(l),p=l.x,y=l.y,this.getBottomRight(l),m=l.x,C=l.y;return l.x=Math.min(o,v,p,m),l.y=Math.min(d,c,y,C),l.width=Math.max(o,v,p,m)-l.x,l.height=Math.max(d,c,y,C)-l.y,l}};n.exports=h},8573:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6858),g=s(80661),u={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,l,o,d,v){return h===void 0&&(this.texture||this.shader||this.geom)&&(h=this),new a(this.scene,h,l,o,d,v)},createGeometryMask:function(h){return h===void 0&&(this.type==="Graphics"||this.geom)&&(h=this),new g(this.scene,h)}};n.exports=u},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(s){this._displayOriginX=s,this.originX=s/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(s){this._displayOriginY=s,this.originY=s/this.height}},setOrigin:function(s,a){return s===void 0&&(s=.5),a===void 0&&(a=s),this.originX=s,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(s,a){return s===void 0&&(s=0),a===void 0&&(a=s),this.displayOriginX=s,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=x},37640:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39506),g=s(57355),u=s(35154),h=s(86353),l=s(26099),o={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(d,v){v===void 0&&(v=this.pathConfig);var c=this.pathTween;return c&&c.isPlaying()&&c.stop(),this.path=d,v&&this.startFollow(v),this},setRotateToPath:function(d,v){return v===void 0&&(v=0),this.rotateToPath=d,this.pathRotationOffset=v,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,v){d===void 0&&(d={}),v===void 0&&(v=0);var c=this.pathTween;c&&c.isPlaying()&&c.stop(),typeof d=="number"&&(d={duration:d}),d.from=u(d,"from",0),d.to=u(d,"to",1);var p=g(d,"positionOnPath",!1);this.rotateToPath=g(d,"rotateToPath",!1),this.pathRotationOffset=u(d,"rotationOffset",0);var y=u(d,"startAt",v);if(y&&(d.onStart=function(C){var T=C.data[0];T.progress=y,T.elapsed=T.duration*y;var E=T.ease(T.progress);T.current=T.start+(T.end-T.start)*E,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),p&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var v=d.data[0],c=this.pathDelta,p=this.pathVector;if(c.copy(p).negate(),v.state===h.COMPLETE){this.path.getPoint(v.end,p),c.add(p),p.add(this.pathOffset),this.setPosition(p.x,p.y);return}else if(v.state!==h.PLAYING_FORWARD&&v.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),p),c.add(p),p.add(this.pathOffset);var y=this.x,m=this.y;this.setPosition(p.x,p.y);var C=this.x-y,T=this.y-m;if(C===0&&T===0)return;if(v.state!==this._prevDirection){this._prevDirection=v.state;return}this.rotateToPath&&(this.rotation=Math.atan2(T,C)+a(this.pathRotationOffset))}}};n.exports=o},72699:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62644),g={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(u){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var l=h.pipelines;if(l){u===void 0&&(u=l.default);var o=l.get(u);if(o)return this.defaultPipeline=o,this.pipeline=o,!0}return!1},setPipeline:function(u,h,l){var o=this.scene.sys.renderer;if(!o)return this;var d=o.pipelines;if(d){var v=d.get(u);v&&(this.pipeline=v),h&&(this.pipelineData=l?a(h):h)}return this},setPipelineData:function(u,h){var l=this.pipelineData;return h===void 0?delete l[u]:l[u]=h,this},resetPipeline:function(u){return u===void 0&&(u=!1),this.pipeline=this.defaultPipeline,u&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};n.exports=g},17581:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62644),g=s(47059),u=s(19133),h={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new g(this,!0),l&&(this.preFX=new g(this,!1))},setPostPipeline:function(l,o,d){var v=this.scene.sys.renderer;if(!v)return this;var c=v.pipelines;if(c){Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++){var y=c.getPostPipeline(l[p],this,o);y&&this.postPipelines.push(y)}o&&(this.postPipelineData=d?a(o):o)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,o){var d=this.postPipelineData;return o===void 0?delete d[l]:d[l]=o,this},getPostPipeline:function(l){for(var o=typeof l=="string",d=this.postPipelines,v=[],c=0;c<d.length;c++){var p=d[c];(o&&p.name===l||!o&&p instanceof l)&&v.push(p)}return v.length===1?v[0]:v},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var o=this.postPipelines,d=0;d<o.length;d++)o[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var o=typeof l=="string",d=this.postPipelines,v=d.length-1;v>=0;v--){var c=d[v];(o&&c.name===l||!o&&c===l)&&(c.destroy(),u(d,v))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=h},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(s,a){return a===void 0&&(a=s),this.scrollFactorX=s,this.scrollFactorY=a,this}};n.exports=x},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(s){this.scaleX=s/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(s){this.scaleY=s/this.frame.realHeight}},setSizeToFrame:function(s){s||(s=this.frame),this.width=s.realWidth,this.height=s.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(s,a){return this.width=s,this.height=a,this},setDisplaySize:function(s,a){return this.displayWidth=s,this.displayHeight=a,this}};n.exports=x},37726:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4327),g=8,u={texture:null,frame:null,isCropped:!1,setTexture:function(h,l,o,d){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l,o,d)},setFrame:function(h,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),h instanceof a?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=u},79812:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4327),g=8,u={texture:null,frame:null,isCropped:!1,setCrop:function(h,l,o,d){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,l,o,d,this.flipX,this.flipY);else{var v=h;this.frame.setCropUVs(this._crop,v.x,v.y,v.width,v.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,l){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h,l,o){return l===void 0&&(l=!0),o===void 0&&(o=!0),h instanceof a?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~g:this.renderFlags|=g,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&o&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=u},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(s,a,g,u){return s===void 0&&(s=16777215),a===void 0&&(a=s,g=s,u=s),this.tintTopLeft=s,this.tintTopRight=a,this.tintBottomLeft=g,this.tintBottomRight=u,this.tintFill=!1,this},setTintFill:function(s,a,g,u){return this.setTint(s,a,g,u),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(s){this.setTint(s,s,s,s)}},isTinted:{get:function(){var s=16777215;return this.tintFill||this.tintTopLeft!==s||this.tintTopRight!==s||this.tintBottomLeft!==s||this.tintBottomRight!==s}}};n.exports=x},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a={name:s.name,type:s.type,x:s.x,y:s.y,depth:s.depth,scale:{x:s.scaleX,y:s.scaleY},origin:{x:s.originX,y:s.originY},flipX:s.flipX,flipY:s.flipY,rotation:s.rotation,alpha:s.alpha,visible:s.visible,blendMode:s.blendMode,textureKey:"",frameKey:"",data:{}};return s.texture&&(a.textureKey=s.texture.key,a.frameKey=s.frame.name),a};n.exports=x},16901:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(61340),u=s(85955),h=s(86554),l=s(30954),o=s(26099),d=4,v={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(c){this._scaleX=c,this._scaleY=c,c===0?this.renderFlags&=~d:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(c){this._scaleX=c,c===0?this.renderFlags&=~d:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(c){this._scaleY=c,c===0?this.renderFlags&=~d:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return l(this._rotation*a.RAD_TO_DEG)},set:function(c){this.rotation=l(c)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=h(c)}},setPosition:function(c,p,y,m){return c===void 0&&(c=0),p===void 0&&(p=c),y===void 0&&(y=0),m===void 0&&(m=0),this.x=c,this.y=p,this.z=y,this.w=m,this},copyPosition:function(c){return c.x!==void 0&&(this.x=c.x),c.y!==void 0&&(this.y=c.y),c.z!==void 0&&(this.z=c.z),c.w!==void 0&&(this.w=c.w),this},setRandomPosition:function(c,p,y,m){return c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=c+Math.random()*y,this.y=p+Math.random()*m,this},setRotation:function(c){return c===void 0&&(c=0),this.rotation=c,this},setAngle:function(c){return c===void 0&&(c=0),this.angle=c,this},setScale:function(c,p){return c===void 0&&(c=1),p===void 0&&(p=c),this.scaleX=c,this.scaleY=p,this},setX:function(c){return c===void 0&&(c=0),this.x=c,this},setY:function(c){return c===void 0&&(c=0),this.y=c,this},setZ:function(c){return c===void 0&&(c=0),this.z=c,this},setW:function(c){return c===void 0&&(c=0),this.w=c,this},getLocalTransformMatrix:function(c){return c===void 0&&(c=new g),c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(c,p){c===void 0&&(c=new g);var y=this.parentContainer;if(!y)return this.getLocalTransformMatrix(c);for(p||(p=new g),c.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);y;)p.applyITRS(y.x,y.y,y._rotation,y._scaleX,y._scaleY),p.multiply(c,c),y=y.parentContainer;return c},getLocalPoint:function(c,p,y,m){y||(y=new o),m||(m=this.scene.sys.cameras.main);var C=m.scrollX,T=m.scrollY,E=c+C*this.scrollFactorX-C,w=p+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(E,w,y):u(E,w,this.x,this.y,this.rotation,this.scaleX,this.scaleY,y),this._originComponent&&(y.x+=this._displayOriginX,y.y+=this._displayOriginY),y},getParentRotation:function(){for(var c=0,p=this.parentContainer;p;)c+=p.rotation,p=p.parentContainer;return c}};n.exports=v},61340:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(36383),u=s(26099),h=new a({initialize:function(o,d,v,c,p,y){o===void 0&&(o=1),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=1),p===void 0&&(p=0),y===void 0&&(y=0),this.matrix=new Float32Array([o,d,v,c,p,y,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,o=l[0],d=l[1],v=l[2],c=l[3];return o||d?d>0?Math.acos(o/this.scaleX):-Math.acos(o/this.scaleX):v||c?g.TAU-(c>0?Math.acos(-v/this.scaleY):-Math.acos(v/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,o){var d=this.matrix;return d[4]=d[0]*l+d[2]*o+d[4],d[5]=d[1]*l+d[3]*o+d[5],this},scale:function(l,o){var d=this.matrix;return d[0]*=l,d[1]*=l,d[2]*=o,d[3]*=o,this},rotate:function(l){var o=Math.sin(l),d=Math.cos(l),v=this.matrix,c=v[0],p=v[1],y=v[2],m=v[3];return v[0]=c*d+y*o,v[1]=p*d+m*o,v[2]=c*-o+y*d,v[3]=p*-o+m*d,this},multiply:function(l,o){var d=this.matrix,v=l.matrix,c=d[0],p=d[1],y=d[2],m=d[3],C=d[4],T=d[5],E=v[0],w=v[1],P=v[2],b=v[3],M=v[4],A=v[5],R=o===void 0?d:o.matrix;return R[0]=E*c+w*y,R[1]=E*p+w*m,R[2]=P*c+b*y,R[3]=P*p+b*m,R[4]=M*c+A*y+C,R[5]=M*p+A*m+T,R},multiplyWithOffset:function(l,o,d){var v=this.matrix,c=l.matrix,p=v[0],y=v[1],m=v[2],C=v[3],T=v[4],E=v[5],w=o*p+d*m+T,P=o*y+d*C+E,b=c[0],M=c[1],A=c[2],R=c[3],L=c[4],O=c[5];return v[0]=b*p+M*m,v[1]=b*y+M*C,v[2]=A*p+R*m,v[3]=A*y+R*C,v[4]=L*p+O*m+w,v[5]=L*y+O*C+P,this},transform:function(l,o,d,v,c,p){var y=this.matrix,m=y[0],C=y[1],T=y[2],E=y[3],w=y[4],P=y[5];return y[0]=l*m+o*T,y[1]=l*C+o*E,y[2]=d*m+v*T,y[3]=d*C+v*E,y[4]=c*m+p*T+w,y[5]=c*C+p*E+P,this},transformPoint:function(l,o,d){d===void 0&&(d={x:0,y:0});var v=this.matrix,c=v[0],p=v[1],y=v[2],m=v[3],C=v[4],T=v[5];return d.x=l*c+o*y+C,d.y=l*p+o*m+T,d},invert:function(){var l=this.matrix,o=l[0],d=l[1],v=l[2],c=l[3],p=l[4],y=l[5],m=o*c-d*v;return l[0]=c/m,l[1]=-d/m,l[2]=-v/m,l[3]=o/m,l[4]=(v*y-c*p)/m,l[5]=-(o*y-d*p)/m,this},copyFrom:function(l){var o=this.matrix;return o[0]=l.a,o[1]=l.b,o[2]=l.c,o[3]=l.d,o[4]=l.e,o[5]=l.f,this},copyFromArray:function(l){var o=this.matrix;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[3],o[4]=l[4],o[5]=l[5],this},copyToContext:function(l){var o=this.matrix;return l.transform(o[0],o[1],o[2],o[3],o[4],o[5]),l},setToContext:function(l){return l.setTransform(this),l},copyToArray:function(l){var o=this.matrix;return l===void 0?l=[o[0],o[1],o[2],o[3],o[4],o[5]]:(l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5]),l},setTransform:function(l,o,d,v,c,p){var y=this.matrix;return y[0]=l,y[1]=o,y[2]=d,y[3]=v,y[4]=c,y[5]=p,this},decomposeMatrix:function(){var l=this.decomposedMatrix,o=this.matrix,d=o[0],v=o[1],c=o[2],p=o[3],y=d*p-v*c;if(l.translateX=o[4],l.translateY=o[5],d||v){var m=Math.sqrt(d*d+v*v);l.rotation=v>0?Math.acos(d/m):-Math.acos(d/m),l.scaleX=m,l.scaleY=y/m}else if(c||p){var C=Math.sqrt(c*c+p*p);l.rotation=Math.PI*.5-(p>0?Math.acos(-c/C):-Math.acos(c/C)),l.scaleX=y/C,l.scaleY=C}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,o,d,v,c){var p=this.matrix,y=Math.sin(d),m=Math.cos(d);return p[4]=l,p[5]=o,p[0]=m*v,p[1]=y*v,p[2]=-y*c,p[3]=m*c,this},applyInverse:function(l,o,d){d===void 0&&(d=new u);var v=this.matrix,c=v[0],p=v[1],y=v[2],m=v[3],C=v[4],T=v[5],E=1/(c*m+y*-p);return d.x=m*E*l+-y*E*o+(T*y-C*m)*E,d.y=c*E*o+-p*E*l+(-T*c+C*p)*E,d},setQuad:function(l,o,d,v,c,p){c===void 0&&(c=!1),p===void 0&&(p=this.quad);var y=this.matrix,m=y[0],C=y[1],T=y[2],E=y[3],w=y[4],P=y[5];return c?(p[0]=Math.round(l*m+o*T+w),p[1]=Math.round(l*C+o*E+P),p[2]=Math.round(l*m+v*T+w),p[3]=Math.round(l*C+v*E+P),p[4]=Math.round(d*m+v*T+w),p[5]=Math.round(d*C+v*E+P),p[6]=Math.round(d*m+o*T+w),p[7]=Math.round(d*C+o*E+P)):(p[0]=l*m+o*T+w,p[1]=l*C+o*E+P,p[2]=l*m+v*T+w,p[3]=l*C+v*E+P,p[4]=d*m+v*T+w,p[5]=d*C+v*E+P,p[6]=d*m+o*T+w,p[7]=d*C+o*E+P),p},getX:function(l,o){return l*this.a+o*this.c+this.e},getY:function(l,o){return l*this.b+o*this.d+this.f},getXRound:function(l,o,d){var v=this.getX(l,o);return d&&(v=Math.round(v)),v},getYRound:function(l,o,d){var v=this.getY(l,o);return d&&(v=Math.round(v)),v},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=h},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=1,s={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=x):(this._visible=!1,this.renderFlags&=~x)}},setVisible:function(a){return this.visible=a,this}};n.exports=s},31401:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:s(16005),AlphaSingle:s(88509),BlendMode:s(90065),ComputedSize:s(94215),Crop:s(61683),Depth:s(89272),Flip:s(54434),FX:s(47059),GetBounds:s(8004),Mask:s(8573),Origin:s(27387),PathFollower:s(37640),Pipeline:s(72699),PostPipeline:s(17581),ScrollFactor:s(80227),Size:s(16736),Texture:s(37726),TextureCrop:s(79812),Tint:s(27472),ToJSON:s(53774),Transform:s(16901),TransformMatrix:s(61340),Visible:s(59715)}},31559:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37105),g=s(10312),u=s(83419),h=s(31401),l=s(51708),o=s(95643),d=s(87841),v=s(29959),c=s(36899),p=s(26099),y=new u({Extends:o,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,v],initialize:function(C,T,E,w){o.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this.tempTransformMatrix=new h.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(T,E),this.setBlendMode(g.SKIP_CHECK),w&&this.add(w)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(m){return m===void 0&&(m=!0),this.exclusive=m,this},getBounds:function(m){if(m===void 0&&(m=new d),m.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),T=C.transformPoint(this.x,this.y);m.setTo(T.x,T.y,0,0)}if(this.list.length>0){var E=this.list,w=new d,P=!1;m.setEmpty();for(var b=0;b<E.length;b++){var M=E[b];M.getBounds&&(M.getBounds(w),P?c(w,m,m):(m.setTo(w.x,w.y,w.width,w.height),P=!0))}}return m},addHandler:function(m){m.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(m.parentContainer&&m.parentContainer.remove(m),m.parentContainer=this,m.removeFromDisplayList(),m.addedToScene())},removeHandler:function(m){m.off(l.DESTROY,this.remove,this),this.exclusive&&(m.parentContainer=null,m.removedFromScene(),m.addToDisplayList())},pointToContainer:function(m,C){C===void 0&&(C=new p),this.parentContainer?this.parentContainer.pointToContainer(m,C):(C.x=m.x,C.y=m.y);var T=this.tempTransformMatrix;return T.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),T.invert(),T.transformPoint(m.x,m.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(m){return a.Add(this.list,m,this.maxSize,this.addHandler,this),this},addAt:function(m,C){return a.AddAt(this.list,m,C,this.maxSize,this.addHandler,this),this},getAt:function(m){return this.list[m]},getIndex:function(m){return this.list.indexOf(m)},sort:function(m,C){return m?(C===void 0&&(C=function(T,E){return T[m]-E[m]}),a.StableSort(this.list,C),this):this},getByName:function(m){return a.GetFirst(this.list,"name",m)},getRandom:function(m,C){return a.GetRandom(this.list,m,C)},getFirst:function(m,C,T,E){return a.GetFirst(this.list,m,C,T,E)},getAll:function(m,C,T,E){return a.GetAll(this.list,m,C,T,E)},count:function(m,C,T,E){return a.CountAllMatching(this.list,m,C,T,E)},swap:function(m,C){return a.Swap(this.list,m,C),this},moveTo:function(m,C){return a.MoveTo(this.list,m,C),this},moveAbove:function(m,C){return a.MoveAbove(this.list,m,C),this},moveBelow:function(m,C){return a.MoveBelow(this.list,m,C),this},remove:function(m,C){var T=a.Remove(this.list,m,this.removeHandler,this);if(C&&T){Array.isArray(T)||(T=[T]);for(var E=0;E<T.length;E++)T[E].destroy()}return this},removeAt:function(m,C){var T=a.RemoveAt(this.list,m,this.removeHandler,this);return C&&T&&T.destroy(),this},removeBetween:function(m,C,T){var E=a.RemoveBetween(this.list,m,C,this.removeHandler,this);if(T)for(var w=0;w<E.length;w++)E[w].destroy();return this},removeAll:function(m){var C=this.list;if(m){for(var T=0;T<C.length;T++)C[T]&&C[T].scene&&(C[T].off(l.DESTROY,this.onChildDestroyed,this),C[T].destroy());this.list=[]}else a.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(m){return a.BringToTop(this.list,m),this},sendToBack:function(m){return a.SendToBack(this.list,m),this},moveUp:function(m){return a.MoveUp(this.list,m),this},moveDown:function(m){return a.MoveDown(this.list,m),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(m,C,T){var E=a.Replace(this.list,m,C);return E&&(this.addHandler(C),this.removeHandler(m),T&&m.destroy()),this},exists:function(m){return this.list.indexOf(m)>-1},setAll:function(m,C,T,E){return a.SetAll(this.list,m,C,T,E),this},each:function(m,C){var T=[null],E,w=this.list.slice(),P=w.length;for(E=2;E<arguments.length;E++)T.push(arguments[E]);for(E=0;E<P;E++)T[0]=w[E],m.apply(C,T);return this},iterate:function(m,C){var T=[null],E;for(E=2;E<arguments.length;E++)T.push(arguments[E]);for(E=0;E<this.list.length;E++)T[0]=this.list[E],m.apply(C,T);return this},setScrollFactor:function(m,C,T){return C===void 0&&(C=m),T===void 0&&(T=!1),this.scrollFactorX=m,this.scrollFactorY=C,T&&(a.SetAll(this.list,"scrollFactorX",m),a.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]},onChildDestroyed:function(m){a.Remove(this.list,m),this.exclusive&&(m.parentContainer=null,m.removedFromScene())}});n.exports=y},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g.addToRenderList(a);var h=a.list;if(h.length!==0){var l=a.localTransform;u?(l.loadIdentity(),l.multiply(u),l.translate(a.x,a.y),l.rotate(a.rotation),l.scale(a.scaleX,a.scaleY)):l.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var o=a.blendMode!==-1;o||s.setBlendMode(0);var d=a._alpha,v=a.scrollFactorX,c=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(s,null,g);for(var p=0;p<h.length;p++){var y=h[p];if(y.willRender(g)){var m=y.alpha,C=y.scrollFactorX,T=y.scrollFactorY;!o&&y.blendMode!==s.currentBlendMode&&s.setBlendMode(y.blendMode),y.setScrollFactor(C*v,T*c),y.setAlpha(m*d),y.renderCanvas(s,y,g,l),y.setAlpha(m),y.setScrollFactor(C,T)}}a.mask&&a.mask.postRenderCanvas(s)}};n.exports=x},77143:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(31559),u=s(44603),h=s(23568),l=s(95540);u.register("container",function(o,d){o===void 0&&(o={});var v=h(o,"x",0),c=h(o,"y",0),p=l(o,"children",null),y=new g(this.scene,v,c,p);return d!==void 0&&(o.add=d),a(this.scene,y,o),y})},24961:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(31559),g=s(39429);g.register("container",function(u,h,l){return this.displayList.add(new a(this.scene,u,h,l))})},29959:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(72249),u=s(53584),n.exports={renderWebGL:g,renderCanvas:u}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g.addToRenderList(a);var h=a.list,l=h.length;if(l!==0){var o=a.localTransform;u?(o.loadIdentity(),o.multiply(u),o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.scaleX,a.scaleY)):o.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),s.pipelines.preBatch(a);var d=a.blendMode!==-1;d||s.setBlendMode(0);for(var v=a.alpha,c=a.scrollFactorX,p=a.scrollFactorY,y=0;y<l;y++){var m=h[y];if(m.willRender(g)){var C,T,E,w;if(m.alphaTopLeft!==void 0)C=m.alphaTopLeft,T=m.alphaTopRight,E=m.alphaBottomLeft,w=m.alphaBottomRight;else{var P=m.alpha;C=P,T=P,E=P,w=P}var b=m.scrollFactorX,M=m.scrollFactorY;!d&&m.blendMode!==s.currentBlendMode&&s.setBlendMode(m.blendMode);var A=m.mask;A&&A.preRenderWebGL(s,m,g);var R=m.type;R!==s.currentType&&(s.newType=!0,s.currentType=R),s.nextTypeMatch=y<l-1?h[y+1].type===s.currentType:!1,m.setScrollFactor(b*c,M*p),m.setAlpha(C*v,T*v,E*v,w*v),m.renderWebGL(s,m,g,o,a),m.setAlpha(C,T,E,w),m.setScrollFactor(b,M),A&&A.postRenderWebGL(s,g),s.newType=!1}}s.pipelines.postBatch(a)}};n.exports=x},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(441),h=s(95643),l=s(41212),o=s(35846),d=s(44594),v=s(61369),c=new a({Extends:h,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Origin,g.ScrollFactor,g.Transform,g.Visible,u],initialize:function(y,m,C,T,E,w){h.call(this,y,"DOMElement"),this.parent=y.sys.game.domContainer,this.cache=y.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new v,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,C),typeof T=="string"?T[0]==="#"?this.setElement(T.substr(1),E,w):this.createElement(T,E,w):T&&this.setElement(T,E,w),y.sys.events.on(d.SLEEP,this.handleSceneEvent,this),y.sys.events.on(d.WAKE,this.handleSceneEvent,this),y.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(p){var y=this.node,m=y.style;y&&(m.display=p.settings.visible?"block":"none")},setSkew:function(p,y){return p===void 0&&(p=0),y===void 0&&(y=p),this.skewX=p,this.skewY=y,this},setPerspective:function(p){return this.parent.style.perspective=p+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(p){this.parent.style.perspective=p+"px"}},addListener:function(p){if(this.node){p=p.split(" ");for(var y=0;y<p.length;y++)this.node.addEventListener(p[y],this.handler,!1)}return this},removeListener:function(p){if(this.node){p=p.split(" ");for(var y=0;y<p.length;y++)this.node.removeEventListener(p[y],this.handler)}return this},dispatchNativeEvent:function(p){this.emit(p.type,p)},createElement:function(p,y,m){return this.setElement(document.createElement(p),y,m)},setElement:function(p,y,m){this.removeElement();var C;if(typeof p=="string"?(p[0]==="#"&&(p=p.substr(1)),C=document.getElementById(p)):typeof p=="object"&&p.nodeType===1&&(C=p),!C)return this;if(this.node=C,y&&l(y))for(var T in y)C.style[T]=y[T];else typeof y=="string"&&(C.style=y);return C.style.zIndex="0",C.style.display="inline",C.style.position="absolute",C.phaser=this,this.parent&&this.parent.appendChild(C),m&&(C.innerText=m),this.updateSize()},createFromCache:function(p,y){var m=this.cache.get(p);return m&&this.createFromHTML(m,y),this},createFromHTML:function(p,y){y===void 0&&(y="div"),this.removeElement();var m=document.createElement(y);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=p,this.updateSize()},removeElement:function(){return this.node&&(o(this.node),this.node=null),this},updateSize:function(){var p=this.node,y=p.getBoundingClientRect();return this.width=p.clientWidth,this.height=p.clientHeight,this.displayWidth=y.width||0,this.displayHeight=y.height||0,this},getChildByProperty:function(p,y){if(this.node){for(var m=this.node.querySelectorAll("*"),C=0;C<m.length;C++)if(m[C][p]===y)return m[C]}return null},getChildByID:function(p){return this.getChildByProperty("id",p)},getChildByName:function(p){return this.getChildByProperty("name",p)},setClassName:function(p){return this.node&&(this.node.className=p,this.updateSize()),this},setText:function(p){return this.node&&(this.node.innerText=p,this.updateSize()),this},setHTML:function(p){return this.node&&(this.node.innerHTML=p,this.updateSize()),this},preRender:function(){var p=this.parentContainer,y=this.node;y&&p&&!p.willRender()&&(y.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});n.exports=c},49381:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(47407),g=s(95643),u=s(61340),h=new u,l=new u,o=new u,d=function(v,c,p,y){if(c.node){var m=c.node.style,C=c.scene.sys.settings;if(!m||!C.visible||g.RENDER_MASK!==c.renderFlags||c.cameraFilter!==0&&c.cameraFilter&p.id||c.parentContainer&&!c.parentContainer.willRender()){m.display="none";return}var T=c.parentContainer,E=p.alpha*c.alpha;T&&(E*=T.alpha);var w=h,P=l,b=o,M=0,A=0,R="0%",L="0%";y?(M=c.width*c.scaleX*c.originX,A=c.height*c.scaleY*c.originY,P.applyITRS(c.x-M,c.y-A,c.rotation,c.scaleX,c.scaleY),w.copyFrom(p.matrix),w.multiplyWithOffset(y,-p.scrollX*c.scrollFactorX,-p.scrollY*c.scrollFactorY),P.e=c.x-M,P.f=c.y-A,w.multiply(P,b)):(M=c.width*c.originX,A=c.height*c.originY,P.applyITRS(c.x-M,c.y-A,c.rotation,c.scaleX,c.scaleY),w.copyFrom(p.matrix),R=100*c.originX+"%",L=100*c.originY+"%",P.e-=p.scrollX*c.scrollFactorX,P.f-=p.scrollY*c.scrollFactorY,w.multiply(P,b)),c.transformOnly||(m.display="block",m.opacity=E,m.zIndex=c._depth,m.pointerEvents=c.pointerEvents,m.mixBlendMode=a[c._blendMode]),m.transform=b.getCSSMatrix()+" skew("+c.skewX+"rad, "+c.skewY+"rad) rotate3d("+c.rotate3d.x+","+c.rotate3d.y+","+c.rotate3d.z+","+c.rotate3d.w+c.rotate3dAngle+")",m.transformOrigin=R+" "+L}};n.exports=d},2611:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(3069),g=s(39429);g.register("dom",function(u,h,l,o,d){var v=new a(this.scene,u,h,l,o,d);return this.displayList.add(v),v})},441:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(49381),u=s(49381),n.exports={renderWebGL:g,renderCanvas:u}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:s(62980),DESTROY:s(41337),REMOVED_FROM_SCENE:s(44947),VIDEO_COMPLETE:s(49358),VIDEO_CREATED:s(35163),VIDEO_ERROR:s(97249),VIDEO_LOCKED:s(19483),VIDEO_LOOP:s(56059),VIDEO_METADATA:s(26772),VIDEO_PLAY:s(83411),VIDEO_PLAYING:s(64437),VIDEO_SEEKED:s(75780),VIDEO_SEEKING:s(67799),VIDEO_STALLED:s(63500),VIDEO_STOP:s(55541),VIDEO_TEXTURE:s(53208),VIDEO_UNLOCKED:s(4992),VIDEO_UNSUPPORTED:s(12)}},42421:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(95643),h=s(64993),l=new a({Extends:u,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.Origin,g.ScrollFactor,g.Size,g.Texture,g.Tint,g.Transform,g.Visible,h],initialize:function(d){u.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=l},70217:()=>{},56315:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42421),g=s(39429);g.register("extern",function(){var u=new a(this.scene);return this.displayList.add(u),u})},64993:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(80287),u=s(70217),n.exports={renderWebGL:g,renderCanvas:u}},80287:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(u,h,l,o){u.pipelines.clear();var d=a(h,l,o).calc;h.render.call(h,u,l,d),u.pipelines.rebind()};n.exports=g},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71911),g=s(83419),u=s(85592),h=s(31401),l=s(8497),o=s(95643),d=s(95540),v=s(35154),c=s(36383),p=s(84503),y=new g({Extends:o,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,p],initialize:function(C,T){var E=v(T,"x",0),w=v(T,"y",0);o.call(this,C,"Graphics"),this.setPosition(E,w),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(T)},setDefaultStyles:function(m){return v(m,"lineStyle",null)&&(this.defaultStrokeWidth=v(m,"lineStyle.width",1),this.defaultStrokeColor=v(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=v(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),v(m,"fillStyle",null)&&(this.defaultFillColor=v(m,"fillStyle.color",16777215),this.defaultFillAlpha=v(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(m,C,T){return T===void 0&&(T=1),this.commandBuffer.push(u.LINE_STYLE,m,C,T),this._lineWidth=m,this},fillStyle:function(m,C){return C===void 0&&(C=1),this.commandBuffer.push(u.FILL_STYLE,m,C),this},fillGradientStyle:function(m,C,T,E,w,P,b,M){return w===void 0&&(w=1),P===void 0&&(P=w),b===void 0&&(b=w),M===void 0&&(M=w),this.commandBuffer.push(u.GRADIENT_FILL_STYLE,w,P,b,M,m,C,T,E),this},lineGradientStyle:function(m,C,T,E,w,P){return P===void 0&&(P=1),this.commandBuffer.push(u.GRADIENT_LINE_STYLE,m,P,C,T,E,w),this},beginPath:function(){return this.commandBuffer.push(u.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(u.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(u.FILL_PATH),this},fill:function(){return this.commandBuffer.push(u.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(u.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(u.STROKE_PATH),this},fillCircleShape:function(m){return this.fillCircle(m.x,m.y,m.radius)},strokeCircleShape:function(m){return this.strokeCircle(m.x,m.y,m.radius)},fillCircle:function(m,C,T){return this.beginPath(),this.arc(m,C,T,0,c.PI2),this.fillPath(),this},strokeCircle:function(m,C,T){return this.beginPath(),this.arc(m,C,T,0,c.PI2),this.strokePath(),this},fillRectShape:function(m){return this.fillRect(m.x,m.y,m.width,m.height)},strokeRectShape:function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},fillRect:function(m,C,T,E){return this.commandBuffer.push(u.FILL_RECT,m,C,T,E),this},strokeRect:function(m,C,T,E){var w=this._lineWidth/2,P=m-w,b=m+w;return this.beginPath(),this.moveTo(m,C),this.lineTo(m,C+E),this.strokePath(),this.beginPath(),this.moveTo(m+T,C),this.lineTo(m+T,C+E),this.strokePath(),this.beginPath(),this.moveTo(P,C),this.lineTo(b+T,C),this.strokePath(),this.beginPath(),this.moveTo(P,C+E),this.lineTo(b+T,C+E),this.strokePath(),this},fillRoundedRect:function(m,C,T,E,w){w===void 0&&(w=20);var P=w,b=w,M=w,A=w;typeof w!="number"&&(P=d(w,"tl",20),b=d(w,"tr",20),M=d(w,"bl",20),A=d(w,"br",20));var R=P>=0,L=b>=0,O=M>=0,D=A>=0;return P=Math.abs(P),b=Math.abs(b),M=Math.abs(M),A=Math.abs(A),this.beginPath(),this.moveTo(m+P,C),this.lineTo(m+T-b,C),L?this.arc(m+T-b,C+b,b,-c.TAU,0):this.arc(m+T,C,b,Math.PI,c.TAU,!0),this.lineTo(m+T,C+E-A),D?this.arc(m+T-A,C+E-A,A,0,c.TAU):this.arc(m+T,C+E,A,-c.TAU,Math.PI,!0),this.lineTo(m+M,C+E),O?this.arc(m+M,C+E-M,M,c.TAU,Math.PI):this.arc(m,C+E,M,0,-c.TAU,!0),this.lineTo(m,C+P),R?this.arc(m+P,C+P,P,-Math.PI,-c.TAU):this.arc(m,C,P,c.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(m,C,T,E,w){w===void 0&&(w=20);var P=w,b=w,M=w,A=w,R=Math.min(T,E)/2;typeof w!="number"&&(P=d(w,"tl",20),b=d(w,"tr",20),M=d(w,"bl",20),A=d(w,"br",20));var L=P>=0,O=b>=0,D=M>=0,I=A>=0;return P=Math.min(Math.abs(P),R),b=Math.min(Math.abs(b),R),M=Math.min(Math.abs(M),R),A=Math.min(Math.abs(A),R),this.beginPath(),this.moveTo(m+P,C),this.lineTo(m+T-b,C),this.moveTo(m+T-b,C),O?this.arc(m+T-b,C+b,b,-c.TAU,0):this.arc(m+T,C,b,Math.PI,c.TAU,!0),this.lineTo(m+T,C+E-A),this.moveTo(m+T,C+E-A),I?this.arc(m+T-A,C+E-A,A,0,c.TAU):this.arc(m+T,C+E,A,-c.TAU,Math.PI,!0),this.lineTo(m+M,C+E),this.moveTo(m+M,C+E),D?this.arc(m+M,C+E-M,M,c.TAU,Math.PI):this.arc(m,C+E,M,0,-c.TAU,!0),this.lineTo(m,C+P),this.moveTo(m,C+P),L?this.arc(m+P,C+P,P,-Math.PI,-c.TAU):this.arc(m,C,P,c.TAU,0,!0),this.strokePath(),this},fillPointShape:function(m,C){return this.fillPoint(m.x,m.y,C)},fillPoint:function(m,C,T){return!T||T<1?T=1:(m-=T/2,C-=T/2),this.commandBuffer.push(u.FILL_RECT,m,C,T,T),this},fillTriangleShape:function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},strokeTriangleShape:function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},fillTriangle:function(m,C,T,E,w,P){return this.commandBuffer.push(u.FILL_TRIANGLE,m,C,T,E,w,P),this},strokeTriangle:function(m,C,T,E,w,P){return this.commandBuffer.push(u.STROKE_TRIANGLE,m,C,T,E,w,P),this},strokeLineShape:function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},lineBetween:function(m,C,T,E){return this.beginPath(),this.moveTo(m,C),this.lineTo(T,E),this.strokePath(),this},lineTo:function(m,C){return this.commandBuffer.push(u.LINE_TO,m,C),this},moveTo:function(m,C){return this.commandBuffer.push(u.MOVE_TO,m,C),this},strokePoints:function(m,C,T,E){C===void 0&&(C=!1),T===void 0&&(T=!1),E===void 0&&(E=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var w=1;w<E;w++)this.lineTo(m[w].x,m[w].y);return C&&this.lineTo(m[0].x,m[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(m,C,T,E){C===void 0&&(C=!1),T===void 0&&(T=!1),E===void 0&&(E=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var w=1;w<E;w++)this.lineTo(m[w].x,m[w].y);return C&&this.lineTo(m[0].x,m[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(m,C){C===void 0&&(C=32);var T=m.getPoints(C);return this.strokePoints(T,!0)},strokeEllipse:function(m,C,T,E,w){w===void 0&&(w=32);var P=new l(m,C,T,E),b=P.getPoints(w);return this.strokePoints(b,!0)},fillEllipseShape:function(m,C){C===void 0&&(C=32);var T=m.getPoints(C);return this.fillPoints(T,!0)},fillEllipse:function(m,C,T,E,w){w===void 0&&(w=32);var P=new l(m,C,T,E),b=P.getPoints(w);return this.fillPoints(b,!0)},arc:function(m,C,T,E,w,P,b){return P===void 0&&(P=!1),b===void 0&&(b=0),this.commandBuffer.push(u.ARC,m,C,T,E,w,P,b),this},slice:function(m,C,T,E,w,P,b){return P===void 0&&(P=!1),b===void 0&&(b=0),this.commandBuffer.push(u.BEGIN_PATH),this.commandBuffer.push(u.MOVE_TO,m,C),this.commandBuffer.push(u.ARC,m,C,T,E,w,P,b),this.commandBuffer.push(u.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(u.SAVE),this},restore:function(){return this.commandBuffer.push(u.RESTORE),this},translateCanvas:function(m,C){return this.commandBuffer.push(u.TRANSLATE,m,C),this},scaleCanvas:function(m,C){return this.commandBuffer.push(u.SCALE,m,C),this},rotateCanvas:function(m){return this.commandBuffer.push(u.ROTATE,m),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(m,C,T){var E=this.scene.sys,w=E.game.renderer;C===void 0&&(C=E.scale.width),T===void 0&&(T=E.scale.height),y.TargetCamera.setScene(this.scene),y.TargetCamera.setViewport(0,0,C,T),y.TargetCamera.scrollX=this.x,y.TargetCamera.scrollY=this.y;var P,b,M={willReadFrequently:!0};if(typeof m=="string")if(E.textures.exists(m)){P=E.textures.get(m);var A=P.getSourceImage();A instanceof HTMLCanvasElement&&(b=A.getContext("2d",M))}else P=E.textures.createCanvas(m,C,T),b=P.getSourceImage().getContext("2d",M);else m instanceof HTMLCanvasElement&&(b=m.getContext("2d",M));return b&&(this.renderCanvas(w,this,y.TargetCamera,null,b,!1),P&&P.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});y.TargetCamera=new a,n.exports=y},32768:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85592),g=s(20926),u=function(h,l,o,d,v,c){var p=l.commandBuffer,y=p.length,m=v||h.currentContext;if(!(y===0||!g(h,m,l,o,d))){o.addToRenderList(l);var C=1,T=1,E=0,w=0,P=1,b=0,M=0,A=0;m.beginPath();for(var R=0;R<y;++R){var L=p[R];switch(L){case a.ARC:m.arc(p[R+1],p[R+2],p[R+3],p[R+4],p[R+5],p[R+6]),R+=7;break;case a.LINE_STYLE:P=p[R+1],E=p[R+2],C=p[R+3],b=(E&16711680)>>>16,M=(E&65280)>>>8,A=E&255,m.strokeStyle="rgba("+b+","+M+","+A+","+C+")",m.lineWidth=P,R+=3;break;case a.FILL_STYLE:w=p[R+1],T=p[R+2],b=(w&16711680)>>>16,M=(w&65280)>>>8,A=w&255,m.fillStyle="rgba("+b+","+M+","+A+","+T+")",R+=2;break;case a.BEGIN_PATH:m.beginPath();break;case a.CLOSE_PATH:m.closePath();break;case a.FILL_PATH:c||m.fill();break;case a.STROKE_PATH:c||m.stroke();break;case a.FILL_RECT:c?m.rect(p[R+1],p[R+2],p[R+3],p[R+4]):m.fillRect(p[R+1],p[R+2],p[R+3],p[R+4]),R+=4;break;case a.FILL_TRIANGLE:m.beginPath(),m.moveTo(p[R+1],p[R+2]),m.lineTo(p[R+3],p[R+4]),m.lineTo(p[R+5],p[R+6]),m.closePath(),c||m.fill(),R+=6;break;case a.STROKE_TRIANGLE:m.beginPath(),m.moveTo(p[R+1],p[R+2]),m.lineTo(p[R+3],p[R+4]),m.lineTo(p[R+5],p[R+6]),m.closePath(),c||m.stroke(),R+=6;break;case a.LINE_TO:m.lineTo(p[R+1],p[R+2]),R+=2;break;case a.MOVE_TO:m.moveTo(p[R+1],p[R+2]),R+=2;break;case a.LINE_FX_TO:m.lineTo(p[R+1],p[R+2]),R+=5;break;case a.MOVE_FX_TO:m.moveTo(p[R+1],p[R+2]),R+=5;break;case a.SAVE:m.save();break;case a.RESTORE:m.restore();break;case a.TRANSLATE:m.translate(p[R+1],p[R+2]),R+=2;break;case a.SCALE:m.scale(p[R+1],p[R+2]),R+=2;break;case a.ROTATE:m.rotate(p[R+1]),R+=1;break;case a.GRADIENT_FILL_STYLE:R+=5;break;case a.GRADIENT_LINE_STYLE:R+=6;break}}m.restore()}};n.exports=u},87079:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(43831);a.register("graphics",function(u,h){u===void 0&&(u={}),h!==void 0&&(u.add=h);var l=new g(this.scene,u);return u.add&&this.scene.sys.displayList.add(l),l})},1201:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43831),g=s(39429);g.register("graphics",function(u){return this.displayList.add(new a(this.scene,u))})},84503:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(77545),u=s(32768),u=s(32768),n.exports={renderWebGL:g,renderCanvas:u}},77545:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85592),g=s(91296),u=s(61340),h=s(70554),l=function(p,y,m){this.x=p,this.y=y,this.width=m},o=function(p,y,m){this.points=[],this.pointsLength=1,this.points[0]=new l(p,y,m)},d=[],v=new u,c=function(p,y,m,C){if(y.commandBuffer.length!==0){m.addToRenderList(y);var T=p.pipelines.set(y.pipeline,y);p.pipelines.preBatch(y);for(var E=g(y,m,C).calc,w=v.loadIdentity(),P=y.commandBuffer,b=m.alpha*y.alpha,M=1,A=T.fillTint,R=T.strokeTint,L=0,O=0,D=0,I=.01,B=Math.PI*2,G,z=[],Y=0,H=!0,k=null,U=h.getTintAppendFloatAlpha,F=0;F<P.length;F++)switch(G=P[F],G){case a.BEGIN_PATH:{z.length=0,k=null,H=!0;break}case a.CLOSE_PATH:{H=!1,k&&k.points.length&&k.points.push(k.points[0]);break}case a.FILL_PATH:{for(Y=0;Y<z.length;Y++)T.batchFillPath(z[Y].points,w,E);break}case a.STROKE_PATH:{for(Y=0;Y<z.length;Y++)T.batchStrokePath(z[Y].points,M,H,w,E);break}case a.LINE_STYLE:{M=P[++F];var N=P[++F],V=P[++F]*b,$=U(N,V);R.TL=$,R.TR=$,R.BL=$,R.BR=$;break}case a.FILL_STYLE:{var X=P[++F],j=P[++F]*b,Q=U(X,j);A.TL=Q,A.TR=Q,A.BL=Q,A.BR=Q;break}case a.GRADIENT_FILL_STYLE:{var K=P[++F]*b,q=P[++F]*b,tt=P[++F]*b,st=P[++F]*b;A.TL=U(P[++F],K),A.TR=U(P[++F],q),A.BL=U(P[++F],tt),A.BR=U(P[++F],st);break}case a.GRADIENT_LINE_STYLE:{M=P[++F];var nt=P[++F]*b;R.TL=U(P[++F],nt),R.TR=U(P[++F],nt),R.BL=U(P[++F],nt),R.BR=U(P[++F],nt);break}case a.ARC:{var rt=0,ut=P[++F],vt=P[++F],pt=P[++F],ft=P[++F],lt=P[++F],yt=P[++F],Ct=P[++F];for(lt-=ft,yt?lt<-B?lt=-B:lt>0&&(lt=-B+lt%B):lt>B?lt=B:lt<0&&(lt=B+lt%B),k===null&&(k=new o(ut+Math.cos(ft)*pt,vt+Math.sin(ft)*pt,M),z.push(k),rt+=I);rt<1+Ct;)D=lt*rt+ft,L=ut+Math.cos(D)*pt,O=vt+Math.sin(D)*pt,k.points.push(new l(L,O,M)),rt+=I;D=lt+ft,L=ut+Math.cos(D)*pt,O=vt+Math.sin(D)*pt,k.points.push(new l(L,O,M));break}case a.FILL_RECT:{T.batchFillRect(P[++F],P[++F],P[++F],P[++F],w,E);break}case a.FILL_TRIANGLE:{T.batchFillTriangle(P[++F],P[++F],P[++F],P[++F],P[++F],P[++F],w,E);break}case a.STROKE_TRIANGLE:{T.batchStrokeTriangle(P[++F],P[++F],P[++F],P[++F],P[++F],P[++F],M,w,E);break}case a.LINE_TO:{k!==null?k.points.push(new l(P[++F],P[++F],M)):(k=new o(P[++F],P[++F],M),z.push(k));break}case a.MOVE_TO:{k=new o(P[++F],P[++F],M),z.push(k);break}case a.SAVE:{d.push(w.copyToArray());break}case a.RESTORE:{w.copyFromArray(d.pop());break}case a.TRANSLATE:{ut=P[++F],vt=P[++F],w.translate(ut,vt);break}case a.SCALE:{ut=P[++F],vt=P[++F],w.scale(ut,vt);break}case a.ROTATE:{w.rotate(P[++F]);break}}p.pipelines.postBatch(y)}};n.exports=c},26479:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61061),g=s(83419),u=s(51708),h=s(50792),l=s(46710),o=s(95540),d=s(35154),v=s(97022),c=s(41212),p=s(88492),y=s(35072),m=s(68287),C=new g({Extends:h,initialize:function(E,w,P){h.call(this),P?w&&!Array.isArray(w)&&(w=[w]):Array.isArray(w)?c(w[0])&&(P=w,w=null):c(w)&&(P=w,w=null),this.scene=E,this.children=new y,this.isParent=!0,this.type="Group",this.classType=o(P,"classType",m),this.name=o(P,"name",""),this.active=o(P,"active",!0),this.maxSize=o(P,"maxSize",-1),this.defaultKey=o(P,"defaultKey",null),this.defaultFrame=o(P,"defaultFrame",null),this.runChildUpdate=o(P,"runChildUpdate",!1),this.createCallback=o(P,"createCallback",null),this.removeCallback=o(P,"removeCallback",null),this.createMultipleCallback=o(P,"createMultipleCallback",null),this.internalCreateCallback=o(P,"internalCreateCallback",null),this.internalRemoveCallback=o(P,"internalRemoveCallback",null),w&&this.addMultiple(w),P&&this.createMultiple(P),this.on(u.ADDED_TO_SCENE,this.addedToScene,this),this.on(u.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,E,w,P,b,M){if(T===void 0&&(T=0),E===void 0&&(E=0),w===void 0&&(w=this.defaultKey),P===void 0&&(P=this.defaultFrame),b===void 0&&(b=!0),M===void 0&&(M=!0),this.isFull())return null;var A=new this.classType(this.scene,T,E,w,P);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=b,A.setActive(M),this.add(A),A},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var E=[];if(T[0].key)for(var w=0;w<T.length;w++){var P=this.createFromConfig(T[w]);E=E.concat(P)}return E},createFromConfig:function(T){if(this.isFull())return[];this.classType=o(T,"classType",this.classType);var E=o(T,"key",void 0),w=o(T,"frame",null),P=o(T,"visible",!0),b=o(T,"active",!0),M=[];if(E===void 0)return M;Array.isArray(E)||(E=[E]),Array.isArray(w)||(w=[w]);var A=o(T,"repeat",0),R=o(T,"randomKey",!1),L=o(T,"randomFrame",!1),O=o(T,"yoyo",!1),D=o(T,"quantity",!1),I=o(T,"frameQuantity",1),B=o(T,"max",0),G=p(E,w,{max:B,qty:D||I,random:R,randomB:L,repeat:A,yoyo:O});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback),T.internalCreateCallback&&(this.internalCreateCallback=T.internalCreateCallback),T.internalRemoveCallback&&(this.internalRemoveCallback=T.internalRemoveCallback);for(var z=0;z<G.length;z++){var Y=this.create(0,0,G[z].a,G[z].b,P,b);if(!Y)break;M.push(Y)}if(v(T,"setXY")){var H=d(T,"setXY.x",0),k=d(T,"setXY.y",0),U=d(T,"setXY.stepX",0),F=d(T,"setXY.stepY",0);a.SetXY(M,H,k,U,F)}if(v(T,"setRotation")){var N=d(T,"setRotation.value",0),V=d(T,"setRotation.step",0);a.SetRotation(M,N,V)}if(v(T,"setScale")){var $=d(T,"setScale.x",1),X=d(T,"setScale.y",$),j=d(T,"setScale.stepX",0),Q=d(T,"setScale.stepY",0);a.SetScale(M,$,X,j,Q)}if(v(T,"setOrigin")){var K=d(T,"setOrigin.x",.5),q=d(T,"setOrigin.y",K),tt=d(T,"setOrigin.stepX",0),st=d(T,"setOrigin.stepY",0);a.SetOrigin(M,K,q,tt,st)}if(v(T,"setAlpha")){var nt=d(T,"setAlpha.value",1),rt=d(T,"setAlpha.step",0);a.SetAlpha(M,nt,rt)}if(v(T,"setDepth")){var ut=d(T,"setDepth.value",0),vt=d(T,"setDepth.step",0);a.SetDepth(M,ut,vt)}if(v(T,"setScrollFactor")){var pt=d(T,"setScrollFactor.x",1),ft=d(T,"setScrollFactor.y",pt),lt=d(T,"setScrollFactor.stepX",0),yt=d(T,"setScrollFactor.stepY",0);a.SetScrollFactor(M,pt,ft,lt,yt)}var Ct=o(T,"hitArea",null),Rt=o(T,"hitAreaCallback",null);Ct&&a.SetHitArea(M,Ct,Rt);var Dt=o(T,"gridAlign",!1);return Dt&&a.GridAlign(M,Dt),this.createMultipleCallback&&this.createMultipleCallback.call(this,M),M},preUpdate:function(T,E){if(!(!this.runChildUpdate||this.children.size===0))for(var w=this.children.entries.slice(),P=0;P<w.length;P++){var b=w[P];b.active&&b.update(T,E)}},add:function(T,E){return E===void 0&&(E=!1),this.isFull()?this:(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),E&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(u.DESTROY,this.remove,this),this)},addMultiple:function(T,E){if(E===void 0&&(E=!1),Array.isArray(T))for(var w=0;w<T.length;w++)this.add(T[w],E);return this},remove:function(T,E,w){return E===void 0&&(E=!1),w===void 0&&(w=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(u.DESTROY,this.remove,this),w?T.destroy():E&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,E){T===void 0&&(T=!1),E===void 0&&(E=!1);for(var w=this.children,P=0;P<w.size;P++){var b=w.entries[P];b.off(u.DESTROY,this.remove,this),E?b.destroy():T&&(b.removeFromDisplayList(),b.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,E,w,P){return l(this.children.entries,T,E,w,P)},getFirst:function(T,E,w,P,b,M,A){return this.getHandler(!0,1,T,E,w,P,b,M,A)},getFirstNth:function(T,E,w,P,b,M,A,R){return this.getHandler(!0,T,E,w,P,b,M,A,R)},getLast:function(T,E,w,P,b,M,A){return this.getHandler(!1,1,T,E,w,P,b,M,A)},getLastNth:function(T,E,w,P,b,M,A,R){return this.getHandler(!1,T,E,w,P,b,M,A,R)},getHandler:function(T,E,w,P,b,M,A,R,L){w===void 0&&(w=!1),P===void 0&&(P=!1);var O,D,I=0,B=this.children.entries;if(T)for(D=0;D<B.length;D++)if(O=B[D],O.active===w){if(I++,I===E)break}else O=null;else for(D=B.length-1;D>=0;D--)if(O=B[D],O.active===w){if(I++,I===E)break}else O=null;return O?(typeof b=="number"&&(O.x=b),typeof M=="number"&&(O.y=M),O):P?this.create(b,M,A,R,L):null},get:function(T,E,w,P,b){return this.getFirst(!1,!0,T,E,w,P,b)},getFirstAlive:function(T,E,w,P,b,M){return this.getFirst(!0,T,E,w,P,b,M)},getFirstDead:function(T,E,w,P,b,M){return this.getFirst(!1,T,E,w,P,b,M)},playAnimation:function(T,E){return a.PlayAnimation(this.children.entries,T,E),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(T){T===void 0&&(T=!0);for(var E=0,w=0;w<this.children.size;w++)this.children.entries[w].active===T&&E++;return E},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed(),E=this.maxSize===-1?999999999999:this.maxSize;return E-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,E,w,P,b){return a.PropertyValueSet(this.children.entries,T,E,w,P,b),this},propertyValueInc:function(T,E,w,P,b){return a.PropertyValueInc(this.children.entries,T,E,w,P,b),this},setX:function(T,E){return a.SetX(this.children.entries,T,E),this},setY:function(T,E){return a.SetY(this.children.entries,T,E),this},setXY:function(T,E,w,P){return a.SetXY(this.children.entries,T,E,w,P),this},incX:function(T,E){return a.IncX(this.children.entries,T,E),this},incY:function(T,E){return a.IncY(this.children.entries,T,E),this},incXY:function(T,E,w,P){return a.IncXY(this.children.entries,T,E,w,P),this},shiftPosition:function(T,E,w){return a.ShiftPosition(this.children.entries,T,E,w),this},angle:function(T,E){return a.Angle(this.children.entries,T,E),this},rotate:function(T,E){return a.Rotate(this.children.entries,T,E),this},rotateAround:function(T,E){return a.RotateAround(this.children.entries,T,E),this},rotateAroundDistance:function(T,E,w){return a.RotateAroundDistance(this.children.entries,T,E,w),this},setAlpha:function(T,E){return a.SetAlpha(this.children.entries,T,E),this},setTint:function(T,E,w,P){return a.SetTint(this.children.entries,T,E,w,P),this},setOrigin:function(T,E,w,P){return a.SetOrigin(this.children.entries,T,E,w,P),this},scaleX:function(T,E){return a.ScaleX(this.children.entries,T,E),this},scaleY:function(T,E){return a.ScaleY(this.children.entries,T,E),this},scaleXY:function(T,E,w,P){return a.ScaleXY(this.children.entries,T,E,w,P),this},setDepth:function(T,E){return a.SetDepth(this.children.entries,T,E),this},setBlendMode:function(T){return a.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,E){return a.SetHitArea(this.children.entries,T,E),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,E,w){return a.SetVisible(this.children.entries,T,E,w),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(T,E){T===void 0&&(T=!1),E===void 0&&(E=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(u.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(E,T),this.scene=void 0,this.children=void 0)}});n.exports=C},94975:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(26479);a.register("group",function(u){return new g(this.scene,null,u)})},3385:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26479),g=s(39429);g.register("group",function(u,h){return this.updateList.add(new a(this.scene,u,h))})},88571:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(95643),h=s(59819),l=new a({Extends:u,Mixins:[g.Alpha,g.BlendMode,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.TextureCrop,g.Tint,g.Transform,g.Visible,h],initialize:function(d,v,c,p,y){u.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(p,y),this.setPosition(v,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=l},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g.addToRenderList(a),s.batchSprite(a,a.frame,g,u)};n.exports=x},82459:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(88571);g.register("image",function(l,o){l===void 0&&(l={});var d=u(l,"key",null),v=u(l,"frame",null),c=new h(this.scene,0,0,d,v);return o!==void 0&&(l.add=o),a(this.scene,c,l),c})},2117:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(88571),g=s(39429);g.register("image",function(u,h,l,o){return this.displayList.add(new a(this.scene,u,h,l,o))})},59819:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(99517),u=s(40652),n.exports={renderWebGL:g,renderCanvas:u}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g.addToRenderList(a),this.pipeline.batchSprite(a,g,u)};n.exports=x},77856:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:s(51708),DisplayList:s(8050),GameObjectCreator:s(44603),GameObjectFactory:s(39429),UpdateList:s(45027),Components:s(31401),GetCalcMatrix:s(91296),BuildGameObject:s(25305),BuildGameObjectAnimation:s(13059),GameObject:s(95643),BitmapText:s(22186),Blitter:s(6107),Bob:s(46590),Container:s(31559),DOMElement:s(3069),DynamicBitmapText:s(2638),Extern:s(42421),Graphics:s(43831),Group:s(26479),Image:s(88571),Layer:s(93595),Particles:s(18404),PathFollower:s(1159),RenderTexture:s(591),RetroFont:s(196),Rope:s(77757),Sprite:s(68287),Text:s(50171),GetTextSize:s(14220),MeasureText:s(79557),TextStyle:s(35762),TileSprite:s(20839),Zone:s(41481),Video:s(18471),Shape:s(17803),Arc:s(23629),Curve:s(89),Ellipse:s(19921),Grid:s(30479),IsoBox:s(61475),IsoTriangle:s(16933),Line:s(57847),Polygon:s(24949),Rectangle:s(74561),Star:s(55911),Triangle:s(36931),Factories:{Blitter:s(12709),Container:s(24961),DOMElement:s(2611),DynamicBitmapText:s(72566),Extern:s(56315),Graphics:s(1201),Group:s(3385),Image:s(2117),Layer:s(20005),Particles:s(676),PathFollower:s(90145),RenderTexture:s(60505),Rope:s(96819),Sprite:s(46409),StaticBitmapText:s(34914),Text:s(68005),TileSprite:s(91681),Zone:s(84175),Video:s(89025),Arc:s(42563),Curve:s(40511),Ellipse:s(1543),Grid:s(34137),IsoBox:s(3933),IsoTriangle:s(49803),Line:s(2481),Polygon:s(64827),Rectangle:s(87959),Star:s(93697),Triangle:s(45245)},Creators:{Blitter:s(9403),Container:s(77143),DynamicBitmapText:s(11164),Graphics:s(87079),Group:s(94975),Image:s(82459),Layer:s(25179),Particles:s(92730),RenderTexture:s(34495),Rope:s(26209),Sprite:s(15567),StaticBitmapText:s(57336),Text:s(71259),TileSprite:s(14167),Zone:s(95261),Video:s(11511)}};a.Shader=s(20071),a.Mesh=s(4703),a.NineSlice=s(28103),a.PointLight=s(80321),a.Plane=s(33663),a.Factories.Shader=s(74177),a.Factories.Mesh=s(9225),a.Factories.NineSlice=s(47521),a.Factories.PointLight=s(71255),a.Factories.Plane=s(30985),a.Creators.Shader=s(54935),a.Creators.Mesh=s(20527),a.Creators.NineSlice=s(28279),a.Creators.PointLight=s(39829),a.Creators.Plane=s(56015),a.Light=s(41432),a.LightsManager=s(61356),a.LightsPlugin=s(88992),n.exports=a},93595:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(83419),u=s(31401),h=s(53774),l=s(45893),o=s(50792),d=s(51708),v=s(73162),c=s(33963),p=s(44594),y=s(19186),m=new g({Extends:v,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.PostPipeline,u.Visible,o,c],initialize:function(T,E){v.call(this,T),o.call(this),this.scene=T,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=T.sys,this.events=T.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),E&&this.add(E),T.sys.queueDepthSort()},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},setState:function(C){return this.state=C,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(C,T){return this.data||(this.data=new l(this)),this.data.set(C,T),this},incData:function(C,T){return this.data||(this.data=new l(this)),this.data.inc(C,T),this},toggleData:function(C){return this.data||(this.data=new l(this)),this.data.toggle(C),this},getData:function(C){return this.data||(this.data=new l(this)),this.data.get(C)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(C){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&C.id)},getIndexList:function(){for(var C=this,T=this.parentContainer,E=[];T&&(E.unshift(T.getIndex(C)),C=T,T.parentContainer);)T=T.parentContainer;return E.unshift(this.displayList.getIndex(C)),E},addChildCallback:function(C){var T=C.displayList;T&&T!==this&&C.removeFromDisplayList(),C.displayList||(this.queueDepthSort(),C.displayList=this,C.emit(d.ADDED_TO_SCENE,C,this.scene),this.events.emit(p.ADDED_TO_SCENE,C,this.scene))},removeChildCallback:function(C){this.queueDepthSort(),C.displayList=null,C.emit(d.REMOVED_FROM_SCENE,C,this.scene),this.events.emit(p.REMOVED_FROM_SCENE,C,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(y(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(C,T){return C._depth-T._depth},getChildren:function(){return this.list},addToDisplayList:function(C){return C===void 0&&(C=this.scene.sys.displayList),this.displayList&&this.displayList!==C&&this.removeFromDisplayList(),C.exists(this)||(this.displayList=C,C.add(this,!0),C.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),C.events.emit(p.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var C=this.displayList||this.scene.sys.displayList;return C.exists(this)&&(C.remove(this,!0),C.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),C.events.emit(p.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(C){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var T=this.list;T.length;)T[0].destroy(C);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=a.list;if(u.length!==0){a.depthSort();var h=a.blendMode!==-1;h||s.setBlendMode(0);var l=a._alpha;a.mask&&a.mask.preRenderCanvas(s,null,g);for(var o=0;o<u.length;o++){var d=u[o];if(d.willRender(g)){var v=d.alpha;!h&&d.blendMode!==s.currentBlendMode&&s.setBlendMode(d.blendMode),d.setAlpha(v*l),d.renderCanvas(s,d,g),d.setAlpha(v)}}a.mask&&a.mask.postRenderCanvas(s)}};n.exports=x},25179:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(93595),u=s(44603),h=s(23568);u.register("layer",function(l,o){l===void 0&&(l={});var d=h(l,"children",null),v=new g(this.scene,d);return o!==void 0&&(l.add=o),a(this.scene,v,l),v})},20005:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(93595),g=s(39429);g.register("layer",function(u){return this.displayList.add(new a(this.scene,u))})},33963:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(15869),u=s(2956),n.exports={renderWebGL:g,renderCanvas:u}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=a.list,h=u.length;if(h!==0){a.depthSort(),s.pipelines.preBatch(a);var l=a.blendMode!==-1;l||s.setBlendMode(0);for(var o=a.alpha,d=0;d<h;d++){var v=u[d];if(v.willRender(g)){var c,p,y,m;if(v.alphaTopLeft!==void 0)c=v.alphaTopLeft,p=v.alphaTopRight,y=v.alphaBottomLeft,m=v.alphaBottomRight;else{var C=v.alpha;c=C,p=C,y=C,m=C}!l&&v.blendMode!==s.currentBlendMode&&s.setBlendMode(v.blendMode);var T=v.mask;T&&T.preRenderWebGL(s,v,g);var E=v.type;E!==s.currentType&&(s.newType=!0,s.currentType=E),s.nextTypeMatch=d<h-1?u[d+1].type===s.currentType:!1,v.setAlpha(c*o,p*o,y*o,m*o),v.renderWebGL(s,v,g),v.setAlpha(c,p,y,m),T&&T.postRenderWebGL(s,g),s.newType=!1}}s.pipelines.postBatch(a)}};n.exports=x},41432:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=s(83419),u=s(31401),h=s(51767),l=s(70554),o=new g({Extends:a,Mixins:[u.Origin,u.ScrollFactor,u.Visible],initialize:function(v,c,p,y,m,C,T){a.call(this,v,c,p),this.color=new h(y,m,C),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(p)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(o.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var v=l.getFloatsFromUintRGB(d);return this.color.set(v[0],v[1],v[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});o.RENDER_MASK=15,n.exports=o},61356:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81491),g=s(83419),u=s(20339),h=s(41432),l=s(80321),o=s(51767),d=s(19133),v=s(19186),c=s(70554),p=new g({initialize:function(){this.lights=[],this.ambientColor=new o(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(y,m,C,T,E,w){return this.systems.displayList.add(new l(this.scene,y,m,C,T,E,w))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(y){for(var m=this.lights,C=y.worldView,T=[],E=0;E<m.length;E++){var w=m[E];w.willRender(y)&&a(w,C)&&T.push({light:w,distance:u(w.x,w.y,C.centerX,C.centerY)})}return T.length>this.maxLights&&(v(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(y,m){return y.distance>=m.distance},setAmbientColor:function(y){var m=c.getFloatsFromUintRGB(y);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(y,m,C,T,E){y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=128),T===void 0&&(T=16777215),E===void 0&&(E=1);var w=c.getFloatsFromUintRGB(T),P=new h(y,m,C,w[0],w[1],w[2],E);return this.lights.push(P),P},removeLight:function(y){var m=this.lights.indexOf(y);return m>=0&&d(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=p},88992:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(61356),u=s(37277),h=s(44594),l=new a({Extends:g,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(h.BOOT,this.boot,this),g.call(this)},boot:function(){var o=this.systems.events;o.on(h.SHUTDOWN,this.shutdown,this),o.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});u.register("LightsPlugin",l,"lights"),n.exports=l},4703:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(39506),h=s(83997),l=s(95643),o=s(34684),d=s(92515),v=s(91296),c=s(37867),p=s(29807),y=s(43396),m=s(19186),C=s(25836),T=s(39318),E=new a({Extends:l,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Size,g.Texture,g.Transform,g.Visible,p],initialize:function(P,b,M,A,R,L,O,D,I,B,G,z){b===void 0&&(b=0),M===void 0&&(M=0),A===void 0&&(A="__WHITE"),l.call(this,P,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new C,this.modelScale=new C(1,1,1),this.modelRotation=new C,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new c,this.viewPosition=new C,this.viewMatrix=new c,this.projectionMatrix=new c,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=P.sys.renderer;this.setPosition(b,M),this.setTexture(A,R),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),L&&this.addVertices(L,O,D,I,B,G,z)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(w){return this.viewPosition.addScale(C.LEFT,w),this.dirtyCache[10]=1,this},panY:function(w){return this.viewPosition.y+=C.DOWN.y*w,this.dirtyCache[10]=1,this},panZ:function(w){return this.viewPosition.z+=w,this.dirtyCache[10]=1,this},setPerspective:function(w,P,b,M,A){return b===void 0&&(b=45),M===void 0&&(M=.01),A===void 0&&(A=1e3),this.fov=b,this.projectionMatrix.perspective(u(b),w/P,M,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(w,P,b,M){return w===void 0&&(w=this.scene.sys.renderer.getAspectRatio()),P===void 0&&(P=1),b===void 0&&(b=-1e3),M===void 0&&(M=1e3),this.fov=0,this.projectionMatrix.ortho(-w,w,-P,P,b,M),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(w){w.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(w,P,b,M,A,R,L,O,D){var I=this.scene.sys.cache.obj.get(w),B;return I&&(B=o(I,this,P,b,M,A,R,L,O,D)),(!B||B.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",w),this},sortByDepth:function(w,P){return w.depth-P.depth},depthSort:function(){return m(this.faces,this.sortByDepth),this},addVertex:function(w,P,b,M,A,R,L){var O=new T(w,P,b,M,A,R,L);return this.vertices.push(O),O},addFace:function(w,P,b){var M=new h(w,P,b);return this.faces.push(M),this.dirtyCache[9]=-1,M},addVertices:function(w,P,b,M,A,R,L){var O=d(w,P,b,M,A,R,L);return O?(this.faces=this.faces.concat(O.faces),this.vertices=this.vertices.concat(O.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(w){return this.faces[w]},hasFaceAt:function(w,P,b){b===void 0&&(b=this.scene.sys.cameras.main);for(var M=v(this,b).calc,A=this.faces,R=0;R<A.length;R++){var L=A[R];if(L.contains(w,P,M))return!0}return!1},getFaceAt:function(w,P,b){b===void 0&&(b=this.scene.sys.cameras.main);for(var M=v(this,b).calc,A=this.faces,R=[],L=0;L<A.length;L++){var O=A[L];O.contains(w,P,M)&&R.push(O)}return m(R,this.sortByDepth)},setDebug:function(w,P){return this.debugGraphic=w,!w&&!P?this.debugCallback=null:P?this.debugCallback=P:this.debugCallback=this.renderDebug,this},isDirty:function(){var w=this.modelPosition,P=this.modelRotation,b=this.modelScale,M=this.dirtyCache,A=w.x,R=w.y,L=w.z,O=P.x,D=P.y,I=P.z,B=b.x,G=b.y,z=b.z,Y=this.getFaceCount(),H=M[0],k=M[1],U=M[2],F=M[3],N=M[4],V=M[5],$=M[6],X=M[7],j=M[8],Q=M[9];return M[0]=A,M[1]=R,M[2]=L,M[3]=O,M[4]=D,M[5]=I,M[6]=B,M[7]=G,M[8]=z,M[9]=Y,H!==A||k!==R||U!==L||F!==O||N!==D||V!==I||$!==B||X!==G||j!==z||Q!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var w=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!w[10]&&!this.isDirty())){var P=this.width,b=this.height,M=this.viewMatrix,A=this.viewPosition;w[10]&&(M.identity(),M.translate(A),M.invert(),w[10]=0);var R=this.transformMatrix;R.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var L=A.z,O=this.faces,D=0;D<O.length;D++)O[D].transformCoordinatesLocal(R,P,b,L);this.depthSort()}},renderDebug:function(w,P){for(var b=w.debugGraphic,M=0;M<P.length;M++){var A=P[M],R=A.vertex1.tx,L=A.vertex1.ty,O=A.vertex2.tx,D=A.vertex2.ty,I=A.vertex3.tx,B=A.vertex3.ty;b.strokeTriangle(R,L,O,D,I,B)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(w){w===void 0&&(w={});var P=(function(b,M,A){for(var R=this.faces,L=0;L<R.length;L++){var O=R[L];if(O.contains(M,A))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,w,P),this},setTint:function(w){w===void 0&&(w=16777215);for(var P=this.vertices,b=0;b<P.length;b++)P[b].color=w;return this},uvScroll:function(w,P){for(var b=this.faces,M=0;M<b.length;M++)b[M].scrollUV(w,P);return this},uvScale:function(w,P){for(var b=this.faces,M=0;M<b.length;M++)b[M].scaleUV(w,P);return this},tint:{set:function(w){this.setTint(w)}},rotateX:{get:function(){return y(this.modelRotation.x)},set:function(w){this.modelRotation.x=u(w)}},rotateY:{get:function(){return y(this.modelRotation.y)},set:function(w){this.modelRotation.y=u(w)}},rotateZ:{get:function(){return y(this.modelRotation.z)},set:function(w){this.modelRotation.z=u(w)}}});n.exports=E},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};n.exports=x},20527:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(35154),l=s(4703);g.register("mesh",function(o,d){o===void 0&&(o={});var v=u(o,"key",null),c=u(o,"frame",null),p=h(o,"vertices",[]),y=h(o,"uvs",[]),m=h(o,"indicies",[]),C=h(o,"containsZ",!1),T=h(o,"normals",[]),E=h(o,"colors",16777215),w=h(o,"alphas",1),P=new l(this.scene,0,0,v,c,p,y,m,C,T,E,w);return d!==void 0&&(o.add=d),a(this.scene,P,o),P})},9225:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4703),g=s(39429);g.register("mesh",function(u,h,l,o,d,v,c,p,y,m,C){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c,p,y,m,C))})},29807:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(48833),u=s(36488),n.exports={renderWebGL:g,renderCanvas:u}},48833:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(u,h,l,o){var d=h.faces,v=d.length;if(v!==0){l.addToRenderList(h);var c=u.pipelines.set(h.pipeline,h),p=a(h,l,o).calc;u.pipelines.preBatch(h);for(var y=c.setGameObject(h),m=c.vertexViewF32,C=c.vertexViewU32,T=c.vertexCount*c.currentShader.vertexComponentCount-1,E=h.tintFill,w=[],P=h.debugCallback,b=p.a,M=p.b,A=p.c,R=p.d,L=p.e,O=p.f,D=h.viewPosition.z,I=h.hideCCW,B=l.roundPixels,G=l.alpha*h.alpha,z=0,Y=0;Y<v;Y++){var H=d[Y];H.isInView(l,I,D,G,b,M,A,R,L,O,B)&&(c.shouldFlush(3)&&(c.flush(),y=c.setGameObject(h),T=0),T=H.load(m,C,T,y,E),z++,c.vertexCount+=3,c.currentBatch.count=c.vertexCount-c.currentBatch.start,P&&w.push(H))}h.totalFrame+=z,P&&P.call(h,h,w),u.pipelines.postBatch(h)}};n.exports=g},28103:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(95643),h=s(78023),l=s(39318),o=new a({Extends:u,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,h],initialize:function(v,c,p,y,m,C,T,E,w,P,b){u.call(this,v,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var M=v.textures.getFrame(y,m);this.is3Slice=!P&&!b,M.scale9&&(this.is3Slice=M.is3Slice);for(var A=this.is3Slice?18:54,R=0;R<A;R++)this.vertices.push(new l);this.setPosition(c,p),this.setTexture(y,m),this.setSlices(C,T,E,w,P,b,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,v,c,p,y,m,C){c===void 0&&(c=10),p===void 0&&(p=10),y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=!1);var T=this.frame,E=!1;if(this.is3Slice&&C&&y!==0&&m!==0&&(E=!0),E)console.warn("Cannot change 9 slice to 3 slice");else{if(T.scale9&&!C){var w=T.data.scale9Borders,P=w.x,b=w.y;c=P,p=T.width-w.w-P,y=b,m=T.height-w.h-b,d===void 0&&(d=T.width),v===void 0&&(v=T.height)}else d===void 0&&(d=256),v===void 0&&(v=256);this._width=d,this._height=v,this.leftWidth=c,this.rightWidth=p,this.topHeight=y,this.bottomHeight=m,this.is3Slice&&(v=T.height,this._height=v,this.topHeight=v,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,v=this.rightWidth,c=this.topHeight,p=this.bottomHeight,y=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,d/y,c/m),this.updateQuadUVs(6,d/y,0,1-v/y,c/m),this.updateQuadUVs(12,1-v/y,0,1,c/m),this.is3Slice||(this.updateQuadUVs(18,0,c/m,d/y,1-p/m),this.updateQuadUVs(24,d/y,c/m,1-v/y,1-p/m),this.updateQuadUVs(30,1-v/y,c/m,1,1-p/m),this.updateQuadUVs(36,0,1-p/m,d/y,1),this.updateQuadUVs(42,d/y,1-p/m,1-v/y,1),this.updateQuadUVs(48,1-v/y,1-p/m,1,1))},updateVertices:function(){var d=this.leftWidth,v=this.rightWidth,c=this.topHeight,p=this.bottomHeight,y=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+d/y,.5-c/m),this.updateQuad(6,-.5+d/y,.5,.5-v/y,.5-c/m),this.updateQuad(12,.5-v/y,.5,.5,.5-c/m),this.is3Slice||(this.updateQuad(18,-.5,.5-c/m,-.5+d/y,-.5+p/m),this.updateQuad(24,-.5+d/y,.5-c/m,.5-v/y,-.5+p/m),this.updateQuad(30,.5-v/y,.5-c/m,.5,-.5+p/m),this.updateQuad(36,-.5,-.5+p/m,-.5+d/y,-.5),this.updateQuad(42,-.5+d/y,-.5+p/m,.5-v/y,-.5),this.updateQuad(48,.5-v/y,-.5+p/m,.5,-.5))},updateQuad:function(d,v,c,p,y){var m=this.width,C=this.height,T=this.originX,E=this.originY,w=this.vertices;w[d+0].resize(v,c,m,C,T,E),w[d+1].resize(v,y,m,C,T,E),w[d+2].resize(p,c,m,C,T,E),w[d+3].resize(v,y,m,C,T,E),w[d+4].resize(p,y,m,C,T,E),w[d+5].resize(p,c,m,C,T,E)},updateQuadUVs:function(d,v,c,p,y){var m=this.vertices,C=this.frame,T=C.u0,E=C.v0,w=C.u1,P=C.v1;if(T!==0||w!==1){var b=w-T;v=T+v*b,p=T+p*b}if(E!==0||P!==1){var M=P-E;c=E+c*M,y=E+y*M}m[d+0].setUVs(v,c),m[d+1].setUVs(v,y),m[d+2].setUVs(p,c),m[d+3].setUVs(v,y),m[d+4].setUVs(p,y),m[d+5].setUVs(p,c)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,v){this.width=d,this.height=v,this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this},setDisplaySize:function(d,v){return this.displayWidth=d,this.displayHeight=v,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,v){return d===void 0&&(d=.5),v===void 0&&(v=d),this._originX=d,this._originY=v,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=o},28279:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(35154),l=s(28103);g.register("nineslice",function(o,d){o===void 0&&(o={});var v=u(o,"key",null),c=u(o,"frame",null),p=h(o,"width",256),y=h(o,"height",256),m=h(o,"leftWidth",10),C=h(o,"rightWidth",10),T=h(o,"topHeight",0),E=h(o,"bottomHeight",0),w=new l(this.scene,0,0,v,c,p,y,m,C,T,E);return d!==void 0&&(o.add=d),a(this.scene,w,o),w})},47521:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28103),g=s(39429);g.register("nineslice",function(u,h,l,o,d,v,c,p,y,m){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c,p,y,m))})},78023:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(52230),n.exports={renderWebGL:g,renderCanvas:u}},52230:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),u=function(h,l,o,d){var v=l.vertices,c=v.length;if(c!==0){o.addToRenderList(l);var p=h.pipelines.set(l.pipeline,l),y=a(l,o,d,!1).calc;h.pipelines.preBatch(l);var m=p.setGameObject(l),C=p.vertexViewF32,T=p.vertexViewU32,E=p.vertexCount*p.currentShader.vertexComponentCount-1,w=o.roundPixels,P=l.tintFill,b=o.alpha*l.alpha,M=g.getTintAppendFloatAlpha(l.tint,b),A=p.vertexAvailable(),R=-1;A<c&&(R=A);for(var L=0;L<c;L++){var O=v[L];L===R&&(p.flush(),m=p.setGameObject(l),E=0),C[++E]=y.getXRound(O.vx,O.vy,w),C[++E]=y.getYRound(O.vx,O.vy,w),C[++E]=O.u,C[++E]=O.v,C[++E]=m,C[++E]=P,T[++E]=M,p.vertexCount++,p.currentBatch.count=p.vertexCount-p.currentBatch.start}h.pipelines.postBatch(l)}};n.exports=u},76472:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(44777),u=s(37589),h=s(6113),l=s(91389),o=s(90664),d=new a({Extends:g,initialize:function(c){g.call(this,c,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var v=this.propertyValue,c=v,p=this.defaultEmit,y=this.defaultUpdate;if(this.method===9){this.start=v[0],this.ease=h("Linear"),this.interpolation=l("linear"),p=this.easedValueEmit,y=this.easeValueUpdate,c=v[0],this.active=!0;for(var m=0;m<v.length;m++){var C=o(v[m]);this.r.push(C.r),this.g.push(C.g),this.b.push(C.b)}}return this.onEmit=p,this.onUpdate=y,this.current=c,this},setEase:function(v){this.easeName=v,this.ease=h(v)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(v,c,p){var y=this.ease(p),m=this.interpolation(this.r,y),C=this.interpolation(this.g,y),T=this.interpolation(this.b,y),E=u(m,C,T);return this.current=E,E}});n.exports=d},44777:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(45319),u=s(83419),h=s(99472),l=s(6113),o=s(95540),d=s(91389),v=s(77720),c=s(15994),p=new u({initialize:function(m,C,T){T===void 0&&(T=!1),this.propertyKey=m,this.propertyValue=C,this.defaultValue=C,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(y,m){y===void 0&&(y={}),m&&(this.propertyKey=m),this.propertyValue=o(y,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(y){var m;switch(this.method){case 1:case 3:case 8:m=y;break;case 2:this.propertyValue.indexOf(y)>=0&&(m=y);break;case 4:var C=(this.end-this.start)/this.steps;m=v(y,C),this.counter=m;break;case 5:case 6:case 7:m=g(y,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},getMethod:function(){var y=this.propertyValue;if(y===null)return 0;var m=typeof y;if(m==="number")return 1;if(Array.isArray(y))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(y,"start","end"))return this.has(y,"steps")?4:5;if(this.hasBoth(y,"min","max"))return 6;if(this.has(y,"random"))return 7;if(this.hasEither(y,"onEmit","onUpdate"))return 8;if(this.hasEither(y,"values","interpolation"))return 9}return 0},setMethods:function(){var y=this.propertyValue,m=y,C=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:C=this.staticValueEmit;break;case 2:C=this.randomStaticValueEmit,m=y[0];break;case 3:this._onEmit=y,C=this.proxyEmit;break;case 4:this.start=y.start,this.end=y.end,this.steps=y.steps,this.counter=this.start,this.yoyo=this.has(y,"yoyo")?y.yoyo:!1,this.direction=0,C=this.steppedEmit,m=this.start;break;case 5:this.start=y.start,this.end=y.end;var E=this.has(y,"ease")?y.ease:"Linear";this.ease=l(E,y.easeParams),C=this.has(y,"random")&&y.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,m=this.start;break;case 6:this.start=y.min,this.end=y.max,C=this.has(y,"int")&&y.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var w=y.random;Array.isArray(w)&&(this.start=w[0],this.end=w[1]),C=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(y,"onEmit")?y.onEmit:this.defaultEmit,this._onUpdate=this.has(y,"onUpdate")?y.onUpdate:this.defaultUpdate,C=this.proxyEmit,T=this.proxyUpdate;break;case 9:this.start=y.values;var P=this.has(y,"ease")?y.ease:"Linear";this.ease=l(P,y.easeParams),this.interpolation=d(y.interpolation),C=this.easedValueEmit,T=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=C,this.onUpdate=T,this.current=m,this},has:function(y,m){return y.hasOwnProperty(m)},hasBoth:function(y,m,C){return y.hasOwnProperty(m)&&y.hasOwnProperty(C)},hasEither:function(y,m,C){return y.hasOwnProperty(m)||y.hasOwnProperty(C)},defaultEmit:function(y,m,C){return C},defaultUpdate:function(y,m,C,T){return T},proxyEmit:function(y,m,C){var T=this._onEmit(y,m,C);return this.current=T,T},proxyUpdate:function(y,m,C,T){var E=this._onUpdate(y,m,C,T);return this.current=E,E},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var y=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[y],this.current},randomRangedValueEmit:function(y,m){var C=h(this.start,this.end);return y&&y.data[m]&&(y.data[m].min=C,y.data[m].max=this.end),this.current=C,C},randomRangedIntEmit:function(y,m){var C=a(this.start,this.end);return y&&y.data[m]&&(y.data[m].min=C,y.data[m].max=this.end),this.current=C,C},steppedEmit:function(){var y=this.counter,m=y,C=(this.end-this.start)/this.steps;if(this.yoyo){var T;this.direction===0?(m+=C,m>=this.end&&(T=m-this.end,m=this.end-T,this.direction=1)):(m-=C,m<=this.start&&(T=this.start-m,m=this.start+T,this.direction=0)),this.counter=m}else this.counter=c(m+C,this.start,this.end);return this.current=y,y},easedValueEmit:function(y,m){if(y&&y.data[m]){var C=y.data[m];C.min=this.start,C.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(y,m,C){var T=y.data[m],E,w=this.ease(C);return this.interpolation?E=this.interpolation(this.start,w):E=(T.max-T.min)*w+T.min,this.current=E,E},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=p},24502:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(20286),h=new a({Extends:u,initialize:function(o,d,v,c,p){if(typeof o=="object"){var y=o;o=g(y,"x",0),d=g(y,"y",0),v=g(y,"power",0),c=g(y,"epsilon",100),p=g(y,"gravity",50)}else o===void 0&&(o=0),d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=100),p===void 0&&(p=50);u.call(this,o,d,!0),this._gravity=p,this._power=v*p,this._epsilon=c*c},update:function(l,o){var d=this.x-l.x,v=this.y-l.y,c=d*d+v*v;if(c!==0){var p=Math.sqrt(c);c<this._epsilon&&(c=this._epsilon);var y=this._power*o/(c*p)*100;l.velocityX+=d*y,l.velocityY+=v*y}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var o=this.power;this._gravity=l,this.power=o}}});n.exports=h},56480:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(45319),u=s(83419),h=s(39506),l=s(87841),o=s(11520),d=s(26099),v=new u({initialize:function(p){this.emitter=p,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=p.scene,this.anims=new a(this),this.bounds=new l},emit:function(c,p,y,m,C,T){return this.emitter.emit(c,p,y,m,C,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(c,p){c===void 0&&(c=0),p===void 0&&(p=0),this.x=c,this.y=p},fire:function(c,p){var y=this.emitter,m=y.ops,C=y.getAnim();if(C?this.anims.play(C):(this.frame=y.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(y.getEmitZone(this),c===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=c+m.x.onEmit(this,"x"):this.x+=c,p===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=p+m.y.onEmit(this,"y"):this.y+=p,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),y.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&y.getDeathZone(this))return this.lifeCurrent=0,!1;var T=m.speedX.onEmit(this,"speedX"),E=m.speedY.active?m.speedY.onEmit(this,"speedY"):T;if(y.radial){var w=h(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(w)*Math.abs(T),this.velocityY=Math.sin(w)*Math.abs(E)}else if(y.moveTo){var P=m.moveToX.onEmit(this,"moveToX"),b=m.moveToY.onEmit(this,"moveToY"),M=this.life/1e3;this.velocityX=(P-this.x)/M,this.velocityY=(b-this.y)/M}else this.velocityX=T,this.velocityY=E;return y.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},update:function(c,p,y){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=c,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=c,!1;this.anims.update(0,c);var m=this.emitter,C=m.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=C.x.onUpdate(this,"x",T,this.x),this.y=C.y.onUpdate(this,"y",T,this.y),m.moveTo){var E=C.moveToX.onUpdate(this,"moveToX",T,m.moveToX),w=C.moveToY.onUpdate(this,"moveToY",T,m.moveToY),P=this.lifeCurrent/1e3;this.velocityX=(E-this.x)/P,this.velocityY=(w-this.y)/P}return this.computeVelocity(m,c,p,y,T),this.scaleX=C.scaleX.onUpdate(this,"scaleX",T,this.scaleX),C.scaleY.active?this.scaleY=C.scaleY.onUpdate(this,"scaleY",T,this.scaleY):this.scaleY=this.scaleX,this.angle=C.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=h(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=g(C.alpha.onUpdate(this,"alpha",T,this.alpha),0,1),C.color.active?this.tint=C.color.onUpdate(this,"color",T,this.tint):this.tint=C.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=c,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(c,p,y,m,C){var T=c.ops,E=this.velocityX,w=this.velocityY,P=T.accelerationX.onUpdate(this,"accelerationX",C,this.accelerationX),b=T.accelerationY.onUpdate(this,"accelerationY",C,this.accelerationY),M=T.maxVelocityX.onUpdate(this,"maxVelocityX",C,this.maxVelocityX),A=T.maxVelocityY.onUpdate(this,"maxVelocityY",C,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",C,this.bounce),E+=c.gravityX*y+P*y,w+=c.gravityY*y+b*y,E=g(E,-M,M),w=g(w,-A,A),this.velocityX=E,this.velocityY=w,this.x+=E*y,this.y+=w*y,c.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var R=0;R<m.length;R++){var L=m[R];L.active&&L.update(this,p,y,C)}},setSizeToFrame:function(){},getBounds:function(c){c===void 0&&(c=this.emitter.getWorldTransformMatrix());var p=Math.abs(c.scaleX)*this.scaleX,y=Math.abs(c.scaleY)*this.scaleY,m=this.x,C=this.y,T=this.rotation,E=this.frame.width*p/2,w=this.frame.height*y/2,P=this.bounds,b=new d(m-E,C-w),M=new d(m+E,C-w),A=new d(m-E,C+w),R=new d(m+E,C+w);return T!==0&&(o(b,m,C,T),o(M,m,C,T),o(A,m,C,T),o(R,m,C,T)),c.transformPoint(b.x,b.y,b),c.transformPoint(M.x,M.y,M),c.transformPoint(A.x,A.y,A),c.transformPoint(R.x,R.y,R),P.x=Math.min(b.x,M.x,A.x,R.x),P.y=Math.min(b.y,M.y,A.y,R.y),P.width=Math.max(b.x,M.x,A.x,R.x)-P.x,P.height=Math.max(b.y,M.y,A.y,R.y)-P.y,P},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=v},69601:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(20286),u=s(87841),h=new a({Extends:g,initialize:function(o,d,v,c,p,y,m,C){p===void 0&&(p=!0),y===void 0&&(y=!0),m===void 0&&(m=!0),C===void 0&&(C=!0),g.call(this,o,d,!0),this.bounds=new u(o,d,v,c),this.collideLeft=p,this.collideRight=y,this.collideTop=m,this.collideBottom=C},update:function(l){var o=this.bounds,d=-l.bounce,v=l.worldPosition;v.x<o.x&&this.collideLeft?(l.x+=o.x-v.x,l.velocityX*=d):v.x>o.right&&this.collideRight&&(l.x-=v.x-o.right,l.velocityX*=d),v.y<o.y&&this.collideTop?(l.y+=o.y-v.y,l.velocityY*=d):v.y>o.bottom&&this.collideBottom&&(l.y-=v.y-o.bottom,l.velocityY*=d)}});n.exports=h},31600:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(53774),h=s(43459),l=s(26388),o=s(19909),d=s(76472),v=s(44777),c=s(20696),p=s(95643),y=s(95540),m=s(26546),C=s(24502),T=s(1985),E=s(97022),w=s(86091),P=s(73162),b=s(20074),M=s(56480),A=s(68875),R=s(87841),L=s(59996),O=s(72905),D=s(90668),I=s(19186),B=s(61340),G=s(26099),z=s(15994),Y=s(69601),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],k=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],U=new a({Extends:p,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Texture,g.Transform,g.Visible,D],initialize:function(N,V,$,X,j){p.call(this,N,"ParticleEmitter"),this.particleClass=M,this.ops={accelerationX:new v("accelerationX",0),accelerationY:new v("accelerationY",0),alpha:new v("alpha",1),angle:new v("angle",{min:0,max:360},!0),bounce:new v("bounce",0),color:new d("color"),delay:new v("delay",0,!0),hold:new v("hold",0,!0),lifespan:new v("lifespan",1e3,!0),maxVelocityX:new v("maxVelocityX",1e4),maxVelocityY:new v("maxVelocityY",1e4),moveToX:new v("moveToX",0),moveToY:new v("moveToY",0),quantity:new v("quantity",1,!0),rotate:new v("rotate",0),scaleX:new v("scaleX",1),scaleY:new v("scaleY",1),speedX:new v("speedX",0,!0),speedY:new v("speedY",0,!0),tint:new v("tint",16777215),x:new v("x",0),y:new v("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new G,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new B,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new P(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(V,$),this.setTexture(X),j&&this.setConfig(j)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(F){if(!F)return this;var N=0,V="",$=this.ops;for(N=0;N<k.length;N++)V=k[N],$[V].loadConfig(F);for(N=0;N<H.length;N++)V=H[N],E(F,V)&&(this[V]=y(F,V));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,E(F,"speed")&&($.speedX.loadConfig(F,"speed"),$.speedY.active=!1),(T(F,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),E(F,"scale")&&($.scaleX.loadConfig(F,"scale"),$.scaleY.active=!1),E(F,"callbackScope")){var X=y(F,"callbackScope",null);this.emitCallbackScope=X,this.deathCallbackScope=X}if(E(F,"emitZone")&&this.addEmitZone(F.emitZone),E(F,"deathZone")&&this.addDeathZone(F.deathZone),E(F,"bounds")){var j=this.addParticleBounds(F.bounds);j.collideLeft=y(F,"collideLeft",!0),j.collideRight=y(F,"collideRight",!0),j.collideTop=y(F,"collideTop",!0),j.collideBottom=y(F,"collideBottom",!0)}return E(F,"followOffset")&&this.followOffset.setFromObject(y(F,"followOffset",0)),E(F,"texture")&&this.setTexture(F.texture),E(F,"frame")?this.setEmitterFrame(F.frame):E(F,"anim")&&this.setAnim(F.anim),E(F,"reserve")&&this.reserve(F.reserve),E(F,"advance")&&this.fastForward(F.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(c.START,this),this},toJSON:function(){var F=u(this),N=0,V="";for(N=0;N<H.length;N++)V=H[N],F[V]=this[V];var $=this.ops;for(N=0;N<k.length;N++)V=k[N],$[V]&&(F[V]=$[V].toJSON());return $.speedY.active||(delete F.speedX,F.speed=$.speedX.toJSON()),this.scaleX===this.scaleY&&(delete F.scaleX,delete F.scaleY,F.scale=$.scaleX.toJSON()),F},resetCounters:function(F,N){var V=this.counters;V.fill(0),V[0]=F,N&&(V[5]=1)},startFollow:function(F,N,V,$){return N===void 0&&(N=0),V===void 0&&(V=0),$===void 0&&($=!1),this.follow=F,this.followOffset.set(N,V),this.trackVisible=$,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var F=this.frames,N=F.length,V;return N===1?V=F[0]:this.randomFrame?V=m(F):(V=F[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===N&&(this.currentFrame=0))),this.texture.get(V)},setEmitterFrame:function(F,N,V){N===void 0&&(N=!0),V===void 0&&(V=1),this.randomFrame=N,this.frameQuantity=V,this.currentFrame=0;var $=typeof F;if(this.frames.length=0,Array.isArray(F))this.frames=this.frames.concat(F);else if($==="string"||$==="number")this.frames.push(F);else if($==="object"){var X=F;F=y(X,"frames",null),F&&(this.frames=this.frames.concat(F));var j=y(X,"cycle",!1);this.randomFrame=!j,this.frameQuantity=y(X,"quantity",V)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var F=this.anims,N=F.length;if(N===0)return null;if(N===1)return F[0];if(this.randomAnim)return m(F);var V=F[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=z(this.currentAnim+1,0,N)),V},setAnim:function(F,N,V){N===void 0&&(N=!0),V===void 0&&(V=1),this.randomAnim=N,this.animQuantity=V,this.currentAnim=0;var $=typeof F;if(this.anims.length=0,Array.isArray(F))this.anims=this.anims.concat(F);else if($==="string")this.anims.push(F);else if($==="object"){var X=F;F=y(X,"anims",null),F&&(this.anims=this.anims.concat(F));var j=y(X,"cycle",!1);this.randomAnim=!j,this.animQuantity=y(X,"quantity",V)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(F){return F===void 0&&(F=!0),this.radial=F,this},addParticleBounds:function(F,N,V,$,X,j,Q,K){if(typeof F=="object"){var q=F;F=q.x,N=q.y,V=E(q,"w")?q.w:q.width,$=E(q,"h")?q.h:q.height}return this.addParticleProcessor(new Y(F,N,V,$,X,j,Q,K))},setParticleSpeed:function(F,N){return N===void 0&&(N=F),this.ops.speedX.onChange(F),F===N?this.ops.speedY.active=!1:this.ops.speedY.onChange(N),this.radial=!0,this},setParticleScale:function(F,N){return F===void 0&&(F=1),N===void 0&&(N=F),this.ops.scaleX.onChange(F),this.ops.scaleY.onChange(N),this},setParticleGravity:function(F,N){return this.gravityX=F,this.gravityY=N,this},setParticleAlpha:function(F){return this.ops.alpha.onChange(F),this},setParticleTint:function(F){return this.ops.tint.onChange(F),this},setEmitterAngle:function(F){return this.ops.angle.onChange(F),this},setParticleLifespan:function(F){return this.ops.lifespan.onChange(F),this},setQuantity:function(F){return this.quantity=F,this},setFrequency:function(F,N){return this.frequency=F,this.flowCounter=F>0?F:0,N&&(this.quantity=N),this},addDeathZone:function(F){Array.isArray(F)||(F=[F]);for(var N,V=[],$=0;$<F.length;$++)if(N=F[$],N instanceof l)V.push(N);else if(typeof N.contains=="function")N=new l(N,!0),V.push(N);else{var X=y(N,"type","onEnter"),j=y(N,"source",null);if(j&&typeof j.contains=="function"){var Q=X==="onEnter";N=new l(j,Q),V.push(N)}}return this.deathZones=this.deathZones.concat(V),V},removeDeathZone:function(F){return O(this.deathZones,F),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(F){Array.isArray(F)||(F=[F]);for(var N,V=[],$=0;$<F.length;$++)if(N=F[$],N instanceof A||N instanceof o)V.push(N);else{var X=y(N,"source",null);if(X){var j=y(N,"type","random");if(j==="random"&&typeof X.getRandomPoint=="function")N=new A(X),V.push(N);else if(j==="edge"&&typeof X.getPoints=="function"){var Q=y(N,"quantity",1),K=y(N,"stepRate",0),q=y(N,"yoyo",!1),tt=y(N,"seamless",!0),st=y(N,"total",-1);N=new o(X,Q,K,q,tt,st),V.push(N)}}}return this.emitZones=this.emitZones.concat(V),V},removeEmitZone:function(F){return O(this.emitZones,F),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(F){var N=this.emitZones,V=N.length;if(V!==0){var $=N[this.zoneIndex];$.getPoint(F),$.total>-1&&(this.zoneTotal++,this.zoneTotal===$.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===V&&(this.zoneIndex=0)))}},getDeathZone:function(F){for(var N=this.deathZones,V=0;V<N.length;V++){var $=N[V];if($.willKill(F))return this.emit(c.DEATH_ZONE,this,F,$),!0}return!1},setEmitZone:function(F){var N;return isFinite(F)?N=F:N=this.emitZones.indexOf(F),N>=0&&(this.zoneIndex=N),this},addParticleProcessor:function(F){return this.processors.exists(F)||(F.emitter&&F.emitter.removeParticleProcessor(F),this.processors.add(F),F.emitter=this),F},removeParticleProcessor:function(F){return this.processors.exists(F)&&(this.processors.remove(F,!0),F.emitter=null),F},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(F){return this.addParticleProcessor(new C(F))},reserve:function(F){var N=this.dead;if(this.maxParticles>0){var V=this.getParticleCount();V+F>this.maxParticles&&(F=this.maxParticles-(V+F))}for(var $=0;$<F;$++)N.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(F,N){return F===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof F=="function"&&(this.emitCallback=F,N&&(this.emitCallbackScope=N)),this},onParticleDeath:function(F,N){return F===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof F=="function"&&(this.deathCallback=F,N&&(this.deathCallbackScope=N)),this},killAll:function(){for(var F=this.dead,N=this.alive;N.length>0;)F.push(N.pop());return this},forEachAlive:function(F,N){for(var V=this.alive,$=V.length,X=0;X<$;X++)F.call(N,V[X],this);return this},forEachDead:function(F,N){for(var V=this.dead,$=V.length,X=0;X<$;X++)F.call(N,V[X],this);return this},start:function(F,N){return F===void 0&&(F=0),this.emitting||(F>0&&this.fastForward(F),this.emitting=!0,this.resetCounters(this.frequency,!0),N!==void 0&&(this.duration=Math.abs(N)),this.emit(c.START,this)),this},stop:function(F){return F===void 0&&(F=!1),this.emitting&&(this.emitting=!1,F&&this.killAll(),this.emit(c.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(F,N){return F===void 0&&(F=""),N===void 0&&(N=this.true),this.sortProperty=F,this.sortOrderAsc=N,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(F){return this.sortProperty!==""?F=this.depthSortCallback:F=null,this.sortCallback=F,this},depthSort:function(){return I(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(F,N){var V=this.sortProperty;return this.sortOrderAsc?F[V]-N[V]:N[V]-F[V]},flow:function(F,N,V){return N===void 0&&(N=1),this.emitting=!1,this.frequency=F,this.quantity=N,V!==void 0&&(this.stopAfter=V),this.start()},explode:function(F,N,V){this.frequency=-1,this.resetCounters(-1,!0);var $=this.emitParticle(F,N,V);return this.emit(c.EXPLODE,this,$),$},emitParticleAt:function(F,N,V){return this.emitParticle(V,F,N)},emitParticle:function(F,N,V){if(!this.atLimit()){F===void 0&&(F=this.ops.quantity.onEmit());for(var $=this.dead,X=this.stopAfter,j=this.follow?this.follow.x+this.followOffset.x:N,Q=this.follow?this.follow.y+this.followOffset.y:V,K=0;K<F;K++){var q=$.pop();if(q||(q=new this.particleClass(this)),q.fire(j,Q)?(this.particleBringToTop?this.alive.push(q):this.alive.unshift(q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,q,this)):this.dead.push(q),X>0&&(this.stopCounter++,this.stopCounter>=X)||this.atLimit())break}return q}},fastForward:function(F,N){N===void 0&&(N=1e3/60);var V=0;for(this.skipping=!0;V<Math.abs(F);)this.preUpdate(0,N),V+=N;return this.skipping=!1,this},preUpdate:function(F,N){N*=this.timeScale;var V=N/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var $=this.getProcessors(),X=this.alive,j=this.dead,Q=0,K=[],q=X.length;for(Q=0;Q<q;Q++){var tt=X[Q];tt.update(N,V,$)&&K.push({index:Q,particle:tt})}if(q=K.length,q>0){var st=this.deathCallback,nt=this.deathCallbackScope;for(Q=q-1;Q>=0;Q--){var rt=K[Q];X.splice(rt.index,1),j.push(rt.particle),st&&st.call(nt,rt.particle),rt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&X.length===0&&(this.completeFlag=0,this.emit(c.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=N;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=N,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(F){for(var N=this.getWorldTransformMatrix(),V=this.alive,$=V.length,X=[],j=0;j<$;j++){var Q=V[j];L(F,Q.getBounds(N))&&X.push(Q)}return X},getBounds:function(F,N,V,$){F===void 0&&(F=0),N===void 0&&(N=0),V===void 0&&(V=1e3/60),$===void 0&&($=new R);var X=this.getWorldTransformMatrix(),j,Q,K=this.alive,q=!1;if($.setTo(0,0,0,0),N>0){var tt=0;for(this.skipping=!0;tt<Math.abs(N);){for(this.preUpdate(0,V),j=0;j<K.length;j++)Q=K[j].getBounds(X),q?b($,Q):(q=!0,h(Q,$));tt+=V}this.skipping=!1}else for(j=0;j<K.length;j++)Q=K[j].getBounds(X),q?b($,Q):(q=!0,h(Q,$));return F>0&&w($,F,F),$},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(F){this.ops.x.onChange(F)}},particleY:{get:function(){return this.ops.y.current},set:function(F){this.ops.y.onChange(F)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(F){this.ops.accelerationX.onChange(F)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(F){this.ops.accelerationY.onChange(F)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(F){this.ops.maxVelocityX.onChange(F)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(F){this.ops.maxVelocityY.onChange(F)}},speed:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F),this.ops.speedY.onChange(F)}},speedX:{get:function(){return this.ops.speedX.current},set:function(F){this.ops.speedX.onChange(F)}},speedY:{get:function(){return this.ops.speedY.current},set:function(F){this.ops.speedY.onChange(F)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(F){this.ops.moveToX.onChange(F)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(F){this.ops.moveToY.onChange(F)}},bounce:{get:function(){return this.ops.bounce.current},set:function(F){this.ops.bounce.onChange(F)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(F){this.ops.scaleX.onChange(F)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(F){this.ops.scaleY.onChange(F)}},particleColor:{get:function(){return this.ops.color.current},set:function(F){this.ops.color.onChange(F)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(F){this.ops.color.setEase(F)}},particleTint:{get:function(){return this.ops.tint.current},set:function(F){this.ops.tint.onChange(F)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(F){this.ops.alpha.onChange(F)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(F){this.ops.lifespan.onChange(F)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(F){this.ops.angle.onChange(F)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(F){this.ops.rotate.onChange(F)}},quantity:{get:function(){return this.ops.quantity.current},set:function(F){this.ops.quantity.onChange(F)}},delay:{get:function(){return this.ops.delay.current},set:function(F){this.ops.delay.onChange(F)}},hold:{get:function(){return this.ops.hold.current},set:function(F){this.ops.hold.onChange(F)}},flowCounter:{get:function(){return this.counters[0]},set:function(F){this.counters[0]=F}},frameCounter:{get:function(){return this.counters[1]},set:function(F){this.counters[1]=F}},animCounter:{get:function(){return this.counters[2]},set:function(F){this.counters[2]=F}},elapsed:{get:function(){return this.counters[3]},set:function(F){this.counters[3]=F}},stopCounter:{get:function(){return this.counters[4]},set:function(F){this.counters[4]=F}},completeFlag:{get:function(){return this.counters[5]},set:function(F){this.counters[5]=F}},zoneIndex:{get:function(){return this.counters[6]},set:function(F){this.counters[6]=F}},zoneTotal:{get:function(){return this.counters[7]},set:function(F){this.counters[7]=F}},currentFrame:{get:function(){return this.counters[8]},set:function(F){this.counters[8]=F}},currentAnim:{get:function(){return this.counters[9]},set:function(F){this.counters[9]=F}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var F,N=this.ops;for(F=0;F<k.length;F++){var V=k[F];N[V].destroy()}for(F=0;F<this.alive.length;F++)this.alive[F].destroy();for(F=0;F<this.dead.length;F++)this.dead[F].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=U},9871:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(59996),g=s(61340),u=new g,h=new g,l=new g,o=new g,d=function(v,c,p,y){var m=u,C=h,T=l,E=o;y?(E.loadIdentity(),E.multiply(y),E.translate(c.x,c.y),E.rotate(c.rotation),E.scale(c.scaleX,c.scaleY)):E.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var w=v.currentContext,P=p.roundPixels,b=p.alpha,M=c.alpha,A=c.alive,R=A.length,L=c.viewBounds;if(!(!c.visible||R===0||L&&!a(L,p.worldView))){c.sortCallback&&c.depthSort(),p.addToRenderList(c);var O=c.scrollFactorX,D=c.scrollFactorY;w.save(),w.globalCompositeOperation=v.blendModes[c.blendMode];for(var I=0;I<R;I++){var B=A[I],G=B.alpha*M*b;if(!(G<=0||B.scaleX===0||B.scaleY===0)){T.applyITRS(B.x,B.y,B.rotation,B.scaleX,B.scaleY),m.copyFrom(p.matrix),m.multiplyWithOffset(E,-p.scrollX*O,-p.scrollY*D),T.e=B.x,T.f=B.y,m.multiply(T,C);var z=B.frame,Y=z.canvasData;if(Y.width>0&&Y.height>0){var H=-z.halfWidth,k=-z.halfHeight;w.globalAlpha=G,w.save(),C.setToContext(w),P&&(H=Math.round(H),k=Math.round(k)),w.imageSmoothingEnabled=!z.source.scaleMode,w.drawImage(z.source.image,Y.x,Y.y,Y.width,Y.height,H,k,Y.width,Y.height),w.restore()}}}w.restore()}};n.exports=d},92730:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(95540),l=s(31600);g.register("particles",function(o,d){o===void 0&&(o={});var v=u(o,"key",null),c=h(o,"config",null),p=new l(this.scene,0,0,v);return d!==void 0&&(o.add=d),a(this.scene,p,o),c&&p.setConfig(c),p})},676:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(31600);a.register("particles",function(u,h,l,o){return u!==void 0&&typeof u=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new g(this.scene,u,h,l,o))})},90668:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(21188),u=s(9871),n.exports={renderWebGL:g,renderCanvas:u}},21188:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(59996),g=s(61340),u=s(70554),h=new g,l=new g,o=new g,d=new g,v=function(c,p,y,m){var C=c.pipelines.set(p.pipeline),T=h,E=l,w=o,P=d;m?(P.loadIdentity(),P.multiply(m),P.translate(p.x,p.y),P.rotate(p.rotation),P.scale(p.scaleX,p.scaleY)):P.applyITRS(p.x,p.y,p.rotation,p.scaleX,p.scaleY);var b=u.getTintAppendFloatAlpha,M=y.alpha,A=p.alpha;c.pipelines.preBatch(p);var R=p.alive,L=R.length,O=p.viewBounds;if(!(L===0||O&&!a(O,y.worldView))){p.sortCallback&&p.depthSort(),y.addToRenderList(p),T.copyFrom(y.matrix),T.multiplyWithOffset(P,-y.scrollX*p.scrollFactorX,-y.scrollY*p.scrollFactorY),c.setBlendMode(p.blendMode),p.mask&&(p.mask.preRenderWebGL(c,p,y),c.pipelines.set(p.pipeline));for(var D=p.tintFill,I,B,G=0;G<L;G++){var z=R[G],Y=z.alpha*A*M;if(!(Y<=0||z.scaleX===0||z.scaleY===0)){w.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),w.e=z.x,w.f=z.y,T.multiply(w,E);var H=z.frame;H.glTexture!==B&&(B=H.glTexture,I=C.setGameObject(p,H));var k=-H.halfWidth,U=-H.halfHeight,F=E.setQuad(k,U,k+H.width,U+H.height),N=b(z.tint,Y);C.shouldFlush(6)&&(C.flush(),I=C.setGameObject(p,H)),C.batchQuad(p,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],H.u0,H.v0,H.u1,H.v1,N,N,N,N,D,B,I)}}p.mask&&p.mask.postRenderWebGL(c,y),c.pipelines.postBatch(p)}};n.exports=v},20286:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){h===void 0&&(h=0),l===void 0&&(l=0),o===void 0&&(o=!0),this.emitter,this.x=h,this.y=l,this.active=o},update:function(){},destroy:function(){this.emitter=null}});n.exports=g},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(9774),DEATH_ZONE:s(812),EXPLODE:s(30522),START:s(96695),STOP:s(18677)}},18404:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:s(76472),EmitterOp:s(44777),Events:s(20696),GravityWell:s(24502),Particle:s(56480),ParticleBounds:s(69601),ParticleEmitter:s(31600),ParticleProcessor:s(20286),Zones:s(21024)}},26388:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.source=h,this.killOnEnter=l},willKill:function(u){var h=u.worldPosition,l=this.source.contains(h.x,h.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});n.exports=g},19909:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d,v,c){d===void 0&&(d=!1),v===void 0&&(v=!0),c===void 0&&(c=-1),this.source=h,this.points=[],this.quantity=l,this.stepRate=o,this.yoyo=d,this.counter=-1,this.seamless=v,this._length=0,this._direction=0,this.total=c,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var u=this.points[0],h=this.points[this.points.length-1];u.x===h.x&&u.y===h.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(u){return this.source=u,this.updateSource()},getPoint:function(u){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(u.x=h.x,u.y=h.y)}});n.exports=g},68875:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),u=new a({initialize:function(l){this.source=l,this._tempVec=new g,this.total=-1},getPoint:function(h){var l=this._tempVec;this.source.getRandomPoint(l),h.x=l.x,h.y=l.y}});n.exports=u},21024:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:s(26388),EdgeZone:s(19909),RandomZone:s(68875)}},1159:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(68287),h=new a({Extends:u,Mixins:[g.PathFollower],initialize:function(o,d,v,c,p,y){u.call(this,o,v,c,p,y),this.path=d},preUpdate:function(l,o){this.anims.update(l,o),this.pathUpdate(l)}});n.exports=h},90145:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(1159);a.register("follower",function(u,h,l,o,d){var v=new g(this.scene,u,h,l,o,d);return this.displayList.add(v),this.updateList.add(v),v})},33663:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),u=s(48803),h=s(90664),l=s(4703),o=s(45650),d=new g({Extends:l,initialize:function(c,p,y,m,C,T,E,w){m||(m="__DEFAULT"),l.call(this,c,p,y,m,C),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,E,w),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(v,c,p){v===void 0&&(v=8),c===void 0&&(c=8),p===void 0&&(p=!1);var y=!1;return p&&(y=!0),this.gridWidth=v,this.gridHeight=c,this.isTiled=p,this.clear(),u({mesh:this,widthSegments:v,heightSegments:c,isOrtho:!1,tile:p,flipY:y}),this},setSizeToFrame:function(v){v===void 0&&(v=!0);var c=this.frame;if(this.setPerspective(this.width/c.width,this.height/c.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!v)return this;var p=this.gridWidth,y=this.gridHeight,m=this.vertices,C=c.u0,T=c.u1,E=c.v0,w=c.v1,P,b,M=0;if(this.isTiled)for(E=c.v1,w=c.v0,b=0;b<y;b++)for(P=0;P<p;P++)m[M++].setUVs(C,w),m[M++].setUVs(C,E),m[M++].setUVs(T,w),m[M++].setUVs(C,E),m[M++].setUVs(T,E),m[M++].setUVs(T,w);else{var A=p+1,R=y+1,L=T-C,O=w-E,D=[];for(b=0;b<R;b++)for(P=0;P<A;P++){var I=C+L*(P/p),B=E+O*(b/y);D.push(I,B)}for(b=0;b<y;b++)for(P=0;P<p;P++){var G=(P+A*b)*2,z=(P+A*(b+1))*2,Y=(P+1+A*(b+1))*2,H=(P+1+A*b)*2;m[M++].setUVs(D[G],D[G+1]),m[M++].setUVs(D[z],D[z+1]),m[M++].setUVs(D[H],D[H+1]),m[M++].setUVs(D[z],D[z+1]),m[M++].setUVs(D[Y],D[Y+1]),m[M++].setUVs(D[H],D[H+1])}}return this},setViewHeight:function(v){v===void 0&&(v=this.frame.height);var c=this.fov*(Math.PI/180);this.viewPosition.z=this.height/v/Math.tan(c/2),this.dirtyCache[10]=1},createCheckerboard:function(v,c,p,y,m){v===void 0&&(v=16777215),c===void 0&&(c=255),p===void 0&&(p=255),y===void 0&&(y=255),m===void 0&&(m=128);for(var C=h(v),T=h(c),E=[],w=0;w<16;w++)for(var P=0;P<16;P++)w<8&&P<8||w>7&&P>7?E.push(C.r,C.g,C.b,p):E.push(T.r,T.g,T.b,y);var b=this.scene.sys.textures.addUint8Array(o(),new Uint8Array(E),16,16);return this.removeCheckerboard(),this.setTexture(b),this.setSizeToFrame(),this.setViewHeight(m),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(v,c){return this.anims.play(v,c)},playReverse:function(v,c){return this.anims.playReverse(v,c)},playAfterDelay:function(v,c){return this.anims.playAfterDelay(v,c)},playAfterRepeat:function(v,c){return this.anims.playAfterRepeat(v,c)},stop:function(){return this.anims.stop()},stopAfterDelay:function(v){return this.anims.stopAfterDelay(v)},stopAfterRepeat:function(v){return this.anims.stopAfterRepeat(v)},stopOnFrame:function(v){return this.anims.stopOnFrame(v)},preUpdate:function(v,c){l.prototype.preUpdate.call(this,v,c),this.anims.update(v,c)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=d},56015:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(13059),u=s(44603),h=s(23568),l=s(35154),o=s(33663);u.register("plane",function(d,v){d===void 0&&(d={});var c=h(d,"key",null),p=h(d,"frame",null),y=l(d,"width",8),m=l(d,"height",8),C=l(d,"tile",!1),T=new o(this.scene,0,0,c,p,y,m,C);v!==void 0&&(d.add=v);var E=l(d,"checkerboard",null);if(E){var w=l(E,"color1",16777215),P=l(E,"color2",255),b=l(E,"alpha1",255),M=l(E,"alpha2",255),A=l(E,"height",128);T.createCheckerboard(w,P,b,M,A)}return a(this.scene,T,d),g(T,d),T})},30985:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33663),g=s(39429);g.register("plane",function(u,h,l,o,d,v,c){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c))})},80321:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(95643),h=s(30100),l=s(36060),o=s(67277),d=new a({Extends:u,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.Mask,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible,o],initialize:function(c,p,y,m,C,T,E){m===void 0&&(m=16777215),C===void 0&&(C=128),T===void 0&&(T=1),E===void 0&&(E=.1),u.call(this,c,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(p,y),this.color=h(m),this.intensity=T,this.attenuation=E,this.width=C*2,this.height=C*2,this._radius=C},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this.width=v*2,this.height=v*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=d},39829:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(80321);g.register("pointlight",function(l,o){l===void 0&&(l={});var d=u(l,"color",16777215),v=u(l,"radius",128),c=u(l,"intensity",1),p=u(l,"attenuation",.1),y=new h(this.scene,0,0,d,v,c,p);return o!==void 0&&(l.add=o),a(this.scene,y,l),y})},71255:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(80321);a.register("pointlight",function(u,h,l,o,d,v){return this.displayList.add(new g(this.scene,u,h,l,o,d,v))})},67277:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(57787),n.exports={renderWebGL:g,renderCanvas:u}},57787:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(u,h,l,o){l.addToRenderList(h);var d=u.pipelines.set(h.pipeline),v=a(h,l,o).calc,c=h.width,p=h.height,y=-h._radius,m=-h._radius,C=y+c,T=m+p,E=v.getX(0,0),w=v.getY(0,0),P=v.getX(y,m),b=v.getY(y,m),M=v.getX(y,T),A=v.getY(y,T),R=v.getX(C,T),L=v.getY(C,T),O=v.getX(C,m),D=v.getY(C,m);u.pipelines.preBatch(h),d.batchPointLight(h,l,P,b,M,A,R,L,O,D,E,w),u.pipelines.postBatch(h)};n.exports=g},591:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(81320),u=s(88571),h=new a({Extends:u,initialize:function(o,d,v,c,p){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=32),p===void 0&&(p=32);var y=new g(o.sys.textures,"",c,p);u.call(this,o,d,v,y),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,o){this.width=l,this.height=o,this.texture.setSize(l,o),this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=l,d.hitArea.height=o),this},resize:function(l,o){return this.setSize(l,o),this},saveTexture:function(l){var o=this.texture;return o.key=l,o.manager.addDynamicTexture(o)&&(this._saved=!0),o},fill:function(l,o,d,v,c,p){return this.texture.fill(l,o,d,v,c,p),this},clear:function(){return this.texture.clear(),this},stamp:function(l,o,d,v,c){return this.texture.stamp(l,o,d,v,c),this},erase:function(l,o,d){return this.texture.erase(l,o,d),this},draw:function(l,o,d,v,c){return this.texture.draw(l,o,d,v,c),this},drawFrame:function(l,o,d,v,c,p){return this.texture.drawFrame(l,o,d,v,c,p),this},repeat:function(l,o,d,v,c,p,y,m,C){return this.texture.repeat(l,o,d,v,c,p,y,m,C),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,o,d,v,c){return this.texture.batchDraw(l,o,d,v,c),this},batchDrawFrame:function(l,o,d,v,c,p){return this.texture.batchDrawFrame(l,o,d,v,c,p),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,o,d,v,c,p,y){return this.texture.snapshotArea(l,o,d,v,c,p,y),this},snapshot:function(l,o,d){return this.snapshotArea(0,0,this.width,this.height,l,o,d)},snapshotPixel:function(l,o,d){return this.snapshotArea(l,o,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=h},34495:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(591);g.register("renderTexture",function(l,o){l===void 0&&(l={});var d=u(l,"x",0),v=u(l,"y",0),c=u(l,"width",32),p=u(l,"height",32),y=new h(this.scene,d,v,c,p);return o!==void 0&&(l.add=o),a(this.scene,y,l),y})},60505:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(591);a.register("renderTexture",function(u,h,l,o){return this.displayList.add(new g(this.scene,u,h,l,o))})},77757:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),u=s(31401),h=s(95643),l=s(36060),o=s(38745),d=s(26099),v=new g({Extends:h,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Flip,u.Mask,u.Pipeline,u.PostPipeline,u.Size,u.Texture,u.Transform,u.Visible,u.ScrollFactor,o],initialize:function(p,y,m,C,T,E,w,P,b){C===void 0&&(C="__DEFAULT"),E===void 0&&(E=2),w===void 0&&(w=!0),h.call(this,p,"Rope"),this.anims=new a(this),this.points=E,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=C==="__DEFAULT",this.dirty=!1,this.horizontal=w,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(C,T),this.setPosition(y,m),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(E)&&this.resizeArrays(E.length),this.setPoints(E,P,b),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(c,p){var y=this.anims.currentFrame;this.anims.update(c,p),this.anims.currentFrame!==y&&(this.updateUVs(),this.updateVertices())},play:function(c,p,y){return this.anims.play(c,p,y),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(c,p,y){return c===void 0&&(c=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(c,p,y))},setVertical:function(c,p,y){return c===void 0&&(c=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(c,p,y)):this},setTintFill:function(c){return c===void 0&&(c=!1),this.tintFill=c,this},setAlphas:function(c,p){var y=this.points.length;if(y<1)return this;var m=this.alphas;c===void 0?c=[1]:!Array.isArray(c)&&p===void 0&&(c=[c]);var C,T=0;if(p!==void 0)for(C=0;C<y;C++)T=C*2,m[T]=c,m[T+1]=p;else if(c.length===y)for(C=0;C<y;C++)T=C*2,m[T]=c[C],m[T+1]=c[C];else{var E=c[0];for(C=0;C<y;C++)T=C*2,c.length>T&&(E=c[T]),m[T]=E,c.length>T+1&&(E=c[T+1]),m[T+1]=E}return this},setColors:function(c){var p=this.points.length;if(p<1)return this;var y=this.colors;c===void 0?c=[16777215]:Array.isArray(c)||(c=[c]);var m,C=0;if(c.length===p)for(m=0;m<p;m++)C=m*2,y[C]=c[m],y[C+1]=c[m];else{var T=c[0];for(m=0;m<p;m++)C=m*2,c.length>C&&(T=c[C]),y[C]=T,c.length>C+1&&(T=c[C+1]),y[C+1]=T}return this},setPoints:function(c,p,y){if(c===void 0&&(c=2),typeof c=="number"){var m=c;m<2&&(m=2),c=[];var C,T,E;if(this.horizontal)for(E=-this.frame.halfWidth,T=this.frame.width/(m-1),C=0;C<m;C++)c.push({x:E+C*T,y:0});else for(E=-this.frame.halfHeight,T=this.frame.height/(m-1),C=0;C<m;C++)c.push({x:0,y:E+C*T})}var w=c.length,P=this.points.length;return w<1?(console.warn("Rope: Not enough points given"),this):(w===1&&(c.unshift({x:0,y:0}),w++),P!==w&&this.resizeArrays(w),this.dirty=!0,this.points=c,this.updateUVs(),p!=null&&this.setColors(p),y!=null&&this.setAlphas(y),this)},updateUVs:function(){for(var c=this.uv,p=this.points.length,y=this.frame.u0,m=this.frame.v0,C=this.frame.u1,T=this.frame.v1,E=(C-y)/(p-1),w=(T-m)/(p-1),P=0;P<p;P++){var b=P*4,M,A,R,L;this.horizontal?(this._flipX?(M=C-P*E,R=C-P*E):(M=y+P*E,R=y+P*E),this._flipY?(A=T,L=m):(A=m,L=T)):(this._flipX?(M=y,R=C):(M=C,R=y),this._flipY?(A=T-P*w,L=T-P*w):(A=m+P*w,L=m+P*w)),c[b+0]=M,c[b+1]=A,c[b+2]=R,c[b+3]=L}return this},resizeArrays:function(c){var p=this.colors,y=this.alphas;this.vertices=new Float32Array(c*4),this.uv=new Float32Array(c*4),p=new Uint32Array(c*2),y=new Float32Array(c*2);for(var m=0;m<c*2;m++)p[m]=16777215,y[m]=1;return this.colors=p,this.alphas=y,this.dirty=!0,this},updateVertices:function(){var c=this._perp,p=this.points,y=this.vertices,m=p.length;if(this.dirty=!1,!(m<1)){for(var C,T=p[0],E=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,w=0;w<m;w++){var P=p[w],b=w*4;w<m-1?C=p[w+1]:C=P,c.x=C.y-T.y,c.y=-(C.x-T.x);var M=c.length();c.x/=M,c.y/=M,c.x*=E,c.y*=E,y[b]=P.x+c.x,y[b+1]=P.y+c.y,y[b+2]=P.x-c.x,y[b+3]=P.y-c.y,T=P}return this}},setDebug:function(c,p){return this.debugGraphic=c,!c&&!p?this.debugCallback=null:p?this.debugCallback=p:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(c,p,y){var m=c.debugGraphic,C=y[0],T=y[1],E=y[2],w=y[3];m.lineBetween(C,T,E,w);for(var P=4;P<p;P+=4){var b=y[P+0],M=y[P+1],A=y[P+2],R=y[P+3];m.lineBetween(C,T,b,M),m.lineBetween(E,w,A,R),m.lineBetween(E,w,b,M),m.lineBetween(b,M,A,R),C=b,T=M,E=A,w=R}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(c){return this._flipX=c,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(c){return this._flipY=c,this.updateUVs()}}});n.exports=v},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};n.exports=x},26209:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(35154),l=s(77757);g.register("rope",function(o,d){o===void 0&&(o={});var v=u(o,"key",null),c=u(o,"frame",null),p=u(o,"horizontal",!0),y=h(o,"points",void 0),m=h(o,"colors",void 0),C=h(o,"alphas",void 0),T=new l(this.scene,0,0,v,c,y,p,m,C);return d!==void 0&&(o.add=d),a(this.scene,T,o),T})},96819:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(77757),g=s(39429);g.register("rope",function(u,h,l,o,d,v,c,p){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c,p))})},38745:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(20439),u=s(95262),n.exports={renderWebGL:g,renderCanvas:u}},20439:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),u=function(h,l,o,d){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline,l),c=a(l,o,d).calc,p=l.vertices,y=l.uv,m=l.colors,C=l.alphas,T=l.alpha,E=g.getTintAppendFloatAlpha,w=o.roundPixels,P=p.length,b=Math.floor(P*.5);v.flush(),h.pipelines.preBatch(l);var M=v.setGameObject(l),A=v.vertexViewF32,R=v.vertexViewU32,L=v.vertexCount*v.currentShader.vertexComponentCount-1,O=0,D=l.tintFill;l.dirty&&l.updateVertices();for(var I=l.debugCallback,B=[],G=0;G<P;G+=2){var z=p[G+0],Y=p[G+1],H=z*c.a+Y*c.c+c.e,k=z*c.b+Y*c.d+c.f;w&&(H=Math.round(H),k=Math.round(k)),A[++L]=H,A[++L]=k,A[++L]=y[G+0],A[++L]=y[G+1],A[++L]=M,A[++L]=D,R[++L]=E(m[O],o.alpha*(C[O]*T)),O++,I&&(B[G+0]=H,B[G+1]=k)}I&&I.call(l,l,P,B),v.vertexCount+=b,v.currentBatch.count=v.vertexCount-v.currentBatch.start,h.pipelines.postBatch(l)};n.exports=u},20071:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(95643),h=s(95540),l=s(79291),o=s(61622),d=s(25479),v=s(61340),c=s(95428),p=s(92503),y=new a({Extends:u,Mixins:[g.ComputedSize,g.Depth,g.GetBounds,g.Mask,g.Origin,g.ScrollFactor,g.Transform,g.Visible,d],initialize:function(C,T,E,w,P,b,M,A){E===void 0&&(E=0),w===void 0&&(w=0),P===void 0&&(P=128),b===void 0&&(b=128),u.call(this,C,"Shader"),this.blendMode=-1,this.shader;var R=C.sys.renderer;this.renderer=R,this.gl=R.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=R.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new v,this._tempMatrix2=new v,this._tempMatrix3=new v,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=R.width,this._rendererHeight=R.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(E,w),this.setSize(P,b),this.setOrigin(.5,.5),this.setShader(T,M,A),this.renderer.on(p.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(m){return this.renderToTexture?!0:!(u.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},setRenderToTexture:function(m,C){if(!this.renderToTexture){var T=this.width,E=this.height,w=this.renderer;this.glTexture=w.createTextureFromSource(null,T,E,0),this.framebuffer=w.createFramebuffer(T,E,this.glTexture,!1),this._rendererWidth=T,this._rendererHeight=E,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(w.pipelines.clear(),this.load(),this.flush(),w.pipelines.rebind()),this},setShader:function(m,C,T){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:C,textureData:T},this;if(C===void 0&&(C=[]),typeof m=="string"){var E=this.scene.sys.cache.shader;if(!E.has(m))return console.warn("Shader missing: "+m),this;this.shader=E.get(m)}else this.shader=m;var w=this.gl,P=this.renderer;this.program&&P.deleteProgram(this.program);var b=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);w.uniformMatrix4fv(w.getUniformLocation(b.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),w.uniformMatrix4fv(w.getUniformLocation(b.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),w.uniform2f(w.getUniformLocation(b.webGLProgram,"uResolution"),this.width,this.height),this.program=b;var M=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[M.getFullYear(),M.getMonth(),M.getDate(),M.getHours()*60*60+M.getMinutes()*60+M.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var R=0;R<4;R++)C[R]&&this.setSampler2D("iChannel"+R,C[R],R,T);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(m){return this.pointer=m,this},projOrtho:function(m,C,T,E){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:C,bottom:T,top:E};return}var w=-1e3,P=1e3,b=1/(m-C),M=1/(T-E),A=1/(w-P),R=this.projectionMatrix;R[0]=-2*b,R[5]=-2*M,R[10]=2*A,R[12]=(m+C)*b,R[13]=(E+T)*M,R[14]=(P+w)*A;var L=this.program,O=this.gl,D=this.renderer;D.setProgram(L),O.uniformMatrix4fv(O.getUniformLocation(L.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=C,this._rendererHeight=T},initUniforms:function(){var m=this.renderer.glFuncMap,C=this.program;this._textureCount=0;for(var T in this.uniforms){var E=this.uniforms[T],w=E.type,P=m[w];E.uniformLocation=this.renderer.createUniformLocation(C,T),w!=="sampler2D"&&(E.glMatrix=P.matrix,E.glValueLength=P.length,E.glFunc=P.func)}},setSampler2DBuffer:function(m,C,T,E,w,P){w===void 0&&(w=0),P===void 0&&(P={});var b=this.uniforms[m];return b.value=C,P.width=T,P.height=E,b.textureData=P,this._textureCount=w,this.initSampler2D(b),this},setSampler2D:function(m,C,T,E){T===void 0&&(T=0);var w=this.scene.sys.textures;if(w.exists(C)){var P=w.getFrame(C);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,P.glTexture,P.width,P.height,T,E);var b=this.uniforms[m],M=P.source;b.textureKey=C,b.source=M.image,b.value=P.glTexture,M.isGLTexture&&(E||(E={}),E.width=M.width,E.height=M.height),E&&(b.textureData=E),this._textureCount=T,this.initSampler2D(b)}return this},setUniform:function(m,C){return o(this.uniforms,m,C),this},getUniform:function(m){return h(this.uniforms,m,null)},setChannel0:function(m,C){return this.setSampler2D("iChannel0",m,0,C)},setChannel1:function(m,C){return this.setSampler2D("iChannel1",m,1,C)},setChannel2:function(m,C){return this.setSampler2D("iChannel2",m,2,C)},setChannel3:function(m,C){return this.setSampler2D("iChannel3",m,3,C)},initSampler2D:function(m){if(m.value){var C=m.textureData;if(C&&!m.value.isRenderTexture){var T=this.gl,E=m.value,w=T[h(C,"magFilter","linear").toUpperCase()],P=T[h(C,"minFilter","linear").toUpperCase()],b=T[h(C,"wrapS","repeat").toUpperCase()],M=T[h(C,"wrapT","repeat").toUpperCase()],A=T[h(C,"format","rgba").toUpperCase()],R=h(C,"flipY",!1),L=h(C,"width",E.width),O=h(C,"height",E.height),D=h(C,"source",E.pixels);C.repeat&&(b=T.REPEAT,M=T.REPEAT),C.width&&(D=null),E.update(D,L,O,R,b,M,P,w,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var m=this.gl,C=this.uniforms,T,E,w,P,b,M=0;for(var A in C)T=C[A],w=T.glFunc,E=T.glValueLength,P=T.uniformLocation,b=T.value,b!==null&&(E===1?T.glMatrix?w.call(m,P.webGLUniformLocation,T.transpose,b):w.call(m,P.webGLUniformLocation,b):E===2?w.call(m,P.webGLUniformLocation,b.x,b.y):E===3?w.call(m,P.webGLUniformLocation,b.x,b.y,b.z):E===4?w.call(m,P.webGLUniformLocation,b.x,b.y,b.z,b.w):T.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+M),m.bindTexture(m.TEXTURE_2D,b.webGLTexture),m.uniform1i(P.webGLUniformLocation,M),M++))},load:function(m){var C=this.gl,T=this.width,E=this.height,w=this.renderer,P=this.program,b=this.viewMatrix;if(!this.renderToTexture){var M=-this._displayOriginX,A=-this._displayOriginY;b[0]=m[0],b[1]=m[1],b[4]=m[2],b[5]=m[3],b[8]=m[4],b[9]=m[5],b[12]=b[0]*M+b[4]*A,b[13]=b[1]*M+b[5]*A}C.useProgram(P.webGLProgram),C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uViewMatrix"),!1,b),C.uniformMatrix4fv(C.getUniformLocation(P.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),C.uniform2f(C.getUniformLocation(P.webGLProgram,"uResolution"),this.width,this.height);var R=this.uniforms,L=R.resolution;L.value.x=T,L.value.y=E,R.time.value=w.game.loop.getDuration();var O=this.pointer;if(O){var D=R.mouse,I=O.x/T,B=1-O.y/E;D.value.x=I.toFixed(2),D.value.y=B.toFixed(2)}this.syncUniforms()},flush:function(){var m=this.width,C=this.height,T=this.program,E=this.gl,w=this.vertexBuffer,P=this.renderer,b=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT)),E.bindBuffer(E.ARRAY_BUFFER,w.webGLBuffer);var M=E.getAttribLocation(T.webGLProgram,"inPosition");M!==-1&&(E.enableVertexAttribArray(M),E.vertexAttribPointer(M,2,E.FLOAT,!1,b,0));var A=this.vertexViewF32;A[3]=C,A[4]=m,A[5]=C,A[8]=m,A[9]=C,A[10]=m;var R=6;E.bufferSubData(E.ARRAY_BUFFER,0,this.bytes.subarray(0,R*b)),E.drawArrays(E.TRIANGLES,0,R),this.renderToTexture&&P.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,C=this._deferSetShader.textures,T=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,C,T)}if(this._deferProjOrtho!==null){var E=this._deferProjOrtho.left,w=this._deferProjOrtho.right,P=this._deferProjOrtho.bottom,b=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(E,w,P,b)}},preDestroy:function(){var m=this.renderer;m.off(p.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),c(this.uniforms,function(C){m.deleteUniformLocation(C.uniformLocation),C.uniformLocation=null})}});n.exports=y},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};n.exports=x},54935:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(20071);g.register("shader",function(l,o){l===void 0&&(l={});var d=u(l,"key",null),v=u(l,"x",0),c=u(l,"y",0),p=u(l,"width",128),y=u(l,"height",128),m=new h(this.scene,d,v,c,p,y);return o!==void 0&&(l.add=o),a(this.scene,m,l),m})},74177:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20071),g=s(39429);g.register("shader",function(u,h,l,o,d,v,c){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c))})},25479:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(19257),u=s(80464),n.exports={renderWebGL:g,renderCanvas:u}},19257:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(u,h,l,o){if(h.shader){if(l.addToRenderList(h),u.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var d=a(h,l,o).calc;(u.width!==h._rendererWidth||u.height!==h._rendererHeight)&&h.projOrtho(0,u.width,u.height,0),h.load(d.matrix),h.flush()}u.pipelines.rebind()}};n.exports=g},10441:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(u,h,l,o,d,v){for(var c=a.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*o),p=l.pathData,y=l.pathIndexes,m=0;m<y.length;m+=3){var C=y[m]*2,T=y[m+1]*2,E=y[m+2]*2,w=p[C+0]-d,P=p[C+1]-v,b=p[T+0]-d,M=p[T+1]-v,A=p[E+0]-d,R=p[E+1]-v,L=h.getX(w,P),O=h.getY(w,P),D=h.getX(b,M),I=h.getY(b,M),B=h.getX(A,R),G=h.getY(A,R);u.batchTri(l,L,O,D,I,B,G,0,0,1,1,c,c,c,2)}};n.exports=g},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=g||a.fillColor,l=u||a.fillAlpha,o=(h&16711680)>>>16,d=(h&65280)>>>8,v=h&255;s.fillStyle="rgba("+o+","+d+","+v+","+l+")"};n.exports=x},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=g||a.strokeColor,l=u||a.strokeAlpha,o=(h&16711680)>>>16,d=(h&65280)>>>8,v=h&255;s.strokeStyle="rgba("+o+","+d+","+v+","+l+")",s.lineWidth=a.lineWidth};n.exports=x},17803:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(95643),h=s(23031),l=new a({Extends:u,Mixins:[g.AlphaSingle,g.BlendMode,g.Depth,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.PostPipeline,g.ScrollFactor,g.Transform,g.Visible],initialize:function(d,v,c){v===void 0&&(v="Shape"),u.call(this,d,v),this.geom=c,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(o,d){return d===void 0&&(d=1),o===void 0?this.isFilled=!1:(this.fillColor=o,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(o,d,v){return v===void 0&&(v=1),o===void 0?this.isStroked=!1:(this.lineWidth=o,this.strokeColor=d,this.strokeAlpha=v,this.isStroked=!0),this},setClosePath:function(o){return this.closePath=o,this},setSize:function(o,d){return this.width=o,this.height=d,this},setDisplaySize:function(o,d){return this.displayWidth=o,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(o){this.scaleX=o/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(o){this.scaleY=o/this.height}}});n.exports=l},34682:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(u,h,l,o,d){var v=u.strokeTint,c=a.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*l);v.TL=c,v.TR=c,v.BL=c,v.BR=c;var p=h.pathData,y=p.length-1,m=h.lineWidth,C=m/2,T=p[0]-o,E=p[1]-d;h.closePath||(y-=2);for(var w=2;w<y;w+=2){var P=p[w]-o,b=p[w+1]-d;u.batchLine(T,E,P,b,C,C,m,w-2,h.closePath?w===y-1:!1),T=P,E=b}};n.exports=g},23629:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13609),g=s(83419),u=s(39506),h=s(94811),l=s(96503),o=s(36383),d=s(17803),v=new g({Extends:d,Mixins:[a],initialize:function(p,y,m,C,T,E,w,P,b){y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=128),T===void 0&&(T=0),E===void 0&&(E=360),w===void 0&&(w=!1),d.call(this,p,"Arc",new l(0,0,C)),this._startAngle=T,this._endAngle=E,this._anticlockwise=w,this._iterations=.01,this.setPosition(y,m);var M=this.geom.radius*2;this.setSize(M,M),P!==void 0&&this.setFillStyle(P,b),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(c){this._iterations=c,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(c){this.geom.radius=c;var p=c*2;this.setSize(p,p),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(c){this._startAngle=c,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(c){this._endAngle=c,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(c){this._anticlockwise=c,this.updateData()}},setRadius:function(c){return this.radius=c,this},setIterations:function(c){return c===void 0&&(c=.01),this.iterations=c,this},setStartAngle:function(c,p){return this._startAngle=c,p!==void 0&&(this._anticlockwise=p),this.updateData()},setEndAngle:function(c,p){return this._endAngle=c,p!==void 0&&(this._anticlockwise=p),this.updateData()},updateData:function(){var c=this._iterations,p=c,y=this.geom.radius,m=u(this._startAngle),C=u(this._endAngle),T=this._anticlockwise,E=y,w=y;C-=m,T?C<-o.PI2?C=-o.PI2:C>0&&(C=-o.PI2+C%o.PI2):C>o.PI2?C=o.PI2:C<0&&(C=o.PI2+C%o.PI2);for(var P=[E+Math.cos(m)*y,w+Math.sin(m)*y],b;p<1;)b=C*p+m,P.push(E+Math.cos(b)*y,w+Math.sin(b)*y),p+=c;return b=C+m,P.push(E+Math.cos(b)*y,w+Math.sin(b)*y),P.push(E+Math.cos(m)*y,w+Math.sin(m)*y),this.pathIndexes=h(P),this.pathData=P,this}});n.exports=v},42542:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39506),g=s(65960),u=s(75177),h=s(20926),l=function(o,d,v,c){v.addToRenderList(d);var p=o.currentContext;if(h(o,p,d,v,c)){var y=d.radius;p.beginPath(),p.arc(y-d.originX*(y*2),y-d.originY*(y*2),y,a(d._startAngle),a(d._endAngle),d.anticlockwise),d.closePath&&p.closePath(),d.isFilled&&(g(p,d),p.fill()),d.isStroked&&(u(p,d),p.stroke()),p.restore()}};n.exports=l},42563:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23629),g=s(39429);g.register("arc",function(u,h,l,o,d,v,c,p){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c,p))}),g.register("circle",function(u,h,l,o,d){return this.displayList.add(new a(this.scene,u,h,l,0,360,!1,o,d))})},13609:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(41447),u=s(42542),n.exports={renderWebGL:g,renderCanvas:u}},41447:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(10441),u=s(34682),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=a(o,d,v),y=c.calcMatrix.copyFrom(p.calc),m=o._displayOriginX,C=o._displayOriginY,T=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&g(c,y,o,T,m,C),o.isStroked&&u(c,o,T,m,C),l.pipelines.postBatch(o)};n.exports=h},89:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(33141),u=s(94811),h=s(87841),l=s(17803),o=new a({Extends:l,Mixins:[g],initialize:function(v,c,p,y,m,C){c===void 0&&(c=0),p===void 0&&(p=0),l.call(this,v,"Curve",y),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(c,p),m!==void 0&&this.setFillStyle(m,C),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,v=this._smoothness;this.geom.getBounds(d,v),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var c=[],p=this.geom.getPoints(v),y=0;y<p.length;y++)c.push(p[y].x,p[y].y);return c.push(p[0].x,p[0].y),this.pathIndexes=u(c),this.pathData=c,this}});n.exports=o},3170:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=o._displayOriginX+o._curveBounds.x,y=o._displayOriginY+o._curveBounds.y,m=o.pathData,C=m.length-1,T=m[0]-p,E=m[1]-y;c.beginPath(),c.moveTo(T,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var P=m[w]-p,b=m[w+1]-y;c.lineTo(P,b)}o.closePath&&c.closePath(),o.isFilled&&(a(c,o),c.fill()),o.isStroked&&(g(c,o),c.stroke()),c.restore()}};n.exports=h},40511:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(89);a.register("curve",function(u,h,l,o,d){return this.displayList.add(new g(this.scene,u,h,l,o,d))})},33141:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(53987),u=s(3170),n.exports={renderWebGL:g,renderCanvas:u}},53987:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),u=s(34682),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=g(o,d,v),y=c.calcMatrix.copyFrom(p.calc),m=o._displayOriginX+o._curveBounds.x,C=o._displayOriginY+o._curveBounds.y,T=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(c,y,o,T,m,C),o.isStroked&&u(c,o,T,m,C),l.pipelines.postBatch(o)};n.exports=h},19921:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94811),u=s(54205),h=s(8497),l=s(17803),o=new a({Extends:l,Mixins:[u],initialize:function(v,c,p,y,m,C,T){c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=128),m===void 0&&(m=128),l.call(this,v,"Ellipse",new h(y/2,m/2,y,m)),this._smoothness=64,this.setPosition(c,p),this.width=y,this.height=m,C!==void 0&&this.setFillStyle(C,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,v){return this.width=d,this.height=v,this.geom.setPosition(d/2,v/2),this.geom.setSize(d,v),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],v=this.geom.getPoints(this._smoothness),c=0;c<v.length;c++)d.push(v[c].x,v[c].y);return d.push(v[0].x,v[0].y),this.pathIndexes=g(d),this.pathData=d,this}});n.exports=o},7930:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=o._displayOriginX,y=o._displayOriginY,m=o.pathData,C=m.length-1,T=m[0]-p,E=m[1]-y;c.beginPath(),c.moveTo(T,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var P=m[w]-p,b=m[w+1]-y;c.lineTo(P,b)}c.closePath(),o.isFilled&&(a(c,o),c.fill()),o.isStroked&&(g(c,o),c.stroke()),c.restore()}};n.exports=h},1543:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19921),g=s(39429);g.register("ellipse",function(u,h,l,o,d,v){return this.displayList.add(new a(this.scene,u,h,l,o,d,v))})},54205:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(19467),u=s(7930),n.exports={renderWebGL:g,renderCanvas:u}},19467:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),u=s(34682),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=g(o,d,v),y=c.calcMatrix.copyFrom(p.calc),m=o._displayOriginX,C=o._displayOriginY,T=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(c,y,o,T,m,C),o.isStroked&&u(c,o,T,m,C),l.pipelines.postBatch(o)};n.exports=h},30479:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(17803),u=s(26015),h=new a({Extends:g,Mixins:[u],initialize:function(o,d,v,c,p,y,m,C,T,E,w){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=128),p===void 0&&(p=128),y===void 0&&(y=32),m===void 0&&(m=32),g.call(this,o,"Grid",null),this.cellWidth=y,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,v),this.setSize(c,p),this.setFillStyle(C,T),E!==void 0&&this.setOutlineStyle(E,w),this.updateDisplayOrigin()},setFillStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=o,this.showCells=!0),this},setAltFillStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=o,this.showAltCells=!0),this},setOutlineStyle:function(l,o){return o===void 0&&(o=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=o,this.showOutline=!0),this}});n.exports=h},49912:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=-o._displayOriginX,y=-o._displayOriginY,m=d.alpha*o.alpha,C=o.width,T=o.height,E=o.cellWidth,w=o.cellHeight,P=Math.ceil(C/E),b=Math.ceil(T/w),M=E,A=w,R=E-(P*E-C),L=w-(b*w-T),O=o.showCells,D=o.showAltCells,I=o.showOutline,B=0,G=0,z=0,Y=0,H=0;if(I&&(M--,A--,R===E&&R--,L===w&&L--),O&&o.fillAlpha>0)for(a(c,o),G=0;G<b;G++)for(D&&(z=G%2),B=0;B<P;B++){if(D&&z){z=0;continue}z++,Y=B<P-1?M:R,H=G<b-1?A:L,c.fillRect(p+B*E,y+G*w,Y,H)}if(D&&o.altFillAlpha>0)for(a(c,o,o.altFillColor,o.altFillAlpha*m),G=0;G<b;G++)for(D&&(z=G%2),B=0;B<P;B++){if(D&&!z){z=1;continue}z=0,Y=B<P-1?M:R,H=G<b-1?A:L,c.fillRect(p+B*E,y+G*w,Y,H)}if(I&&o.outlineFillAlpha>0){for(g(c,o,o.outlineFillColor,o.outlineFillAlpha*m),B=1;B<P;B++){var k=B*E;c.beginPath(),c.moveTo(k+p,y),c.lineTo(k+p,T+y),c.stroke()}for(G=1;G<b;G++){var U=G*w;c.beginPath(),c.moveTo(p,U+y),c.lineTo(p+C,U+y),c.stroke()}}c.restore()}};n.exports=h},34137:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(30479);a.register("grid",function(u,h,l,o,d,v,c,p,y,m){return this.displayList.add(new g(this.scene,u,h,l,o,d,v,c,p,y,m))})},26015:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(46161),u=s(49912),n.exports={renderWebGL:g,renderCanvas:u}},46161:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),u=function(h,l,o,d){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),c=a(l,o,d),p=v.calcMatrix.copyFrom(c.calc);p.translate(-l._displayOriginX,-l._displayOriginY);var y=o.alpha*l.alpha,m=l.width,C=l.height,T=l.cellWidth,E=l.cellHeight,w=Math.ceil(m/T),P=Math.ceil(C/E),b=T,M=E,A=T-(w*T-m),R=E-(P*E-C),L,O,D=l.showCells,I=l.showAltCells,B=l.showOutline,G=0,z=0,Y=0,H=0,k=0;if(B&&(b--,M--,A===T&&A--,R===E&&R--),h.pipelines.preBatch(l),D&&l.fillAlpha>0)for(L=v.fillTint,O=g.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*y),L.TL=O,L.TR=O,L.BL=O,L.BR=O,z=0;z<P;z++)for(I&&(Y=z%2),G=0;G<w;G++){if(I&&Y){Y=0;continue}Y++,H=G<w-1?b:A,k=z<P-1?M:R,v.batchFillRect(G*T,z*E,H,k)}if(I&&l.altFillAlpha>0)for(L=v.fillTint,O=g.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*y),L.TL=O,L.TR=O,L.BL=O,L.BR=O,z=0;z<P;z++)for(I&&(Y=z%2),G=0;G<w;G++){if(I&&!Y){Y=1;continue}Y=0,H=G<w-1?b:A,k=z<P-1?M:R,v.batchFillRect(G*T,z*E,H,k)}if(B&&l.outlineFillAlpha>0){var U=v.strokeTint,F=g.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*y);for(U.TL=F,U.TR=F,U.BL=F,U.BR=F,G=1;G<w;G++){var N=G*T;v.batchLine(N,0,N,C,1,1,1,0,!1)}for(z=1;z<P;z++){var V=z*E;v.batchLine(0,V,m,V,1,1,1,0,!1)}}h.pipelines.postBatch(l)};n.exports=u},61475:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99651),g=s(83419),u=s(17803),h=new g({Extends:u,Mixins:[a],initialize:function(o,d,v,c,p,y,m,C){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=48),p===void 0&&(p=32),y===void 0&&(y=15658734),m===void 0&&(m=10066329),C===void 0&&(C=13421772),u.call(this,o,"IsoBox",null),this.projection=4,this.fillTop=y,this.fillLeft=m,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,v),this.setSize(c,p),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,o,d){return l===void 0&&(l=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=o,this.showRight=d,this},setFillStyle:function(l,o,d){return this.fillTop=l,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this}});n.exports=h},11508:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(20926),u=function(h,l,o,d){o.addToRenderList(l);var v=h.currentContext;if(g(h,v,l,o,d)&&l.isFilled){var c=l.width,p=l.height,y=c/2,m=c/l.projection;l.showTop&&(a(v,l,l.fillTop),v.beginPath(),v.moveTo(-y,-p),v.lineTo(0,-m-p),v.lineTo(y,-p),v.lineTo(y,-1),v.lineTo(0,m-1),v.lineTo(-y,-1),v.lineTo(-y,-p),v.fill()),l.showLeft&&(a(v,l,l.fillLeft),v.beginPath(),v.moveTo(-y,0),v.lineTo(0,m),v.lineTo(0,m-p),v.lineTo(-y,-p),v.lineTo(-y,0),v.fill()),l.showRight&&(a(v,l,l.fillRight),v.beginPath(),v.moveTo(y,0),v.lineTo(0,m),v.lineTo(0,m-p),v.lineTo(y,-p),v.lineTo(y,0),v.fill()),v.restore()}};n.exports=u},3933:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(61475);a.register("isobox",function(u,h,l,o,d,v,c){return this.displayList.add(new g(this.scene,u,h,l,o,d,v,c))})},99651:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(68149),u=s(11508),n.exports={renderWebGL:g,renderCanvas:u}},68149:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),u=function(h,l,o,d){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),c=a(l,o,d),p=v.calcMatrix.copyFrom(c.calc),y=l.width,m=l.height,C=y/2,T=y/l.projection,E=o.alpha*l.alpha;if(l.isFilled){var w,P,b,M,A,R,L,O,D;h.pipelines.preBatch(l),l.showTop&&(w=g.getTintAppendFloatAlpha(l.fillTop,E),P=p.getX(-C,-m),b=p.getY(-C,-m),M=p.getX(0,-T-m),A=p.getY(0,-T-m),R=p.getX(C,-m),L=p.getY(C,-m),O=p.getX(0,T-m),D=p.getY(0,T-m),v.batchQuad(l,P,b,M,A,R,L,O,D,0,0,1,1,w,w,w,w,2)),l.showLeft&&(w=g.getTintAppendFloatAlpha(l.fillLeft,E),P=p.getX(-C,0),b=p.getY(-C,0),M=p.getX(0,T),A=p.getY(0,T),R=p.getX(0,T-m),L=p.getY(0,T-m),O=p.getX(-C,-m),D=p.getY(-C,-m),v.batchQuad(l,P,b,M,A,R,L,O,D,0,0,1,1,w,w,w,w,2)),l.showRight&&(w=g.getTintAppendFloatAlpha(l.fillRight,E),P=p.getX(C,0),b=p.getY(C,0),M=p.getX(0,T),A=p.getY(0,T),R=p.getX(0,T-m),L=p.getY(0,T-m),O=p.getX(C,-m),D=p.getY(C,-m),v.batchQuad(l,P,b,M,A,R,L,O,D,0,0,1,1,w,w,w,w,2)),h.pipelines.postBatch(l)}};n.exports=u},16933:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(60561),u=s(17803),h=new a({Extends:u,Mixins:[g],initialize:function(o,d,v,c,p,y,m,C,T){d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c=48),p===void 0&&(p=32),y===void 0&&(y=!1),m===void 0&&(m=15658734),C===void 0&&(C=10066329),T===void 0&&(T=13421772),u.call(this,o,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=C,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=y,this.isFilled=!0,this.setPosition(d,v),this.setSize(c,p),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,o,d){return l===void 0&&(l=!0),o===void 0&&(o=!0),d===void 0&&(d=!0),this.showTop=l,this.showLeft=o,this.showRight=d,this},setFillStyle:function(l,o,d){return this.fillTop=l,this.fillLeft=o,this.fillRight=d,this.isFilled=!0,this}});n.exports=h},79590:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(20926),u=function(h,l,o,d){o.addToRenderList(l);var v=h.currentContext;if(g(h,v,l,o,d)&&l.isFilled){var c=l.width,p=l.height,y=c/2,m=c/l.projection,C=l.isReversed;l.showTop&&C&&(a(v,l,l.fillTop),v.beginPath(),v.moveTo(-y,-p),v.lineTo(0,-m-p),v.lineTo(y,-p),v.lineTo(0,m-p),v.fill()),l.showLeft&&(a(v,l,l.fillLeft),v.beginPath(),C?(v.moveTo(-y,-p),v.lineTo(0,m),v.lineTo(0,m-p)):(v.moveTo(-y,0),v.lineTo(0,m),v.lineTo(0,m-p)),v.fill()),l.showRight&&(a(v,l,l.fillRight),v.beginPath(),C?(v.moveTo(y,-p),v.lineTo(0,m),v.lineTo(0,m-p)):(v.moveTo(y,0),v.lineTo(0,m),v.lineTo(0,m-p)),v.fill()),v.restore()}};n.exports=u},49803:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(16933);a.register("isotriangle",function(u,h,l,o,d,v,c,p){return this.displayList.add(new g(this.scene,u,h,l,o,d,v,c,p))})},60561:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(51503),u=s(79590),n.exports={renderWebGL:g,renderCanvas:u}},51503:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),u=function(h,l,o,d){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),c=a(l,o,d),p=v.calcMatrix.copyFrom(c.calc),y=l.width,m=l.height,C=y/2,T=y/l.projection,E=l.isReversed,w=o.alpha*l.alpha;if(l.isFilled){h.pipelines.preBatch(l);var P,b,M,A,R,L,O;if(l.showTop&&E){P=g.getTintAppendFloatAlpha(l.fillTop,w),b=p.getX(-C,-m),M=p.getY(-C,-m),A=p.getX(0,-T-m),R=p.getY(0,-T-m),L=p.getX(C,-m),O=p.getY(C,-m);var D=p.getX(0,T-m),I=p.getY(0,T-m);v.batchQuad(l,b,M,A,R,L,O,D,I,0,0,1,1,P,P,P,P,2)}l.showLeft&&(P=g.getTintAppendFloatAlpha(l.fillLeft,w),E?(b=p.getX(-C,-m),M=p.getY(-C,-m),A=p.getX(0,T),R=p.getY(0,T),L=p.getX(0,T-m),O=p.getY(0,T-m)):(b=p.getX(-C,0),M=p.getY(-C,0),A=p.getX(0,T),R=p.getY(0,T),L=p.getX(0,T-m),O=p.getY(0,T-m)),v.batchTri(l,b,M,A,R,L,O,0,0,1,1,P,P,P,2)),l.showRight&&(P=g.getTintAppendFloatAlpha(l.fillRight,w),E?(b=p.getX(C,-m),M=p.getY(C,-m),A=p.getX(0,T),R=p.getY(0,T),L=p.getX(0,T-m),O=p.getY(0,T-m)):(b=p.getX(C,0),M=p.getY(C,0),A=p.getX(0,T),R=p.getY(0,T),L=p.getX(0,T-m),O=p.getY(0,T-m)),v.batchTri(l,b,M,A,R,L,O,0,0,1,1,P,P,P,2)),h.pipelines.postBatch(l)}};n.exports=u},57847:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(17803),u=s(23031),h=s(36823),l=new a({Extends:g,Mixins:[h],initialize:function(d,v,c,p,y,m,C,T,E){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=128),C===void 0&&(C=0),g.call(this,d,"Line",new u(p,y,m,C));var w=Math.max(1,this.geom.right-this.geom.left),P=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(v,c),this.setSize(w,P),T!==void 0&&this.setStrokeStyle(1,T,E),this.updateDisplayOrigin()},setLineWidth:function(o,d){return d===void 0&&(d=o),this._startWidth=o,this._endWidth=d,this.lineWidth=o,this},setTo:function(o,d,v,c){return this.geom.setTo(o,d,v,c),this}});n.exports=l},17440:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(75177),g=s(20926),u=function(h,l,o,d){o.addToRenderList(l);var v=h.currentContext;if(g(h,v,l,o,d)){var c=l._displayOriginX,p=l._displayOriginY;l.isStroked&&(a(v,l),v.beginPath(),v.moveTo(l.geom.x1-c,l.geom.y1-p),v.lineTo(l.geom.x2-c,l.geom.y2-p),v.stroke()),v.restore()}};n.exports=u},2481:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(57847);a.register("line",function(u,h,l,o,d,v,c,p){return this.displayList.add(new g(this.scene,u,h,l,o,d,v,c,p))})},36823:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(77385),u=s(17440),n.exports={renderWebGL:g,renderCanvas:u}},77385:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(70554),u=function(h,l,o,d){o.addToRenderList(l);var v=h.pipelines.set(l.pipeline),c=a(l,o,d);v.calcMatrix.copyFrom(c.calc);var p=l._displayOriginX,y=l._displayOriginY,m=o.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isStroked){var C=v.strokeTint,T=g.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*m);C.TL=T,C.TR=T,C.BL=T,C.BR=T,v.batchLine(l.geom.x1-p,l.geom.y1-y,l.geom.x2-p,l.geom.y2-y,l._startWidth/2,l._endWidth/2,1,0,!1,c.sprite,c.camera)}h.pipelines.postBatch(l)};n.exports=u},24949:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(90273),g=s(83419),u=s(94811),h=s(13829),l=s(25717),o=s(17803),d=s(5469),v=new g({Extends:o,Mixins:[a],initialize:function(p,y,m,C,T,E){y===void 0&&(y=0),m===void 0&&(m=0),o.call(this,p,"Polygon",new l(C));var w=h(this.geom);this.setPosition(y,m),this.setSize(w.width,w.height),T!==void 0&&this.setFillStyle(T,E),this.updateDisplayOrigin(),this.updateData()},smooth:function(c){c===void 0&&(c=1);for(var p=0;p<c;p++)d(this.geom);return this.updateData()},setTo:function(c){this.geom.setTo(c);var p=h(this.geom);return this.setSize(p.width,p.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var c=[],p=this.geom.points,y=0;y<p.length;y++)c.push(p[y].x,p[y].y);return c.push(p[0].x,p[0].y),this.pathIndexes=u(c),this.pathData=c,this}});n.exports=v},38710:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=o._displayOriginX,y=o._displayOriginY,m=o.pathData,C=m.length-1,T=m[0]-p,E=m[1]-y;c.beginPath(),c.moveTo(T,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var P=m[w]-p,b=m[w+1]-y;c.lineTo(P,b)}o.closePath&&c.closePath(),o.isFilled&&(a(c,o),c.fill()),o.isStroked&&(g(c,o),c.stroke()),c.restore()}};n.exports=h},64827:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(24949);a.register("polygon",function(u,h,l,o,d){return this.displayList.add(new g(this.scene,u,h,l,o,d))})},90273:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(73695),u=s(38710),n.exports={renderWebGL:g,renderCanvas:u}},73695:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),u=s(34682),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=g(o,d,v),y=c.calcMatrix.copyFrom(p.calc),m=o._displayOriginX,C=o._displayOriginY,T=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(c,y,o,T,m,C),o.isStroked&&u(c,o,T,m,C),l.pipelines.postBatch(o)};n.exports=h},74561:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(87841),u=s(17803),h=s(95597),l=new a({Extends:u,Mixins:[h],initialize:function(d,v,c,p,y,m,C){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=128),y===void 0&&(y=128),u.call(this,d,"Rectangle",new g(0,0,p,y)),this.setPosition(v,c),this.setSize(p,y),m!==void 0&&this.setFillStyle(m,C),this.updateDisplayOrigin(),this.updateData()},setSize:function(o,d){this.width=o,this.height=d,this.geom.setSize(o,d),this.updateData(),this.updateDisplayOrigin();var v=this.input;return v&&!v.customHitArea&&(v.hitArea.width=o,v.hitArea.height=d),this},updateData:function(){var o=[],d=this.geom,v=this._tempLine;return d.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),d.getLineB(v),o.push(v.x2,v.y2),d.getLineC(v),o.push(v.x2,v.y2),d.getLineD(v),o.push(v.x2,v.y2),this.pathData=o,this}});n.exports=l},48682:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=o._displayOriginX,y=o._displayOriginY;o.isFilled&&(a(c,o),c.fillRect(-p,-y,o.width,o.height)),o.isStroked&&(g(c,o),c.beginPath(),c.rect(-p,-y,o.width,o.height),c.stroke()),c.restore()}};n.exports=h},87959:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(74561);a.register("rectangle",function(u,h,l,o,d,v){return this.displayList.add(new g(this.scene,u,h,l,o,d,v))})},95597:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(52059),u=s(48682),n.exports={renderWebGL:g,renderCanvas:u}},52059:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(34682),u=s(70554),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=a(o,d,v);c.calcMatrix.copyFrom(p.calc);var y=o._displayOriginX,m=o._displayOriginY,C=d.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isFilled){var T=c.fillTint,E=u.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*C);T.TL=E,T.TR=E,T.BL=E,T.BR=E,c.batchFillRect(-y,-m,o.width,o.height)}o.isStroked&&g(c,o,C,y,m),l.pipelines.postBatch(o)};n.exports=h},55911:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81991),g=s(83419),u=s(94811),h=s(17803),l=new g({Extends:h,Mixins:[a],initialize:function(d,v,c,p,y,m,C,T){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=5),y===void 0&&(y=32),m===void 0&&(m=64),h.call(this,d,"Star",null),this._points=p,this._innerRadius=y,this._outerRadius=m,this.setPosition(v,c),this.setSize(m*2,m*2),C!==void 0&&this.setFillStyle(C,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(o){return this._points=o,this.updateData()},setInnerRadius:function(o){return this._innerRadius=o,this.updateData()},setOuterRadius:function(o){return this._outerRadius=o,this.updateData()},points:{get:function(){return this._points},set:function(o){this._points=o,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(o){this._innerRadius=o,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(o){this._outerRadius=o,this.updateData()}},updateData:function(){var o=[],d=this._points,v=this._innerRadius,c=this._outerRadius,p=Math.PI/2*3,y=Math.PI/d,m=c,C=c;o.push(m,C+-c);for(var T=0;T<d;T++)o.push(m+Math.cos(p)*c,C+Math.sin(p)*c),p+=y,o.push(m+Math.cos(p)*v,C+Math.sin(p)*v),p+=y;return o.push(m,C+-c),this.pathIndexes=u(o),this.pathData=o,this}});n.exports=l},64272:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=o._displayOriginX,y=o._displayOriginY,m=o.pathData,C=m.length-1,T=m[0]-p,E=m[1]-y;c.beginPath(),c.moveTo(T,E),o.closePath||(C-=2);for(var w=2;w<C;w+=2){var P=m[w]-p,b=m[w+1]-y;c.lineTo(P,b)}c.closePath(),o.isFilled&&(a(c,o),c.fill()),o.isStroked&&(g(c,o),c.stroke()),c.restore()}};n.exports=h},93697:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(55911),g=s(39429);g.register("star",function(u,h,l,o,d,v,c){return this.displayList.add(new a(this.scene,u,h,l,o,d,v,c))})},81991:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(57017),u=s(64272),n.exports={renderWebGL:g,renderCanvas:u}},57017:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10441),g=s(91296),u=s(34682),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=g(o,d,v),y=c.calcMatrix.copyFrom(p.calc),m=o._displayOriginX,C=o._displayOriginY,T=d.alpha*o.alpha;l.pipelines.preBatch(o),o.isFilled&&a(c,y,o,T,m,C),o.isStroked&&u(c,o,T,m,C),l.pipelines.postBatch(o)};n.exports=h},36931:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(17803),u=s(16483),h=s(96195),l=new a({Extends:g,Mixins:[h],initialize:function(d,v,c,p,y,m,C,T,E,w,P){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=128),m===void 0&&(m=64),C===void 0&&(C=0),T===void 0&&(T=128),E===void 0&&(E=128),g.call(this,d,"Triangle",new u(p,y,m,C,T,E));var b=this.geom.right-this.geom.left,M=this.geom.bottom-this.geom.top;this.setPosition(v,c),this.setSize(b,M),w!==void 0&&this.setFillStyle(w,P),this.updateDisplayOrigin(),this.updateData()},setTo:function(o,d,v,c,p,y){return this.geom.setTo(o,d,v,c,p,y),this.updateData()},updateData:function(){var o=[],d=this.geom,v=this._tempLine;return d.getLineA(v),o.push(v.x1,v.y1,v.x2,v.y2),d.getLineB(v),o.push(v.x2,v.y2),d.getLineC(v),o.push(v.x2,v.y2),this.pathData=o,this}});n.exports=l},85172:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(65960),g=s(75177),u=s(20926),h=function(l,o,d,v){d.addToRenderList(o);var c=l.currentContext;if(u(l,c,o,d,v)){var p=o._displayOriginX,y=o._displayOriginY,m=o.geom.x1-p,C=o.geom.y1-y,T=o.geom.x2-p,E=o.geom.y2-y,w=o.geom.x3-p,P=o.geom.y3-y;c.beginPath(),c.moveTo(m,C),c.lineTo(T,E),c.lineTo(w,P),c.closePath(),o.isFilled&&(a(c,o),c.fill()),o.isStroked&&(g(c,o),c.stroke()),c.restore()}};n.exports=h},45245:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(36931);a.register("triangle",function(u,h,l,o,d,v,c,p,y,m){return this.displayList.add(new g(this.scene,u,h,l,o,d,v,c,p,y,m))})},96195:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(83253),u=s(85172),n.exports={renderWebGL:g,renderCanvas:u}},83253:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=s(34682),u=s(70554),h=function(l,o,d,v){d.addToRenderList(o);var c=l.pipelines.set(o.pipeline),p=a(o,d,v);c.calcMatrix.copyFrom(p.calc);var y=o._displayOriginX,m=o._displayOriginY,C=d.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isFilled){var T=c.fillTint,E=u.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*C);T.TL=E,T.TR=E,T.BL=E,T.BR=E;var w=o.geom.x1-y,P=o.geom.y1-m,b=o.geom.x2-y,M=o.geom.y2-m,A=o.geom.x3-y,R=o.geom.y3-m;c.batchFillTriangle(w,P,b,M,A,R,p.sprite,p.camera)}o.isStroked&&g(c,o,C,y,m),l.pipelines.postBatch(o)};n.exports=h},68287:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),u=s(31401),h=s(95643),l=s(92751),o=new g({Extends:h,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.TextureCrop,u.Tint,u.Transform,u.Visible,l],initialize:function(v,c,p,y,m){h.call(this,v,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(y,m),this.setPosition(c,p),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,v){this.anims.update(d,v)},play:function(d,v){return this.anims.play(d,v)},playReverse:function(d,v){return this.anims.playReverse(d,v)},playAfterDelay:function(d,v){return this.anims.playAfterDelay(d,v)},playAfterRepeat:function(d,v){return this.anims.playAfterRepeat(d,v)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return u.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=o},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g.addToRenderList(a),s.batchSprite(a,a.frame,g,u)};n.exports=x},15567:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(13059),u=s(44603),h=s(23568),l=s(68287);u.register("sprite",function(o,d){o===void 0&&(o={});var v=h(o,"key",null),c=h(o,"frame",null),p=new l(this.scene,0,0,v,c);return d!==void 0&&(o.add=d),a(this.scene,p,o),g(p,o),p})},46409:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(68287);a.register("sprite",function(u,h,l,o){return this.displayList.add(new g(this.scene,u,h,l,o))})},92751:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(9409),u=s(76552),n.exports={renderWebGL:g,renderCanvas:u}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g.addToRenderList(a),a.pipeline.batchSprite(a,g,u)};n.exports=x},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=s.canvas,h=s.context,l=s.style,o=[],d=0,v=g.length;l.maxLines>0&&l.maxLines<g.length&&(v=l.maxLines),l.syncFont(u,h);for(var c=0;c<v;c++){var p=l.strokeThickness;p+=h.measureText(g[c]).width,g[c].length>1&&(p+=s.letterSpacing*(g[c].length-1)),l.wordWrap&&(p-=h.measureText(" ").width),o[c]=Math.ceil(p),d=Math.max(d,o[c])}var y=a.fontSize+l.strokeThickness,m=y*v,C=s.lineSpacing;return v>1&&(m+=C*(v-1)),{width:d,height:m,lines:v,lineWidths:o,lineSpacing:C,lineHeight:y}};n.exports=x},79557:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=function(u){var h=a.create(this),l=h.getContext("2d",{willReadFrequently:!0});u.syncFont(h,l);var o=l.measureText(u.testString);if("actualBoundingBoxAscent"in o){var d=o.actualBoundingBoxAscent,v=o.actualBoundingBoxDescent;return a.remove(h),{ascent:d,descent:v,fontSize:d+v}}var c=Math.ceil(o.width*u.baselineX),p=c,y=2*p;p=p*u.baselineY|0,h.width=c,h.height=y,l.fillStyle="#f00",l.fillRect(0,0,c,y),l.font=u._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(u.testString,0,p);var m={ascent:0,descent:0,fontSize:0},C=l.getImageData(0,0,c,y);if(!C)return m.ascent=p,m.descent=p+6,m.fontSize=m.ascent+m.descent,a.remove(h),m;var T=C.data,E=T.length,w=c*4,P,b,M=0,A=!1;for(P=0;P<p;P++){for(b=0;b<w;b+=4)if(T[M+b]!==255){A=!0;break}if(!A)M+=w;else break}for(m.ascent=p-P,M=E-w,A=!1,P=y;P>p;P--){for(b=0;b<w;b+=4)if(T[M+b]!==255){A=!0;break}if(!A)M-=w;else break}return m.descent=P-p,m.fontSize=m.ascent+m.descent,a.remove(h),m};n.exports=g},50171:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(40366),g=s(27919),u=s(83419),h=s(31401),l=s(95643),o=s(14220),d=s(35154),v=s(35846),c=s(61771),p=s(35762),y=s(45650),m=new u({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,c],initialize:function(T,E,w,P,b){E===void 0&&(E=0),w===void 0&&(w=0),l.call(this,T,"Text"),this.renderer=T.sys.renderer,this.setPosition(E,w),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=g.create(this),this.context,this.style=new p(this,b),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=y(),this.texture=T.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(P),b&&b.padding&&this.setPadding(b.padding),b&&b.lineSpacing&&this.setLineSpacing(b.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(C){var T=this.style;if(T.wordWrapCallback){var E=T.wordWrapCallback.call(T.wordWrapCallbackScope,C,this);return Array.isArray(E)&&(E=E.join(`
`)),E}else return T.wordWrapWidth?T.wordWrapUseAdvanced?this.advancedWordWrap(C,this.context,this.style.wordWrapWidth):this.basicWordWrap(C,this.context,this.style.wordWrapWidth):C},advancedWordWrap:function(C,T,E){for(var w="",P=C.replace(/ +/gi," ").split(this.splitRegExp),b=P.length,M=0;M<b;M++){var A=P[M],R="";A=A.replace(/^ *|\s*$/gi,"");var L=T.measureText(A).width;if(L<E){w+=A+`
`;continue}for(var O=E,D=A.split(" "),I=0;I<D.length;I++){var B=D[I],G=B+" ",z=T.measureText(G).width;if(z>O){if(I===0){for(var Y=G;Y.length&&(Y=Y.slice(0,-1),z=T.measureText(Y).width,!(z<=O)););if(!Y.length)throw new Error("wordWrapWidth < a single character");var H=B.substr(Y.length);D[I]=H,R+=Y}var k=D[I].length?I:I+1,U=D.slice(k).join(" ").replace(/[ \n]*$/gi,"");P.splice(M+1,0,U),b=P.length;break}else R+=G,O-=z}w+=R.replace(/[ \n]*$/gi,"")+`
`}return w=w.replace(/[\s|\n]*$/gi,""),w},basicWordWrap:function(C,T,E){for(var w="",P=C.split(this.splitRegExp),b=P.length-1,M=T.measureText(" ").width,A=0;A<=b;A++){for(var R=E,L=P[A].split(" "),O=L.length-1,D=0;D<=O;D++){var I=L[D],B=T.measureText(I).width,G=B;D<O&&(G+=M),G>R&&D>0&&(w+=`
`,R=E),w+=I,D<O?(w+=" ",R-=G):R-=B}A<b&&(w+=`
`)}return w},getWrappedText:function(C){C===void 0&&(C=this._text),this.style.syncFont(this.canvas,this.context);var T=this.runWordWrap(C);return T.split(this.splitRegExp)},setText:function(C){return!C&&C!==0&&(C=""),Array.isArray(C)&&(C=C.join(`
`)),C!==this._text&&(this._text=C.toString(),this.updateText()),this},appendText:function(C,T){T===void 0&&(T=!0),!C&&C!==0&&(C=""),Array.isArray(C)&&(C=C.join(`
`)),C=C.toString();var E=this._text.concat(T?`
`+C:C);return E!==this._text&&(this._text=E,this.updateText()),this},setStyle:function(C){return this.style.setStyle(C)},setFont:function(C){return this.style.setFont(C)},setFontFamily:function(C){return this.style.setFontFamily(C)},setFontSize:function(C){return this.style.setFontSize(C)},setFontStyle:function(C){return this.style.setFontStyle(C)},setFixedSize:function(C,T){return this.style.setFixedSize(C,T)},setBackgroundColor:function(C){return this.style.setBackgroundColor(C)},setFill:function(C){return this.style.setFill(C)},setColor:function(C){return this.style.setColor(C)},setStroke:function(C,T){return this.style.setStroke(C,T)},setShadow:function(C,T,E,w,P,b){return this.style.setShadow(C,T,E,w,P,b)},setShadowOffset:function(C,T){return this.style.setShadowOffset(C,T)},setShadowColor:function(C){return this.style.setShadowColor(C)},setShadowBlur:function(C){return this.style.setShadowBlur(C)},setShadowStroke:function(C){return this.style.setShadowStroke(C)},setShadowFill:function(C){return this.style.setShadowFill(C)},setWordWrapWidth:function(C,T){return this.style.setWordWrapWidth(C,T)},setWordWrapCallback:function(C,T){return this.style.setWordWrapCallback(C,T)},setAlign:function(C){return this.style.setAlign(C)},setResolution:function(C){return this.style.setResolution(C)},setLineSpacing:function(C){return this.lineSpacing=C,this.updateText()},setLetterSpacing:function(C){return this.letterSpacing=C,this.updateText()},setPadding:function(C,T,E,w){if(typeof C=="object"){var P=C,b=d(P,"x",null);b!==null?(C=b,E=b):(C=d(P,"left",0),E=d(P,"right",C));var M=d(P,"y",null);M!==null?(T=M,w=M):(T=d(P,"top",0),w=d(P,"bottom",T))}else C===void 0&&(C=0),T===void 0&&(T=C),E===void 0&&(E=C),w===void 0&&(w=T);return this.padding.left=C,this.padding.top=T,this.padding.right=E,this.padding.bottom=w,this.updateText()},setMaxLines:function(C){return this.style.setMaxLines(C)},setRTL:function(C){C===void 0&&(C=!0);var T=this.style;return T.rtl===C?this:(T.rtl=C,C?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),T.align==="left"?T.align="right":T.align==="right"&&(T.align="left"),this)},updateText:function(){var C=this.canvas,T=this.context,E=this.style,w=E.resolution,P=E.metrics;E.syncFont(C,T);var b=this._text;(E.wordWrapWidth||E.wordWrapCallback)&&(b=this.runWordWrap(this._text));var M=b.split(this.splitRegExp),A=o(this,P,M),R=this.padding,L;E.fixedWidth===0?(this.width=A.width+R.left+R.right,L=A.width):(this.width=E.fixedWidth,L=this.width-R.left-R.right,L<A.width&&(L=A.width)),E.fixedHeight===0?this.height=A.height+R.top+R.bottom:this.height=E.fixedHeight;var O=this.width,D=this.height;this.updateDisplayOrigin(),O*=w,D*=w,O=Math.max(O,1),D=Math.max(D,1),C.width!==O||C.height!==D?(C.width=O,C.height=D,this.frame.setSize(O,D),E.syncFont(C,T),E.rtl&&(T.direction="rtl")):T.clearRect(0,0,O,D),T.save(),T.scale(w,w),E.backgroundColor&&(T.fillStyle=E.backgroundColor,T.fillRect(0,0,O,D)),E.syncStyle(C,T),T.translate(R.left,R.top);for(var I,B,G=0;G<A.lines;G++){if(I=E.strokeThickness/2,B=E.strokeThickness/2+G*A.lineHeight+P.ascent,G>0&&(B+=A.lineSpacing*G),E.rtl)I=O-I-R.left-R.right;else if(E.align==="right")I+=L-A.lineWidths[G];else if(E.align==="center")I+=(L-A.lineWidths[G])/2;else if(E.align==="justify"){var z=.85;if(A.lineWidths[G]/A.width>=z){var Y=A.width-A.lineWidths[G],H=T.measureText(" ").width,k=M[G].trim(),U=k.split(" ");Y+=(M[G].length-k.length)*H;for(var F=Math.floor(Y/H),N=0;F>0;)U[N]+=" ",N=(N+1)%(U.length-1||1),--F;M[G]=U.join(" ")}}if(this.autoRound&&(I=Math.round(I),B=Math.round(B)),E.strokeThickness&&(E.syncShadow(T,E.shadowStroke),T.strokeText(M[G],I,B)),E.color){E.syncShadow(T,E.shadowFill);var V=this.letterSpacing;if(V!==0)for(var $=0,X=M[G].split(""),j=0;j<X.length;j++)T.fillText(X[j],I+$,B),$+=T.measureText(X[j]).width+V;else T.fillText(M[G],I,B)}}T.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(C,this.frame.source.glTexture,!0));var Q=this.input;return Q&&!Q.customHitArea&&(Q.hitArea.width=this.width,Q.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(C){this.setText(C)}},toJSON:function(){var C=h.ToJSON(this),T={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return C.data=T,C},preDestroy:function(){v(this.canvas),g.remove(this.canvas);var C=this.texture;C&&C.destroy()}});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a.width===0||a.height===0||(g.addToRenderList(a),s.batchSprite(a,a.frame,g,u))};n.exports=x},71259:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(50171);g.register("text",function(l,o){l===void 0&&(l={});var d=u(l,"text",""),v=u(l,"style",null),c=u(l,"padding",null);c!==null&&(v.padding=c);var p=new h(this.scene,0,0,d,v);return o!==void 0&&(l.add=o),a(this.scene,p,l),p.autoRound=u(l,"autoRound",!0),p.resolution=u(l,"resolution",1),p})},68005:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(50171),g=s(39429);g.register("text",function(u,h,l,o){return this.displayList.add(new a(this.scene,u,h,l,o))})},61771:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(34397),u=s(79724),n.exports={renderWebGL:g,renderCanvas:u}},35762:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23568),u=s(35154),h=s(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},o=new a({initialize:function(v,c){this.parent=v,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(c,!1,!0)},setStyle:function(d,v,c){v===void 0&&(v=!0),c===void 0&&(c=!1),d&&d.hasOwnProperty("fontSize")&&typeof d.fontSize=="number"&&(d.fontSize=d.fontSize.toString()+"px");for(var p in l){var y=c?l[p][1]:this[p];p==="wordWrapCallback"||p==="wordWrapCallbackScope"?this[p]=u(d,l[p][0],y):this[p]=g(d,l[p][0],y)}var m=u(d,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var C=u(d,"fill",null);C!==null&&(this.color=C);var T=u(d,"metrics",!1);return T?this.metrics={ascent:u(T,"ascent",0),descent:u(T,"descent",0),fontSize:u(T,"fontSize",0)}:(v||!this.metrics)&&(this.metrics=h(this)),v?this.parent.updateText():this.parent},syncFont:function(d,v){v.font=this._font},syncStyle:function(d,v){v.textBaseline="alphabetic",v.fillStyle=this.color,v.strokeStyle=this.stroke,v.lineWidth=this.strokeThickness,v.lineCap="round",v.lineJoin="round"},syncShadow:function(d,v){v?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(d,v){v===void 0&&(v=!0);var c=d,p="",y="";if(typeof d!="string")c=u(d,"fontFamily","Courier"),p=u(d,"fontSize","16px"),y=u(d,"fontStyle","");else{var m=d.split(" "),C=0;y=m.length>2?m[C++]:"",p=m[C++]||"16px",c=m[C++]||"Courier"}return(c!==this.fontFamily||p!==this.fontSize||y!==this.fontStyle)&&(this.fontFamily=c,this.fontSize=p,this.fontStyle=y,v&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,v){return this.fixedWidth=d,this.fixedHeight=v,d&&(this.parent.width=d),v&&(this.parent.height=v),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,v){return v===void 0&&(v=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==v)&&(this.stroke=d,this.strokeThickness=v,this.update(!0)),this.parent},setShadow:function(d,v,c,p,y,m){return d===void 0&&(d=0),v===void 0&&(v=0),c===void 0&&(c="#000"),p===void 0&&(p=0),y===void 0&&(y=!1),m===void 0&&(m=!0),this.shadowOffsetX=d,this.shadowOffsetY=v,this.shadowColor=c,this.shadowBlur=p,this.shadowStroke=y,this.shadowFill=m,this.update(!1)},setShadowOffset:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this.shadowOffsetX=d,this.shadowOffsetY=v,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,v){return v===void 0&&(v=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=v,this.update(!1)},setWordWrapCallback:function(d,v){return v===void 0&&(v=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=v,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var v in l)d[v]=this[v];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});n.exports=o},34397:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(u,h,l,o){if(!(h.width===0||h.height===0)){l.addToRenderList(h);var d=h.frame,v=d.width,c=d.height,p=a.getTintAppendFloatAlpha,y=u.pipelines.set(h.pipeline,h),m=y.setTexture2D(d.glTexture,h);y.batchTexture(h,d.glTexture,v,c,h.x,h.y,v/h.style.resolution,c/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,v,c,p(h.tintTopLeft,l.alpha*h._alphaTL),p(h.tintTopRight,l.alpha*h._alphaTR),p(h.tintBottomLeft,l.alpha*h._alphaBL),p(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,0,0,l,o,!1,m)}};n.exports=g},20839:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(83419),u=s(31401),h=s(95643),l=s(98439),o=s(68703),d=s(56295),v=s(45650),c=s(26099),p=8,y=new g({Extends:h,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,d],initialize:function(C,T,E,w,P,b,M){var A=C.sys.renderer;h.call(this,C,"TileSprite");var R=C.sys.textures.get(b),L=R.get(M);L.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),R=C.sys.textures.get("__MISSING"),L=R.get()),R.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),R=C.sys.textures.get("__MISSING"),L=R.get()),!w||!P?(w=L.width,P=L.height):(w=Math.floor(w),P=Math.floor(P)),this._tilePosition=new c,this._tileScale=new c(1,1),this.dirty=!1,this.renderer=A,this.canvas=a.create(this,w,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=R,this.displayFrame=L,this._crop=this.resetCropObject(),this._textureKey=v(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(L.width),this.potHeight=l(L.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(T,E),this.setSize(w,P),this.setFrame(M),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(m,C){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(C)},setFrame:function(m){var C=this.displayTexture.get(m);return this.potWidth=l(C.width),this.potHeight=l(C.height),this.canvas.width=0,!C.cutWidth||!C.cutHeight?this.renderFlags&=~p:this.renderFlags|=p,this.displayFrame=C,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,C){return m!==void 0&&(this.tilePositionX=m),C!==void 0&&(this.tilePositionY=C),this},setTileScale:function(m,C){return m===void 0&&(m=this.tileScaleX),C===void 0&&(C=m),this.tileScaleX=m,this.tileScaleY=C,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var C=this.fillContext,T=this.fillCanvas,E=this.potWidth,w=this.potHeight;(!this.renderer||!this.renderer.gl)&&(E=m.cutWidth,w=m.cutHeight),C.clearRect(0,0,E,w),T.width=E,T.height=w,C.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,E,w),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(T,this.fillPattern):this.fillPattern=C.createPattern(T,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var C=this.context;this.scene.sys.game.config.antialias||o.disable(C);var T=this._tileScale.x,E=this._tileScale.y,w=this._tilePosition.x,P=this._tilePosition.y;C.clearRect(0,0,this.width,this.height),C.save(),C.scale(T,E),C.translate(-w,-P),C.fillStyle=this.fillPattern,C.fillRect(w,P,this.width/T,this.height/E),C.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});n.exports=y},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a.updateCanvas(),g.addToRenderList(a),s.batchSprite(a,a.frame,g,u)};n.exports=x},14167:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(20839);g.register("tileSprite",function(l,o){l===void 0&&(l={});var d=u(l,"x",0),v=u(l,"y",0),c=u(l,"width",512),p=u(l,"height",512),y=u(l,"key",""),m=u(l,"frame",""),C=new h(this.scene,d,v,c,p,y,m);return o!==void 0&&(l.add=o),a(this.scene,C,l),C})},91681:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20839),g=s(39429);g.register("tileSprite",function(u,h,l,o,d,v){return this.displayList.add(new a(this.scene,u,h,l,o,d,v))})},56295:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(18553),u=s(46992),n.exports={renderWebGL:g,renderCanvas:u}},18553:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(u,h,l,o){h.updateCanvas();var d=h.width,v=h.height;if(!(d===0||v===0)){l.addToRenderList(h);var c=a.getTintAppendFloatAlpha,p=u.pipelines.set(h.pipeline,h),y=p.setTexture2D(h.fillPattern,h);p.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,d,v,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*d,h.originY*v,0,0,d,v,c(h.tintTopLeft,l.alpha*h._alphaTL),c(h.tintTopRight,l.alpha*h._alphaTR),c(h.tintBottomLeft,l.alpha*h._alphaBL),c(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,l,o,!1,y)}};n.exports=g},18471:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(31401),h=s(51708),l=s(8443),o=s(95643),d=s(36383),v=s(14463),c=s(45650),p=s(10247),y=new g({Extends:o,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.TextureCrop,u.Tint,u.Transform,u.Visible,p],initialize:function(C,T,E,w){o.call(this,C,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=c(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var P=C.sys.game;this._device=P.device.video,this.setPosition(T,E),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),P.events.on(l.PAUSE,this.globalPause,this),P.events.on(l.RESUME,this.globalResume,this);var b=C.sys.sound;b&&b.on(v.GLOBAL_MUTE,this.globalMute,this),w&&this.load(w)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(m){var C=this.scene.sys.cache.video.get(m);return C?(this.cacheKey=m,this.loadHandler(C.url,C.noAudio,C.crossOrigin)):console.warn("No video in cache for key: "+m),this},changeSource:function(m,C,T,E,w){C===void 0&&(C=!0),T===void 0&&(T=!1),this.cacheKey!==m&&(this.load(m),C&&this.play(T,E,w))},getVideoKey:function(){return this.cacheKey},loadURL:function(m,C,T){C===void 0&&(C=!1);var E=this._device.getVideoURL(m);return E?(this.cacheKey="",this.loadHandler(E.url,C,T)):console.warn("No supported video format found for "+m),this},loadMediaStream:function(m,C,T){return this.loadHandler(null,C,T,m)},loadHandler:function(m,C,T,E){C||(C=!1);var w=this.video;if(w?(this.removeLoadEventHandlers(),this.stop()):(w=document.createElement("video"),w.controls=!1,w.setAttribute("playsinline","playsinline"),w.setAttribute("preload","auto"),w.setAttribute("disablePictureInPicture","true")),C?(w.muted=!0,w.defaultMuted=!0,w.setAttribute("autoplay","autoplay")):(w.muted=!1,w.defaultMuted=!1,w.removeAttribute("autoplay")),T?w.setAttribute("crossorigin",T):w.removeAttribute("crossorigin"),E)if("srcObject"in w)try{w.srcObject=E}catch(b){if(b.name!=="TypeError")throw b;w.src=URL.createObjectURL(E)}else w.src=URL.createObjectURL(E);else w.src=m;this.retry=0,this.video=w,this._playCalled=!1,w.load(),this.addLoadEventHandlers();var P=this.scene.sys.textures.get(this._key);return this.setTexture(P),this},requestVideoFrame:function(m,C){var T=this.video;if(T){var E=C.width,w=C.height,P=this.videoTexture,b=this.videoTextureSource,M=!P||b.source!==T;M?(this._codePaused=T.paused,this._codeMuted=T.muted,P?(b.source=T,b.width=E,b.height=w,P.get().setSize(E,w)):(P=this.scene.sys.textures.create(this._key,T,E,w),P.add("__BASE",0,0,0,E,w),this.setTexture(P),this.videoTexture=P,this.videoTextureSource=P.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,P)),this.setSizeToFrame(),this.updateDisplayOrigin()):b.update(),this.isStalled=!1,this.metadata=C;var A=C.mediaTime;M&&(this._lastUpdate=A,this.emit(h.VIDEO_CREATED,this,E,w),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=A,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(m,C,T){C===void 0&&(C=-1),T===void 0&&(T=d.MAX_SAFE_INTEGER);var E=this.video;return!E||this.isPlaying()?(E||console.warn("Video not loaded"),this):(m===void 0&&(m=E.loop),E.loop=m,this._markerIn=C,this._markerOut=T,this._playingMarker=C>-1&&T>C&&T<d.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=E.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var m=this.video;if(m){var C=this._callbacks;for(var T in C)m.addEventListener(T,C[T])}},removeEventHandlers:function(){var m=this.video;if(m){var C=this._callbacks;for(var T in C)m.removeEventListener(T,C[T])}},createPlayPromise:function(m){m===void 0&&(m=!0);var C=this.video,T=C.play();if(T!==void 0){var E=this.playSuccess.bind(this),w=this.playError.bind(this);if(!m){var P=this;w=function(){P.failedPlayAttempts++}}T.then(E).catch(w)}else C.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},addMarker:function(m,C,T){return!isNaN(C)&&C>=0&&!isNaN(T)&&T>C&&(this.markers[m]=[C,T]),this},playMarker:function(m,C){var T=this.markers[m];return T&&this.play(C,T[0],T[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,C){return m===void 0&&(m=this.width),C===void 0&&(C=this.height),this.snapshotArea(0,0,this.width,this.height,m,C)},snapshotArea:function(m,C,T,E,w,P){m===void 0&&(m=0),C===void 0&&(C=0),T===void 0&&(T=this.width),E===void 0&&(E=this.height),w===void 0&&(w=T),P===void 0&&(P=E);var b=this.video,M=this.snapshotTexture;return M?(M.setSize(w,P),b&&M.context.drawImage(b,m,C,T,E,0,0,w,P)):(M=this.scene.sys.textures.createCanvas(c(),w,P),this.snapshotTexture=M,b&&M.context.drawImage(b,m,C,T,E,0,0,w,P)),M.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(m){var C=m.name;C==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):C==="NotSupportedError"?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,m))},legacyPlayHandler:function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(m){this.stop(!1),this.emit(h.VIDEO_ERROR,this,m)},metadataHandler:function(m){this.emit(h.VIDEO_METADATA,this,m)},setSizeToFrame:function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var C=this.input;return C&&!C.customHitArea&&(C.hitArea.width=this.width,C.hitArea.height=this.height),this},stalledHandler:function(m){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,m)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(m,C){var T=this.video;!T||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=C,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(m){var C=this.video;if(C){var T=C.duration;if(T!==1/0&&!isNaN(T)){var E=T*m;this.setCurrentTime(E)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var C=this.video;if(C){if(typeof m=="string"){var T=m[0],E=parseFloat(m.substr(1));T==="+"?m=C.currentTime+E:T==="-"&&(m=C.currentTime-E)}C.currentTime=m}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var m=this.video;if(m){var C=m.duration;if(C!==1/0&&!isNaN(C))return m.currentTime/C}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var C=this.video;return C&&(C.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,C){this._systemMuted=C;var T=this.video;T&&(T.muted=this._codeMuted?!0:C)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(m){m===void 0&&(m=!0);var C=this.video;return this._codePaused=m,C&&!C.ended&&(m?C.paused||(this.removeEventHandlers(),C.pause()):m||(this._playCalled?C.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=a(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,C){return C===void 0&&(C=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(C)),this._key=m,this.flipY=C,!!this.videoTexture},stop:function(m){m===void 0&&(m=!0);var C=this.video;return C&&(this.removeEventHandlers(),C.cancelVideoFrameCallback(this._rfvCallbackId),C.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(l.PAUSE,this.globalPause,this),m.off(l.RESUME,this.globalResume,this);var C=this.scene.sys.sound;C&&C.off(v.GLOBAL_MUTE,this.globalMute,this)}});n.exports=y},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a.videoTexture&&(g.addToRenderList(a),s.batchSprite(a,a.frame,g,u))};n.exports=x},11511:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25305),g=s(44603),u=s(23568),h=s(18471);g.register("video",function(l,o){l===void 0&&(l={});var d=u(l,"key",null),v=new h(this.scene,0,0,d);return o!==void 0&&(l.add=o),a(this.scene,v,l),v})},89025:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(18471),g=s(39429);g.register("video",function(u,h,l){return this.displayList.add(new a(this.scene,u,h,l))})},10247:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(29849),u=s(58352),n.exports={renderWebGL:g,renderCanvas:u}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a.videoTexture&&(g.addToRenderList(a),a.pipeline.batchSprite(a,g,u))};n.exports=x},41481:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(96503),u=s(87902),h=s(83419),l=s(31401),o=s(95643),d=s(87841),v=s(37303),c=new h({Extends:o,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(y,m,C,T,E){T===void 0&&(T=1),E===void 0&&(E=T),o.call(this,y,"Zone"),this.setPosition(m,C),this.width=T,this.height=E,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(p){this.scaleX=p/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(p){this.scaleY=p/this.height}},setSize:function(p,y,m){m===void 0&&(m=!0),this.width=p,this.height=y,this.updateDisplayOrigin();var C=this.input;return m&&C&&!C.customHitArea&&(C.hitArea.width=p,C.hitArea.height=y),this},setDisplaySize:function(p,y){return this.displayWidth=p,this.displayHeight=y,this},setCircleDropZone:function(p){return this.setDropZone(new g(0,0,p),u)},setRectangleDropZone:function(p,y){return this.setDropZone(new d(0,0,p,y),v)},setDropZone:function(p,y){return this.input||this.setInteractive(p,y,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(p,y,m){m.addToRenderList(y)},renderWebGL:function(p,y,m){m.addToRenderList(y)}});n.exports=c},95261:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(23568),u=s(41481);a.register("zone",function(h){var l=g(h,"x",0),o=g(h,"y",0),d=g(h,"width",1),v=g(h,"height",d);return new u(this.scene,l,o,d,v)})},84175:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41481),g=s(39429);g.register("zone",function(u,h,l,o){return this.displayList.add(new a(this.scene,u,h,l,o))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.radius>0?Math.PI*s.radius*s.radius:0};n.exports=x},96503:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(87902),u=s(26241),h=s(79124),l=s(23777),o=s(28176),d=new a({initialize:function(c,p,y){c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=0),this.type=l.CIRCLE,this.x=c,this.y=p,this._radius=y,this._diameter=y*2},contains:function(v,c){return g(this,v,c)},getPoint:function(v,c){return u(this,v,c)},getPoints:function(v,c,p){return h(this,v,c,p)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,c,p){return this.x=v,this.y=c,this._radius=p,this._diameter=p*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(v,c){return c===void 0&&(c=v),this.x=v,this.y=c,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(v){this._radius=v,this._diameter=v*2}},diameter:{get:function(){return this._diameter},set:function(v){this._diameter=v,this._radius=v*.5}},left:{get:function(){return this.x-this._radius},set:function(v){this.x=v+this._radius}},right:{get:function(){return this.x+this._radius},set:function(v){this.x=v-this._radius}},top:{get:function(){return this.y-this._radius},set:function(v){this.y=v+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(v){this.y=v-this._radius}}});n.exports=d},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 2*(Math.PI*s.radius)};n.exports=x},92110:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h,l){return l===void 0&&(l=new a),l.x=u.x+u.radius*Math.cos(h),l.y=u.y+u.radius*Math.sin(h),l};n.exports=g},42250:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=function(u){return new a(u.x,u.y,u.radius)};n.exports=g},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(s.radius>0&&a>=s.left&&a<=s.right&&g>=s.top&&g<=s.bottom){var u=(s.x-a)*(s.x-a),h=(s.y-g)*(s.y-g);return u+h<=s.radius*s.radius}else return!1};n.exports=x},5698:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=function(u,h){return a(u,h.x,h.y)};n.exports=g},70588:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=function(u,h){return a(u,h.x,h.y)&&a(u,h.right,h.y)&&a(u,h.x,h.bottom)&&a(u,h.right,h.bottom)};n.exports=g},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y,s.radius)};n.exports=x},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y&&s.radius===a.radius};n.exports=x},2074:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u,h){return h===void 0&&(h=new a),h.x=u.left,h.y=u.top,h.width=u.diameter,h.height=u.diameter,h};n.exports=g},26241:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(92110),g=s(62945),u=s(36383),h=s(2141),l=function(o,d,v){v===void 0&&(v=new h);var c=g(d,0,u.PI2);return a(o,c,v)};n.exports=l},79124:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71562),g=s(92110),u=s(62945),h=s(36383),l=function(o,d,v,c){c===void 0&&(c=[]),!d&&v>0&&(d=a(o)/v);for(var p=0;p<d;p++){var y=u(p/d,0,h.PI2);c.push(g(o,y))}return c};n.exports=l},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x+=a,s.y+=g,s};n.exports=x},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x+=a.x,s.y+=a.y,s};n.exports=x},28176:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){h===void 0&&(h=new a);var l=2*Math.PI*Math.random(),o=Math.random()+Math.random(),d=o>1?2-o:o,v=d*Math.cos(l),c=d*Math.sin(l);return h.x=u.x+v*u.radius,h.y=u.y+c*u.radius,h};n.exports=g},88911:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503);a.Area=s(95166),a.Circumference=s(71562),a.CircumferencePoint=s(92110),a.Clone=s(42250),a.Contains=s(87902),a.ContainsPoint=s(5698),a.ContainsRect=s(70588),a.CopyFrom=s(26394),a.Equals=s(76278),a.GetBounds=s(2074),a.GetPoint=s(26241),a.GetPoints=s(79124),a.Offset=s(50884),a.OffsetPoint=s(39212),a.Random=s(28176),n.exports=a},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=x},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.isEmpty()?0:s.getMajorRadius()*s.getMinorRadius()*Math.PI};n.exports=x},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.width/2,g=s.height/2,u=Math.pow(a-g,2)/Math.pow(a+g,2);return Math.PI*(a+g)*(1+3*u/(10+Math.sqrt(4-3*u)))};n.exports=x},79522:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h,l){l===void 0&&(l=new a);var o=u.width/2,d=u.height/2;return l.x=u.x+o*Math.cos(h),l.y=u.y+d*Math.sin(h),l};n.exports=g},58102:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8497),g=function(u){return new a(u.x,u.y,u.width,u.height)};n.exports=g},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(s.width<=0||s.height<=0)return!1;var u=(a-s.x)/s.width,h=(g-s.y)/s.height;return u*=u,h*=h,u+h<.25};n.exports=x},46662:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81154),g=function(u,h){return a(u,h.x,h.y)};n.exports=g},1632:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81154),g=function(u,h){return a(u,h.x,h.y)&&a(u,h.right,h.y)&&a(u,h.x,h.bottom)&&a(u,h.right,h.bottom)};n.exports=g},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y,s.width,s.height)};n.exports=x},8497:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(81154),u=s(90549),h=s(48320),l=s(23777),o=s(24820),d=new a({initialize:function(c,p,y,m){c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=0),this.type=l.ELLIPSE,this.x=c,this.y=p,this.width=y,this.height=m},contains:function(v,c){return g(this,v,c)},getPoint:function(v,c){return u(this,v,c)},getPoints:function(v,c,p){return h(this,v,c,p)},getRandomPoint:function(v){return o(this,v)},setTo:function(v,c,p,y){return this.x=v,this.y=c,this.width=p,this.height=y,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(v,c){return c===void 0&&(c=v),this.x=v,this.y=c,this},setSize:function(v,c){return c===void 0&&(c=v),this.width=v,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(v){this.x=v+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(v){this.x=v-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(v){this.y=v+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(v){this.y=v-this.height/2}}});n.exports=d},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y&&s.width===a.width&&s.height===a.height};n.exports=x},23694:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u,h){return h===void 0&&(h=new a),h.x=u.left,h.y=u.top,h.width=u.width,h.height=u.height,h};n.exports=g},90549:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79522),g=s(62945),u=s(36383),h=s(2141),l=function(o,d,v){v===void 0&&(v=new h);var c=g(d,0,u.PI2);return a(o,c,v)};n.exports=l},48320:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(92990),g=s(79522),u=s(62945),h=s(36383),l=function(o,d,v,c){c===void 0&&(c=[]),!d&&v>0&&(d=a(o)/v);for(var p=0;p<d;p++){var y=u(p/d,0,h.PI2);c.push(g(o,y))}return c};n.exports=l},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x+=a,s.y+=g,s};n.exports=x},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x+=a.x,s.y+=a.y,s};n.exports=x},24820:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){h===void 0&&(h=new a);var l=Math.random()*Math.PI*2,o=Math.sqrt(Math.random());return h.x=u.x+o*Math.cos(l)*u.width/2,h.y=u.y+o*Math.sin(l)*u.height/2,h};n.exports=g},49203:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8497);a.Area=s(78874),a.Circumference=s(92990),a.CircumferencePoint=s(79522),a.Clone=s(58102),a.Contains=s(81154),a.ContainsPoint=s(46662),a.ContainsRect=s(1632),a.CopyFrom=s(65534),a.Equals=s(36146),a.GetBounds=s(23694),a.GetPoint=s(90549),a.GetPoints=s(48320),a.Offset=s(73424),a.OffsetPoint=s(44808),a.Random=s(24820),n.exports=a},55738:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23777),g=s(79291),u={Circle:s(88911),Ellipse:s(49203),Intersects:s(91865),Line:s(2529),Mesh:s(73090),Point:s(43711),Polygon:s(58423),Rectangle:s(93232),Triangle:s(84435)};u=g(!1,u,a),n.exports=u},2044:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20339),g=function(u,h){return a(u.x,u.y,h.x,h.y)<=u.radius+h.radius};n.exports=g},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=a.width/2,u=a.height/2,h=Math.abs(s.x-a.x-g),l=Math.abs(s.y-a.y-u),o=g+s.radius,d=u+s.radius;if(h>o||l>d)return!1;if(h<=g||l<=u)return!0;var v=h-g,c=l-u,p=v*v,y=c*c,m=s.radius*s.radius;return p+y<=m};n.exports=x},63376:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(2044),u=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var d=h.x,v=h.y,c=h.radius,p=l.x,y=l.y,m=l.radius,C,T,E,w,P;if(v===y)P=(m*m-c*c-p*p+d*d)/(2*(d-p)),C=1,T=-2*y,E=p*p+P*P-2*p*P+y*y-m*m,w=T*T-4*C*E,w===0?o.push(new a(P,-T/(2*C))):w>0&&(o.push(new a(P,(-T+Math.sqrt(w))/(2*C))),o.push(new a(P,(-T-Math.sqrt(w))/(2*C))));else{var b=(d-p)/(v-y),M=(m*m-c*c-p*p+d*d-y*y+v*v)/(2*(v-y));C=b*b+1,T=2*v*b-2*M*b-2*d,E=d*d+v*v+M*M-c*c-2*v*M,w=T*T-4*C*E,w===0?(P=-T/(2*C),o.push(new a(P,M-P*b))):w>0&&(P=(-T+Math.sqrt(w))/(2*C),o.push(new a(P,M-P*b)),P=(-T-Math.sqrt(w))/(2*C),o.push(new a(P,M-P*b)))}}return o};n.exports=u},97439:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4042),g=s(81491),u=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var d=l.getLineA(),v=l.getLineB(),c=l.getLineC(),p=l.getLineD();a(d,h,o),a(v,h,o),a(c,h,o),a(p,h,o)}return o};n.exports=u},4042:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(80462),u=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var d=h.x1,v=h.y1,c=h.x2,p=h.y2,y=l.x,m=l.y,C=l.radius,T=c-d,E=p-v,w=d-y,P=v-m,b=T*T+E*E,M=2*(T*w+E*P),A=w*w+P*P-C*C,R=M*M-4*b*A,L,O;if(R===0){var D=-M/(2*b);L=d+D*T,O=v+D*E,D>=0&&D<=1&&o.push(new a(L,O))}else if(R>0){var I=(-M-Math.sqrt(R))/(2*b);L=d+I*T,O=v+I*E,I>=0&&I<=1&&o.push(new a(L,O));var B=(-M+Math.sqrt(R))/(2*b);L=d+B*T,O=v+B*E,B>=0&&B<=1&&o.push(new a(L,O))}}return o};n.exports=u},36100:(n,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25836),g=function(u,h,l,o){l===void 0&&(l=!1);var d=u.x1,v=u.y1,c=u.x2,p=u.y2,y=h.x1,m=h.y1,C=h.x2,T=h.y2,E=c-d,w=p-v,P=C-y,b=T-m,M=E*b-w*P;if(M===0)return null;var A,R,L;if(l){if(A=(E*(m-v)+w*(d-y))/(P*w-b*E),R=(y+P*A-d)/E,R<0||A<0||A>1)return null;L=R}else{if(A=((y-d)*b-(m-v)*P)/M,R=((v-m)*E-(d-y)*w)/M,A<0||A>1||R<0||R>1)return null;L=A}return o===void 0&&(o=new a),o.set(d+E*L,v+w*L,L)};n.exports=g},3073:(n,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36100),g=s(23031),u=s(25836),h=new g,l=new u,o=function(d,v,c,p){c===void 0&&(c=!1),p===void 0&&(p=new u);var y=!1;p.set(),l.set();for(var m=v[v.length-1],C=0;C<v.length;C++){var T=v[C];h.setTo(m.x,m.y,T.x,T.y),m=T,a(d,h,c,l)&&(!y||l.z<p.z)&&(p.copy(l),y=!0)}return y?p:null};n.exports=o},56362:(n,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25836),g=s(61369),u=s(3073),h=new a,l=function(o,d,v,c){c===void 0&&(c=new g),Array.isArray(d)||(d=[d]);var p=!1;c.set(),h.set();for(var y=0;y<d.length;y++)u(o,d[y].points,v,h)&&(!p||h.z<c.z)&&(c.set(h.x,h.y,h.z,y),p=!0);return p?c:null};n.exports=l},60646:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(76112),u=s(92773),h=function(l,o,d){if(d===void 0&&(d=[]),u(l,o))for(var v=o.getLineA(),c=o.getLineB(),p=o.getLineC(),y=o.getLineD(),m=[new a,new a,new a,new a],C=[g(v,l,m[0]),g(c,l,m[1]),g(p,l,m[2]),g(y,l,m[3])],T=0;T<4;T++)C[T]&&d.push(m[T]);return d};n.exports=h},71147:(n,x,s)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61369),g=s(56362),u=s(23031),h=new u;function l(v,c,p,y,m){var C=Math.cos(v),T=Math.sin(v);h.setTo(c,p,c+C,p+T);var E=g(h,y,!0);E&&m.push(new a(E.x,E.y,v,E.w))}function o(v,c){return v.z-c.z}var d=function(v,c,p){Array.isArray(p)||(p=[p]);for(var y=[],m=[],C=0;C<p.length;C++)for(var T=p[C].points,E=0;E<T.length;E++){var w=Math.atan2(T[E].y-c,T[E].x-v);m.indexOf(w)===-1&&(l(w,v,c,p,y),l(w-1e-5,v,c,p,y),l(w+1e-5,v,c,p,y),m.push(w))}return y.sort(o)};n.exports=d},68389:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(59996),u=function(h,l,o){return o===void 0&&(o=new a),g(h,l)&&(o.x=Math.max(h.x,l.x),o.y=Math.max(h.y,l.y),o.width=Math.min(h.right,l.right)-o.x,o.height=Math.min(h.bottom,l.bottom)-o.y),o};n.exports=u},52784:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60646),g=s(59996),u=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var d=h.getLineA(),v=h.getLineB(),c=h.getLineC(),p=h.getLineD();a(d,l,o),a(v,l,o),a(c,l,o),a(p,l,o)}return o};n.exports=u},26341:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89265),g=s(60646),u=function(h,l,o){if(o===void 0&&(o=[]),a(h,l)){var d=l.getLineA(),v=l.getLineB(),c=l.getLineC();g(d,h,o),g(v,h,o),g(c,h,o)}return o};n.exports=u},38720:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(4042),g=s(67636),u=function(h,l,o){if(o===void 0&&(o=[]),g(h,l)){var d=h.getLineA(),v=h.getLineB(),c=h.getLineC();a(d,l,o),a(v,l,o),a(c,l,o)}return o};n.exports=u},13882:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(2822),u=s(76112),h=function(l,o,d){if(d===void 0&&(d=[]),g(l,o))for(var v=l.getLineA(),c=l.getLineB(),p=l.getLineC(),y=[new a,new a,new a],m=[u(v,o,y[0]),u(c,o,y[1]),u(p,o,y[2])],C=0;C<3;C++)m[C]&&d.push(y[C]);return d};n.exports=h},75636:(n,x,s)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82944),g=s(13882),u=function(h,l,o){if(o===void 0&&(o=[]),a(h,l)){var d=l.getLineA(),v=l.getLineB(),c=l.getLineC();g(h,d,o),g(h,v,o),g(h,c,o)}return o};n.exports=u},80462:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=s(2141),u=new g,h=function(l,o,d){if(d===void 0&&(d=u),a(o,l.x1,l.y1))return d.x=l.x1,d.y=l.y1,!0;if(a(o,l.x2,l.y2))return d.x=l.x2,d.y=l.y2,!0;var v=l.x2-l.x1,c=l.y2-l.y1,p=o.x-l.x1,y=o.y-l.y1,m=v*v+c*c,C=v,T=c;if(m>0){var E=(p*v+y*c)/m;C*=E,T*=E}d.x=l.x1+C,d.y=l.y1+T;var w=C*C+T*T;return w<=m&&C*v+T*c>=0&&a(o,d.x,d.y)};n.exports=h},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=s.x1,h=s.y1,l=s.x2,o=s.y2,d=a.x1,v=a.y1,c=a.x2,p=a.y2;if(u===l&&h===o||d===c&&v===p)return!1;var y=(p-v)*(l-u)-(c-d)*(o-h);if(y===0)return!1;var m=((c-d)*(h-v)-(p-v)*(u-d))/y,C=((l-u)*(h-v)-(o-h)*(u-d))/y;return m<0||m>1||C<0||C>1?!1:(g&&(g.x=u+m*(l-u),g.y=h+m*(o-h)),!0)};n.exports=x},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x1,u=s.y1,h=s.x2,l=s.y2,o=a.x,d=a.y,v=a.right,c=a.bottom,p=0;if(g>=o&&g<=v&&u>=d&&u<=c||h>=o&&h<=v&&l>=d&&l<=c)return!0;if(g<o&&h>=o){if(p=u+(l-u)*(o-g)/(h-g),p>d&&p<=c)return!0}else if(g>v&&h<=v&&(p=u+(l-u)*(v-g)/(h-g),p>=d&&p<=c))return!0;if(u<d&&l>=d){if(p=g+(h-g)*(d-u)/(l-u),p>=o&&p<=v)return!0}else if(u>c&&l<=c&&(p=g+(h-g)*(c-u)/(l-u),p>=o&&p<=v))return!0;return!1};n.exports=x},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){g===void 0&&(g=1);var u=a.x1,h=a.y1,l=a.x2,o=a.y2,d=s.x,v=s.y,c=(l-u)*(l-u)+(o-h)*(o-h);if(c===0)return!1;var p=((d-u)*(l-u)+(v-h)*(o-h))/c;if(p<0)return Math.sqrt((u-d)*(u-d)+(h-v)*(h-v))<=g;if(p>=0&&p<=1){var y=((h-v)*(l-u)-(u-d)*(o-h))/c;return Math.abs(y)*Math.sqrt(c)<=g}else return Math.sqrt((l-d)*(l-d)+(o-v)*(o-v))<=g};n.exports=x},14199:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16204),g=function(u,h){if(!a(u,h))return!1;var l=Math.min(h.x1,h.x2),o=Math.max(h.x1,h.x2),d=Math.min(h.y1,h.y2),v=Math.max(h.y1,h.y2);return u.x>=l&&u.x<=o&&u.y>=d&&u.y<=v};n.exports=g},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.width<=0||s.height<=0||a.width<=0||a.height<=0?!1:!(s.right<a.x||s.bottom<a.y||s.x>a.right||s.y>a.bottom)};n.exports=x},89265:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(76112),g=s(37303),u=s(48653),h=s(77493),l=function(o,d){if(d.left>o.right||d.right<o.left||d.top>o.bottom||d.bottom<o.top)return!1;var v=d.getLineA(),c=d.getLineB(),p=d.getLineC();if(g(o,v.x1,v.y1)||g(o,v.x2,v.y2)||g(o,c.x1,c.y1)||g(o,c.x2,c.y2)||g(o,p.x1,p.y1)||g(o,p.x2,p.y2))return!0;var y=o.getLineA(),m=o.getLineB(),C=o.getLineC(),T=o.getLineD();if(a(v,y)||a(v,m)||a(v,C)||a(v,T)||a(c,y)||a(c,m)||a(c,C)||a(c,T)||a(p,y)||a(p,m)||a(p,C)||a(p,T))return!0;var E=h(o),w=u(d,E,!0);return w.length>0};n.exports=l},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h,l){return l===void 0&&(l=0),!(a>s.right+l||g<s.left-l||u>s.bottom+l||h<s.top-l)};n.exports=x},67636:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80462),g=s(10690),u=function(h,l){return h.left>l.right||h.right<l.left||h.top>l.bottom||h.bottom<l.top?!1:!!(g(h,l.x,l.y)||a(h.getLineA(),l)||a(h.getLineB(),l)||a(h.getLineC(),l))};n.exports=u},2822:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(76112),g=function(u,h){return!!(u.contains(h.x1,h.y1)||u.contains(h.x2,h.y2)||a(u.getLineA(),h)||a(u.getLineB(),h)||a(u.getLineC(),h))};n.exports=g},82944:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(48653),g=s(71694),u=s(76112),h=function(l,o){if(l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top)return!1;var d=l.getLineA(),v=l.getLineB(),c=l.getLineC(),p=o.getLineA(),y=o.getLineB(),m=o.getLineC();if(u(d,p)||u(d,y)||u(d,m)||u(v,p)||u(v,y)||u(v,m)||u(c,p)||u(c,y)||u(c,m))return!0;var C=g(l),T=a(o,C,!0);return T.length>0||(C=g(o),T=a(l,C,!0),T.length>0)};n.exports=h},91865:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:s(2044),CircleToRectangle:s(81491),GetCircleToCircle:s(63376),GetCircleToRectangle:s(97439),GetLineToCircle:s(4042),GetLineToLine:s(36100),GetLineToPoints:s(3073),GetLineToPolygon:s(56362),GetLineToRectangle:s(60646),GetRaysFromPointToPolygon:s(71147),GetRectangleIntersection:s(68389),GetRectangleToRectangle:s(52784),GetRectangleToTriangle:s(26341),GetTriangleToCircle:s(38720),GetTriangleToLine:s(13882),GetTriangleToTriangle:s(75636),LineToCircle:s(80462),LineToLine:s(76112),LineToRectangle:s(92773),PointToLine:s(16204),PointToLineSegment:s(14199),RectangleToRectangle:s(59996),RectangleToTriangle:s(89265),RectangleToValues:s(84411),TriangleToCircle:s(67636),TriangleToLine:s(2822),TriangleToTriangle:s(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.atan2(s.y2-s.y1,s.x2-s.x1)};n.exports=x},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=1),g===void 0&&(g=[]);var u=Math.round(s.x1),h=Math.round(s.y1),l=Math.round(s.x2),o=Math.round(s.y2),d=Math.abs(l-u),v=Math.abs(o-h),c=u<l?1:-1,p=h<o?1:-1,y=d-v;g.push({x:u,y:h});for(var m=1;!(u===l&&h===o);){var C=y<<1;C>-v&&(y-=v,u+=c),C<d&&(y+=d,h+=p),m%a===0&&g.push({x:u,y:h}),m++}return g};n.exports=x},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=a-(s.x1+s.x2)/2,h=g-(s.y1+s.y2)/2;return s.x1+=u,s.y1+=h,s.x2+=u,s.y2+=h,s};n.exports=x},31116:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23031),g=function(u){return new a(u.x1,u.y1,u.x2,u.y2)};n.exports=g},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x1,s.y1,s.x2,s.y2)};n.exports=x},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x1===a.x1&&s.y1===a.y1&&s.x2===a.x2&&s.y2===a.y2};n.exports=x},78177:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=function(u,h,l){l===void 0&&(l=h);var o=a(u),d=u.x2-u.x1,v=u.y2-u.y1;return h&&(u.x1=u.x1-d/o*h,u.y1=u.y1-v/o*h),l&&(u.x2=u.x2+d/o*l,u.y2=u.y2+v/o*l),u};n.exports=g},26708:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(52816),g=s(6113),u=s(2141),h=function(l,o,d,v,c){v===void 0&&(v=0),c===void 0&&(c=[]);var p=[],y=l.x1,m=l.y1,C=l.x2-y,T=l.y2-m,E=g(o,c),w,P,b=d-1;for(w=0;w<b;w++)P=E(w/b),p.push(new u(y+C*P,m+T*P));if(P=E(1),p.push(new u(y+C*P,m+T*P)),v>0){var M=p[0],A=[M];for(w=1;w<p.length-1;w++){var R=p[w];a(M,R)>=v&&(A.push(R),M=R)}var L=p[p.length-1];return a(M,L)<v&&A.pop(),A.push(L),A}else return p};n.exports=h},32125:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){return h===void 0&&(h=new a),h.x=(u.x1+u.x2)/2,h.y=(u.y1+u.y2)/2,h};n.exports=g},99569:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h,l){l===void 0&&(l=new a);var o=u.x1,d=u.y1,v=u.x2,c=u.y2,p=(v-o)*(v-o)+(c-d)*(c-d);if(p===0)return l;var y=((h.x-o)*(v-o)+(h.y-d)*(c-d))/p;return l.x=o+y*(v-o),l.y=d+y*(c-d),l};n.exports=g},34638:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(91938),u=s(2141),h=function(l,o){o===void 0&&(o=new u);var d=g(l)-a.TAU;return o.x=Math.cos(d),o.y=Math.sin(d),o};n.exports=h},13151:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h,l){return l===void 0&&(l=new a),l.x=u.x1+(u.x2-u.x1)*h,l.y=u.y1+(u.y2-u.y1)*h,l};n.exports=g},15258:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(2141),u=function(h,l,o,d){d===void 0&&(d=[]),!l&&o>0&&(l=a(h)/o);for(var v=h.x1,c=h.y1,p=h.x2,y=h.y2,m=0;m<l;m++){var C=m/l,T=v+(p-v)*C,E=c+(y-c)*C;d.push(new g(T,E))}return d};n.exports=u},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x1,u=s.y1,h=s.x2,l=s.y2,o=(h-g)*(h-g)+(l-u)*(l-u);if(o===0)return!1;var d=((u-a.y)*(h-g)-(g-a.x)*(l-u))/o;return Math.abs(d)*Math.sqrt(o)};n.exports=x},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.abs(s.y1-s.y2)};n.exports=x},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.sqrt((s.x2-s.x1)*(s.x2-s.x1)+(s.y2-s.y1)*(s.y2-s.y1))};n.exports=x},23031:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(13151),u=s(15258),h=s(23777),l=s(65822),o=s(26099),d=new a({initialize:function(c,p,y,m){c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=0),this.type=h.LINE,this.x1=c,this.y1=p,this.x2=y,this.y2=m},getPoint:function(v,c){return g(this,v,c)},getPoints:function(v,c,p){return u(this,v,c,p)},getRandomPoint:function(v){return l(this,v)},setTo:function(v,c,p,y){return v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=0),this.x1=v,this.y1=c,this.x2=p,this.y2=y,this},setFromObjects:function(v,c){return this.x1=v.x,this.y1=v.y,this.x2=c.x,this.y2=c.y,this},getPointA:function(v){return v===void 0&&(v=new o),v.set(this.x1,this.y1),v},getPointB:function(v){return v===void 0&&(v=new o),v.set(this.x2,this.y2),v},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(v){this.x1<=this.x2?this.x1=v:this.x2=v}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(v){this.x1>this.x2?this.x1=v:this.x2=v}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(v){this.y1<=this.y2?this.y1=v:this.y2=v}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(v){this.y1>this.y2?this.y1=v:this.y2=v}}});n.exports=d},64795:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(15994),u=s(91938),h=function(l){var o=u(l)-a.TAU;return g(o,-Math.PI,Math.PI)};n.exports=h},52616:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(91938),u=function(h){return Math.cos(g(h)-a.TAU)};n.exports=u},87231:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(91938),u=function(h){return Math.sin(g(h)-a.TAU)};n.exports=u},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x1+=a,s.y1+=g,s.x2+=a,s.y2+=g,s};n.exports=x},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return-((s.x2-s.x1)/(s.y2-s.y1))};n.exports=x},65822:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){h===void 0&&(h=new a);var l=Math.random();return h.x=u.x1+l*(u.x2-u.x1),h.y=u.y1+l*(u.y2-u.y1),h};n.exports=g},69777:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91938),g=s(64795),u=function(h,l){return 2*g(l)-Math.PI-a(h)};n.exports=u},39706:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(64400),g=function(u,h){var l=(u.x1+u.x2)/2,o=(u.y1+u.y2)/2;return a(u,l,o,h)};n.exports=g},82585:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(64400),g=function(u,h,l){return a(u,h.x,h.y,l)};n.exports=g},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=Math.cos(u),l=Math.sin(u),o=s.x1-a,d=s.y1-g;return s.x1=o*h-d*l+a,s.y1=o*l+d*h+g,o=s.x2-a,d=s.y2-g,s.x2=o*h-d*l+a,s.y2=o*l+d*h+g,s};n.exports=x},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){return s.x1=a,s.y1=g,s.x2=a+Math.cos(u)*h,s.y2=g+Math.sin(u)*h,s};n.exports=x},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s.y2-s.y1)/(s.x2-s.x1)};n.exports=x},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.abs(s.x1-s.x2)};n.exports=x},2529:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23031);a.Angle=s(91938),a.BresenhamPoints=s(84993),a.CenterOn=s(36469),a.Clone=s(31116),a.CopyFrom=s(59944),a.Equals=s(59220),a.Extend=s(78177),a.GetEasedPoints=s(26708),a.GetMidPoint=s(32125),a.GetNearestPoint=s(99569),a.GetNormal=s(34638),a.GetPoint=s(13151),a.GetPoints=s(15258),a.GetShortestDistance=s(26408),a.Height=s(98770),a.Length=s(35001),a.NormalAngle=s(64795),a.NormalX=s(52616),a.NormalY=s(87231),a.Offset=s(89662),a.PerpSlope=s(71165),a.Random=s(65822),a.ReflectAngle=s(69777),a.Rotate=s(39706),a.RotateAroundPoint=s(82585),a.RotateAroundXY=s(64400),a.SetToAngle=s(62377),a.Slope=s(71366),a.Width=s(10809),n.exports=a},83997:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(87841),u=s(26099);function h(o,d,v,c){var p=o-v,y=d-c,m=p*p+y*y;return Math.sqrt(m)}var l=new a({initialize:function(d,v,c){this.vertex1=d,this.vertex2=v,this.vertex3=c,this.bounds=new g,this._inCenter=new u},getInCenter:function(o){o===void 0&&(o=!0);var d=this.vertex1,v=this.vertex2,c=this.vertex3,p,y,m,C,T,E;o?(p=d.x,y=d.y,m=v.x,C=v.y,T=c.x,E=c.y):(p=d.vx,y=d.vy,m=v.vx,C=v.vy,T=c.vx,E=c.vy);var w=h(T,E,m,C),P=h(p,y,T,E),b=h(m,C,p,y),M=w+P+b;return this._inCenter.set((p*w+m*P+T*b)/M,(y*w+C*P+E*b)/M)},contains:function(o,d,v){var c=this.vertex1,p=this.vertex2,y=this.vertex3,m=c.vx,C=c.vy,T=p.vx,E=p.vy,w=y.vx,P=y.vy;if(v){var b=v.a,M=v.b,A=v.c,R=v.d,L=v.e,O=v.f;m=c.vx*b+c.vy*A+L,C=c.vx*M+c.vy*R+O,T=p.vx*b+p.vy*A+L,E=p.vx*M+p.vy*R+O,w=y.vx*b+y.vy*A+L,P=y.vx*M+y.vy*R+O}var D=w-m,I=P-C,B=T-m,G=E-C,z=o-m,Y=d-C,H=D*D+I*I,k=D*B+I*G,U=D*z+I*Y,F=B*B+G*G,N=B*z+G*Y,V=H*F-k*k,$=V===0?0:1/V,X=(F*U-k*N)*$,j=(H*N-k*U)*$;return X>=0&&j>=0&&X+j<1},isCounterClockwise:function(o){var d=this.vertex1,v=this.vertex2,c=this.vertex3,p=(v.vx-d.vx)*(c.vy-d.vy)-(v.vy-d.vy)*(c.vx-d.vx);return o<=0?p>=0:p<0},load:function(o,d,v,c,p){return v=this.vertex1.load(o,d,v,c,p),v=this.vertex2.load(o,d,v,c,p),v=this.vertex3.load(o,d,v,c,p),v},transformCoordinatesLocal:function(o,d,v,c){return this.vertex1.transformCoordinatesLocal(o,d,v,c),this.vertex2.transformCoordinatesLocal(o,d,v,c),this.vertex3.transformCoordinatesLocal(o,d,v,c),this},updateBounds:function(){var o=this.vertex1,d=this.vertex2,v=this.vertex3,c=this.bounds;return c.x=Math.min(o.vx,d.vx,v.vx),c.y=Math.min(o.vy,d.vy,v.vy),c.width=Math.max(o.vx,d.vx,v.vx)-c.x,c.height=Math.max(o.vy,d.vy,v.vy)-c.y,this},isInView:function(o,d,v,c,p,y,m,C,T,E,w){this.update(c,p,y,m,C,T,E,w);var P=this.vertex1,b=this.vertex2,M=this.vertex3;if(P.ta<=0&&b.ta<=0&&M.ta<=0||d&&!this.isCounterClockwise(v))return!1;var A=this.bounds;A.x=Math.min(P.tx,b.tx,M.tx),A.y=Math.min(P.ty,b.ty,M.ty),A.width=Math.max(P.tx,b.tx,M.tx)-A.x,A.height=Math.max(P.ty,b.ty,M.ty)-A.y;var R=o.x+o.width,L=o.y+o.height;return A.width<=0||A.height<=0||o.width<=0||o.height<=0?!1:!(A.right<o.x||A.bottom<o.y||A.x>R||A.y>L)},scrollUV:function(o,d){return this.vertex1.scrollUV(o,d),this.vertex2.scrollUV(o,d),this.vertex3.scrollUV(o,d),this},scaleUV:function(o,d){return this.vertex1.scaleUV(o,d),this.vertex2.scaleUV(o,d),this.vertex3.scaleUV(o,d),this},setColor:function(o){return this.vertex1.color=o,this.vertex2.color=o,this.vertex3.color=o,this},update:function(o,d,v,c,p,y,m,C){return this.vertex1.update(d,v,c,p,y,m,C,o),this.vertex2.update(d,v,c,p,y,m,C,o),this.vertex3.update(d,v,c,p,y,m,C,o),this},translate:function(o,d){d===void 0&&(d=0);var v=this.vertex1,c=this.vertex2,p=this.vertex3;return v.x+=o,v.y+=d,c.x+=o,c.y+=d,p.x+=o,p.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(o){var d=this.getInCenter();this.translate(o-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(o){var d=this.getInCenter();this.translate(0,o-d.y)}},alpha:{get:function(){var o=this.vertex1,d=this.vertex2,v=this.vertex3;return(o.alpha+d.alpha+v.alpha)/3},set:function(o){this.vertex1.alpha=o,this.vertex2.alpha=o,this.vertex3.alpha=o}},depth:{get:function(){var o=this.vertex1,d=this.vertex2,v=this.vertex3;return(o.vz+d.vz+v.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=l},48803:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83997),g=s(95540),u=s(37867),h=s(25836),l=s(39318),o=new h,d=new h,v=new u,c=function(p){var y=g(p,"mesh"),m=g(p,"texture",null),C=g(p,"frame"),T=g(p,"width",1),E=g(p,"height",T),w=g(p,"widthSegments",1),P=g(p,"heightSegments",w),b=g(p,"x",0),M=g(p,"y",0),A=g(p,"z",0),R=g(p,"rotateX",0),L=g(p,"rotateY",0),O=g(p,"rotateZ",0),D=g(p,"zIsUp",!0),I=g(p,"isOrtho",y?y.dirtyCache[11]:!1),B=g(p,"colors",[16777215]),G=g(p,"alphas",[1]),z=g(p,"tile",!1),Y=g(p,"flipY",!1),H=g(p,"width",null),k={faces:[],verts:[]};o.set(b,M,A),d.set(R,L,O),v.fromRotationXYTranslation(d,o,D);var U;if(!m&&y)m=y.texture,C||(U=y.frame);else if(y&&typeof m=="string")m=y.scene.sys.textures.get(m);else if(!m)return k;U||(U=m.get(C)),!H&&I&&m&&y&&(T=U.width/y.height,E=U.height/y.height);var F=T/2,N=E/2,V=Math.floor(w),$=Math.floor(P),X=V+1,j=$+1,Q=T/V,K=E/$,q=[],tt=[],st,nt,rt=0,ut=1,vt=0,pt=1;U&&(rt=U.u0,ut=U.u1,Y?(vt=U.v1,pt=U.v0):(vt=U.v0,pt=U.v1));var ft=ut-rt,lt=pt-vt;for(nt=0;nt<j;nt++){var yt=nt*K-N;for(st=0;st<X;st++){var Ct=st*Q-F;tt.push(Ct,-yt);var Rt=rt+ft*(st/V),Dt=vt+lt*(nt/$);q.push(Rt,Dt)}}Array.isArray(B)||(B=[B]),Array.isArray(G)||(G=[G]);var Tt=0,Et=0;for(nt=0;nt<$;nt++)for(st=0;st<V;st++){var ot=(st+X*nt)*2,at=(st+X*(nt+1))*2,gt=(st+1+X*(nt+1))*2,_=(st+1+X*nt)*2,it=B[Et],ht=G[Tt],dt=new l(tt[ot],tt[ot+1],0,q[ot],q[ot+1],it,ht).transformMat4(v),St=new l(tt[at],tt[at+1],0,q[at],q[at+1],it,ht).transformMat4(v),It=new l(tt[_],tt[_+1],0,q[_],q[_+1],it,ht).transformMat4(v),At=new l(tt[at],tt[at+1],0,q[at],q[at+1],it,ht).transformMat4(v),Lt=new l(tt[gt],tt[gt+1],0,q[gt],q[gt+1],it,ht).transformMat4(v),Bt=new l(tt[_],tt[_+1],0,q[_],q[_+1],it,ht).transformMat4(v);z&&(dt.setUVs(rt,pt),St.setUVs(rt,vt),It.setUVs(ut,pt),At.setUVs(rt,vt),Lt.setUVs(ut,vt),Bt.setUVs(ut,pt)),Et++,Et===B.length&&(Et=0),Tt++,Tt===G.length&&(Tt=0),k.verts.push(dt,St,It,At,Lt,Bt),k.faces.push(new a(dt,St,It),new a(At,Lt,Bt))}return y&&(y.faces=y.faces.concat(k.faces),y.vertices=y.vertices.concat(k.verts)),k};n.exports=c},34684:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83997),g=s(37867),u=s(25836),h=s(39318),l=new u,o=new u,d=new g,v=function(c,p,y,m,C,T,E,w,P,b){y===void 0&&(y=1),m===void 0&&(m=0),C===void 0&&(C=0),T===void 0&&(T=0),E===void 0&&(E=0),w===void 0&&(w=0),P===void 0&&(P=0),b===void 0&&(b=!0);var M={faces:[],verts:[]},A=c.materials;l.set(m,C,T),o.set(E,w,P),d.fromRotationXYTranslation(o,l,b);for(var R=0;R<c.models.length;R++)for(var L=c.models[R],O=L.vertices,D=L.textureCoords,I=L.faces,B=0;B<I.length;B++){var G=I[B],z=G.vertices[0],Y=G.vertices[1],H=G.vertices[2],k=O[z.vertexIndex],U=O[Y.vertexIndex],F=O[H.vertexIndex],N=z.textureCoordsIndex,V=Y.textureCoordsIndex,$=H.textureCoordsIndex,X=N===-1?{u:0,v:1}:D[N],j=V===-1?{u:0,v:0}:D[V],Q=$===-1?{u:1,v:1}:D[$],K=16777215;G.material!==""&&A[G.material]&&(K=A[G.material]);var q=new h(k.x*y,k.y*y,k.z*y,X.u,X.v,K).transformMat4(d),tt=new h(U.x*y,U.y*y,U.z*y,j.u,j.v,K).transformMat4(d),st=new h(F.x*y,F.y*y,F.z*y,Q.u,Q.v,K).transformMat4(d);M.verts.push(q,tt,st),M.faces.push(new a(q,tt,st))}return p&&(p.faces=p.faces.concat(M.faces),p.vertices=p.vertices.concat(M.verts)),M};n.exports=v},92515:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83997),g=s(39318),u=function(h,l,o,d,v,c,p,y){if(d===void 0&&(d=!1),c===void 0&&(c=16777215),p===void 0&&(p=1),y===void 0&&(y=!1),h.length!==l.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},C,T,E,w,P,b,M,A,R,L,O,D=d?3:2,I=Array.isArray(c),B=Array.isArray(p);if(Array.isArray(o)&&o.length>0)for(C=0;C<o.length;C++){var G=o[C],z=o[C]*2,Y=o[C]*D;T=h[Y],E=h[Y+1],w=d?h[Y+2]:0,P=l[z],b=l[z+1],y&&(b=1-b),M=I?c[G]:c,A=B?p[G]:p,R=0,L=0,O=0,v&&(R=v[Y],L=v[Y+1],O=d?v[Y+2]:0),m.vertices.push(new g(T,E,w,P,b,M,A,R,L,O))}else{var H=0,k=0;for(C=0;C<h.length;C+=D)T=h[C],E=h[C+1],w=d?h[C+2]:0,P=l[H],b=l[H+1],M=I?c[k]:c,A=B?p[k]:p,R=0,L=0,O=0,v&&(R=v[C],L=v[C+1],O=d?v[C+2]:0),m.vertices.push(new g(T,E,w,P,b,M,A,R,L,O)),H+=2,k++}for(C=0;C<m.vertices.length;C+=3){var U=m.vertices[C],F=m.vertices[C+1],N=m.vertices[C+2];m.faces.push(new a(U,F,N))}return m};n.exports=u},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=!0,s="untitled",a="",g="";function u(T){var E=T.indexOf("#");return E>-1?T.substring(0,E):T}function h(T){return T.models.length===0&&T.models.push({faces:[],name:s,textureCoords:[],vertexNormals:[],vertices:[]}),a="",T.models[T.models.length-1]}function l(T,E){var w=T.length>=2?T[1]:s;E.models.push({faces:[],name:w,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function o(T){T.length===2&&(a=T[1])}function d(T,E){var w=T.length,P=w>=2?parseFloat(T[1]):0,b=w>=3?parseFloat(T[2]):0,M=w>=4?parseFloat(T[3]):0;h(E).vertices.push({x:P,y:b,z:M})}function v(T,E){var w=T.length,P=w>=2?parseFloat(T[1]):0,b=w>=3?parseFloat(T[2]):0,M=w>=4?parseFloat(T[3]):0;isNaN(P)&&(P=0),isNaN(b)&&(b=0),isNaN(M)&&(M=0),x&&(b=1-b),h(E).textureCoords.push({u:P,v:b,w:M})}function c(T,E){var w=T.length,P=w>=2?parseFloat(T[1]):0,b=w>=3?parseFloat(T[2]):0,M=w>=4?parseFloat(T[3]):0;h(E).vertexNormals.push({x:P,y:b,z:M})}function p(T,E){var w=T.length-1;if(!(w<3)){for(var P={group:a,material:g,vertices:[]},b=0;b<w;b++){var M=T[b+1],A=M.split("/"),R=A.length;if(!(R<1||R>3)){var L=0,O=0,D=0;L=parseInt(A[0],10),R>1&&A[1]!==""&&(O=parseInt(A[1],10)),R>2&&(D=parseInt(A[2],10)),L!==0&&(L<0&&(L=h(E).vertices.length+1+L),O-=1,L-=1,D-=1,P.vertices.push({textureCoordsIndex:O,vertexIndex:L,vertexNormalIndex:D}))}}h(E).faces.push(P)}}function y(T,E){T.length>=2&&E.materialLibraries.push(T[1])}function m(T){T.length>=2&&(g=T[1])}var C=function(T,E){E===void 0&&(E=!0),x=E;var w={materials:{},materialLibraries:[],models:[]};a="",g="";for(var P=T.split(`
`),b=0;b<P.length;b++){var M=u(P[b]),A=M.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":l(A,w);break;case"g":o(A);break;case"v":d(A,w);break;case"vt":v(A,w);break;case"vn":c(A,w);break;case"f":p(A,w);break;case"mtllib":y(A,w);break;case"usemtl":m(A);break}}return w};n.exports=C},61485:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37589),g=function(u){for(var h={},l=u.split(`
`),o="",d=0;d<l.length;d++){var v=l[d].trim();if(!(v.indexOf("#")===0||v==="")){var c=v.replace(/\s\s+/g," ").trim().split(" ");switch(c[0].toLowerCase()){case"newmtl":{o=c[1];break}case"kd":{var p=Math.floor(c[1]*255),y=c.length>=2?Math.floor(c[2]*255):p,m=c.length>=3?Math.floor(c[3]*255):p;h[o]=a(p,y,m);break}}}}return h};n.exports=g},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h,l;if(g===void 0&&u===void 0){var o=s.getInCenter();h=o.x,l=o.y}var d=Math.cos(a),v=Math.sin(a),c=s.vertex1,p=s.vertex2,y=s.vertex3,m=c.x-h,C=c.y-l;c.set(m*d-C*v+h,m*v+C*d+l),m=p.x-h,C=p.y-l,p.set(m*d-C*v+h,m*v+C*d+l),m=y.x-h,C=y.y-l,y.set(m*d-C*v+h,m*v+C*d+l)};n.exports=x},39318:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(70554),u=s(25836),h=new a({Extends:u,initialize:function(o,d,v,c,p,y,m,C,T,E){y===void 0&&(y=16777215),m===void 0&&(m=1),C===void 0&&(C=0),T===void 0&&(T=0),E===void 0&&(E=0),u.call(this,o,d,v),this.vx=0,this.vy=0,this.vz=0,this.nx=C,this.ny=T,this.nz=E,this.u=c,this.v=p,this.color=y,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=c,this.tv=p},setUVs:function(l,o){return this.u=l,this.v=o,this.tu=l,this.tv=o,this},scrollUV:function(l,o){return this.tu+=l,this.tv+=o,this},scaleUV:function(l,o){return this.tu=this.u*l,this.tv=this.v*o,this},transformCoordinatesLocal:function(l,o,d,v){var c=this.x,p=this.y,y=this.z,m=l.val,C=c*m[0]+p*m[4]+y*m[8]+m[12],T=c*m[1]+p*m[5]+y*m[9]+m[13],E=c*m[2]+p*m[6]+y*m[10]+m[14],w=c*m[3]+p*m[7]+y*m[11]+m[15];this.vx=C/w*o,this.vy=-(T/w)*d,v<=0?this.vz=E/w:this.vz=-(E/w)},resize:function(l,o,d,v,c,p){return this.x=l,this.y=o,this.vx=this.x*d,this.vy=-this.y*v,this.vz=0,c<.5?this.vx+=d*(.5-c):c>.5&&(this.vx-=d*(c-.5)),p<.5?this.vy+=v*(.5-p):p>.5&&(this.vy-=v*(p-.5)),this},update:function(l,o,d,v,c,p,y,m){var C=this.vx*l+this.vy*d+c,T=this.vx*o+this.vy*v+p;return y&&(C=Math.round(C),T=Math.round(T)),this.tx=C,this.ty=T,this.ta=this.alpha*m,this},load:function(l,o,d,v,c){return l[++d]=this.tx,l[++d]=this.ty,l[++d]=this.tu,l[++d]=this.tv,l[++d]=v,l[++d]=c,o[++d]=g.getTintAppendFloatAlpha(this.color,this.ta),d}});n.exports=h},73090:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:s(83997),GenerateGridVerts:s(48803),GenerateObjVerts:s(34684),GenerateVerts:s(92515),ParseObj:s(85048),ParseObjMaterial:s(61485),RotateFace:s(92570),Vertex:s(39318)};n.exports=a},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.setTo(Math.ceil(s.x),Math.ceil(s.y))};n.exports=x},99706:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u){return new a(u.x,u.y)};n.exports=g},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y)};n.exports=x},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y};n.exports=x},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.setTo(Math.floor(s.x),Math.floor(s.y))};n.exports=x},87555:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){if(h===void 0&&(h=new a),!Array.isArray(u))throw new Error("GetCentroid points argument must be an array");var l=u.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)h.x=u[0].x,h.y=u[0].y;else{for(var o=0;o<l;o++)h.x+=u[o].x,h.y+=u[o].y;h.x/=l,h.y/=l}return h};n.exports=g},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)};n.exports=x},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x*s.x+s.y*s.y};n.exports=x},20873:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u,h){h===void 0&&(h=new a);for(var l=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,v=Number.POSITIVE_INFINITY,c=0;c<u.length;c++){var p=u[c];p.x>l&&(l=p.x),p.x<o&&(o=p.x),p.y>d&&(d=p.y),p.y<v&&(v=p.y)}return h.x=o,h.y=v,h.width=l-o,h.height=d-v,h};n.exports=g},26152:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h,l,o){return l===void 0&&(l=0),o===void 0&&(o=new a),o.x=u.x+(h.x-u.x)*l,o.y=u.y+(h.y-u.y)*l,o};n.exports=g},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.setTo(s.y,s.x)};n.exports=x},79432:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){return h===void 0&&(h=new a),h.setTo(-u.x,-u.y)};n.exports=g},2141:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23777),u=new a({initialize:function(l,o){l===void 0&&(l=0),o===void 0&&(o=l),this.type=g.POINT,this.x=l,this.y=o},setTo:function(h,l){return h===void 0&&(h=0),l===void 0&&(l=h),this.x=h,this.y=l,this}});n.exports=u},72930:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(44405),u=function(h,l,o){o===void 0&&(o=new a);var d=h.x*l.x+h.y*l.y,v=d/g(l);return v!==0&&(o.x=v*l.x,o.y=v*l.y),o};n.exports=u},62880:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h,l){l===void 0&&(l=new a);var o=u.x*h.x+u.y*h.y;return o!==0&&(l.x=o*h.x,l.y=o*h.y),l};n.exports=g},15093:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28793),g=function(u,h){if(u.x!==0||u.y!==0){var l=a(u);u.x/=l,u.y/=l}return u.x*=h,u.y*=h,u};n.exports=g},43711:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141);a.Ceil=s(96550),a.Clone=s(99706),a.CopyFrom=s(68010),a.Equals=s(27814),a.Floor=s(73565),a.GetCentroid=s(87555),a.GetMagnitude=s(28793),a.GetMagnitudeSq=s(44405),a.GetRectangleFromPoints=s(20873),a.Interpolate=s(26152),a.Invert=s(55767),a.Negative=s(79432),a.Project=s(72930),a.ProjectUnit=s(62880),a.SetMagnitude=s(15093),n.exports=a},12306:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25717),g=function(u){return new a(u.points)};n.exports=g},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var u=!1,h=-1,l=s.points.length-1;++h<s.points.length;l=h){var o=s.points[h].x,d=s.points[h].y,v=s.points[l].x,c=s.points[l].y;(d<=g&&g<c||c<=g&&g<d)&&a<(v-o)*(g-d)/(c-d)+o&&(u=!u)}return u};n.exports=x},99338:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63814),g=function(u,h){return a(u,h.x,h.y)};n.exports=g},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(k,U,F){F=F||2;var N=U&&U.length,V=N?U[0]*F:k.length,$=s(k,0,V,F,!0),X=[];if(!$||$.next===$.prev)return X;var j,Q,K,q,tt,st,nt;if(N&&($=d(k,U,$,F)),k.length>80*F){j=K=k[0],Q=q=k[1];for(var rt=F;rt<V;rt+=F)tt=k[rt],st=k[rt+1],tt<j&&(j=tt),st<Q&&(Q=st),tt>K&&(K=tt),st>q&&(q=st);nt=Math.max(K-j,q-Q),nt=nt!==0?32767/nt:0}return g($,X,F,j,Q,nt,0),X}function s(k,U,F,N,V){var $,X;if(V===H(k,U,F,N)>0)for($=U;$<F;$+=N)X=G($,k[$],k[$+1],X);else for($=F-N;$>=U;$-=N)X=G($,k[$],k[$+1],X);return X&&M(X,X.next)&&(z(X),X=X.next),X}function a(k,U){if(!k)return k;U||(U=k);var F=k,N;do if(N=!1,!F.steiner&&(M(F,F.next)||b(F.prev,F,F.next)===0)){if(z(F),F=U=F.prev,F===F.next)break;N=!0}else F=F.next;while(N||F!==U);return U}function g(k,U,F,N,V,$,X){if(k){!X&&$&&m(k,N,V,$);for(var j=k,Q,K;k.prev!==k.next;){if(Q=k.prev,K=k.next,$?h(k,N,V,$):u(k)){U.push(Q.i/F|0),U.push(k.i/F|0),U.push(K.i/F|0),z(k),k=K.next,j=K.next;continue}if(k=K,k===j){X?X===1?(k=l(a(k),U,F),g(k,U,F,N,V,$,2)):X===2&&o(k,U,F,N,V,$):g(a(k),U,F,N,V,$,1);break}}}}function u(k){var U=k.prev,F=k,N=k.next;if(b(U,F,N)>=0)return!1;for(var V=U.x,$=F.x,X=N.x,j=U.y,Q=F.y,K=N.y,q=V<$?V<X?V:X:$<X?$:X,tt=j<Q?j<K?j:K:Q<K?Q:K,st=V>$?V>X?V:X:$>X?$:X,nt=j>Q?j>K?j:K:Q>K?Q:K,rt=N.next;rt!==U;){if(rt.x>=q&&rt.x<=st&&rt.y>=tt&&rt.y<=nt&&w(V,j,$,Q,X,K,rt.x,rt.y)&&b(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function h(k,U,F,N){var V=k.prev,$=k,X=k.next;if(b(V,$,X)>=0)return!1;for(var j=V.x,Q=$.x,K=X.x,q=V.y,tt=$.y,st=X.y,nt=j<Q?j<K?j:K:Q<K?Q:K,rt=q<tt?q<st?q:st:tt<st?tt:st,ut=j>Q?j>K?j:K:Q>K?Q:K,vt=q>tt?q>st?q:st:tt>st?tt:st,pt=T(nt,rt,U,F,N),ft=T(ut,vt,U,F,N),lt=k.prevZ,yt=k.nextZ;lt&&lt.z>=pt&&yt&&yt.z<=ft;){if(lt.x>=nt&&lt.x<=ut&&lt.y>=rt&&lt.y<=vt&&lt!==V&&lt!==X&&w(j,q,Q,tt,K,st,lt.x,lt.y)&&b(lt.prev,lt,lt.next)>=0||(lt=lt.prevZ,yt.x>=nt&&yt.x<=ut&&yt.y>=rt&&yt.y<=vt&&yt!==V&&yt!==X&&w(j,q,Q,tt,K,st,yt.x,yt.y)&&b(yt.prev,yt,yt.next)>=0))return!1;yt=yt.nextZ}for(;lt&&lt.z>=pt;){if(lt.x>=nt&&lt.x<=ut&&lt.y>=rt&&lt.y<=vt&&lt!==V&&lt!==X&&w(j,q,Q,tt,K,st,lt.x,lt.y)&&b(lt.prev,lt,lt.next)>=0)return!1;lt=lt.prevZ}for(;yt&&yt.z<=ft;){if(yt.x>=nt&&yt.x<=ut&&yt.y>=rt&&yt.y<=vt&&yt!==V&&yt!==X&&w(j,q,Q,tt,K,st,yt.x,yt.y)&&b(yt.prev,yt,yt.next)>=0)return!1;yt=yt.nextZ}return!0}function l(k,U,F){var N=k;do{var V=N.prev,$=N.next.next;!M(V,$)&&A(V,N,N.next,$)&&D(V,$)&&D($,V)&&(U.push(V.i/F|0),U.push(N.i/F|0),U.push($.i/F|0),z(N),z(N.next),N=k=$),N=N.next}while(N!==k);return a(N)}function o(k,U,F,N,V,$){var X=k;do{for(var j=X.next.next;j!==X.prev;){if(X.i!==j.i&&P(X,j)){var Q=B(X,j);X=a(X,X.next),Q=a(Q,Q.next),g(X,U,F,N,V,$,0),g(Q,U,F,N,V,$,0);return}j=j.next}X=X.next}while(X!==k)}function d(k,U,F,N){var V=[],$,X,j,Q,K;for($=0,X=U.length;$<X;$++)j=U[$]*N,Q=$<X-1?U[$+1]*N:k.length,K=s(k,j,Q,N,!1),K===K.next&&(K.steiner=!0),V.push(E(K));for(V.sort(v),$=0;$<V.length;$++)F=c(V[$],F);return F}function v(k,U){return k.x-U.x}function c(k,U){var F=p(k,U);if(!F)return U;var N=B(F,k);return a(N,N.next),a(F,F.next)}function p(k,U){var F=U,N=k.x,V=k.y,$=-1/0,X;do{if(V<=F.y&&V>=F.next.y&&F.next.y!==F.y){var j=F.x+(V-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(j<=N&&j>$&&($=j,X=F.x<F.next.x?F:F.next,j===N))return X}F=F.next}while(F!==U);if(!X)return null;var Q=X,K=X.x,q=X.y,tt=1/0,st;F=X;do N>=F.x&&F.x>=K&&N!==F.x&&w(V<q?N:$,V,K,q,V<q?$:N,V,F.x,F.y)&&(st=Math.abs(V-F.y)/(N-F.x),D(F,k)&&(st<tt||st===tt&&(F.x>X.x||F.x===X.x&&y(X,F)))&&(X=F,tt=st)),F=F.next;while(F!==Q);return X}function y(k,U){return b(k.prev,k,U.prev)<0&&b(U.next,k,k.next)<0}function m(k,U,F,N){var V=k;do V.z===0&&(V.z=T(V.x,V.y,U,F,N)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==k);V.prevZ.nextZ=null,V.prevZ=null,C(V)}function C(k){var U,F,N,V,$,X,j,Q,K=1;do{for(F=k,k=null,$=null,X=0;F;){for(X++,N=F,j=0,U=0;U<K&&(j++,N=N.nextZ,!!N);U++);for(Q=K;j>0||Q>0&&N;)j!==0&&(Q===0||!N||F.z<=N.z)?(V=F,F=F.nextZ,j--):(V=N,N=N.nextZ,Q--),$?$.nextZ=V:k=V,V.prevZ=$,$=V;F=N}$.nextZ=null,K*=2}while(X>1);return k}function T(k,U,F,N,V){return k=(k-F)*V|0,U=(U-N)*V|0,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,U=(U|U<<8)&16711935,U=(U|U<<4)&252645135,U=(U|U<<2)&858993459,U=(U|U<<1)&1431655765,k|U<<1}function E(k){var U=k,F=k;do(U.x<F.x||U.x===F.x&&U.y<F.y)&&(F=U),U=U.next;while(U!==k);return F}function w(k,U,F,N,V,$,X,j){return(V-X)*(U-j)>=(k-X)*($-j)&&(k-X)*(N-j)>=(F-X)*(U-j)&&(F-X)*($-j)>=(V-X)*(N-j)}function P(k,U){return k.next.i!==U.i&&k.prev.i!==U.i&&!O(k,U)&&(D(k,U)&&D(U,k)&&I(k,U)&&(b(k.prev,k,U.prev)||b(k,U.prev,U))||M(k,U)&&b(k.prev,k,k.next)>0&&b(U.prev,U,U.next)>0)}function b(k,U,F){return(U.y-k.y)*(F.x-U.x)-(U.x-k.x)*(F.y-U.y)}function M(k,U){return k.x===U.x&&k.y===U.y}function A(k,U,F,N){var V=L(b(k,U,F)),$=L(b(k,U,N)),X=L(b(F,N,k)),j=L(b(F,N,U));return!!(V!==$&&X!==j||V===0&&R(k,F,U)||$===0&&R(k,N,U)||X===0&&R(F,k,N)||j===0&&R(F,U,N))}function R(k,U,F){return U.x<=Math.max(k.x,F.x)&&U.x>=Math.min(k.x,F.x)&&U.y<=Math.max(k.y,F.y)&&U.y>=Math.min(k.y,F.y)}function L(k){return k>0?1:k<0?-1:0}function O(k,U){var F=k;do{if(F.i!==k.i&&F.next.i!==k.i&&F.i!==U.i&&F.next.i!==U.i&&A(F,F.next,k,U))return!0;F=F.next}while(F!==k);return!1}function D(k,U){return b(k.prev,k,k.next)<0?b(k,U,k.next)>=0&&b(k,k.prev,U)>=0:b(k,U,k.prev)<0||b(k,k.next,U)<0}function I(k,U){var F=k,N=!1,V=(k.x+U.x)/2,$=(k.y+U.y)/2;do F.y>$!=F.next.y>$&&F.next.y!==F.y&&V<(F.next.x-F.x)*($-F.y)/(F.next.y-F.y)+F.x&&(N=!N),F=F.next;while(F!==k);return N}function B(k,U){var F=new Y(k.i,k.x,k.y),N=new Y(U.i,U.x,U.y),V=k.next,$=U.prev;return k.next=U,U.prev=k,F.next=V,V.prev=F,N.next=F,F.prev=N,$.next=N,N.prev=$,N}function G(k,U,F,N){var V=new Y(k,U,F);return N?(V.next=N.next,V.prev=N,N.next.prev=V,N.next=V):(V.prev=V,V.next=V),V}function z(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function Y(k,U,F){this.i=k,this.x=U,this.y=F,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}x.deviation=function(k,U,F,N){var V=U&&U.length,$=V?U[0]*F:k.length,X=Math.abs(H(k,0,$,F));if(V)for(var j=0,Q=U.length;j<Q;j++){var K=U[j]*F,q=j<Q-1?U[j+1]*F:k.length;X-=Math.abs(H(k,K,q,F))}var tt=0;for(j=0;j<N.length;j+=3){var st=N[j]*F,nt=N[j+1]*F,rt=N[j+2]*F;tt+=Math.abs((k[st]-k[rt])*(k[nt+1]-k[st+1])-(k[st]-k[nt])*(k[rt+1]-k[st+1]))}return X===0&&tt===0?0:Math.abs((tt-X)/X)};function H(k,U,F,N){for(var V=0,$=U,X=F-N;$<F;$+=N)V+=(k[X]-k[$])*(k[$+1]+k[X+1]),X=$;return V}x.flatten=function(k){for(var U=k[0][0].length,F={vertices:[],holes:[],dimensions:U},N=0,V=0;V<k.length;V++){for(var $=0;$<k[V].length;$++)for(var X=0;X<U;X++)F.vertices.push(k[V][$][X]);V>0&&(N+=k[V-1].length,F.holes.push(N))}return F},n.exports=x},13829:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u,h){h===void 0&&(h=new a);for(var l=1/0,o=1/0,d=-l,v=-o,c,p=0;p<u.points.length;p++)c=u.points[p],l=Math.min(l,c.x),o=Math.min(o,c.y),d=Math.max(d,c.x),v=Math.max(v,c.y);return h.x=l,h.y=o,h.width=d-l,h.height=v-o,h};n.exports=g},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=[]);for(var g=0;g<s.points.length;g++)a.push(s.points[g].x),a.push(s.points[g].y);return a};n.exports=x},9564:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(23031),u=s(30052),h=function(l,o,d,v){v===void 0&&(v=[]);var c=l.points,p=u(l);!o&&d>0&&(o=p/d);for(var y=0;y<o;y++)for(var m=p*(y/o),C=0,T=0;T<c.length;T++){var E=c[T],w=c[(T+1)%c.length],P=new g(E.x,E.y,w.x,w.y),b=a(P);if(m<C||m>C+b){C+=b;continue}var M=P.getPoint((m-C)/b);v.push(M);break}return v};n.exports=h},30052:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(23031),u=function(h){for(var l=h.points,o=0,d=0;d<l.length;d++){var v=l[d],c=l[(d+1)%l.length],p=new g(v.x,v.y,c.x,c.y);o+=a(p)}return o};n.exports=u},25717:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(63814),u=s(9564),h=s(23777),l=new a({initialize:function(d){this.type=h.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(o,d){return g(this,o,d)},setTo:function(o){if(this.area=0,this.points=[],typeof o=="string"&&(o=o.split(" ")),!Array.isArray(o))return this;for(var d,v=0;v<o.length;v++)d={x:0,y:0},typeof o[v]=="number"||typeof o[v]=="string"?(d.x=parseFloat(o[v]),d.y=parseFloat(o[v+1]),v++):Array.isArray(o[v])?(d.x=o[v][0],d.y=o[v][1]):(d.x=o[v].x,d.y=o[v].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var o=0,d,v,c=0;c<this.points.length-1;c++)d=this.points[c],v=this.points[c+1],o+=(v.x-d.x)*(d.y+v.y);return d=this.points[0],v=this.points[this.points.length-1],o+=(d.x-v.x)*(v.y+d.y),this.area=-o*.5,this.area},getPoints:function(o,d,v){return u(this,o,d,v)}});n.exports=l},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.points.reverse(),s};n.exports=x},29524:n=>{function x(l,o){var d=l.x-o.x,v=l.y-o.y;return d*d+v*v}function s(l,o,d){var v=o.x,c=o.y,p=d.x-v,y=d.y-c;if(p!==0||y!==0){var m=((l.x-v)*p+(l.y-c)*y)/(p*p+y*y);m>1?(v=d.x,c=d.y):m>0&&(v+=p*m,c+=y*m)}return p=l.x-v,y=l.y-c,p*p+y*y}function a(l,o){for(var d=l[0],v=[d],c,p=1,y=l.length;p<y;p++)c=l[p],x(c,d)>o&&(v.push(c),d=c);return d!==c&&v.push(c),v}function g(l,o,d,v,c){for(var p=v,y,m=o+1;m<d;m++){var C=s(l[m],l[o],l[d]);C>p&&(y=m,p=C)}p>v&&(y-o>1&&g(l,o,y,v,c),c.push(l[y]),d-y>1&&g(l,y,d,v,c))}function u(l,o){var d=l.length-1,v=[l[0]];return g(l,0,d,o,v),v.push(l[d]),v}var h=function(l,o,d){o===void 0&&(o=1),d===void 0&&(d=!1);var v=l.points;if(v.length>2){var c=o*o;d||(v=a(v,c)),l.setTo(u(v,c))}return l};n.exports=h},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(a,g){return a[0]=g[0],a[1]=g[1],a},s=function(a){var g,u=[],h=a.points;for(g=0;g<h.length;g++)u.push([h[g].x,h[g].y]);var l=[];for(u.length>0&&l.push(x([0,0],u[0])),g=0;g<u.length-1;g++){var o=u[g],d=u[g+1],v=o[0],c=o[1],p=d[0],y=d[1];l.push([.85*v+.15*p,.85*c+.15*y]),l.push([.15*v+.85*p,.15*c+.85*y])}return u.length>1&&l.push(x([0,0],u[u.length-1])),a.setTo(l)};n.exports=s},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){for(var u=s.points,h=0;h<u.length;h++)u[h].x+=a,u[h].y+=g;return s};n.exports=x},58423:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25717);a.Clone=s(12306),a.Contains=s(63814),a.ContainsPoint=s(99338),a.Earcut=s(94811),a.GetAABB=s(13829),a.GetNumberArray=s(26173),a.GetPoints=s(9564),a.Perimeter=s(30052),a.Reverse=s(8133),a.Simplify=s(29524),a.Smooth=s(5469),a.Translate=s(24709),n.exports=a},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.width*s.height};n.exports=x},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s};n.exports=x},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.ceil(s.x),s.y=Math.ceil(s.y),s.width=Math.ceil(s.width),s.height=Math.ceil(s.height),s};n.exports=x},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x=a-s.width/2,s.y=g-s.height/2,s};n.exports=x},65085:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u){return new a(u.x,u.y,u.width,u.height)};n.exports=g},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.width<=0||s.height<=0?!1:s.x<=a&&s.x+s.width>=a&&s.y<=g&&s.y+s.height>=g};n.exports=x},96553:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37303),g=function(u,h){return a(u,h.x,h.y)};n.exports=g},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.width*a.height>s.width*s.height?!1:a.x>s.x&&a.x<s.right&&a.right>s.x&&a.right<s.right&&a.y>s.y&&a.y<s.bottom&&a.bottom>s.y&&a.bottom<s.bottom};n.exports=x},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x,s.y,s.width,s.height)};n.exports=x},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=[]),a.push({x:s.x,y:s.y}),a.push({x:s.right,y:s.y}),a.push({x:s.right,y:s.bottom}),a.push({x:s.x,y:s.bottom}),a};n.exports=x},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x===a.x&&s.y===a.y&&s.width===a.width&&s.height===a.height};n.exports=x},53751:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8249),g=function(u,h){var l=a(u);return l<a(h)?u.setSize(h.height*l,h.height):u.setSize(h.width,h.width/l),u.setPosition(h.centerX-u.width/2,h.centerY-u.height/2)};n.exports=g},16088:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(8249),g=function(u,h){var l=a(u);return l>a(h)?u.setSize(h.height*l,h.height):u.setSize(h.width,h.width/l),u.setPosition(h.centerX-u.width/2,h.centerY-u.height/2)};n.exports=g},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s};n.exports=x},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.x=Math.floor(s.x),s.y=Math.floor(s.y),s.width=Math.floor(s.width),s.height=Math.floor(s.height),s};n.exports=x},19217:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(36383),u=function(h,l){if(l===void 0&&(l=new a),h.length===0)return l;for(var o=Number.MAX_VALUE,d=Number.MAX_VALUE,v=g.MIN_SAFE_INTEGER,c=g.MIN_SAFE_INTEGER,p,y,m,C=0;C<h.length;C++)p=h[C],Array.isArray(p)?(y=p[0],m=p[1]):(y=p.x,m=p.y),o=Math.min(o,y),d=Math.min(d,m),v=Math.max(v,y),c=Math.max(c,m);return l.x=o,l.y=d,l.width=v-o,l.height=c-d,l};n.exports=u},9477:(n,x,s)=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u,h,l,o,d){return d===void 0&&(d=new a),d.setTo(Math.min(u,l),Math.min(h,o),Math.abs(u-l),Math.abs(h-o))};n.exports=g},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.height===0?NaN:s.width/s.height};n.exports=x},27165:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){return h===void 0&&(h=new a),h.x=u.centerX,h.y=u.centerY,h};n.exports=g},20812:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13019),g=s(2141),u=function(h,l,o){if(o===void 0&&(o=new g),l<=0||l>=1)return o.x=h.x,o.y=h.y,o;var d=a(h)*l;return l>.5?(d-=h.width+h.height,d<=h.width?(o.x=h.right-d,o.y=h.bottom):(o.x=h.x,o.y=h.bottom-(d-h.width))):d<=h.width?(o.x=h.x+d,o.y=h.y):(o.x=h.right,o.y=h.y+(d-h.width)),o};n.exports=u},34819:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20812),g=s(13019),u=function(h,l,o,d){d===void 0&&(d=[]),!l&&o>0&&(l=g(h)/o);for(var v=0;v<l;v++){var c=v/l;d.push(a(h,c))}return d};n.exports=u},51313:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){return h===void 0&&(h=new a),h.x=u.width,h.y=u.height,h};n.exports=g},86091:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(67502),g=function(u,h,l){var o=u.centerX,d=u.centerY;return u.setSize(u.width+h*2,u.height+l*2),a(u,o,d)};n.exports=g},53951:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(59996),u=function(h,l,o){return o===void 0&&(o=new a),g(h,l)?(o.x=Math.max(h.x,l.x),o.y=Math.max(h.y,l.y),o.width=Math.min(h.right,l.right)-o.x,o.height=Math.min(h.bottom,l.bottom)-o.y):o.setEmpty(),o};n.exports=u},14649:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13019),g=s(2141),u=function(h,l,o,d){if(d===void 0&&(d=[]),!l&&!o)return d;l?o=Math.round(a(h)/l):l=a(h)/o;for(var v=h.x,c=h.y,p=0,y=0;y<o;y++)switch(d.push(new g(v,c)),p){case 0:v+=l,v>=h.right&&(p=1,c+=v-h.right,v=h.right);break;case 1:c+=l,c>=h.bottom&&(p=2,v-=c-h.bottom,c=h.bottom);break;case 2:v-=l,v<=h.left&&(p=3,c-=h.left-v,v=h.left);break;case 3:c-=l,c<=h.top&&(p=0,c=h.top);break}return d};n.exports=u},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=s.x,u=s.right,h=s.y,l=s.bottom,o=0;o<a.length;o++)g=Math.min(g,a[o].x),u=Math.max(u,a[o].x),h=Math.min(h,a[o].y),l=Math.max(l,a[o].y);return s.x=g,s.y=h,s.width=u-g,s.height=l-h,s};n.exports=x},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=Math.min(s.x,a.x),u=Math.max(s.right,a.right);s.x=g,s.width=u-g;var h=Math.min(s.y,a.y),l=Math.max(s.bottom,a.bottom);return s.y=h,s.height=l-h,s};n.exports=x},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=Math.min(s.x,a),h=Math.max(s.right,a);s.x=u,s.width=h-u;var l=Math.min(s.y,g),o=Math.max(s.bottom,g);return s.y=l,s.height=o-l,s};n.exports=x},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x+=a,s.y+=g,s};n.exports=x},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x+=a.x,s.y+=a.y,s};n.exports=x},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x<a.right&&s.right>a.x&&s.y<a.bottom&&s.bottom>a.y};n.exports=x},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 2*(s.width+s.height)};n.exports=x},85133:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(39506),u=function(h,l,o){o===void 0&&(o=new a),l=g(l);var d=Math.sin(l),v=Math.cos(l),c=v>0?h.width/2:h.width/-2,p=d>0?h.height/2:h.height/-2;return Math.abs(c*d)<Math.abs(p*v)?p=c*d/v:c=p*v/d,o.x=c+h.centerX,o.y=p+h.centerY,o};n.exports=u},26597:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){return h===void 0&&(h=new a),h.x=u.x+Math.random()*u.width,h.y=u.y+Math.random()*u.height,h};n.exports=g},86470:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(70273),u=s(2141),h=function(l,o,d){if(d===void 0&&(d=new u),g(l,o))switch(a(0,3)){case 0:d.x=l.x+Math.random()*(o.right-l.x),d.y=l.y+Math.random()*(o.top-l.y);break;case 1:d.x=o.x+Math.random()*(l.right-o.x),d.y=o.bottom+Math.random()*(l.bottom-o.bottom);break;case 2:d.x=l.x+Math.random()*(o.x-l.x),d.y=o.y+Math.random()*(l.bottom-o.y);break;case 3:d.x=o.right+Math.random()*(l.right-o.right),d.y=l.y+Math.random()*(o.bottom-l.y);break}return d};n.exports=h},87841:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37303),u=s(20812),h=s(34819),l=s(23777),o=s(23031),d=s(26597),v=new a({initialize:function(p,y,m,C){p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=0),this.type=l.RECTANGLE,this.x=p,this.y=y,this.width=m,this.height=C},contains:function(c,p){return g(this,c,p)},getPoint:function(c,p){return u(this,c,p)},getPoints:function(c,p,y){return h(this,c,p,y)},getRandomPoint:function(c){return d(this,c)},setTo:function(c,p,y,m){return this.x=c,this.y=p,this.width=y,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(c,p){return p===void 0&&(p=c),this.x=c,this.y=p,this},setSize:function(c,p){return p===void 0&&(p=c),this.width=c,this.height=p,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(c){return c===void 0&&(c=new o),c.setTo(this.x,this.y,this.right,this.y),c},getLineB:function(c){return c===void 0&&(c=new o),c.setTo(this.right,this.y,this.right,this.bottom),c},getLineC:function(c){return c===void 0&&(c=new o),c.setTo(this.right,this.bottom,this.x,this.bottom),c},getLineD:function(c){return c===void 0&&(c=new o),c.setTo(this.x,this.bottom,this.x,this.y),c},left:{get:function(){return this.x},set:function(c){c>=this.right?this.width=0:this.width=this.right-c,this.x=c}},right:{get:function(){return this.x+this.width},set:function(c){c<=this.x?this.width=0:this.width=c-this.x}},top:{get:function(){return this.y},set:function(c){c>=this.bottom?this.height=0:this.height=this.bottom-c,this.y=c}},bottom:{get:function(){return this.y+this.height},set:function(c){c<=this.y?this.height=0:this.height=c-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});n.exports=v},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.width===a.width&&s.height===a.height};n.exports=x},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=a),s.width*=a,s.height*=g,s};n.exports=x},36899:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=function(u,h,l){l===void 0&&(l=new a);var o=Math.min(u.x,h.x),d=Math.min(u.y,h.y),v=Math.max(u.right,h.right)-o,c=Math.max(u.bottom,h.bottom)-d;return l.setTo(o,d,v,c)};n.exports=g},93232:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841);a.Area=s(62224),a.Ceil=s(98615),a.CeilAll=s(31688),a.CenterOn=s(67502),a.Clone=s(65085),a.Contains=s(37303),a.ContainsPoint=s(96553),a.ContainsRect=s(70273),a.CopyFrom=s(43459),a.Decompose=s(77493),a.Equals=s(9219),a.FitInside=s(53751),a.FitOutside=s(16088),a.Floor=s(80774),a.FloorAll=s(83859),a.FromPoints=s(19217),a.FromXY=s(9477),a.GetAspectRatio=s(8249),a.GetCenter=s(27165),a.GetPoint=s(20812),a.GetPoints=s(34819),a.GetSize=s(51313),a.Inflate=s(86091),a.Intersection=s(53951),a.MarchingAnts=s(14649),a.MergePoints=s(33595),a.MergeRect=s(20074),a.MergeXY=s(92171),a.Offset=s(42981),a.OffsetPoint=s(46907),a.Overlaps=s(60170),a.Perimeter=s(13019),a.PerimeterPoint=s(85133),a.Random=s(26597),a.RandomOutside=s(86470),a.SameDimensions=s(94845),a.Scale=s(31730),a.Union=s(36899),n.exports=a},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.x1,g=s.y1,u=s.x2,h=s.y2,l=s.x3,o=s.y3;return Math.abs(((l-a)*(h-g)-(u-a)*(o-g))/2)};n.exports=x},39208:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483),g=function(u,h,l){var o=l*(Math.sqrt(3)/2),d=u,v=h,c=u+l/2,p=h+o,y=u-l/2,m=h+o;return new a(d,v,c,p,y,m)};n.exports=g},39545:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(94811),g=s(16483),u=function(h,l,o,d,v){l===void 0&&(l=null),o===void 0&&(o=1),d===void 0&&(d=1),v===void 0&&(v=[]);for(var c=a(h,l),p,y,m,C,T,E,w,P,b,M=0;M<c.length;M+=3)p=c[M],y=c[M+1],m=c[M+2],C=h[p*2]*o,T=h[p*2+1]*d,E=h[y*2]*o,w=h[y*2+1]*d,P=h[m*2]*o,b=h[m*2+1]*d,v.push(new g(C,T,E,w,P,b));return v};n.exports=u},90301:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483),g=function(u,h,l,o){o===void 0&&(o=l);var d=u,v=h,c=u,p=h-o,y=u+l,m=h;return new a(d,v,c,p,y,m)};n.exports=g},23707:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97523),g=s(13584),u=function(h,l,o,d){d===void 0&&(d=a);var v=d(h),c=l-v.x,p=o-v.y;return g(h,c,p)};n.exports=u},97523:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){return h===void 0&&(h=new a),h.x=(u.x1+u.x2+u.x3)/3,h.y=(u.y1+u.y2+u.y3)/3,h};n.exports=g},24951:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099);function g(h,l,o,d){return h*d-l*o}var u=function(h,l){l===void 0&&(l=new a);var o=h.x3,d=h.y3,v=h.x1-o,c=h.y1-d,p=h.x2-o,y=h.y2-d,m=2*g(v,c,p,y),C=g(c,v*v+c*c,y,p*p+y*y),T=g(v,v*v+c*c,p,p*p+y*y);return l.x=o-C/m,l.y=d+T/m,l};n.exports=u},85614:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=function(u,h){h===void 0&&(h=new a);var l=u.x1,o=u.y1,d=u.x2,v=u.y2,c=u.x3,p=u.y3,y=d-l,m=v-o,C=c-l,T=p-o,E=y*(l+d)+m*(o+v),w=C*(l+c)+T*(o+p),P=2*(y*(p-v)-m*(c-d)),b,M;if(Math.abs(P)<1e-6){var A=Math.min(l,d,c),R=Math.min(o,v,p);b=(Math.max(l,d,c)-A)*.5,M=(Math.max(o,v,p)-R)*.5,h.x=A+b,h.y=R+M,h.radius=Math.sqrt(b*b+M*M)}else h.x=(T*E-m*w)/P,h.y=(y*w-C*E)/P,b=h.x-l,M=h.y-o,h.radius=Math.sqrt(b*b+M*M);return h};n.exports=g},74422:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483),g=function(u){return new a(u.x1,u.y1,u.x2,u.y2,u.x3,u.y3)};n.exports=g},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=s.x3-s.x1,h=s.y3-s.y1,l=s.x2-s.x1,o=s.y2-s.y1,d=a-s.x1,v=g-s.y1,c=u*u+h*h,p=u*l+h*o,y=u*d+h*v,m=l*l+o*o,C=l*d+o*v,T=c*m-p*p,E=T===0?0:1/T,w=(m*y-p*C)*E,P=(c*C-p*y)*E;return w>=0&&P>=0&&w+P<1};n.exports=x},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g===void 0&&(g=!1),u===void 0&&(u=[]);for(var h=s.x3-s.x1,l=s.y3-s.y1,o=s.x2-s.x1,d=s.y2-s.y1,v=h*h+l*l,c=h*o+l*d,p=o*o+d*d,y=v*p-c*c,m=y===0?0:1/y,C,T,E,w,P,b,M=s.x1,A=s.y1,R=0;R<a.length&&(E=a[R].x-M,w=a[R].y-A,P=h*E+l*w,b=o*E+d*w,C=(p*P-c*b)*m,T=(v*b-c*P)*m,!(C>=0&&T>=0&&C+T<1&&(u.push({x:a[R].x,y:a[R].y}),g)));R++);return u};n.exports=x},96006:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10690),g=function(u,h){return a(u,h.x,h.y)};n.exports=g},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.setTo(s.x1,s.y1,s.x2,s.y2,s.x3,s.y3)};n.exports=x},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=[]),a.push({x:s.x1,y:s.y1}),a.push({x:s.x2,y:s.y2}),a.push({x:s.x3,y:s.y3}),a};n.exports=x},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.x1===a.x1&&s.y1===a.y1&&s.x2===a.x2&&s.y2===a.y2&&s.x3===a.x3&&s.y3===a.y3};n.exports=x},20437:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=s(35001),u=function(h,l,o){o===void 0&&(o=new a);var d=h.getLineA(),v=h.getLineB(),c=h.getLineC();if(l<=0||l>=1)return o.x=d.x1,o.y=d.y1,o;var p=g(d),y=g(v),m=g(c),C=p+y+m,T=C*l,E=0;return T<p?(E=T/p,o.x=d.x1+(d.x2-d.x1)*E,o.y=d.y1+(d.y2-d.y1)*E):T>p+y?(T-=p+y,E=T/m,o.x=c.x1+(c.x2-c.x1)*E,o.y=c.y1+(c.y2-c.y1)*E):(T-=p,E=T/y,o.x=v.x1+(v.x2-v.x1)*E,o.y=v.y1+(v.y2-v.y1)*E),o};n.exports=u},80672:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=s(2141),u=function(h,l,o,d){d===void 0&&(d=[]);var v=h.getLineA(),c=h.getLineB(),p=h.getLineC(),y=a(v),m=a(c),C=a(p),T=y+m+C;!l&&o>0&&(l=T/o);for(var E=0;E<l;E++){var w=T*(E/l),P=0,b=new g;w<y?(P=w/y,b.x=v.x1+(v.x2-v.x1)*P,b.y=v.y1+(v.y2-v.y1)*P):w>y+m?(w-=y+m,P=w/C,b.x=p.x1+(p.x2-p.x1)*P,b.y=p.y1+(p.y2-p.y1)*P):(w-=y,P=w/m,b.x=c.x1+(c.x2-c.x1)*P,b.y=c.y1+(c.y2-c.y1)*P),d.push(b)}return d};n.exports=u},39757:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141);function g(h,l,o,d){var v=h-o,c=l-d,p=v*v+c*c;return Math.sqrt(p)}var u=function(h,l){l===void 0&&(l=new a);var o=h.x1,d=h.y1,v=h.x2,c=h.y2,p=h.x3,y=h.y3,m=g(p,y,v,c),C=g(o,d,p,y),T=g(v,c,o,d),E=m+C+T;return l.x=(o*m+v*C+p*T)/E,l.y=(d*m+c*C+y*T)/E,l};n.exports=u},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s.x1+=a,s.y1+=g,s.x2+=a,s.y2+=g,s.x3+=a,s.y3+=g,s};n.exports=x},1376:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35001),g=function(u){var h=u.getLineA(),l=u.getLineB(),o=u.getLineC();return a(h)+a(l)+a(o)};n.exports=g},90260:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2141),g=function(u,h){h===void 0&&(h=new a);var l=u.x2-u.x1,o=u.y2-u.y1,d=u.x3-u.x1,v=u.y3-u.y1,c=Math.random(),p=Math.random();return c+p>=1&&(c=1-c,p=1-p),h.x=u.x1+(l*c+d*p),h.y=u.y1+(o*c+v*p),h};n.exports=g},52172:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99614),g=s(39757),u=function(h,l){var o=g(h);return a(h,o.x,o.y,l)};n.exports=u},49907:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99614),g=function(u,h,l){return a(u,h.x,h.y,l)};n.exports=g},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=Math.cos(u),l=Math.sin(u),o=s.x1-a,d=s.y1-g;return s.x1=o*h-d*l+a,s.y1=o*l+d*h+g,o=s.x2-a,d=s.y2-g,s.x2=o*h-d*l+a,s.y2=o*l+d*h+g,o=s.x3-a,d=s.y3-g,s.x3=o*h-d*l+a,s.y3=o*l+d*h+g,s};n.exports=x},16483:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(10690),u=s(20437),h=s(80672),l=s(23777),o=s(23031),d=s(90260),v=new a({initialize:function(p,y,m,C,T,E){p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=0),T===void 0&&(T=0),E===void 0&&(E=0),this.type=l.TRIANGLE,this.x1=p,this.y1=y,this.x2=m,this.y2=C,this.x3=T,this.y3=E},contains:function(c,p){return g(this,c,p)},getPoint:function(c,p){return u(this,c,p)},getPoints:function(c,p,y){return h(this,c,p,y)},getRandomPoint:function(c){return d(this,c)},setTo:function(c,p,y,m,C,T){return c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=0),T===void 0&&(T=0),this.x1=c,this.y1=p,this.x2=y,this.y2=m,this.x3=C,this.y3=T,this},getLineA:function(c){return c===void 0&&(c=new o),c.setTo(this.x1,this.y1,this.x2,this.y2),c},getLineB:function(c){return c===void 0&&(c=new o),c.setTo(this.x2,this.y2,this.x3,this.y3),c},getLineC:function(c){return c===void 0&&(c=new o),c.setTo(this.x3,this.y3,this.x1,this.y1),c},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(c){var p=0;this.x1<=this.x2&&this.x1<=this.x3?p=this.x1-c:this.x2<=this.x1&&this.x2<=this.x3?p=this.x2-c:p=this.x3-c,this.x1-=p,this.x2-=p,this.x3-=p}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(c){var p=0;this.x1>=this.x2&&this.x1>=this.x3?p=this.x1-c:this.x2>=this.x1&&this.x2>=this.x3?p=this.x2-c:p=this.x3-c,this.x1-=p,this.x2-=p,this.x3-=p}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(c){var p=0;this.y1<=this.y2&&this.y1<=this.y3?p=this.y1-c:this.y2<=this.y1&&this.y2<=this.y3?p=this.y2-c:p=this.y3-c,this.y1-=p,this.y2-=p,this.y3-=p}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(c){var p=0;this.y1>=this.y2&&this.y1>=this.y3?p=this.y1-c:this.y2>=this.y1&&this.y2>=this.y3?p=this.y2-c:p=this.y3-c,this.y1-=p,this.y2-=p,this.y3-=p}}});n.exports=v},84435:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(16483);a.Area=s(41658),a.BuildEquilateral=s(39208),a.BuildFromPolygon=s(39545),a.BuildRight=s(90301),a.CenterOn=s(23707),a.Centroid=s(97523),a.CircumCenter=s(24951),a.CircumCircle=s(85614),a.Clone=s(74422),a.Contains=s(10690),a.ContainsArray=s(48653),a.ContainsPoint=s(96006),a.CopyFrom=s(71326),a.Decompose=s(71694),a.Equals=s(33522),a.GetPoint=s(20437),a.GetPoints=s(80672),a.InCenter=s(39757),a.Perimeter=s(1376),a.Offset=s(13584),a.Random=s(90260),a.Rotate=s(52172),a.RotateAroundPoint=s(49907),a.RotateAroundXY=s(99614),n.exports=a},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return{gameObject:s,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:g,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};n.exports=x},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return function(g,u,h,l){var o=s.getPixelAlpha(u,h,l.texture.key,l.frame.name);return o&&o>=a}};n.exports=x},7003:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(93301),u=s(50792),h=s(8214),l=s(8443),o=s(78970),d=s(85098),v=s(42515),c=s(36210),p=s(61340),y=s(85955),m=new a({initialize:function(T,E){this.game=T,this.scaleManager,this.canvas,this.config=E,this.enabled=!0,this.events=new u,this.isOver=!0,this.defaultCursor="",this.keyboard=E.inputKeyboard?new o(this):null,this.mouse=E.inputMouse?new d(this):null,this.touch=E.inputTouch?new c(this):null,this.pointers=[],this.pointersTotal=E.inputActivePointers,E.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var w=0;w<=this.pointersTotal;w++){var P=new v(this,w);P.smoothFactor=E.inputSmoothFactor,this.pointers.push(P)}this.mousePointer=E.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new p,this._tempMatrix2=new p,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(l.BOOT,this.boot,this)},boot:function(){var C=this.game,T=C.events;this.canvas=C.canvas,this.scaleManager=C.scale,this.events.emit(h.MANAGER_BOOT),T.on(l.PRE_RENDER,this.preRender,this),T.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(C){this.isOver=!0,this.events.emit(h.GAME_OVER,C)},setCanvasOut:function(C){this.isOver=!1,this.events.emit(h.GAME_OUT,C)},preRender:function(){var C=this.game.loop.now,T=this.game.loop.delta,E=this.game.scene.getScenes(!0,!0);this.time=C,this.events.emit(h.MANAGER_UPDATE);for(var w=0;w<E.length;w++){var P=E[w];if(P.sys.input&&P.sys.input.updatePoll(C,T)&&this.globalTopOnly)return}},setDefaultCursor:function(C){this.defaultCursor=C,this.canvas.style.cursor!==C&&(this.canvas.style.cursor=C)},setCursor:function(C){C.cursor&&(this.canvas.style.cursor=C.cursor)},resetCursor:function(C){C.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(C){C===void 0&&(C=1);var T=[];this.pointersTotal+C>10&&(C=10-this.pointersTotal);for(var E=0;E<C;E++){var w=this.pointers.length,P=new v(this,w);P.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(P),this.pointersTotal++,T.push(P)}return T},updateInputPlugins:function(C,T){var E=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var w=0;w<E.length;w++){var P=E[w];if(P.sys.input){var b=P.sys.input.update(C,T);if(b&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(C){for(var T=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var P=C.changedTouches[w],b=1;b<this.pointersTotal;b++){var M=T[b];if(!M.active){M.touchstart(P,C),this.activePointer=M,E.push(M);break}}this.updateInputPlugins(g.TOUCH_START,E)},onTouchMove:function(C){for(var T=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var P=C.changedTouches[w],b=1;b<this.pointersTotal;b++){var M=T[b];if(M.active&&M.identifier===P.identifier){var A=document.elementFromPoint(P.clientX,P.clientY),R=A===this.canvas;!this.isOver&&R?this.setCanvasOver(C):this.isOver&&!R&&this.setCanvasOut(C),this.isOver&&(M.touchmove(P,C),this.activePointer=M,E.push(M));break}}this.updateInputPlugins(g.TOUCH_MOVE,E)},onTouchEnd:function(C){for(var T=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var P=C.changedTouches[w],b=1;b<this.pointersTotal;b++){var M=T[b];if(M.active&&M.identifier===P.identifier){M.touchend(P,C),E.push(M);break}}this.updateInputPlugins(g.TOUCH_END,E)},onTouchCancel:function(C){for(var T=this.pointers,E=[],w=0;w<C.changedTouches.length;w++)for(var P=C.changedTouches[w],b=1;b<this.pointersTotal;b++){var M=T[b];if(M.active&&M.identifier===P.identifier){M.touchcancel(P,C),E.push(M);break}}this.updateInputPlugins(g.TOUCH_CANCEL,E)},onMouseDown:function(C){var T=this.mousePointer;T.down(C),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(g.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(C){var T=this.mousePointer;T.move(C),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(g.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(C){var T=this.mousePointer;T.up(C),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(g.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(C){var T=this.mousePointer;T.wheel(C),this.activePointer=T,this.updateInputPlugins(g.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(C){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(h.POINTERLOCK_CHANGE,C,T)},inputCandidate:function(C,T){var E=C.input;if(!E||!E.enabled||!C.willRender(T))return!1;var w=!0,P=C.parentContainer;if(P)do{if(!P.willRender(T)){w=!1;break}P=P.parentContainer}while(P);return w},hitTest:function(C,T,E,w){w===void 0&&(w=this._tempHitTest);var P=this._tempPoint,b=E.scrollX,M=E.scrollY;w.length=0;var A=C.x,R=C.y;E.getWorldPoint(A,R,P),C.worldX=P.x,C.worldY=P.y;for(var L={x:0,y:0},O=this._tempMatrix,D=this._tempMatrix2,I=0;I<T.length;I++){var B=T[I];if(this.inputCandidate(B,E)){var G=P.x+b*B.scrollFactorX-b,z=P.y+M*B.scrollFactorY-M;B.parentContainer?(B.getWorldTransformMatrix(O,D),O.applyInverse(G,z,L)):y(G,z,B.x,B.y,B.rotation,B.scaleX,B.scaleY,L),this.pointWithinHitArea(B,L.x,L.y)&&w.push(B)}}return w},pointWithinHitArea:function(C,T,E){T+=C.displayOriginX,E+=C.displayOriginY;var w=C.input;return w&&w.hitAreaCallback(w.hitArea,T,E,C)?(w.localX=T,w.localY=E,!0):!1},pointWithinInteractiveObject:function(C,T,E){return C.hitArea?(T+=C.gameObject.displayOriginX,E+=C.gameObject.displayOriginY,C.localX=T,C.localY=E,C.hitAreaCallback(C.hitArea,T,E,C)):!1},transformPointer:function(C,T,E,w){var P=C.position,b=C.prevPosition;b.x=P.x,b.y=P.y;var M=this.scaleManager.transformX(T),A=this.scaleManager.transformY(E),R=C.smoothFactor;!w||R===0?(P.x=M,P.y=A):(P.x=M*R+b.x*(1-R),P.y=A*R+b.y*(1-R))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var C=0;C<this.pointers.length;C++)this.pointers[C].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=m},48205:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(96503),g=s(87902),u=s(83419),h=s(93301),l=s(74457),o=s(84409),d=s(20339),v=s(8497),c=s(81154),p=s(8214),y=s(50792),m=s(95540),C=s(23777),T=s(89639),E=s(41212),w=s(37277),P=s(87841),b=s(37303),M=s(44594),A=s(16483),R=s(10690),L=new u({Extends:y,initialize:function(D){y.call(this),this.scene=D,this.systems=D.sys,this.settings=D.sys.settings,this.manager=D.sys.game.input,this.pluginEvents=new y,this.enabled=!0,this.displayList,this.cameras,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var I={cancelled:!1};this._eventContainer={stopPropagation:function(){I.cancelled=!0}},this._eventData=I,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,D.sys.events.once(M.BOOT,this.boot,this),D.sys.events.on(M.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(M.DESTROY,this.destroy,this),this.pluginEvents.emit(p.BOOT)},start:function(){var O=this.systems.events;O.on(M.TRANSITION_START,this.transitionIn,this),O.on(M.TRANSITION_OUT,this.transitionOut,this),O.on(M.TRANSITION_COMPLETE,this.transitionComplete,this),O.on(M.PRE_UPDATE,this.preUpdate,this),O.once(M.SHUTDOWN,this.shutdown,this),this.manager.events.on(p.GAME_OUT,this.onGameOut,this),this.manager.events.on(p.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(p.START)},onGameOver:function(O){this.isActive()&&this.emit(p.GAME_OVER,O.timeStamp,O)},onGameOut:function(O){this.isActive()&&this.emit(p.GAME_OUT,O.timeStamp,O)},preUpdate:function(){this.pluginEvents.emit(p.PRE_UPDATE);var O=this._pendingRemoval,D=this._pendingInsertion,I=O.length,B=D.length;if(!(I===0&&B===0)){for(var G=this._list,z=0;z<I;z++){var Y=O[z],H=G.indexOf(Y);H>-1&&(G.splice(H,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=G.concat(D.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(O,D){if(!this.isActive())return!1;if(this.pluginEvents.emit(p.UPDATE,O,D),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var I,B=this.manager,G=B.pointers,z=B.pointersTotal;for(I=0;I<z;I++)G[I].updateMotion();if(this._list.length===0)return!1;var Y=this.pollRate;if(Y===-1)return!1;if(Y>0)if(this._pollTimer-=D,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(I=0;I<z;I++){var k=0,U=G[I];this._tempZones=[],this._temp=this.hitTestPointer(U),this.sortGameObjects(this._temp,U),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),k+=this.processOverOutEvents(U),this.getDragState(U)===2&&this.processDragThresholdEvent(U,O),k>0&&(H=!0)}return H},update:function(O,D){if(!this.isActive())return!1;for(var I=D.length,B=!1,G=0;G<I;G++){var z=0,Y=D[G];switch(this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),O){case h.MOUSE_DOWN:z+=this.processDragDownEvent(Y),z+=this.processDownEvents(Y),z+=this.processOverOutEvents(Y);break;case h.MOUSE_UP:z+=this.processDragUpEvent(Y),z+=this.processUpEvents(Y),z+=this.processOverOutEvents(Y);break;case h.TOUCH_START:z+=this.processDragDownEvent(Y),z+=this.processDownEvents(Y),z+=this.processOverEvents(Y);break;case h.TOUCH_END:case h.TOUCH_CANCEL:z+=this.processDragUpEvent(Y),z+=this.processUpEvents(Y),z+=this.processOutEvents(Y);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:z+=this.processDragMoveEvent(Y),z+=this.processMoveEvents(Y),z+=this.processOverOutEvents(Y);break;case h.MOUSE_WHEEL:z+=this.processWheelEvent(Y);break}z>0&&(B=!0)}return this._updatedThisFrame=!0,B},clear:function(O,D){D===void 0&&(D=!1),this.disable(O);var I=O.input;I&&(this.removeDebug(O),this.manager.resetCursor(I),I.gameObject=void 0,I.target=void 0,I.hitArea=void 0,I.hitAreaCallback=void 0,I.callbackContext=void 0,O.input=null),D||this.queueForRemoval(O);var B=this._draggable.indexOf(O);return B>-1&&this._draggable.splice(B,1),O},disable:function(O){var D=O.input;D&&(D.enabled=!1,D.dragState=0);for(var I=this._drag,B=this._over,G=this.manager,z=0,Y;z<G.pointersTotal;z++)Y=I[z].indexOf(O),Y>-1&&I[z].splice(Y,1),Y=B[z].indexOf(O),Y>-1&&B[z].splice(Y,1);return this},enable:function(O,D,I,B){return B===void 0&&(B=!1),O.input?O.input.enabled=!0:this.setHitArea(O,D,I),O.input&&B&&!O.input.dropZone&&(O.input.dropZone=B),this},hitTestPointer:function(O){for(var D=this.cameras.getCamerasBelowPointer(O),I=0;I<D.length;I++){for(var B=D[I],G=this.manager.hitTest(O,this._list,B),z=0;z<G.length;z++){var Y=G[z];Y.input.dropZone&&this._tempZones.push(Y)}if(G.length>0)return O.camera=B,G}return O.camera=D[0],[]},processDownEvents:function(O){var D=0,I=this._temp,B=this._eventData,G=this._eventContainer;B.cancelled=!1;for(var z=!1,Y=0;Y<I.length;Y++){var H=I[Y];if(!(!H.input||!H.input.enabled)){if(D++,H.emit(p.GAMEOBJECT_POINTER_DOWN,O,H.input.localX,H.input.localY,G),B.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(p.GAMEOBJECT_DOWN,O,H,G),B.cancelled||!H.input){z=!0;break}}}return!z&&this.manager&&(O.downElement===this.manager.game.canvas?this.emit(p.POINTER_DOWN,O,I):this.emit(p.POINTER_DOWN_OUTSIDE,O)),D},getDragState:function(O){return this._dragState[O.id]},setDragState:function(O,D){this._dragState[O.id]=D},processDragThresholdEvent:function(O,D){var I=!1,B=this.dragTimeThreshold,G=this.dragDistanceThreshold;if((G>0&&d(O.x,O.y,O.downX,O.downY)>=G||B>0&&D>=O.downTime+B)&&(I=!0),I)return this.setDragState(O,3),this.processDragStartList(O)},processDragStartList:function(O){if(this.getDragState(O)!==3)return 0;for(var D=this._drag[O.id],I=0;I<D.length;I++){var B=D[I],G=B.input;G.dragState=2,G.dragStartX=B.x,G.dragStartY=B.y,G.dragStartXGlobal=O.worldX,G.dragStartYGlobal=O.worldY,G.dragX=G.dragStartXGlobal-G.dragStartX,G.dragY=G.dragStartYGlobal-G.dragStartY,B.emit(p.GAMEOBJECT_DRAG_START,O,G.dragX,G.dragY),this.emit(p.DRAG_START,O,B)}return this.setDragState(O,4),D.length},processDragDownEvent:function(O){var D=this._temp;if(this._draggable.length===0||D.length===0||!O.primaryDown||this.getDragState(O)!==0)return 0;this.setDragState(O,1);for(var I=[],B=0;B<D.length;B++){var G=D[B];G.input.draggable&&G.input.dragState===0&&I.push(G)}return I.length===0?(this.setDragState(O,0),0):(I.length>1&&(this.sortGameObjects(I,O),this.topOnly&&I.splice(1)),this._drag[O.id]=I,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(O,3),this.processDragStartList(O)):(this.setDragState(O,2),0))},processDragMoveEvent:function(O){if(this.getDragState(O)===2&&this.processDragThresholdEvent(O,this.manager.game.loop.now),this.getDragState(O)!==4)return 0;for(var D=this._tempZones,I=this._drag[O.id],B=0;B<I.length;B++){var G=I[B],z=G.input,Y=z.target;if(Y){var H=D.indexOf(Y);H===0?(G.emit(p.GAMEOBJECT_DRAG_OVER,O,Y),this.emit(p.DRAG_OVER,O,G,Y)):H>0?(G.emit(p.GAMEOBJECT_DRAG_LEAVE,O,Y),this.emit(p.DRAG_LEAVE,O,G,Y),z.target=D[0],Y=z.target,G.emit(p.GAMEOBJECT_DRAG_ENTER,O,Y),this.emit(p.DRAG_ENTER,O,G,Y)):(G.emit(p.GAMEOBJECT_DRAG_LEAVE,O,Y),this.emit(p.DRAG_LEAVE,O,G,Y),D[0]?(z.target=D[0],Y=z.target,G.emit(p.GAMEOBJECT_DRAG_ENTER,O,Y),this.emit(p.DRAG_ENTER,O,G,Y)):z.target=null)}else!Y&&D[0]&&(z.target=D[0],Y=z.target,G.emit(p.GAMEOBJECT_DRAG_ENTER,O,Y),this.emit(p.DRAG_ENTER,O,G,Y));var k,U;if(!G.parentContainer)k=O.worldX-z.dragX,U=O.worldY-z.dragY;else{var F=O.worldX-z.dragStartXGlobal,N=O.worldY-z.dragStartYGlobal,V=G.getParentRotation(),$=F*Math.cos(V)+N*Math.sin(V),X=N*Math.cos(V)-F*Math.sin(V);$*=1/G.parentContainer.scaleX,X*=1/G.parentContainer.scaleY,k=$+z.dragStartX,U=X+z.dragStartY}G.emit(p.GAMEOBJECT_DRAG,O,k,U),this.emit(p.DRAG,O,G,k,U)}return I.length},processDragUpEvent:function(O){for(var D=this._drag[O.id],I=0;I<D.length;I++){var B=D[I],G=B.input;if(G&&G.dragState===2){G.dragState=0,G.dragX=G.localX-B.displayOriginX,G.dragY=G.localY-B.displayOriginY;var z=!1,Y=G.target;Y&&(B.emit(p.GAMEOBJECT_DROP,O,Y),this.emit(p.DROP,O,B,Y),G.target=null,z=!0),B.input&&B.input.enabled&&(B.emit(p.GAMEOBJECT_DRAG_END,O,G.dragX,G.dragY,z),this.emit(p.DRAG_END,O,B,z))}}return this.setDragState(O,0),D.splice(0),0},processMoveEvents:function(O){var D=0,I=this._temp,B=this._eventData,G=this._eventContainer;B.cancelled=!1;for(var z=!1,Y=0;Y<I.length;Y++){var H=I[Y];if(!(!H.input||!H.input.enabled)){if(D++,H.emit(p.GAMEOBJECT_POINTER_MOVE,O,H.input.localX,H.input.localY,G),B.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.emit(p.GAMEOBJECT_MOVE,O,H,G),B.cancelled||!H.input||!H.input.enabled){z=!0;break}if(this.topOnly)break}}return z||this.emit(p.POINTER_MOVE,O,I),D},processWheelEvent:function(O){var D=0,I=this._temp,B=this._eventData,G=this._eventContainer;B.cancelled=!1;for(var z=!1,Y=O.deltaX,H=O.deltaY,k=O.deltaZ,U=0;U<I.length;U++){var F=I[U];if(!(!F.input||!F.input.enabled)){if(D++,F.emit(p.GAMEOBJECT_POINTER_WHEEL,O,Y,H,k,G),B.cancelled||!F.input||!F.input.enabled){z=!0;break}if(this.emit(p.GAMEOBJECT_WHEEL,O,F,Y,H,k,G),B.cancelled||!F.input||!F.input.enabled){z=!0;break}}}return z||this.emit(p.POINTER_WHEEL,O,I,Y,H,k),D},processOverEvents:function(O){var D=this._temp,I=0,B=D.length,G=[];if(B>0){var z=this.manager,Y=this._eventData,H=this._eventContainer;Y.cancelled=!1;for(var k=!1,U=0;U<B;U++){var F=D[U];if(!(!F.input||!F.input.enabled)){if(G.push(F),z.setCursor(F.input),F.emit(p.GAMEOBJECT_POINTER_OVER,O,F.input.localX,F.input.localY,H),I++,Y.cancelled||!F.input||!F.input.enabled){k=!0;break}if(this.emit(p.GAMEOBJECT_OVER,O,F,H),Y.cancelled||!F.input||!F.input.enabled){k=!0;break}}}k||this.emit(p.POINTER_OVER,O,G)}return this._over[O.id]=G,I},processOutEvents:function(O){var D=this._over[O.id],I=0,B=D.length;if(B>0){var G=this.manager,z=this._eventData,Y=this._eventContainer;z.cancelled=!1;var H=!1;this.sortGameObjects(D,O);for(var k=0;k<B;k++){var U=D[k];if(U=D[k],!(!U.input||!U.input.enabled)){if(G.resetCursor(U.input),U.emit(p.GAMEOBJECT_POINTER_OUT,O,Y),I++,z.cancelled||!U.input||!U.input.enabled){H=!0;break}if(this.emit(p.GAMEOBJECT_OUT,O,U,Y),z.cancelled||!U.input||!U.input.enabled){H=!0;break}H||this.emit(p.POINTER_OUT,O,D)}}this._over[O.id]=[]}return I},processOverOutEvents:function(O){var D=this._temp,I,B,G=[],z=[],Y=[],H=this._over[O.id],k=this._drag[O.id],U=this.manager;for(I=0;I<H.length;I++)B=H[I],D.indexOf(B)===-1&&k.indexOf(B)===-1?G.push(B):Y.push(B);for(I=0;I<D.length;I++)B=D[I],H.indexOf(B)===-1&&z.push(B);var F=G.length,N=0,V=this._eventData,$=this._eventContainer;V.cancelled=!1;var X=!1;if(F>0){for(this.sortGameObjects(G,O),I=0;I<F;I++)if(B=G[I],!(!B.input||!B.input.enabled)){if(U.resetCursor(B.input),B.emit(p.GAMEOBJECT_POINTER_OUT,O,$),N++,V.cancelled||!B.input||!B.input.enabled){X=!0;break}if(this.emit(p.GAMEOBJECT_OUT,O,B,$),V.cancelled||!B.input||!B.input.enabled){X=!0;break}}X||this.emit(p.POINTER_OUT,O,G)}if(F=z.length,V.cancelled=!1,X=!1,F>0){for(this.sortGameObjects(z,O),I=0;I<F;I++)if(B=z[I],!(!B.input||!B.input.enabled)){if(U.setCursor(B.input),B.emit(p.GAMEOBJECT_POINTER_OVER,O,B.input.localX,B.input.localY,$),N++,V.cancelled||!B.input||!B.input.enabled){X=!0;break}if(this.emit(p.GAMEOBJECT_OVER,O,B,$),V.cancelled||!B.input||!B.input.enabled){X=!0;break}}X||this.emit(p.POINTER_OVER,O,z)}return H=Y.concat(z),this._over[O.id]=this.sortGameObjects(H,O),N},processUpEvents:function(O){var D=this._temp,I=this._eventData,B=this._eventContainer;I.cancelled=!1;for(var G=!1,z=0;z<D.length;z++){var Y=D[z];if(!(!Y.input||!Y.input.enabled)){if(Y.emit(p.GAMEOBJECT_POINTER_UP,O,Y.input.localX,Y.input.localY,B),I.cancelled||!Y.input||!Y.input.enabled){G=!0;break}if(this.emit(p.GAMEOBJECT_UP,O,Y,B),I.cancelled||!Y.input||!Y.input.enabled){G=!0;break}}}return!G&&this.manager&&(O.upElement===this.manager.game.canvas?this.emit(p.POINTER_UP,O,D):this.emit(p.POINTER_UP_OUTSIDE,O)),D.length},queueForInsertion:function(O){return this._pendingInsertion.indexOf(O)===-1&&this._list.indexOf(O)===-1&&this._pendingInsertion.push(O),this},queueForRemoval:function(O){return this._pendingRemoval.push(O),this},setDraggable:function(O,D){D===void 0&&(D=!0),Array.isArray(O)||(O=[O]);for(var I=0;I<O.length;I++){var B=O[I];B.input.draggable=D;var G=this._draggable.indexOf(B);D&&G===-1?this._draggable.push(B):!D&&G>-1&&this._draggable.splice(G,1)}return this},makePixelPerfect:function(O){O===void 0&&(O=1);var D=this.systems.textures;return o(D,O)},setHitArea:function(O,D,I){if(D===void 0)return this.setHitAreaFromTexture(O);Array.isArray(O)||(O=[O]);var B=!1,G=!1,z=!1,Y=!1,H=!1,k=!0;if(E(D)&&Object.keys(D).length){var U=D,F=O.some(function(j){return j.hasOwnProperty("faces")});if(!F){D=m(U,"hitArea",null),I=m(U,"hitAreaCallback",null),H=m(U,"pixelPerfect",!1);var N=m(U,"alphaTolerance",1);H&&(D={},I=this.makePixelPerfect(N))}B=m(U,"draggable",!1),G=m(U,"dropZone",!1),z=m(U,"cursor",!1),Y=m(U,"useHandCursor",!1),(!D||!I)&&(this.setHitAreaFromTexture(O),k=!1)}else typeof D=="function"&&!I&&(I=D,D={});for(var V=0;V<O.length;V++){var $=O[V];if(H&&$.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=$.input?$.input:l($,D,I);X.customHitArea=k,X.dropZone=G,X.cursor=Y?"pointer":z,$.input=X,B&&this.setDraggable($),this.queueForInsertion($)}return this},setHitAreaCircle:function(O,D,I,B,G){G===void 0&&(G=g);var z=new a(D,I,B);return this.setHitArea(O,z,G)},setHitAreaEllipse:function(O,D,I,B,G,z){z===void 0&&(z=c);var Y=new v(D,I,B,G);return this.setHitArea(O,Y,z)},setHitAreaFromTexture:function(O,D){D===void 0&&(D=b),Array.isArray(O)||(O=[O]);for(var I=0;I<O.length;I++){var B=O[I],G=B.frame,z=0,Y=0;if(B.width?(z=B.width,Y=B.height):G&&(z=G.realWidth,Y=G.realHeight),B.type==="Container"&&(z===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}z!==0&&Y!==0&&(B.input=l(B,new P(0,0,z,Y),D),this.queueForInsertion(B))}return this},setHitAreaRectangle:function(O,D,I,B,G,z){z===void 0&&(z=b);var Y=new P(D,I,B,G);return this.setHitArea(O,Y,z)},setHitAreaTriangle:function(O,D,I,B,G,z,Y,H){H===void 0&&(H=R);var k=new A(D,I,B,G,z,Y);return this.setHitArea(O,k,H)},enableDebug:function(O,D){D===void 0&&(D=65280);var I=O.input;if(!I||!I.hitArea)return this;var B=I.hitArea,G=B.type,z=I.hitAreaDebug,Y=this.systems.add,H=this.systems.updateList;z&&(H.remove(z),z.destroy(),z=null);var k=0,U=0;switch(G){case C.CIRCLE:z=Y.arc(0,0,B.radius),k=B.x-B.radius,U=B.y-B.radius;break;case C.ELLIPSE:z=Y.ellipse(0,0,B.width,B.height),k=B.x-B.width/2,U=B.y-B.height/2;break;case C.LINE:z=Y.line(0,0,B.x1,B.y1,B.x2,B.y2);break;case C.POLYGON:z=Y.polygon(0,0,B.points);break;case C.RECTANGLE:z=Y.rectangle(0,0,B.width,B.height),k=B.x,U=B.y;break;case C.TRIANGLE:z=Y.triangle(0,0,B.x1,B.y1,B.x2,B.y2,B.x3,B.y3);break}return z&&(z.isFilled=!1,z.strokeColor=D,z.preUpdate=function(){z.setVisible(O.visible),z.setStrokeStyle(1/O.scale,z.strokeColor),z.setDisplayOrigin(O.displayOriginX,O.displayOriginY);var F=O.x,N=O.y,V=O.rotation,$=O.scaleX,X=O.scaleY;if(O.parentContainer){var j=O.getWorldTransformMatrix();F=j.tx,N=j.ty,V=j.rotation,$=j.scaleX,X=j.scaleY}z.setRotation(V),z.setScale($,X),z.setPosition(F+k*$,N+U*X),z.setScrollFactor(O.scrollFactorX,O.scrollFactorY),z.setDepth(O.depth)},H.add(z),I.hitAreaDebug=z),this},removeDebug:function(O){var D=O.input;if(D&&D.hitAreaDebug){var I=D.hitAreaDebug;I.destroy(),D.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(O){return this.pollRate=O,this._pollTimer=0,this},setGlobalTopOnly:function(O){return this.manager.globalTopOnly=O,this},setTopOnly:function(O){return this.topOnly=O,this},sortGameObjects:function(O,D){if(O.length<2||!D.camera)return O;var I=D.camera.renderList;return O.sort(function(B,G){var z=Math.max(I.indexOf(B),0),Y=Math.max(I.indexOf(G),0);return Y-z})},sortDropZones:function(O){return O.length<2?O:(this.scene.sys.depthSort(),O.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(O,D){if(!O.parentContainer&&!D.parentContainer)return this.displayList.getIndex(D)-this.displayList.getIndex(O);if(O.parentContainer===D.parentContainer)return D.parentContainer.getIndex(D)-O.parentContainer.getIndex(O);if(O.parentContainer===D)return-1;if(D.parentContainer===O)return 1;for(var I=O.getIndexList(),B=D.getIndexList(),G=Math.min(I.length,B.length),z=0;z<G;z++){var Y=I[z],H=B[z];if(Y!==H)return H-Y}return B.length-I.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(O){return this.manager.addPointer(O)},setDefaultCursor:function(O){return this.manager.setDefaultCursor(O),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(p.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var O=0;O<10;O++)this._drag[O]=[],this._over[O]=[];this.removeAllListeners();var D=this.manager;D.canvas.style.cursor=D.defaultCursor;var I=this.systems.events;I.off(M.TRANSITION_START,this.transitionIn,this),I.off(M.TRANSITION_OUT,this.transitionOut,this),I.off(M.TRANSITION_COMPLETE,this.transitionComplete,this),I.off(M.PRE_UPDATE,this.preUpdate,this),D.events.off(p.GAME_OUT,this.onGameOut,this),D.events.off(p.GAME_OVER,this.onGameOver,this),I.off(M.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var O=this.manager.pointers,D=0;D<O.length;D++)O[D].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(p.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(M.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});w.register("InputPlugin",L,"input"),n.exports=L},89639:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g={},u={};u.register=function(h,l,o,d,v){g[h]={plugin:l,mapping:o,settingsKey:d,configKey:v}},u.getPlugin=function(h){return g[h]},u.install=function(h){var l=h.scene.sys,o=l.settings.input,d=l.game.config;for(var v in g){var c=g[v].plugin,p=g[v].mapping,y=g[v].settingsKey,m=g[v].configKey;a(o,y,d[m])&&(h[p]=new c(h))}},u.remove=function(h){g.hasOwnProperty(h)&&delete g[h]},n.exports=u},42515:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(31040),g=s(83419),u=s(20339),h=s(43855),l=s(47235),o=s(26099),d=s(25892),v=new g({initialize:function(p,y){this.manager=p,this.id=y,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new o,this.prevPosition=new o,this.midPoint=new o(-1,-1),this.velocity=new o,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=y===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(c){var p=c.getWorldPoint(this.x,this.y);return this.worldX=p.x,this.worldY=p.y,this},positionToCamera:function(c,p){return c.getWorldPoint(this.x,this.y,p)},updateMotion:function(){var c=this.position.x,p=this.position.y,y=this.midPoint.x,m=this.midPoint.y;if(!(c===y&&p===m)){var C=l(this.motionFactor,y,c),T=l(this.motionFactor,m,p);h(C,c,.1)&&(C=c),h(T,p,.1)&&(T=p),this.midPoint.set(C,T);var E=c-C,w=p-T;this.velocity.set(E,w),this.angle=a(C,T,c,p),this.distance=Math.sqrt(E*E+w*w)}},up:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.button=c.button,this.upElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),c.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=c.timeStamp,this.wasTouch=!1)},down:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.button=c.button,this.downElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),c.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&c.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=c.timeStamp),this.wasTouch=!1},move:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.manager.transformPointer(this,c.pageX,c.pageY,!0),this.locked&&(this.movementX=c.movementX||c.mozMovementX||c.webkitMovementX||0,this.movementY=c.movementY||c.mozMovementY||c.webkitMovementY||0),this.moveTime=c.timeStamp,this.wasTouch=!1},wheel:function(c){"buttons"in c&&(this.buttons=c.buttons),this.event=c,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.deltaX=c.deltaX,this.deltaY=c.deltaY,this.deltaZ=c.deltaZ,this.wasTouch=!1},touchstart:function(c,p){c.pointerId&&(this.pointerId=c.pointerId),this.identifier=c.identifier,this.target=c.target,this.active=!0,this.buttons=1,this.event=p,this.downElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=p.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(c,p){this.event=p,this.manager.transformPointer(this,c.pageX,c.pageY,!0),this.moveTime=p.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(c,p){this.buttons=0,this.event=p,this.upElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(c,p){this.buttons=0,this.event=p,this.upElement=c.target,this.manager.transformPointer(this,c.pageX,c.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=p.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?u(this.downX,this.downY,this.x,this.y):u(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(c,p){c===void 0&&(c=10),p===void 0&&(p=[]);for(var y=this.prevPosition.x,m=this.prevPosition.y,C=this.position.x,T=this.position.y,E=0;E<c;E++){var w=1/c*E;p[E]={x:l(w,y,C),y:l(w,m,T)}}return p},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(c){this.position.x=c}},y:{get:function(){return this.position.y},set:function(c){this.position.y=c}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=v},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=x},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:s(7179),DESTROY:s(85375),DRAG_END:s(39843),DRAG_ENTER:s(23388),DRAG:s(16133),DRAG_LEAVE:s(27829),DRAG_OVER:s(53904),DRAG_START:s(56058),DROP:s(2642),GAME_OUT:s(56718),GAME_OVER:s(25936),GAMEOBJECT_DOWN:s(88171),GAMEOBJECT_DRAG_END:s(36147),GAMEOBJECT_DRAG_ENTER:s(71692),GAMEOBJECT_DRAG:s(96149),GAMEOBJECT_DRAG_LEAVE:s(81285),GAMEOBJECT_DRAG_OVER:s(74048),GAMEOBJECT_DRAG_START:s(21322),GAMEOBJECT_DROP:s(49378),GAMEOBJECT_MOVE:s(86754),GAMEOBJECT_OUT:s(86433),GAMEOBJECT_OVER:s(60709),GAMEOBJECT_POINTER_DOWN:s(24081),GAMEOBJECT_POINTER_MOVE:s(11172),GAMEOBJECT_POINTER_OUT:s(18907),GAMEOBJECT_POINTER_OVER:s(95579),GAMEOBJECT_POINTER_UP:s(35368),GAMEOBJECT_POINTER_WHEEL:s(26972),GAMEOBJECT_UP:s(47078),GAMEOBJECT_WHEEL:s(73802),MANAGER_BOOT:s(27503),MANAGER_PROCESS:s(50852),MANAGER_UPDATE:s(96438),POINTER_DOWN:s(47777),POINTER_DOWN_OUTSIDE:s(27957),POINTER_MOVE:s(19444),POINTER_OUT:s(54251),POINTER_OVER:s(18667),POINTER_UP:s(27192),POINTER_UP_OUTSIDE:s(24652),POINTER_WHEEL:s(45132),POINTERLOCK_CHANGE:s(59152),PRE_UPDATE:s(44512),SHUTDOWN:s(15757),START:s(41637),UPDATE:s(93802)}},97421:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l){this.pad=h,this.events=h.events,this.index=l,this.value=0,this.threshold=.1},update:function(u){this.value=u},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=g},28884:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92734),u=new a({initialize:function(l,o){this.pad=l,this.events=l.manager,this.index=o,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var l=this.pad,o=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(g.BUTTON_DOWN,l,this,h),this.pad.emit(g.GAMEPAD_BUTTON_DOWN,o,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(g.BUTTON_UP,l,this,h),this.pad.emit(g.GAMEPAD_BUTTON_UP,o,h,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=u},99125:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97421),g=s(28884),u=s(83419),h=s(50792),l=s(26099),o=new u({Extends:h,initialize:function(v,c){h.call(this),this.manager=v,this.pad=c,this.id=c.id,this.index=c.index;for(var p=[],y=0;y<c.buttons.length;y++)p.push(new g(this,y));this.buttons=p;var m=[];for(y=0;y<c.axes.length;y++)m.push(new a(this,y));this.axes=m,this.vibration=c.vibrationActuator;var C={value:0,pressed:!1};this._LCLeft=p[14]?p[14]:C,this._LCRight=p[15]?p[15]:C,this._LCTop=p[12]?p[12]:C,this._LCBottom=p[13]?p[13]:C,this._RCLeft=p[2]?p[2]:C,this._RCRight=p[1]?p[1]:C,this._RCTop=p[3]?p[3]:C,this._RCBottom=p[0]?p[0]:C,this._FBLeftTop=p[4]?p[4]:C,this._FBLeftBottom=p[6]?p[6]:C,this._FBRightTop=p[5]?p[5]:C,this._FBRightBottom=p[7]?p[7]:C;var T={value:0};this._HAxisLeft=m[0]?m[0]:T,this._VAxisLeft=m[1]?m[1]:T,this._HAxisRight=m[2]?m[2]:T,this._VAxisRight=m[3]?m[3]:T,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var v=0;v<this.axes.length;v++)this.axes[v].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var v,c=this.buttons,p=d.buttons,y=c.length;for(v=0;v<y;v++)c[v].update(p[v].value);var m=this.axes,C=d.axes;for(y=m.length,v=0;v<y;v++)m[v].update(C[v]);y>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),y>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=o},56654:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(92734),h=s(99125),l=s(35154),o=s(89639),d=s(8214),v=new a({Extends:g,initialize:function(p){g.call(this),this.scene=p.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=p,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,p.pluginEvents.once(d.BOOT,this.boot,this),p.pluginEvents.on(d.START,this.start,this)},boot:function(){var c=this.scene.sys.game,p=this.settings.input,y=c.config;this.enabled=l(p,"gamepad",y.inputGamepad)&&c.device.input.gamepads,this.target=l(p,"gamepad.target",y.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var c=this,p=this.target,y=function(m){m.defaultPrevented||!c.isActive()||(c.refreshPads(),c.queue.push(m))};this.onGamepadHandler=y,p.addEventListener("gamepadconnected",y,!1),p.addEventListener("gamepaddisconnected",y,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var c=0;c<this.gamepads.length;c++)this.gamepads[c].removeAllListeners()},disconnectAll:function(){for(var c=0;c<this.gamepads.length;c++)this.gamepads[c].pad.connected=!1},refreshPads:function(){var c=navigator.getGamepads();if(!c)this.disconnectAll();else for(var p=this.gamepads,y=0;y<c.length;y++){var m=c[y];if(m){var C=m.id,T=m.index,E=p[T];if(E)E.id!==C?(E.destroy(),p[T]=new h(this,m)):E.update(m);else{var w=new h(this,m);p[T]=w,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=w):this._pad3=w:this._pad2=w:this._pad1=w}}}},getAll:function(){for(var c=[],p=this.gamepads,y=0;y<p.length;y++)p[y]&&c.push(p[y]);return c},getPad:function(c){for(var p=this.gamepads,y=0;y<p.length;y++)if(p[y]&&p[y].index===c)return p[y]},update:function(){if(this.enabled){this.refreshPads();var c=this.queue.length;if(c!==0)for(var p=this.queue.splice(0,c),y=0;y<c;y++){var m=p[y],C=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(u.CONNECTED,C,m):m.type==="gamepaddisconnected"&&this.emit(u.DISCONNECTED,C,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var c=0;c<this.gamepads.length;c++)this.gamepads[c]&&this.gamepads[c].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});o.register("GamepadPlugin",v,"gamepad","gamepad","inputGamepad"),n.exports=v},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:s(65294),SNES_USB:s(89651),XBOX_360:s(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:s(46008),BUTTON_UP:s(7629),CONNECTED:s(42206),DISCONNECTED:s(86544),GAMEPAD_BUTTON_DOWN:s(94784),GAMEPAD_BUTTON_UP:s(14325)}},48646:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:s(97421),Button:s(28884),Events:s(92734),Gamepad:s(99125),GamepadPlugin:s(56654),Configs:s(64894)}},14350:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(93301),g=s(79291),u={CreatePixelPerfectHandler:s(84409),CreateInteractiveObject:s(74457),Events:s(8214),Gamepad:s(48646),InputManager:s(7003),InputPlugin:s(48205),InputPluginCache:s(89639),Keyboard:s(51442),Mouse:s(87078),Pointer:s(42515),Touch:s(95618)};u=g(!1,u,a),n.exports=u},78970:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(72905),g=s(83419),u=s(8443),h=s(8214),l=s(46032),o=s(29747),d=new g({initialize:function(c){this.manager=c,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=o,this.onKeyUp=o,c.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var v=this.manager.config;this.enabled=v.inputKeyboard,this.target=v.inputKeyboardEventTarget,this.addCapture(v.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(u.POST_STEP,this.postUpdate,this)},startListeners:function(){var v=this;this.onKeyDown=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(h.MANAGER_PROCESS);var y=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!y&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}},this.onKeyUp=function(p){if(!(p.defaultPrevented||!v.enabled||!v.manager)){v.queue.push(p),v.manager.events.emit(h.MANAGER_PROCESS);var y=p.altKey||p.ctrlKey||p.shiftKey||p.metaKey;v.preventDefault&&!y&&v.captures.indexOf(p.keyCode)>-1&&p.preventDefault()}};var c=this.target;c&&(c.addEventListener("keydown",this.onKeyDown,!1),c.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var v=this.target;v.removeEventListener("keydown",this.onKeyDown,!1),v.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var c=this.captures,p=0;p<v.length;p++){var y=v[p];typeof y=="string"&&(y=l[y.trim().toUpperCase()]),c.indexOf(y)===-1&&c.push(y)}this.preventDefault=c.length>0},removeCapture:function(v){typeof v=="string"&&(v=v.split(",")),Array.isArray(v)||(v=[v]);for(var c=this.captures,p=0;p<v.length;p++){var y=v[p];typeof y=="string"&&(y=l[y.toUpperCase()]),a(c,y)}this.preventDefault=c.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(u.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=d},28846:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(95922),h=s(8443),l=s(35154),o=s(8214),d=s(89639),v=s(30472),c=s(46032),p=s(87960),y=s(74600),m=s(44594),C=s(56583),T=new a({Extends:g,initialize:function(w){g.call(this),this.game=w.systems.game,this.scene=w.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=w,this.manager=w.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,w.pluginEvents.once(o.BOOT,this.boot,this),w.pluginEvents.on(o.START,this.start,this)},boot:function(){var E=this.settings.input;this.enabled=l(E,"keyboard",!0);var w=l(E,"keyboard.capture",null);w&&this.addCaptures(w),this.sceneInputPlugin.pluginEvents.once(o.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(o.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(o.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(E){return this.manager.addCapture(E),this},removeCapture:function(E){return this.manager.removeCapture(E),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:c.UP,down:c.DOWN,left:c.LEFT,right:c.RIGHT,space:c.SPACE,shift:c.SHIFT})},addKeys:function(E,w,P){w===void 0&&(w=!0),P===void 0&&(P=!1);var b={};if(typeof E=="string"){E=E.split(",");for(var M=0;M<E.length;M++){var A=E[M].trim();A&&(b[A]=this.addKey(A,w,P))}}else for(var R in E)b[R]=this.addKey(E[R],w,P);return b},addKey:function(E,w,P){w===void 0&&(w=!0),P===void 0&&(P=!1);var b=this.keys;if(E instanceof v){var M=b.indexOf(E);return M>-1?b[M]=E:b[E.keyCode]=E,w&&this.addCapture(E.keyCode),E.setEmitOnRepeat(P),E}return typeof E=="string"&&(E=c[E.toUpperCase()]),b[E]||(b[E]=new v(this,E),w&&this.addCapture(E),b[E].setEmitOnRepeat(P)),b[E]},removeKey:function(E,w,P){w===void 0&&(w=!1),P===void 0&&(P=!1);var b=this.keys,M;if(E instanceof v){var A=b.indexOf(E);A>-1&&(M=this.keys[A],this.keys[A]=void 0)}else typeof E=="string"&&(E=c[E.toUpperCase()]);return b[E]&&(M=b[E],b[E]=void 0),M&&(M.plugin=null,P&&this.removeCapture(M.keyCode),w&&M.destroy()),this},removeAllKeys:function(E,w){E===void 0&&(E=!1),w===void 0&&(w=!1);for(var P=this.keys,b=0;b<P.length;b++){var M=P[b];M&&(P[b]=void 0,w&&this.removeCapture(M.keyCode),E&&M.destroy())}return this},createCombo:function(E,w){return new p(this,E,w)},checkDown:function(E,w){if(w===void 0&&(w=0),this.enabled&&E.isDown){var P=C(this.time-E.timeDown,w);if(P>E._tick)return E._tick=P,!0}return!1},update:function(){var E=this.manager.queue,w=E.length;if(!(!this.isActive()||w===0))for(var P=this.keys,b=0;b<w;b++){var M=E[b],A=M.keyCode,R=P[A],L=!1;M.cancelled===void 0&&(M.cancelled=0,M.stopImmediatePropagation=function(){M.cancelled=1},M.stopPropagation=function(){M.cancelled=-1}),M.cancelled!==-1&&(A===this.prevCode&&M.timeStamp===this.prevTime&&M.type===this.prevType||(this.prevCode=A,this.prevTime=M.timeStamp,this.prevType=M.type,M.type==="keydown"?(R&&(L=R.isDown,R.onDown(M)),!M.cancelled&&(!R||!L)&&(y[A]&&this.emit(u.KEY_DOWN+y[A],M),M.cancelled||this.emit(u.ANY_KEY_DOWN,M))):(R&&R.onUp(M),M.cancelled||(y[A]&&this.emit(u.KEY_UP+y[A],M),M.cancelled||this.emit(u.ANY_KEY_UP,M))),M.cancelled===1&&(M.cancelled=0)))}},resetKeys:function(){for(var E=this.keys,w=0;w<E.length;w++)E[w]&&E[w].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(o.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var E=this.keys,w=0;w<E.length;w++)E[w]&&E[w].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),n.exports=T},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a.timeLastMatched=s.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};n.exports=x},87960:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95922),u=s(95540),h=s(68769),l=s(92803),o=new a({initialize:function(v,c,p){if(p===void 0&&(p={}),c.length<2)return!1;this.manager=v,this.enabled=!0,this.keyCodes=[];for(var y=0;y<c.length;y++){var m=c[y];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=u(p,"resetOnWrongKey",!0),this.maxKeyDelay=u(p,"maxKeyDelay",0),this.resetOnMatch=u(p,"resetOnMatch",!1),this.deleteOnMatch=u(p,"deleteOnMatch",!1);var C=this,T=function(E){if(!(C.matched||!C.enabled)){var w=h(E,C);w&&(C.manager.emit(g.COMBO_MATCH,C,E),C.resetOnMatch?l(C):C.deleteOnMatch&&C.destroy())}};this.onKeyDown=T,this.manager.on(g.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(g.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=o},68769:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66970),g=function(u,h){if(h.matched)return!0;var l=!1,o=!1;if(u.keyCode===h.current)if(h.index>0&&h.maxKeyDelay>0){var d=h.timeLastMatched+h.maxKeyDelay;u.timeStamp<=d&&(o=!0,l=a(u,h))}else o=!0,l=a(u,h);return!o&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),l&&(h.timeLastMatched=u.timeStamp,h.matched=!0,h.timeMatched=u.timeStamp),l};n.exports=g},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.current=s.keyCodes[0],s.index=0,s.timeLastMatched=0,s.matched=!1,s.timeMatched=0,s};n.exports=x},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:s(92612),ANY_KEY_UP:s(23345),COMBO_MATCH:s(21957),DOWN:s(44743),KEY_DOWN:s(3771),KEY_UP:s(46358),UP:s(75674)}},51442:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(95922),KeyboardManager:s(78970),KeyboardPlugin:s(28846),Key:s(30472),KeyCodes:s(46032),KeyCombo:s(87960),AdvanceKeyCombo:s(66970),ProcessKeyCombo:s(68769),ResetKeyCombo:s(92803),JustDown:s(90229),JustUp:s(38796),DownDuration:s(37015),UpDuration:s(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=50);var g=s.plugin.game.loop.time-s.timeDown;return s.isDown&&g<a};n.exports=x},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s._justDown?(s._justDown=!1,!0):!1};n.exports=x},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s._justUp?(s._justUp=!1,!0):!1};n.exports=x},30472:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(95922),h=new a({Extends:g,initialize:function(o,d){g.call(this),this.plugin=o,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(u.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(u.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(u.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=h},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=x},74600:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(46032),g={};for(var u in a)g[a[u]]=u;n.exports=g},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=50);var g=s.plugin.game.loop.time-s.timeUp;return s.isUp&&g<a};n.exports=x},85098:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89357),u=s(8214),h=s(29747),l=new a({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,d.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputMouse,this.target=o.inputMouseEventTarget,this.passive=o.inputMousePassive,this.preventDefaultDown=o.inputMousePreventDefaultDown,this.preventDefaultUp=o.inputMousePreventDefaultUp,this.preventDefaultMove=o.inputMousePreventDefaultMove,this.preventDefaultWheel=o.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},requestPointerLock:function(){if(g.pointerLock){var o=this.target;o.requestPointerLock=o.requestPointerLock||o.mozRequestPointerLock||o.webkitRequestPointerLock,o.requestPointerLock()}},releasePointerLock:function(){g.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var o=this.target;if(o){var d=this,v=this.manager,c=v.canvas,p=window&&window.focus&&v.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseMove(m),d.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){p&&window.focus(),!m.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseDown(m),d.preventDefaultDown&&m.target===c&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&d.enabled&&v&&v.enabled&&m.target!==c&&v.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&(v.onMouseUp(m),d.preventDefaultUp&&m.target===c&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&d.enabled&&v&&v.enabled&&m.target!==c&&v.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&v.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&d.enabled&&v&&v.enabled&&v.onMouseWheel(m),d.preventDefaultWheel&&m.target===c&&m.preventDefault()};var y={passive:!0};if(o.addEventListener("mousemove",this.onMouseMove),o.addEventListener("mousedown",this.onMouseDown),o.addEventListener("mouseup",this.onMouseUp),o.addEventListener("mouseover",this.onMouseOver,y),o.addEventListener("mouseout",this.onMouseOut,y),this.preventDefaultWheel?o.addEventListener("wheel",this.onMouseWheel,{passive:!1}):o.addEventListener("wheel",this.onMouseWheel,y),window&&v.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,y),window.top.addEventListener("mouseup",this.onMouseUpWindow,y)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,y),window.addEventListener("mouseup",this.onMouseUpWindow,y),this.isTop=!1}g.pointerLock&&(this.pointerLockChange=function(m){var C=d.target;d.locked=document.pointerLockElement===C||document.mozPointerLockElement===C||document.webkitPointerLockElement===C,v.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("mousemove",this.onMouseMove),o.removeEventListener("mousedown",this.onMouseDown),o.removeEventListener("mouseup",this.onMouseUp),o.removeEventListener("mouseover",this.onMouseOver),o.removeEventListener("mouseout",this.onMouseOut),window&&(o=this.isTop?window.top:window,o.removeEventListener("mousedown",this.onMouseDownWindow),o.removeEventListener("mouseup",this.onMouseUpWindow)),g.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l},87078:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:s(85098)}},36210:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(8214),u=s(29747),h=new a({initialize:function(o){this.manager=o,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=u,this.onTouchStartWindow=u,this.onTouchMove=u,this.onTouchEnd=u,this.onTouchEndWindow=u,this.onTouchCancel=u,this.onTouchCancelWindow=u,this.isTop=!0,o.events.once(g.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var o=this,d=this.manager,v=d.canvas,c=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchMove(C),o.capture&&C.cancelable&&C.preventDefault())},this.onTouchStart=function(C){c&&window.focus(),!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchStart(C),o.capture&&C.cancelable&&C.target===v&&C.preventDefault())},this.onTouchStartWindow=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&C.target!==v&&d.onTouchStart(C)},this.onTouchEnd=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchEnd(C),o.capture&&C.cancelable&&C.target===v&&C.preventDefault())},this.onTouchEndWindow=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&C.target!==v&&d.onTouchEnd(C)},this.onTouchCancel=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&(d.onTouchCancel(C),o.capture&&C.preventDefault())},this.onTouchCancelWindow=function(C){!C.defaultPrevented&&o.enabled&&d&&d.enabled&&d.onTouchCancel(C)};var p=this.capture,y={passive:!0},m={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,p?m:y),l.addEventListener("touchmove",this.onTouchMove,p?m:y),l.addEventListener("touchend",this.onTouchEnd,p?m:y),l.addEventListener("touchcancel",this.onTouchCancel,p?m:y),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=h},95618:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:s(36210)}},41299:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(54899),h=s(95540),l=s(98356),o=s(3374),d=s(84376),v=s(92638),c=new a({initialize:function(y,m){if(this.loader=y,this.cache=h(m,"cache",!1),this.type=h(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(m,"key",!1);var C=this.key;if(y.prefix&&y.prefix!==""&&(this.key=y.prefix+C),!this.key)throw new Error("Invalid File key: "+this.key);var T=h(m,"url");T===void 0?T=y.path+C+"."+h(m,"extension",""):typeof T=="string"&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=y.path+T),this.url=T,this.src="",this.xhrSettings=v(h(m,"responseType",void 0)),h(m,"xhrSettings",!1)&&(this.xhrSettings=o(this.xhrSettings,h(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?g.FILE_POPULATED:g.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof T=="string"&&T.indexOf("data:")===0},setLink:function(p){this.linkFile=p,p.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===g.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=g.FILE_LOADING,this.src=l(this,this.loader.baseURL),this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr))},onLoad:function(p,y){var m=p.responseURL&&this.loader.localSchemes.some(function(E){return p.responseURL.indexOf(E)===0}),C=m&&y.target.status===0,T=!(y.target&&y.target.status!==200)||C;p.readyState===4&&p.status>=400&&p.status<=599&&(T=!1),this.state=g.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onBase64Load:function(p){this.xhrLoader=p,this.state=g.FILE_LOADED,this.percentComplete=1,this.loader.emit(u.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(p){p.lengthComputable&&(this.bytesLoaded=p.loaded,this.bytesTotal=p.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(u.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=g.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=g.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=g.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(p){if(this.state!==g.FILE_PENDING_DESTROY){p===void 0&&(p=this.data);var y=this.key,m=this.type;this.loader.emit(u.FILE_COMPLETE,y,m,p),this.loader.emit(u.FILE_KEY_COMPLETE+m+"-"+y,y,m,p),this.loader.flagForRemoval(this),this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});c.createObjectURL=function(p,y,m){if(typeof URL=="function")p.src=URL.createObjectURL(y);else{var C=new FileReader;C.onload=function(){p.removeAttribute("crossOrigin"),p.src="data:"+(y.type||m)+";base64,"+C.result.split(",")[1]},C.onerror=p.onerror,C.readAsDataURL(y)}},c.revokeObjectURL=function(p){typeof URL=="function"&&URL.revokeObjectURL(p.src)},n.exports=c},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},s={install:function(a){for(var g in x)a[g]=x[g]},register:function(a,g){x[a]=g},destroy:function(){x={}}};n.exports=s},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.url?s.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?s.url:a+s.url:!1};n.exports=x},74261:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(35072),h=s(50792),l=s(54899),o=s(74099),d=s(95540),v=s(35154),c=s(37277),p=s(44594),y=s(92638),m=new a({Extends:h,initialize:function(T){h.call(this);var E=T.sys.game.config,w=T.sys.settings.loader;this.scene=T,this.systems=T.sys,this.cacheManager=T.sys.cache,this.textureManager=T.sys.textures,this.sceneManager=T.sys.game.scene,o.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(w,"baseURL",E.loaderBaseURL)),this.setPath(d(w,"path",E.loaderPath)),this.setPrefix(d(w,"prefix",E.loaderPrefix)),this.maxParallelDownloads=d(w,"maxParallelDownloads",E.loaderMaxParallelDownloads),this.xhr=y(d(w,"responseType",E.loaderResponseType),d(w,"async",E.loaderAsync),d(w,"user",E.loaderUser),d(w,"password",E.loaderPassword),d(w,"timeout",E.loaderTimeout),d(w,"withCredentials",E.loaderWithCredentials)),this.crossOrigin=d(w,"crossOrigin",E.loaderCrossOrigin),this.imageLoadType=d(w,"imageLoadType",E.loaderImageLoadType),this.localSchemes=d(w,"localScheme",E.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new u,this.inflight=new u,this.queue=new u,this._deleteQueue=new u,this.totalFailed=0,this.totalComplete=0,this.state=g.LOADER_IDLE,this.multiKeyIndex=0,T.sys.events.once(p.BOOT,this.boot,this),T.sys.events.on(p.START,this.pluginStart,this)},boot:function(){this.systems.events.once(p.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var T=0;T<C.length;T++){var E=C[T];this.keyExists(E)||(this.list.set(E),this.emit(l.ADD,E.key,E.type,this,E),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var T=C.hasCacheConflict();return T||this.list.iterate(function(E){if(E.type===C.type&&E.key===C.key)return T=!0,!1}),!T&&this.isLoading()&&(this.inflight.iterate(function(E){if(E.type===C.type&&E.key===C.key)return T=!0,!1}),this.queue.iterate(function(E){if(E.type===C.type&&E.key===C.key)return T=!0,!1})),T},addPack:function(C,T){if(typeof T=="string"){var E=v(C,T);E&&(C={packKey:E})}var w=0,P=this.baseURL,b=this.path,M=this.prefix;for(var A in C)if(Object.prototype.hasOwnProperty.call(C,A)){var R=C[A],L=d(R,"baseURL",P),O=d(R,"path",b),D=d(R,"prefix",M),I=d(R,"files",null),B=d(R,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(L),this.setPath(O),this.setPrefix(D);for(var G=0;G<I.length;G++){var z=I[G],Y=z.hasOwnProperty("type")?z.type:B;this[Y]&&(this[Y](z),w++)}}}return this.setBaseURL(P),this.setPath(b),this.setPrefix(M),w>0},isLoading:function(){return this.state===g.LOADER_LOADING||this.state===g.LOADER_PROCESSING},isReady:function(){return this.state===g.LOADER_IDLE||this.state===g.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=g.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===g.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===g.FILE_POPULATED||C.state===g.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,T){this.inflight&&(this.inflight.delete(C),this.updateProgress(),T?(this.totalComplete++,this.queue.set(C),this.emit(l.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(l.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===g.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===g.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=g.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,T){return this.save(JSON.stringify(C),T)},save:function(C,T,E){T===void 0&&(T="file.json"),E===void 0&&(E="application/json");var w=new Blob([C],{type:E}),P=URL.createObjectURL(w),b=document.createElement("a");return b.download=T,b.textContent="Download "+T,b.href=P,b.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,T=this.systems.settings.loader;this.setBaseURL(d(T,"baseURL",C.loaderBaseURL)),this.setPath(d(T,"path",C.loaderPath)),this.setPrefix(d(T,"prefix",C.loaderPrefix)),this.state=g.LOADER_IDLE},shutdown:function(){this.reset(),this.state=g.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=g.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});c.register("Loader",m,"load"),n.exports=m},3374:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(92638),u=function(h,l){var o=h===void 0?g():a({},h);if(l)for(var d in l)l[d]!==void 0&&(o[d]=l[d]);return o};n.exports=u},26430:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(54899),h=new a({initialize:function(o,d,v,c){var p=[];c.forEach(function(C){C&&p.push(C)}),this.loader=o,this.type=d,this.key=v;var y=this.key;o.prefix&&o.prefix!==""&&(this.key=o.prefix+y),this.multiKeyIndex=o.multiKeyIndex++,this.files=p,this.state=g.FILE_PENDING,this.complete=!1,this.pending=p.length,this.failed=0,this.config={},this.baseURL=o.baseURL,this.path=o.path,this.prefix=o.prefix;for(var m=0;m<p.length;m++)p[m].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var o=this.files.indexOf(l);o!==-1&&this.pending--},onFileFailed:function(l){var o=this.files.indexOf(l);o!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==g.FILE_PENDING_DESTROY){var l=this.key,o=this.type;this.loader.emit(u.FILE_COMPLETE,l,o),this.loader.emit(u.FILE_KEY_COMPLETE+o+"-"+l,l,o),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=g.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=h},84376:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(3374),g=function(u,h){var l=a(h,u.xhrSettings);if(u.base64){var o=u.url.split(";base64,").pop()||u.url.split(",").pop(),d={responseText:atob(o)};u.onBase64Load(d);return}var v=new XMLHttpRequest;if(v.open("GET",u.src,l.async,l.user,l.password),v.responseType=u.xhrSettings.responseType,v.timeout=l.timeout,l.headers)for(var c in l.headers)v.setRequestHeader(c,l.headers[c]);return l.header&&l.headerValue&&v.setRequestHeader(l.header,l.headerValue),l.requestedWith&&v.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&v.overrideMimeType(l.overrideMimeType),l.withCredentials&&(v.withCredentials=!0),v.onload=u.onLoad.bind(u,v),v.onerror=u.onError.bind(u,v),v.onprogress=u.onProgress.bind(u),v.ontimeout=u.onError.bind(u,v),v.send(),v};n.exports=g},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h,l){return s===void 0&&(s=""),a===void 0&&(a=!0),g===void 0&&(g=""),u===void 0&&(u=""),h===void 0&&(h=0),l===void 0&&(l=!1),{responseType:s,async:a,user:g,password:u,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};n.exports=x},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=x},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(42155),COMPLETE:s(38991),FILE_COMPLETE:s(27540),FILE_KEY_COMPLETE:s(87464),FILE_LOAD_ERROR:s(94486),FILE_LOAD:s(13035),FILE_PROGRESS:s(38144),POST_PROCESS:s(97520),PROGRESS:s(85595),START:s(55680)}},14135:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(518),h=s(54899),l=new a({Extends:u,initialize:function(d,v,c,p,y){u.call(this,d,v,c,p,y),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),u.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});g.register("animation",function(o,d,v,c){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,d,c,v));return this}),n.exports=l},76272:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(19550),l=s(41212),o=s(518),d=s(26430),v=new a({Extends:d,initialize:function(p,y,m,C,T,E){var w,P;if(l(y)){var b=y;y=u(b,"key"),w=new h(p,{key:y,url:u(b,"textureURL"),extension:u(b,"textureExtension","png"),normalMap:u(b,"normalMap"),xhrSettings:u(b,"textureXhrSettings")}),P=new o(p,{key:y,url:u(b,"atlasURL"),extension:u(b,"atlasExtension","json"),xhrSettings:u(b,"atlasXhrSettings")})}else w=new h(p,y,m,T),P=new o(p,y,C,E);w.linkFile?d.call(this,p,"atlasjson",y,[w,P,w.linkFile]):d.call(this,p,"atlasjson",y,[w,P])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(c.key,c.data,p.data,y),p.addToCache(),this.complete=!0}}});g.register("aseprite",function(c,p,y,m,C){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new v(this,c[E]),this.addFile(T.files);else T=new v(this,c,p,y,m,C),this.addFile(T.files);return this}),n.exports=v},38734:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(19550),l=s(41212),o=s(518),d=s(26430),v=new a({Extends:d,initialize:function(p,y,m,C,T,E){var w,P;if(l(y)){var b=y;y=u(b,"key"),w=new h(p,{key:y,url:u(b,"textureURL"),extension:u(b,"textureExtension","png"),normalMap:u(b,"normalMap"),xhrSettings:u(b,"textureXhrSettings")}),P=new o(p,{key:y,url:u(b,"atlasURL"),extension:u(b,"atlasExtension","json"),xhrSettings:u(b,"atlasXhrSettings")})}else w=new h(p,y,m,T),P=new o(p,y,C,E);w.linkFile?d.call(this,p,"atlasjson",y,[w,P,w.linkFile]):d.call(this,p,"atlasjson",y,[w,P])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(c.key,c.data,p.data,y),this.complete=!0}}});g.register("atlas",function(c,p,y,m,C){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new v(this,c[E]),this.addFile(T.files);else T=new v(this,c,p,y,m,C),this.addFile(T.files);return this}),n.exports=v},74599:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(19550),l=s(41212),o=s(26430),d=s(57318),v=new a({Extends:o,initialize:function(p,y,m,C,T,E){var w,P;if(l(y)){var b=y;y=u(b,"key"),w=new h(p,{key:y,url:u(b,"textureURL"),extension:u(b,"textureExtension","png"),normalMap:u(b,"normalMap"),xhrSettings:u(b,"textureXhrSettings")}),P=new d(p,{key:y,url:u(b,"atlasURL"),extension:u(b,"atlasExtension","xml"),xhrSettings:u(b,"atlasXhrSettings")})}else w=new h(p,y,m,T),P=new d(p,y,C,E);w.linkFile?o.call(this,p,"atlasxml",y,[w,P,w.linkFile]):o.call(this,p,"atlasxml",y,[w,P])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(c.key,c.data,p.data,y),this.complete=!0}}});g.register("atlasXML",function(c,p,y,m,C){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new v(this,c[E]),this.addFile(T.files);else T=new v(this,c,p,y,m,C),this.addFile(T.files);return this}),n.exports=v},21097:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(89749),d=s(41212),v=new a({Extends:u,initialize:function(p,y,m,C,T){if(d(y)){var E=y;y=l(E,"key"),C=l(E,"xhrSettings"),T=l(E,"context",T)}var w={type:"audio",cache:p.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:y,url:m.url,xhrSettings:C,config:{context:T}};u.call(this,p,w)},onProcess:function(){this.state=g.FILE_PROCESSING;var c=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(p){c.data=p,c.onProcessComplete()},function(p){console.error("Error decoding audio: "+c.key+" - ",p?p.message:null),c.onProcessError()}),this.config.context=null}});v.create=function(c,p,y,m,C){var T=c.systems.game,E=T.config.audio,w=T.device.audio;d(p)&&(y=l(p,"url",[]),m=l(p,"config",{}));var P=v.getAudioURL(T,y);return P?w.webAudio&&!E.disableWebAudio?new v(c,p,P,C,T.sound.context):new o(c,p,P,m):(console.warn('No audio URLs for "%s" matched this device',p),null)},v.getAudioURL=function(c,p){Array.isArray(p)||(p=[p]);for(var y=0;y<p.length;y++){var m=l(p[y],"url",p[y]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var C=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(C=l(p[y],"type",C?C[1]:"").toLowerCase(),c.device.audio[C])return{url:m,type:C}}return null},h.register("audio",function(c,p,y,m){var C=this.systems.game,T=C.config.audio,E=C.device.audio;if(T.noAudio||!E.webAudio&&!E.audioData)return this;var w;if(Array.isArray(c))for(var P=0;P<c.length;P++)w=v.create(this,c[P]),w&&this.addFile(w);else w=v.create(this,c,p,y,m),w&&this.addFile(w);return this}),n.exports=v},89524:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(21097),g=s(83419),u=s(74099),h=s(95540),l=s(41212),o=s(518),d=s(26430),v=new g({Extends:d,initialize:function(p,y,m,C,T,E,w){if(l(y)){var P=y;y=h(P,"key"),m=h(P,"jsonURL"),C=h(P,"audioURL"),T=h(P,"audioConfig"),E=h(P,"audioXhrSettings"),w=h(P,"jsonXhrSettings")}var b;if(!C)b=new o(p,y,m,w),d.call(this,p,"audiosprite",y,[b]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=E;else{var M=a.create(p,y,C,T,E);M&&(b=new o(p,y,m,w),d.call(this,p,"audiosprite",y,[M,b]),this.config.resourceLoad=!1)}},onFileComplete:function(c){var p=this.files.indexOf(c);if(p!==-1&&(this.pending--,this.config.resourceLoad&&c.type==="json"&&c.data.hasOwnProperty("resources"))){var y=c.data.resources,m=h(this.config,"audioConfig"),C=h(this.config,"audioXhrSettings"),T=a.create(this.loader,c.key,y,m,C);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1];c.addToCache(),p.addToCache(),this.complete=!0}}});u.register("audioSprite",function(c,p,y,m,C,T){var E=this.systems.game,w=E.config.audio,P=E.device.audio;if(w&&w.noAudio||!P.webAudio&&!P.audioData)return this;var b;if(Array.isArray(c))for(var M=0;M<c.length;M++)b=new v(this,c[M]),b.files&&this.addFile(b.files);else b=new v(this,c,p,y,m,C,T),b.files&&this.addFile(b.files);return this})},85722:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m,C){var T="bin";if(o(p)){var E=p;p=l(E,"key"),y=l(E,"url"),m=l(E,"xhrSettings"),T=l(E,"extension",T),C=l(E,"dataType",C)}var w={type:"binary",cache:c.cacheManager.binary,extension:T,responseType:"arraybuffer",key:p,url:y,xhrSettings:m,config:{dataType:C}};u.call(this,c,w)},onProcess:function(){this.state=g.FILE_PROCESSING;var v=this.config.dataType;this.data=v?new v(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(v,c,p,y){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,c,y,p));return this}),n.exports=d},97025:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(19550),l=s(41212),o=s(26430),d=s(21859),v=s(57318),c=new a({Extends:o,initialize:function(y,m,C,T,E,w){var P,b;if(l(m)){var M=m;m=u(M,"key"),P=new h(y,{key:m,url:u(M,"textureURL"),extension:u(M,"textureExtension","png"),normalMap:u(M,"normalMap"),xhrSettings:u(M,"textureXhrSettings")}),b=new v(y,{key:m,url:u(M,"fontDataURL"),extension:u(M,"fontDataExtension","xml"),xhrSettings:u(M,"fontDataXhrSettings")})}else P=new h(y,m,C,E),b=new v(y,m,T,w);P.linkFile?o.call(this,y,"bitmapfont",m,[P,b,P.linkFile]):o.call(this,y,"bitmapfont",m,[P,b])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],y=this.files[1];p.addToCache();var m=p.cache.get(p.key),C=d(y.data,p.cache.getFrame(p.key),0,0,m);this.loader.cacheManager.bitmapFont.add(p.key,{data:C,texture:p.key,frame:null}),this.complete=!0}}});g.register("bitmapFont",function(p,y,m,C,T){var E;if(Array.isArray(p))for(var w=0;w<p.length;w++)E=new c(this,p[w]),this.addFile(E.files);else E=new c(this,p,y,m,C,T),this.addFile(E.files);return this}),n.exports=c},16024:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m){var C="css";if(o(p)){var T=p;p=l(T,"key"),y=l(T,"url"),m=l(T,"xhrSettings"),C=l(T,"extension",C)}var E={type:"script",cache:!1,extension:C,responseType:"text",key:p,url:y,xhrSettings:m};u.call(this,c,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(v,c,p){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,c,p));return this}),n.exports=d},69559:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(38734),g=s(85722),u=s(83419),h=s(74099),l=s(95540),o=s(19550),d=s(41212),v=s(518),c=s(31403),p=s(46975),y=s(59327),m=s(26430),C=s(82038),T=s(55222),E=new u({Extends:m,initialize:function(P,b,M,A){if(M.multiAtlasURL){var R=new v(P,{key:b,url:M.multiAtlasURL,xhrSettings:A,config:M});m.call(this,P,"texture",b,[R])}else{var L=M.textureURL.substr(M.textureURL.length-3);M.type||(M.type=L.toLowerCase()==="ktx"?"KTX":"PVR");var O=new g(P,{key:b,url:M.textureURL,extension:L,xhrSettings:A,config:M});if(M.atlasURL){var D=new v(P,{key:b,url:M.atlasURL,xhrSettings:A,config:M});m.call(this,P,"texture",b,[O,D])}else m.call(this,P,"texture",b,[O])}this.config=M},onFileComplete:function(w){var P=this.files.indexOf(w);if(P!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(w.type==="json"&&w.data.hasOwnProperty("textures")){var b=w.data.textures,M=this.config,A=this.loader,R=A.baseURL,L=A.path,O=A.prefix,D=l(M,"multiBaseURL",this.baseURL),I=l(M,"multiPath",this.path),B=l(M,"prefix",this.prefix),G=l(M,"textureXhrSettings");D&&A.setBaseURL(D),I&&A.setPath(I),B&&A.setPrefix(B);for(var z=0;z<b.length;z++){var Y=b[z].image,H="CMA"+this.multiKeyIndex+"_"+Y,k=new g(A,H,Y,G);if(this.addToMultiFile(k),A.addFile(k),b[z].normalMap){var U=new g(A,H,b[z].normalMap,G);U.type="normalMap",k.setLink(U),this.addToMultiFile(U),A.addFile(U)}}A.setBaseURL(R),A.setPath(L),A.setPrefix(O)}}},addToCache:function(){function w(D){console.warn('Compressed Texture Invalid: "'+R.key+'". '+D)}if(this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var b=this.loader.systems.renderer,M=this.loader.textureManager,A,R=this.files[0],L=this.files[1];if(P.type==="PVR"?A=C(R.data):P.type==="KTX"&&(A=c(R.data),A||w("KTX file contains unsupported format.")),A&&!T(A)&&(w("Texture dimensions failed verification. Check the texture format specifications for "+P.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!b.supportsCompressedTexture(P.format,A.internalFormat)&&(w("Texture format "+P.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=b.getCompressedTextureName(P.format,A.internalFormat);var O=L&&L.data?L.data:null;M.addCompressedTexture(R.key,A,O)}}this.complete=!0}},addMultiToCache:function(){for(var w=this.config,P=this.files[0],b=[],M=[],A=[],R=this.loader.systems.renderer,L=this.loader.textureManager,O,D=1;D<this.files.length;D++){var I=this.files[D];if(I.type!=="normalMap")for(var B=I.key.indexOf("_"),G=I.key.substr(B+1),z=I.data,Y=0;Y<P.data.textures.length;Y++){var H=P.data.textures[Y];if(H.image===G){w.type==="PVR"?O=C(z):w.type==="KTX"&&(O=c(z)),O&&R.supportsCompressedTexture(w.format,O.internalFormat)&&(O.format=R.getCompressedTextureName(w.format,O.internalFormat),M.push(O),b.push(H),I.linkFile&&A.push(I.linkFile.data));break}}}A.length===0&&(A=void 0),L.addAtlasJSONArray(this.key,M,b,A),this.complete=!0}});h.register("texture",function(w,P,b){var M=this.systems.renderer,A=function(L,O,D,I){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(O)){var G=O;O=l(G,"key"),D=l(G,"url"),I=l(G,"xhrSettings")}var z=!1;for(var Y in D)if(M.supportsCompressedTexture(Y)){var H=D[Y];typeof H=="string"?B.textureURL=H:B=p(H,B),B.format=Y.toUpperCase(),z=!0;break}if(!z)console.warn("No supported compressed texture format or IMG fallback",O);else if(B.format==="IMG"){var k,U;B.multiAtlasURL?(U=new y(L,O,B.multiAtlasURL,B.multiPath,B.multiBaseURL,I),k=U.files):B.atlasURL?(U=new a(L,O,B.textureURL,B.atlasURL,I),k=U.files):k=new o(L,O,B.textureURL,I),L.addFile(k)}else{var F=new E(L,O,B,I);L.addFile(F.files)}};if(Array.isArray(w))for(var R=0;R<w.length;R++)A(this,w[R]);else A(this,w,P,b);return this}),n.exports=E},47931:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=s(73894),v=new a({Extends:u,initialize:function(p,y,m,C,T){var E="glsl";if(o(y)){var w=y;y=l(w,"key"),m=l(w,"url"),C=l(w,"shaderType","fragment"),T=l(w,"xhrSettings"),E=l(w,"extension",E)}else C===void 0&&(C="fragment");var P={type:"glsl",cache:p.cacheManager.shader,extension:E,responseType:"text",key:y,url:m,config:{shaderType:C},xhrSettings:T};u.call(this,p,P)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.split(`
`),p=this.extractBlock(c,0);if(p)for(;p;){var y=this.getShaderName(p.header),m=this.getShaderType(p.header),C=this.getShaderUniforms(p.header),T=p.shader;if(this.cache.has(y)){var E=this.cache.get(y);m==="fragment"?E.fragmentSrc=T:E.vertexSrc=T,E.uniforms||(E.uniforms=C)}else m==="fragment"?this.cache.add(y,new d(y,T,"",C)):this.cache.add(y,new d(y,"",T,C));p=this.extractBlock(c,p.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(c){for(var p=0;p<c.length;p++){var y=c[p].trim();if(y.substring(0,5)==="name:")return y.substring(5).trim()}return this.key},getShaderType:function(c){for(var p=0;p<c.length;p++){var y=c[p].trim();if(y.substring(0,5)==="type:")return y.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(c){for(var p={},y=0;y<c.length;y++){var m=c[y].trim();if(m.substring(0,8)==="uniform."){var C=m.indexOf(":");if(C){var T=m.substring(8,C);try{p[T]=JSON.parse(m.substring(C+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return p},extractBlock:function(c,p){for(var y=-1,m=-1,C=-1,T=!1,E=!1,w=[],P=[],b=p;b<c.length;b++){var M=c[b].trim();if(M==="---")if(y===-1)y=b,T=!0;else if(T)m=b,T=!1,E=!0;else{E=!1;break}else T?w.push(M):E&&(P.push(M),C=b)}return!T&&m!==-1?{header:w,shader:P.join(`
`),offset:C}:null}});h.register("glsl",function(c,p,y,m){if(Array.isArray(c))for(var C=0;C<c.length;C++)this.addFile(new v(this,c[C]));else this.addFile(new v(this,c,p,y,m));return this}),n.exports=v},89749:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(54899),u=s(41299),h=s(95540),l=s(98356),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m){if(o(p)){var C=p;p=h(C,"key"),m=h(C,"config",m)}var T={type:"audio",cache:c.cacheManager.audio,extension:y.type,key:p,url:y.url,config:m};u.call(this,c,T),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var v=0;v<this.data.length;v++){var c=this.data[v];c.oncanplaythrough=null,c.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(v){var c=v.target;c.oncanplaythrough=null,c.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(g.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var v=this.config&&this.config.instances||1;this.filesTotal=v,this.filesLoaded=0,this.percentComplete=0;for(var c=0;c<v;c++){var p=new Audio;p.dataset||(p.dataset={}),p.dataset.name=this.key+("0"+c).slice(-2),p.dataset.used="false",this.locked?p.dataset.locked="true":(p.dataset.locked="false",p.preload="auto",p.oncanplaythrough=this.onProgress.bind(this),p.onerror=this.onError.bind(this)),this.data.push(p)}for(c=0;c<this.data.length;c++)p=this.data[c],p.src=l(this,this.loader.baseURL),this.locked||p.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=d},88470:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m){var C="html";if(o(p)){var T=p;p=l(T,"key"),y=l(T,"url"),m=l(T,"xhrSettings"),C=l(T,"extension",C)}var E={type:"text",cache:c.cacheManager.html,extension:C,responseType:"text",key:p,url:y,xhrSettings:m};u.call(this,c,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(v,c,p){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,c,p));return this}),n.exports=d},14643:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m,C,T){m===void 0&&(m=512),C===void 0&&(C=512);var E="html";if(o(p)){var w=p;p=l(w,"key"),y=l(w,"url"),T=l(w,"xhrSettings"),E=l(w,"extension",E),m=l(w,"width",m),C=l(w,"height",C)}var P={type:"html",cache:c.textureManager,extension:E,responseType:"text",key:p,url:y,xhrSettings:T,config:{width:m,height:C}};u.call(this,c,P)},onProcess:function(){this.state=g.FILE_PROCESSING;var v=this.config.width,c=this.config.height,p=[];p.push('<svg width="'+v+'px" height="'+c+'px" viewBox="0 0 '+v+" "+c+'" xmlns="http://www.w3.org/2000/svg">'),p.push('<foreignObject width="100%" height="100%">'),p.push('<body xmlns="http://www.w3.org/1999/xhtml">'),p.push(this.xhrLoader.responseText),p.push("</body>"),p.push("</foreignObject>"),p.push("</svg>");var y=[p.join(`
`)],m=this;try{var C=new window.Blob(y,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=g.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){u.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){u.revokeObjectURL(m.data),m.onProcessError()},u.createObjectURL(this.data,C,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(v,c,p,y,m){if(Array.isArray(v))for(var C=0;C<v.length;C++)this.addFile(new d(this,v[C]));else this.addFile(new d(this,v,c,p,y,m));return this}),n.exports=d},19550:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=s(98356),v=new a({Extends:u,initialize:function c(p,y,m,C,T){var E="png",w;if(o(y)){var P=y;y=l(P,"key"),m=l(P,"url"),w=l(P,"normalMap"),C=l(P,"xhrSettings"),E=l(P,"extension",E),T=l(P,"frameConfig")}Array.isArray(m)&&(w=m[1],m=m[0]);var b={type:"image",cache:p.textureManager,extension:E,responseType:"blob",key:y,url:m,xhrSettings:C,config:T};if(u.call(this,p,b),w){var M=new c(p,this.key,w,C,T);M.type="normalMap",this.setLink(M),p.addFile(M)}this.useImageElementLoad=p.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var c=this;this.data.onload=function(){u.revokeObjectURL(c.data),c.onProcessComplete()},this.data.onerror=function(){u.revokeObjectURL(c.data),c.onProcessError()},u.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var c=this.state;this.state=g.FILE_PROCESSING,c===g.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=g.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var c=this;this.data.onload=function(){c.state=g.FILE_LOADED,c.loader.nextFile(c,!0)},this.data.onerror=function(){c.loader.nextFile(c,!1)},this.data.src=this.src},addToCache:function(){var c=this.linkFile;c?c.state>=g.FILE_COMPLETE&&(c.type==="spritesheet"?c.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,c.data,this.data):this.cache.addImage(this.key,this.data,c.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(c,p,y){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new v(this,c[m]));else this.addFile(new v(this,c,p,y));return this}),n.exports=v},518:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(35154),d=s(41212),v=new a({Extends:u,initialize:function(p,y,m,C,T){var E="json";if(d(y)){var w=y;y=l(w,"key"),m=l(w,"url"),C=l(w,"xhrSettings"),E=l(w,"extension",E),T=l(w,"dataKey",T)}var P={type:"json",cache:p.cacheManager.json,extension:E,responseType:"text",key:y,url:m,xhrSettings:C,config:T};u.call(this,p,P),d(m)&&(T?this.data=o(m,T):this.data=m,this.state=g.FILE_POPULATED)},onProcess:function(){if(this.state!==g.FILE_POPULATED){this.state=g.FILE_PROCESSING;try{var c=JSON.parse(this.xhrLoader.responseText)}catch(y){throw this.onProcessError(),y}var p=this.config;typeof p=="string"?this.data=o(c,p,c):this.data=c}this.onProcessComplete()}});h.register("json",function(c,p,y,m){if(Array.isArray(c))for(var C=0;C<c.length;C++)this.addFile(new v(this,c[C]));else this.addFile(new v(this,c,p,m,y));return this}),n.exports=v},59327:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(19550),l=s(41212),o=s(518),d=s(26430),v=new a({Extends:d,initialize:function(p,y,m,C,T,E,w){if(l(y)){var P=y;y=u(P,"key"),u(P,"url",!1)?m=u(P,"url"):m=u(P,"atlasURL"),E=u(P,"xhrSettings"),C=u(P,"path"),T=u(P,"baseURL"),w=u(P,"textureXhrSettings")}var b=new o(p,y,m,E);d.call(this,p,"multiatlas",y,[b]),this.config.path=C,this.config.baseURL=T,this.config.textureXhrSettings=w},onFileComplete:function(c){var p=this.files.indexOf(c);if(p!==-1&&(this.pending--,c.type==="json"&&c.data.hasOwnProperty("textures"))){var y=c.data.textures,m=this.config,C=this.loader,T=C.baseURL,E=C.path,w=C.prefix,P=u(m,"baseURL",this.baseURL),b=u(m,"path",this.path),M=u(m,"prefix",this.prefix),A=u(m,"textureXhrSettings");C.setBaseURL(P),C.setPath(b),C.setPrefix(M);for(var R=0;R<y.length;R++){var L=y[R].image,O="MA"+this.multiKeyIndex+"_"+L,D=new h(C,O,L,A);if(this.addToMultiFile(D),C.addFile(D),y[R].normalMap){var I=new h(C,O,y[R].normalMap,A);I.type="normalMap",D.setLink(I),this.addToMultiFile(I),C.addFile(I)}}C.setBaseURL(T),C.setPath(E),C.setPrefix(w)}},addToCache:function(){if(this.isReadyToProcess()){for(var c=this.files[0],p=[],y=[],m=[],C=1;C<this.files.length;C++){var T=this.files[C];if(T.type!=="normalMap")for(var E=T.key.indexOf("_"),w=T.key.substr(E+1),P=T.data,b=0;b<c.data.textures.length;b++){var M=c.data.textures[b];if(M.image===w){y.push(P),p.push(M),T.linkFile&&m.push(T.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,y,p,m),this.complete=!0}}});g.register("multiatlas",function(c,p,y,m,C){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new v(this,c[E]),this.addFile(T.files);else T=new v(this,c,p,y,m,C),this.addFile(T.files);return this}),n.exports=v},99297:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(41212),l=s(26430),o=s(34328),d=new a({Extends:l,initialize:function(c,p,y,m){var C="js",T=[];if(h(p)){var E=p;p=u(E,"key"),y=u(E,"url"),m=u(E,"xhrSettings"),C=u(E,"extension",C)}Array.isArray(y)||(y=[y]);for(var w=0;w<y.length;w++){var P=new o(c,{key:p+"_"+w.toString(),url:y[w],extension:C,xhrSettings:m});P.onProcess=function(){this.onProcessComplete()},T.push(P)}l.call(this,c,"scripts",p,T)},addToCache:function(){if(this.isReadyToProcess()){for(var v=0;v<this.files.length;v++){var c=this.files[v];c.data=document.createElement("script"),c.data.language="javascript",c.data.type="text/javascript",c.data.defer=!1,c.data.text=c.xhrLoader.responseText,document.head.appendChild(c.data)}this.complete=!0}}});g.register("scripts",function(v,c,p){var y;if(Array.isArray(v))for(var m=0;m<v.length;m++)y=new d(this,v[m]),this.addFile(y.files);else y=new d(this,v,c,p),this.addFile(y.files);return this}),n.exports=d},41846:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(41212),l=s(26430),o=s(85048),d=s(61485),v=s(78776),c=new a({Extends:l,initialize:function(y,m,C,T,E,w){var P,b,M=y.cacheManager.obj;if(h(m)){var A=m;m=u(A,"key"),P=new v(y,{key:m,type:"obj",cache:M,url:u(A,"url"),extension:u(A,"extension","obj"),xhrSettings:u(A,"xhrSettings"),config:{flipUV:u(A,"flipUV",E)}}),T=u(A,"matURL"),T&&(b=new v(y,{key:m,type:"mat",cache:M,url:T,extension:u(A,"matExtension","mat"),xhrSettings:u(A,"xhrSettings")}))}else P=new v(y,{key:m,url:C,type:"obj",cache:M,extension:"obj",xhrSettings:w,config:{flipUV:E}}),T&&(b=new v(y,{key:m,url:T,type:"mat",cache:M,extension:"mat",xhrSettings:w}));l.call(this,y,"obj",m,[P,b])},addToCache:function(){if(this.isReadyToProcess()){var p=this.files[0],y=this.files[1],m=o(p.data,p.config.flipUV);y&&(m.materials=d(y.data)),p.cache.add(p.key,m),this.complete=!0}}});g.register("obj",function(p,y,m,C,T){var E;if(Array.isArray(p))for(var w=0;w<p.length;w++)E=new c(this,p[w]),this.addFile(E.files);else E=new c(this,p,y,m,C,T),this.addFile(E.files);return this}),n.exports=c},58610:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(74099),h=s(518),l=new a({Extends:h,initialize:function(d,v,c,p,y){h.call(this,d,v,c,p,y),this.type="packfile"},onProcess:function(){if(this.state!==g.FILE_POPULATED&&(this.state=g.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var o={};o[this.config]=this.data,this.data=o}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});u.register("pack",function(o,d,v,c){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,d,c,v));return this}),n.exports=l},48988:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m,C,T){var E="js";if(o(p)){var w=p;p=l(w,"key"),y=l(w,"url"),T=l(w,"xhrSettings"),E=l(w,"extension",E),m=l(w,"start"),C=l(w,"mapping")}var P={type:"plugin",cache:!1,extension:E,responseType:"text",key:p,url:y,xhrSettings:T,config:{start:m,mapping:C}};u.call(this,c,P),typeof y=="function"&&(this.data=y,this.state=g.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,c=this.config,p=l(c,"start",!1),y=l(c,"mapping",null);if(this.state===g.FILE_POPULATED)v.install(this.key,this.data,p,y);else{this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=v.install(this.key,window[this.key],p,y);(p||y)&&(this.loader.systems[y]=m,this.loader.scene[y]=m)}this.onProcessComplete()}});h.register("plugin",function(v,c,p,y,m){if(Array.isArray(v))for(var C=0;C<v.length;C++)this.addFile(new d(this,v[C]));else this.addFile(new d(this,v,c,p,y,m));return this}),n.exports=d},67397:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m,C){var T="svg";if(o(p)){var E=p;p=l(E,"key"),y=l(E,"url"),m=l(E,"svgConfig",{}),C=l(E,"xhrSettings"),T=l(E,"extension",T)}var w={type:"svg",cache:c.textureManager,extension:T,responseType:"text",key:p,url:y,xhrSettings:C,config:{width:l(m,"width"),height:l(m,"height"),scale:l(m,"scale")}};u.call(this,c,w)},onProcess:function(){this.state=g.FILE_PROCESSING;var v=this.xhrLoader.responseText,c=[v],p=this.config.width,y=this.config.height,m=this.config.scale;t:if(p&&y||m){var C=null,T=new DOMParser;C=T.parseFromString(v,"text/xml");var E=C.getElementsByTagName("svg")[0],w=E.hasAttribute("viewBox"),P=parseFloat(E.getAttribute("width")),b=parseFloat(E.getAttribute("height"));if(!w&&P&&b)E.setAttribute("viewBox","0  0 "+P+" "+b);else if(w&&!P&&!b){var M=E.getAttribute("viewBox").split(/\s+|,/);P=M[2],b=M[3]}if(m)if(P&&b)p=P*m,y=b*m;else break t;E.setAttribute("width",p.toString()+"px"),E.setAttribute("height",y.toString()+"px"),c=[new XMLSerializer().serializeToString(E)]}try{var A=new window.Blob(c,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var R=this,L=!1;this.data.onload=function(){L||u.revokeObjectURL(R.data),R.onProcessComplete()},this.data.onerror=function(){L?R.onProcessError():(L=!0,u.revokeObjectURL(R.data),R.data.src="data:image/svg+xml,"+encodeURIComponent(c.join("")))},u.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(v,c,p,y){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,c,p,y));return this}),n.exports=d},88423:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m){var C="js";if(o(p)){var T=p;p=l(T,"key"),y=l(T,"url"),m=l(T,"xhrSettings"),C=l(T,"extension",C)}var E={type:"text",extension:C,responseType:"text",key:p,url:y,xhrSettings:m};u.call(this,c,E)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var v=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),c=eval;this.loader.sceneManager.add(this.key,c(v)),this.complete=!0}});h.register("sceneFile",function(v,c,p){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,c,p));return this}),n.exports=d},56812:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m,C,T){var E="js";if(o(p)){var w=p;p=l(w,"key"),y=l(w,"url"),T=l(w,"xhrSettings"),E=l(w,"extension",E),m=l(w,"systemKey"),C=l(w,"sceneKey")}var P={type:"scenePlugin",cache:!1,extension:E,responseType:"text",key:p,url:y,xhrSettings:T,config:{systemKey:m,sceneKey:C}};u.call(this,c,P),typeof y=="function"&&(this.data=y,this.state=g.FILE_POPULATED)},onProcess:function(){var v=this.loader.systems.plugins,c=this.config,p=this.key,y=l(c,"systemKey",p),m=l(c,"sceneKey",p);this.state===g.FILE_POPULATED?v.installScenePlugin(y,this.data,m,this.loader.scene,!0):(this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),v.installScenePlugin(y,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(v,c,p,y,m){if(Array.isArray(v))for(var C=0;C<v.length;C++)this.addFile(new d(this,v[C]));else this.addFile(new d(this,v,c,p,y,m));return this}),n.exports=d},34328:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m,C){var T="js";if(o(p)){var E=p;p=l(E,"key"),y=l(E,"url"),m=l(E,"type","script"),C=l(E,"xhrSettings"),T=l(E,"extension",T)}else m===void 0&&(m="script");var w={type:m,cache:!1,extension:T,responseType:"text",key:p,url:y,xhrSettings:C};u.call(this,c,w)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(v,c,p,y){if(Array.isArray(v))for(var m=0;m<v.length;m++)this.addFile(new d(this,v[m]));else this.addFile(new d(this,v,c,p,y));return this}),n.exports=d},85035:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(74099),h=s(19550),l=new a({Extends:h,initialize:function(d,v,c,p,y){h.call(this,d,v,c,y,p),this.type="spritesheet"},addToCache:function(){var o=this.linkFile;o?o.state>=g.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,o.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,o.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});u.register("spritesheet",function(o,d,v,c){if(Array.isArray(o))for(var p=0;p<o.length;p++)this.addFile(new l(this,o[p]));else this.addFile(new l(this,o,d,v,c));return this}),n.exports=l},78776:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=new a({Extends:u,initialize:function(c,p,y,m){var C="text",T="txt",E=c.cacheManager.text;if(o(p)){var w=p;p=l(w,"key"),y=l(w,"url"),m=l(w,"xhrSettings"),T=l(w,"extension",T),C=l(w,"type",C),E=l(w,"cache",E)}var P={type:C,cache:E,extension:T,responseType:"text",key:p,url:y,xhrSettings:m};u.call(this,c,P)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(v,c,p){if(Array.isArray(v))for(var y=0;y<v.length;y++)this.addFile(new d(this,v[y]));else this.addFile(new d(this,v,c,p));return this}),n.exports=d},49477:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=s(80341),v=new a({Extends:u,initialize:function(p,y,m,C){var T="csv";if(o(y)){var E=y;y=l(E,"key"),m=l(E,"url"),C=l(E,"xhrSettings"),T=l(E,"extension",T)}var w={type:"tilemapCSV",cache:p.cacheManager.tilemap,extension:T,responseType:"text",key:y,url:m,xhrSettings:C};u.call(this,p,w),this.tilemapFormat=d.CSV},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,c)}});h.register("tilemapCSV",function(c,p,y){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new v(this,c[m]));else this.addFile(new v(this,c,p,y));return this}),n.exports=v},40807:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(518),h=s(80341),l=new a({Extends:u,initialize:function(d,v,c,p){u.call(this,d,v,c,p),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var o={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,o)}});g.register("tilemapImpact",function(o,d,v){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new l(this,o[c]));else this.addFile(new l(this,o,d,v));return this}),n.exports=l},56775:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(518),h=s(80341),l=new a({Extends:u,initialize:function(d,v,c,p){u.call(this,d,v,c,p),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var o={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,o)}});g.register("tilemapTiledJSON",function(o,d,v){if(Array.isArray(o))for(var c=0;c<o.length;c++)this.addFile(new l(this,o[c]));else this.addFile(new l(this,o,d,v));return this}),n.exports=l},25771:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(74099),u=s(95540),h=s(19550),l=s(41212),o=s(26430),d=s(78776),v=new a({Extends:o,initialize:function(p,y,m,C,T,E){var w,P;if(l(y)){var b=y;y=u(b,"key"),w=new h(p,{key:y,url:u(b,"textureURL"),extension:u(b,"textureExtension","png"),normalMap:u(b,"normalMap"),xhrSettings:u(b,"textureXhrSettings")}),P=new d(p,{key:y,url:u(b,"atlasURL"),extension:u(b,"atlasExtension","txt"),xhrSettings:u(b,"atlasXhrSettings")})}else w=new h(p,y,m,T),P=new d(p,y,C,E);w.linkFile?o.call(this,p,"unityatlas",y,[w,P,w.linkFile]):o.call(this,p,"unityatlas",y,[w,P])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],p=this.files[1],y=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(c.key,c.data,p.data,y),this.complete=!0}}});g.register("unityAtlas",function(c,p,y,m,C){var T;if(Array.isArray(c))for(var E=0;E<c.length;E++)T=new v(this,c[E]),this.addFile(T.files);else T=new v(this,c,p,y,m,C),this.addFile(T.files);return this}),n.exports=v},33720:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(98356),o=s(95540),d=s(41212),v=new a({Extends:u,initialize:function(p,y,m,C){if(C===void 0&&(C=!1),d(y)){var T=y;y=o(T,"key"),m=o(T,"url",[]),C=o(T,"noAudio",!1)}var E=p.systems.game.device.video.getVideoURL(m);E||console.warn("VideoFile: No supported format for "+y);var w={type:"video",cache:p.cacheManager.video,extension:E.type,key:y,url:E.url,config:{noAudio:C}};u.call(this,p,w)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=g.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(c,p,y){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new v(this,c[m]));else this.addFile(new v(this,c,p,y));return this}),n.exports=v},57318:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(23906),u=s(41299),h=s(74099),l=s(95540),o=s(41212),d=s(56836),v=new a({Extends:u,initialize:function(p,y,m,C){var T="xml";if(o(y)){var E=y;y=l(E,"key"),m=l(E,"url"),C=l(E,"xhrSettings"),T=l(E,"extension",T)}var w={type:"xml",cache:p.cacheManager.xml,extension:T,responseType:"text",key:y,url:m,xhrSettings:C};u.call(this,p,w)},onProcess:function(){this.state=g.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(c,p,y){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new v(this,c[m]));else this.addFile(new v(this,c,p,y));return this}),n.exports=v},64589:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:s(14135),AsepriteFile:s(76272),AtlasJSONFile:s(38734),AtlasXMLFile:s(74599),AudioFile:s(21097),AudioSpriteFile:s(89524),BinaryFile:s(85722),BitmapFontFile:s(97025),CompressedTextureFile:s(69559),CSSFile:s(16024),GLSLFile:s(47931),HTML5AudioFile:s(89749),HTMLFile:s(88470),HTMLTextureFile:s(14643),ImageFile:s(19550),JSONFile:s(518),MultiAtlasFile:s(59327),MultiScriptFile:s(99297),OBJFile:s(41846),PackFile:s(58610),PluginFile:s(48988),SceneFile:s(88423),ScenePluginFile:s(56812),ScriptFile:s(34328),SpriteSheetFile:s(85035),SVGFile:s(67397),TextFile:s(78776),TilemapCSVFile:s(49477),TilemapImpactFile:s(40807),TilemapJSONFile:s(56775),UnityAtlasFile:s(25771),VideoFile:s(33720),XMLFile:s(57318)}},57777:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23906),g=s(79291),u={Events:s(54899),FileTypes:s(64589),File:s(41299),FileTypesManager:s(74099),GetURL:s(98356),LoaderPlugin:s(74261),MergeXHRSettings:s(3374),MultiFile:s(26430),XHRLoader:s(84376),XHRSettings:s(92638)};u=g(!1,u,a),n.exports=u},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=0,g=0;g<s.length;g++)a+=+s[g];return a/s.length};n.exports=x},85710:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6411),g=function(u,h){return a(u)/a(h)/a(u-h)};n.exports=g},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.floor(Math.random()*(a-s+1)+s)};n.exports=x},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){var l=(u-a)*.5,o=(h-g)*.5,d=s*s,v=s*d;return(2*g-2*u+l+o)*v+(-3*g+3*u-2*l-o)*d+l*s+g};n.exports=x},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var u=Math.pow(g,-a);return Math.ceil(s*u)/u};n.exports=x},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.max(a,Math.min(g,s))};n.exports=x},39506:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(u){return u*a.DEG_TO_RAD};n.exports=g},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.abs(s-a)};n.exports=x},38857:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(37867),h=s(29747),l=new u,o=new g({initialize:function d(v,c,p,y){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y=d.DefaultOrder),this._x=v,this._y=c,this._z=p,this._order=y,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,v,c,p){return p===void 0&&(p=this._order),this._x=d,this._y=v,this._z=c,this._order=p,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,v,c){return v===void 0&&(v=this._order),c===void 0&&(c=!1),l.fromQuat(d),this.setFromRotationMatrix(l,v,c)},setFromRotationMatrix:function(d,v,c){v===void 0&&(v=this._order),c===void 0&&(c=!1);var p=d.val,y=p[0],m=p[4],C=p[8],T=p[1],E=p[5],w=p[9],P=p[2],b=p[6],M=p[10],A=0,R=0,L=0,O=.99999;switch(v){case"XYZ":{R=Math.asin(a(C,-1,1)),Math.abs(C)<O?(A=Math.atan2(-w,M),L=Math.atan2(-m,y)):A=Math.atan2(b,E);break}case"YXZ":{A=Math.asin(-a(w,-1,1)),Math.abs(w)<O?(R=Math.atan2(C,M),L=Math.atan2(T,E)):R=Math.atan2(-P,y);break}case"ZXY":{A=Math.asin(a(b,-1,1)),Math.abs(b)<O?(R=Math.atan2(-P,M),L=Math.atan2(-m,E)):L=Math.atan2(T,y);break}case"ZYX":{R=Math.asin(-a(P,-1,1)),Math.abs(P)<O?(A=Math.atan2(b,M),L=Math.atan2(T,y)):L=Math.atan2(-m,E);break}case"YZX":{L=Math.asin(a(T,-1,1)),Math.abs(T)<O?(A=Math.atan2(-w,E),R=Math.atan2(-P,y)):R=Math.atan2(C,M);break}case"XZY":{L=Math.asin(-a(m,-1,1)),Math.abs(m)<O?(A=Math.atan2(b,E),R=Math.atan2(C,y)):A=Math.atan2(-w,M);break}}return this._x=A,this._y=R,this._z=L,this._order=v,c&&this.onChangeCallback(this),this}});o.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],o.DefaultOrder="XYZ",n.exports=o},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(s===0)return 1;for(var a=s;--s;)a*=s;return a};n.exports=x},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.random()*(a-s)+s};n.exports=x},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var u=Math.pow(g,-a);return Math.floor(s*u)/u};n.exports=x},62945:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=function(u,h,l){return u=a(u,0,1),(l-h)*u+h};n.exports=g},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s/a/1e3};n.exports=x},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s==parseFloat(s)?!(s%2):void 0};n.exports=x},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===parseFloat(s)?!(s%2):void 0};n.exports=x},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return(a-s)*g+s};n.exports=x},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=0),s.clone().lerp(a,g)};n.exports=x},94434:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new g(this)},set:function(u){return this.copy(u)},copy:function(u){var h=this.val,l=u.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=l[6],h[7]=l[7],h[8]=l[8],this},fromMat4:function(u){var h=u.val,l=this.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[4],l[4]=h[5],l[5]=h[6],l[6]=h[8],l[7]=h[9],l[8]=h[10],this},fromArray:function(u){var h=this.val;return h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[8]=u[8],this},identity:function(){var u=this.val;return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=1,u[5]=0,u[6]=0,u[7]=0,u[8]=1,this},transpose:function(){var u=this.val,h=u[1],l=u[2],o=u[5];return u[1]=u[3],u[2]=u[6],u[3]=h,u[5]=u[7],u[6]=l,u[7]=o,this},invert:function(){var u=this.val,h=u[0],l=u[1],o=u[2],d=u[3],v=u[4],c=u[5],p=u[6],y=u[7],m=u[8],C=m*v-c*y,T=-m*d+c*p,E=y*d-v*p,w=h*C+l*T+o*E;return w?(w=1/w,u[0]=C*w,u[1]=(-m*l+o*y)*w,u[2]=(c*l-o*v)*w,u[3]=T*w,u[4]=(m*h-o*p)*w,u[5]=(-c*h+o*d)*w,u[6]=E*w,u[7]=(-y*h+l*p)*w,u[8]=(v*h-l*d)*w,this):null},adjoint:function(){var u=this.val,h=u[0],l=u[1],o=u[2],d=u[3],v=u[4],c=u[5],p=u[6],y=u[7],m=u[8];return u[0]=v*m-c*y,u[1]=o*y-l*m,u[2]=l*c-o*v,u[3]=c*p-d*m,u[4]=h*m-o*p,u[5]=o*d-h*c,u[6]=d*y-v*p,u[7]=l*p-h*y,u[8]=h*v-l*d,this},determinant:function(){var u=this.val,h=u[0],l=u[1],o=u[2],d=u[3],v=u[4],c=u[5],p=u[6],y=u[7],m=u[8];return h*(m*v-c*y)+l*(-m*d+c*p)+o*(y*d-v*p)},multiply:function(u){var h=this.val,l=h[0],o=h[1],d=h[2],v=h[3],c=h[4],p=h[5],y=h[6],m=h[7],C=h[8],T=u.val,E=T[0],w=T[1],P=T[2],b=T[3],M=T[4],A=T[5],R=T[6],L=T[7],O=T[8];return h[0]=E*l+w*v+P*y,h[1]=E*o+w*c+P*m,h[2]=E*d+w*p+P*C,h[3]=b*l+M*v+A*y,h[4]=b*o+M*c+A*m,h[5]=b*d+M*p+A*C,h[6]=R*l+L*v+O*y,h[7]=R*o+L*c+O*m,h[8]=R*d+L*p+O*C,this},translate:function(u){var h=this.val,l=u.x,o=u.y;return h[6]=l*h[0]+o*h[3]+h[6],h[7]=l*h[1]+o*h[4]+h[7],h[8]=l*h[2]+o*h[5]+h[8],this},rotate:function(u){var h=this.val,l=h[0],o=h[1],d=h[2],v=h[3],c=h[4],p=h[5],y=Math.sin(u),m=Math.cos(u);return h[0]=m*l+y*v,h[1]=m*o+y*c,h[2]=m*d+y*p,h[3]=m*v-y*l,h[4]=m*c-y*o,h[5]=m*p-y*d,this},scale:function(u){var h=this.val,l=u.x,o=u.y;return h[0]=l*h[0],h[1]=l*h[1],h[2]=l*h[2],h[3]=o*h[3],h[4]=o*h[4],h[5]=o*h[5],this},fromQuat:function(u){var h=u.x,l=u.y,o=u.z,d=u.w,v=h+h,c=l+l,p=o+o,y=h*v,m=h*c,C=h*p,T=l*c,E=l*p,w=o*p,P=d*v,b=d*c,M=d*p,A=this.val;return A[0]=1-(T+w),A[3]=m+M,A[6]=C-b,A[1]=m-M,A[4]=1-(y+w),A[7]=E+P,A[2]=C+b,A[5]=E-P,A[8]=1-(y+T),this},normalFromMat4:function(u){var h=u.val,l=this.val,o=h[0],d=h[1],v=h[2],c=h[3],p=h[4],y=h[5],m=h[6],C=h[7],T=h[8],E=h[9],w=h[10],P=h[11],b=h[12],M=h[13],A=h[14],R=h[15],L=o*y-d*p,O=o*m-v*p,D=o*C-c*p,I=d*m-v*y,B=d*C-c*y,G=v*C-c*m,z=T*M-E*b,Y=T*A-w*b,H=T*R-P*b,k=E*A-w*M,U=E*R-P*M,F=w*R-P*A,N=L*F-O*U+D*k+I*H-B*Y+G*z;return N?(N=1/N,l[0]=(y*F-m*U+C*k)*N,l[1]=(m*H-p*F-C*Y)*N,l[2]=(p*U-y*H+C*z)*N,l[3]=(v*U-d*F-c*k)*N,l[4]=(o*F-v*H+c*Y)*N,l[5]=(d*H-o*U-c*z)*N,l[6]=(M*G-A*B+R*I)*N,l[7]=(A*D-b*G-R*O)*N,l[8]=(b*B-M*D+R*L)*N,this):null}});n.exports=g},37867:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(25836),u=1e-6,h=new a({initialize:function(y){this.val=new Float32Array(16),y?this.copy(y):this.identity()},clone:function(){return new h(this)},set:function(p){return this.copy(p)},setValues:function(p,y,m,C,T,E,w,P,b,M,A,R,L,O,D,I){var B=this.val;return B[0]=p,B[1]=y,B[2]=m,B[3]=C,B[4]=T,B[5]=E,B[6]=w,B[7]=P,B[8]=b,B[9]=M,B[10]=A,B[11]=R,B[12]=L,B[13]=O,B[14]=D,B[15]=I,this},copy:function(p){var y=p.val;return this.setValues(y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7],y[8],y[9],y[10],y[11],y[12],y[13],y[14],y[15])},fromArray:function(p){return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(p,y,m){var C=l.fromQuat(m),T=C.val,E=y.x,w=y.y,P=y.z;return this.setValues(T[0]*E,T[1]*E,T[2]*E,0,T[4]*w,T[5]*w,T[6]*w,0,T[8]*P,T[9]*P,T[10]*P,0,p.x,p.y,p.z,1)},xyz:function(p,y,m){this.identity();var C=this.val;return C[12]=p,C[13]=y,C[14]=m,this},scaling:function(p,y,m){this.zero();var C=this.val;return C[0]=p,C[5]=y,C[10]=m,C[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var p=this.val,y=p[1],m=p[2],C=p[3],T=p[6],E=p[7],w=p[11];return p[1]=p[4],p[2]=p[8],p[3]=p[12],p[4]=y,p[6]=p[9],p[7]=p[13],p[8]=m,p[9]=T,p[11]=p[14],p[12]=C,p[13]=E,p[14]=w,this},getInverse:function(p){return this.copy(p),this.invert()},invert:function(){var p=this.val,y=p[0],m=p[1],C=p[2],T=p[3],E=p[4],w=p[5],P=p[6],b=p[7],M=p[8],A=p[9],R=p[10],L=p[11],O=p[12],D=p[13],I=p[14],B=p[15],G=y*w-m*E,z=y*P-C*E,Y=y*b-T*E,H=m*P-C*w,k=m*b-T*w,U=C*b-T*P,F=M*D-A*O,N=M*I-R*O,V=M*B-L*O,$=A*I-R*D,X=A*B-L*D,j=R*B-L*I,Q=G*j-z*X+Y*$+H*V-k*N+U*F;return Q?(Q=1/Q,this.setValues((w*j-P*X+b*$)*Q,(C*X-m*j-T*$)*Q,(D*U-I*k+B*H)*Q,(R*k-A*U-L*H)*Q,(P*V-E*j-b*N)*Q,(y*j-C*V+T*N)*Q,(I*Y-O*U-B*z)*Q,(M*U-R*Y+L*z)*Q,(E*X-w*V+b*F)*Q,(m*V-y*X-T*F)*Q,(O*k-D*Y+B*G)*Q,(A*Y-M*k-L*G)*Q,(w*N-E*$-P*F)*Q,(y*$-m*N+C*F)*Q,(D*z-O*H-I*G)*Q,(M*H-A*z+R*G)*Q)):this},adjoint:function(){var p=this.val,y=p[0],m=p[1],C=p[2],T=p[3],E=p[4],w=p[5],P=p[6],b=p[7],M=p[8],A=p[9],R=p[10],L=p[11],O=p[12],D=p[13],I=p[14],B=p[15];return this.setValues(w*(R*B-L*I)-A*(P*B-b*I)+D*(P*L-b*R),-(m*(R*B-L*I)-A*(C*B-T*I)+D*(C*L-T*R)),m*(P*B-b*I)-w*(C*B-T*I)+D*(C*b-T*P),-(m*(P*L-b*R)-w*(C*L-T*R)+A*(C*b-T*P)),-(E*(R*B-L*I)-M*(P*B-b*I)+O*(P*L-b*R)),y*(R*B-L*I)-M*(C*B-T*I)+O*(C*L-T*R),-(y*(P*B-b*I)-E*(C*B-T*I)+O*(C*b-T*P)),y*(P*L-b*R)-E*(C*L-T*R)+M*(C*b-T*P),E*(A*B-L*D)-M*(w*B-b*D)+O*(w*L-b*A),-(y*(A*B-L*D)-M*(m*B-T*D)+O*(m*L-T*A)),y*(w*B-b*D)-E*(m*B-T*D)+O*(m*b-T*w),-(y*(w*L-b*A)-E*(m*L-T*A)+M*(m*b-T*w)),-(E*(A*I-R*D)-M*(w*I-P*D)+O*(w*R-P*A)),y*(A*I-R*D)-M*(m*I-C*D)+O*(m*R-C*A),-(y*(w*I-P*D)-E*(m*I-C*D)+O*(m*P-C*w)),y*(w*R-P*A)-E*(m*R-C*A)+M*(m*P-C*w))},determinant:function(){var p=this.val,y=p[0],m=p[1],C=p[2],T=p[3],E=p[4],w=p[5],P=p[6],b=p[7],M=p[8],A=p[9],R=p[10],L=p[11],O=p[12],D=p[13],I=p[14],B=p[15],G=y*w-m*E,z=y*P-C*E,Y=y*b-T*E,H=m*P-C*w,k=m*b-T*w,U=C*b-T*P,F=M*D-A*O,N=M*I-R*O,V=M*B-L*O,$=A*I-R*D,X=A*B-L*D,j=R*B-L*I;return G*j-z*X+Y*$+H*V-k*N+U*F},multiply:function(p){var y=this.val,m=y[0],C=y[1],T=y[2],E=y[3],w=y[4],P=y[5],b=y[6],M=y[7],A=y[8],R=y[9],L=y[10],O=y[11],D=y[12],I=y[13],B=y[14],G=y[15],z=p.val,Y=z[0],H=z[1],k=z[2],U=z[3];return y[0]=Y*m+H*w+k*A+U*D,y[1]=Y*C+H*P+k*R+U*I,y[2]=Y*T+H*b+k*L+U*B,y[3]=Y*E+H*M+k*O+U*G,Y=z[4],H=z[5],k=z[6],U=z[7],y[4]=Y*m+H*w+k*A+U*D,y[5]=Y*C+H*P+k*R+U*I,y[6]=Y*T+H*b+k*L+U*B,y[7]=Y*E+H*M+k*O+U*G,Y=z[8],H=z[9],k=z[10],U=z[11],y[8]=Y*m+H*w+k*A+U*D,y[9]=Y*C+H*P+k*R+U*I,y[10]=Y*T+H*b+k*L+U*B,y[11]=Y*E+H*M+k*O+U*G,Y=z[12],H=z[13],k=z[14],U=z[15],y[12]=Y*m+H*w+k*A+U*D,y[13]=Y*C+H*P+k*R+U*I,y[14]=Y*T+H*b+k*L+U*B,y[15]=Y*E+H*M+k*O+U*G,this},multiplyLocal:function(p){var y=this.val,m=p.val;return this.setValues(y[0]*m[0]+y[1]*m[4]+y[2]*m[8]+y[3]*m[12],y[0]*m[1]+y[1]*m[5]+y[2]*m[9]+y[3]*m[13],y[0]*m[2]+y[1]*m[6]+y[2]*m[10]+y[3]*m[14],y[0]*m[3]+y[1]*m[7]+y[2]*m[11]+y[3]*m[15],y[4]*m[0]+y[5]*m[4]+y[6]*m[8]+y[7]*m[12],y[4]*m[1]+y[5]*m[5]+y[6]*m[9]+y[7]*m[13],y[4]*m[2]+y[5]*m[6]+y[6]*m[10]+y[7]*m[14],y[4]*m[3]+y[5]*m[7]+y[6]*m[11]+y[7]*m[15],y[8]*m[0]+y[9]*m[4]+y[10]*m[8]+y[11]*m[12],y[8]*m[1]+y[9]*m[5]+y[10]*m[9]+y[11]*m[13],y[8]*m[2]+y[9]*m[6]+y[10]*m[10]+y[11]*m[14],y[8]*m[3]+y[9]*m[7]+y[10]*m[11]+y[11]*m[15],y[12]*m[0]+y[13]*m[4]+y[14]*m[8]+y[15]*m[12],y[12]*m[1]+y[13]*m[5]+y[14]*m[9]+y[15]*m[13],y[12]*m[2]+y[13]*m[6]+y[14]*m[10]+y[15]*m[14],y[12]*m[3]+y[13]*m[7]+y[14]*m[11]+y[15]*m[15])},premultiply:function(p){return this.multiplyMatrices(p,this)},multiplyMatrices:function(p,y){var m=p.val,C=y.val,T=m[0],E=m[4],w=m[8],P=m[12],b=m[1],M=m[5],A=m[9],R=m[13],L=m[2],O=m[6],D=m[10],I=m[14],B=m[3],G=m[7],z=m[11],Y=m[15],H=C[0],k=C[4],U=C[8],F=C[12],N=C[1],V=C[5],$=C[9],X=C[13],j=C[2],Q=C[6],K=C[10],q=C[14],tt=C[3],st=C[7],nt=C[11],rt=C[15];return this.setValues(T*H+E*N+w*j+P*tt,b*H+M*N+A*j+R*tt,L*H+O*N+D*j+I*tt,B*H+G*N+z*j+Y*tt,T*k+E*V+w*Q+P*st,b*k+M*V+A*Q+R*st,L*k+O*V+D*Q+I*st,B*k+G*V+z*Q+Y*st,T*U+E*$+w*K+P*nt,b*U+M*$+A*K+R*nt,L*U+O*$+D*K+I*nt,B*U+G*$+z*K+Y*nt,T*F+E*X+w*q+P*rt,b*F+M*X+A*q+R*rt,L*F+O*X+D*q+I*rt,B*F+G*X+z*q+Y*rt)},translate:function(p){return this.translateXYZ(p.x,p.y,p.z)},translateXYZ:function(p,y,m){var C=this.val;return C[12]=C[0]*p+C[4]*y+C[8]*m+C[12],C[13]=C[1]*p+C[5]*y+C[9]*m+C[13],C[14]=C[2]*p+C[6]*y+C[10]*m+C[14],C[15]=C[3]*p+C[7]*y+C[11]*m+C[15],this},scale:function(p){return this.scaleXYZ(p.x,p.y,p.z)},scaleXYZ:function(p,y,m){var C=this.val;return C[0]=C[0]*p,C[1]=C[1]*p,C[2]=C[2]*p,C[3]=C[3]*p,C[4]=C[4]*y,C[5]=C[5]*y,C[6]=C[6]*y,C[7]=C[7]*y,C[8]=C[8]*m,C[9]=C[9]*m,C[10]=C[10]*m,C[11]=C[11]*m,this},makeRotationAxis:function(p,y){var m=Math.cos(y),C=Math.sin(y),T=1-m,E=p.x,w=p.y,P=p.z,b=T*E,M=T*w;return this.setValues(b*E+m,b*w-C*P,b*P+C*w,0,b*w+C*P,M*w+m,M*P-C*E,0,b*P-C*w,M*P+C*E,T*P*P+m,0,0,0,0,1)},rotate:function(p,y){var m=this.val,C=y.x,T=y.y,E=y.z,w=Math.sqrt(C*C+T*T+E*E);if(Math.abs(w)<u)return this;w=1/w,C*=w,T*=w,E*=w;var P=Math.sin(p),b=Math.cos(p),M=1-b,A=m[0],R=m[1],L=m[2],O=m[3],D=m[4],I=m[5],B=m[6],G=m[7],z=m[8],Y=m[9],H=m[10],k=m[11],U=m[12],F=m[13],N=m[14],V=m[15],$=C*C*M+b,X=T*C*M+E*P,j=E*C*M-T*P,Q=C*T*M-E*P,K=T*T*M+b,q=E*T*M+C*P,tt=C*E*M+T*P,st=T*E*M-C*P,nt=E*E*M+b;return this.setValues(A*$+D*X+z*j,R*$+I*X+Y*j,L*$+B*X+H*j,O*$+G*X+k*j,A*Q+D*K+z*q,R*Q+I*K+Y*q,L*Q+B*K+H*q,O*Q+G*K+k*q,A*tt+D*st+z*nt,R*tt+I*st+Y*nt,L*tt+B*st+H*nt,O*tt+G*st+k*nt,U,F,N,V)},rotateX:function(p){var y=this.val,m=Math.sin(p),C=Math.cos(p),T=y[4],E=y[5],w=y[6],P=y[7],b=y[8],M=y[9],A=y[10],R=y[11];return y[4]=T*C+b*m,y[5]=E*C+M*m,y[6]=w*C+A*m,y[7]=P*C+R*m,y[8]=b*C-T*m,y[9]=M*C-E*m,y[10]=A*C-w*m,y[11]=R*C-P*m,this},rotateY:function(p){var y=this.val,m=Math.sin(p),C=Math.cos(p),T=y[0],E=y[1],w=y[2],P=y[3],b=y[8],M=y[9],A=y[10],R=y[11];return y[0]=T*C-b*m,y[1]=E*C-M*m,y[2]=w*C-A*m,y[3]=P*C-R*m,y[8]=T*m+b*C,y[9]=E*m+M*C,y[10]=w*m+A*C,y[11]=P*m+R*C,this},rotateZ:function(p){var y=this.val,m=Math.sin(p),C=Math.cos(p),T=y[0],E=y[1],w=y[2],P=y[3],b=y[4],M=y[5],A=y[6],R=y[7];return y[0]=T*C+b*m,y[1]=E*C+M*m,y[2]=w*C+A*m,y[3]=P*C+R*m,y[4]=b*C-T*m,y[5]=M*C-E*m,y[6]=A*C-w*m,y[7]=R*C-P*m,this},fromRotationTranslation:function(p,y){var m=p.x,C=p.y,T=p.z,E=p.w,w=m+m,P=C+C,b=T+T,M=m*w,A=m*P,R=m*b,L=C*P,O=C*b,D=T*b,I=E*w,B=E*P,G=E*b;return this.setValues(1-(L+D),A+G,R-B,0,A-G,1-(M+D),O+I,0,R+B,O-I,1-(M+L),0,y.x,y.y,y.z,1)},fromQuat:function(p){var y=p.x,m=p.y,C=p.z,T=p.w,E=y+y,w=m+m,P=C+C,b=y*E,M=y*w,A=y*P,R=m*w,L=m*P,O=C*P,D=T*E,I=T*w,B=T*P;return this.setValues(1-(R+O),M+B,A-I,0,M-B,1-(b+O),L+D,0,A+I,L-D,1-(b+R),0,0,0,0,1)},frustum:function(p,y,m,C,T,E){var w=1/(y-p),P=1/(C-m),b=1/(T-E);return this.setValues(T*2*w,0,0,0,0,T*2*P,0,0,(y+p)*w,(C+m)*P,(E+T)*b,-1,0,0,E*T*2*b,0)},perspective:function(p,y,m,C){var T=1/Math.tan(p/2),E=1/(m-C);return this.setValues(T/y,0,0,0,0,T,0,0,0,0,(C+m)*E,-1,0,0,2*C*m*E,0)},perspectiveLH:function(p,y,m,C){return this.setValues(2*m/p,0,0,0,0,2*m/y,0,0,0,0,-C/(m-C),1,0,0,m*C/(m-C),0)},ortho:function(p,y,m,C,T,E){var w=p-y,P=m-C,b=T-E;return w=w===0?w:1/w,P=P===0?P:1/P,b=b===0?b:1/b,this.setValues(-2*w,0,0,0,0,-2*P,0,0,0,0,2*b,0,(p+y)*w,(C+m)*P,(E+T)*b,1)},lookAtRH:function(p,y,m){var C=this.val;return c.subVectors(p,y),c.getLengthSquared()===0&&(c.z=1),c.normalize(),d.crossVectors(m,c),d.getLengthSquared()===0&&(Math.abs(m.z)===1?c.x+=1e-4:c.z+=1e-4,c.normalize(),d.crossVectors(m,c)),d.normalize(),v.crossVectors(c,d),C[0]=d.x,C[1]=d.y,C[2]=d.z,C[4]=v.x,C[5]=v.y,C[6]=v.z,C[8]=c.x,C[9]=c.y,C[10]=c.z,this},lookAt:function(p,y,m){var C=p.x,T=p.y,E=p.z,w=m.x,P=m.y,b=m.z,M=y.x,A=y.y,R=y.z;if(Math.abs(C-M)<u&&Math.abs(T-A)<u&&Math.abs(E-R)<u)return this.identity();var L=C-M,O=T-A,D=E-R,I=1/Math.sqrt(L*L+O*O+D*D);L*=I,O*=I,D*=I;var B=P*D-b*O,G=b*L-w*D,z=w*O-P*L;I=Math.sqrt(B*B+G*G+z*z),I?(I=1/I,B*=I,G*=I,z*=I):(B=0,G=0,z=0);var Y=O*z-D*G,H=D*B-L*z,k=L*G-O*B;return I=Math.sqrt(Y*Y+H*H+k*k),I?(I=1/I,Y*=I,H*=I,k*=I):(Y=0,H=0,k=0),this.setValues(B,Y,L,0,G,H,O,0,z,k,D,0,-(B*C+G*T+z*E),-(Y*C+H*T+k*E),-(L*C+O*T+D*E),1)},yawPitchRoll:function(p,y,m){this.zero(),l.zero(),o.zero();var C=this.val,T=l.val,E=o.val,w=Math.sin(m),P=Math.cos(m);return C[10]=1,C[15]=1,C[0]=P,C[1]=w,C[4]=-w,C[5]=P,w=Math.sin(y),P=Math.cos(y),T[0]=1,T[15]=1,T[5]=P,T[10]=P,T[9]=-w,T[6]=w,w=Math.sin(p),P=Math.cos(p),E[5]=1,E[15]=1,E[0]=P,E[2]=-w,E[8]=w,E[10]=P,this.multiplyLocal(l),this.multiplyLocal(o),this},setWorldMatrix:function(p,y,m,C,T){return this.yawPitchRoll(p.y,p.x,p.z),l.scaling(m.x,m.y,m.z),o.xyz(y.x,y.y,y.z),this.multiplyLocal(l),this.multiplyLocal(o),C&&this.multiplyLocal(C),T&&this.multiplyLocal(T),this},multiplyToMat4:function(p,y){var m=this.val,C=p.val,T=m[0],E=m[1],w=m[2],P=m[3],b=m[4],M=m[5],A=m[6],R=m[7],L=m[8],O=m[9],D=m[10],I=m[11],B=m[12],G=m[13],z=m[14],Y=m[15],H=C[0],k=C[1],U=C[2],F=C[3],N=C[4],V=C[5],$=C[6],X=C[7],j=C[8],Q=C[9],K=C[10],q=C[11],tt=C[12],st=C[13],nt=C[14],rt=C[15];return y.setValues(H*T+k*b+U*L+F*B,k*E+k*M+U*O+F*G,U*w+k*A+U*D+F*z,F*P+k*R+U*I+F*Y,N*T+V*b+$*L+X*B,N*E+V*M+$*O+X*G,N*w+V*A+$*D+X*z,N*P+V*R+$*I+X*Y,j*T+Q*b+K*L+q*B,j*E+Q*M+K*O+q*G,j*w+Q*A+K*D+q*z,j*P+Q*R+K*I+q*Y,tt*T+st*b+nt*L+rt*B,tt*E+st*M+nt*O+rt*G,tt*w+st*A+nt*D+rt*z,tt*P+st*R+nt*I+rt*Y)},fromRotationXYTranslation:function(p,y,m){var C=y.x,T=y.y,E=y.z,w=Math.sin(p.x),P=Math.cos(p.x),b=Math.sin(p.y),M=Math.cos(p.y),A=C,R=T,L=E,O=-w,D=0-O*b,I=0-P*b,B=O*M,G=P*M;return m||(A=M*C+b*E,R=D*C+P*T+B*E,L=I*C+w*T+G*E),this.setValues(M,D,I,0,0,P,w,0,b,B,G,0,A,R,L,1)},getMaxScaleOnAxis:function(){var p=this.val,y=p[0]*p[0]+p[1]*p[1]+p[2]*p[2],m=p[4]*p[4]+p[5]*p[5]+p[6]*p[6],C=p[8]*p[8]+p[9]*p[9]+p[10]*p[10];return Math.sqrt(Math.max(y,m,C))}}),l=new h,o=new h,d=new g,v=new g,c=new g;n.exports=h},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.min(s+a,g)};n.exports=x},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=s.length;if(a===0)return 0;s.sort(function(u,h){return u-h});var g=Math.floor(a/2);return a%2===0?(s[g]+s[g-1])/2:s[g]};n.exports=x},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.max(s-a,g)};n.exports=x},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){g===void 0&&(g=a+1);var h=(s-a)/(g-a);return h>1?u!==void 0?(h=(u-s)/(u-g),h<0&&(h=0)):h=1:h<0&&(h=0),h};n.exports=x},15746:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94434),u=s(29747),h=s(25836),l=1e-6,o=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),v=new h(1,0,0),c=new h(0,1,0),p=new h,y=new g,m=new a({initialize:function(T,E,w,P){this.onChangeCallback=u,this.set(T,E,w,P)},x:{get:function(){return this._x},set:function(C){this._x=C,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(C){this._y=C,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(C){this._z=C,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(C){this._w=C,this.onChangeCallback(this)}},copy:function(C){return this.set(C)},set:function(C,T,E,w,P){return P===void 0&&(P=!0),typeof C=="object"?(this._x=C.x||0,this._y=C.y||0,this._z=C.z||0,this._w=C.w||0):(this._x=C||0,this._y=T||0,this._z=E||0,this._w=w||0),P&&this.onChangeCallback(this),this},add:function(C){return this._x+=C.x,this._y+=C.y,this._z+=C.z,this._w+=C.w,this.onChangeCallback(this),this},subtract:function(C){return this._x-=C.x,this._y-=C.y,this._z-=C.z,this._w-=C.w,this.onChangeCallback(this),this},scale:function(C){return this._x*=C,this._y*=C,this._z*=C,this._w*=C,this.onChangeCallback(this),this},length:function(){var C=this.x,T=this.y,E=this.z,w=this.w;return Math.sqrt(C*C+T*T+E*E+w*w)},lengthSq:function(){var C=this.x,T=this.y,E=this.z,w=this.w;return C*C+T*T+E*E+w*w},normalize:function(){var C=this.x,T=this.y,E=this.z,w=this.w,P=C*C+T*T+E*E+w*w;return P>0&&(P=1/Math.sqrt(P),this._x=C*P,this._y=T*P,this._z=E*P,this._w=w*P),this.onChangeCallback(this),this},dot:function(C){return this.x*C.x+this.y*C.y+this.z*C.z+this.w*C.w},lerp:function(C,T){T===void 0&&(T=0);var E=this.x,w=this.y,P=this.z,b=this.w;return this.set(E+T*(C.x-E),w+T*(C.y-w),P+T*(C.z-P),b+T*(C.w-b))},rotationTo:function(C,T){var E=C.x*T.x+C.y*T.y+C.z*T.z;return E<-.999999?(p.copy(v).cross(C).length()<l&&p.copy(c).cross(C),p.normalize(),this.setAxisAngle(p,Math.PI)):E>.999999?this.set(0,0,0,1):(p.copy(C).cross(T),this._x=p.x,this._y=p.y,this._z=p.z,this._w=1+E,this.normalize())},setAxes:function(C,T,E){var w=y.val;return w[0]=T.x,w[3]=T.y,w[6]=T.z,w[1]=E.x,w[4]=E.y,w[7]=E.z,w[2]=-C.x,w[5]=-C.y,w[8]=-C.z,this.fromMat3(y).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(C,T){T=T*.5;var E=Math.sin(T);return this.set(E*C.x,E*C.y,E*C.z,Math.cos(T))},multiply:function(C){var T=this.x,E=this.y,w=this.z,P=this.w,b=C.x,M=C.y,A=C.z,R=C.w;return this.set(T*R+P*b+E*A-w*M,E*R+P*M+w*b-T*A,w*R+P*A+T*M-E*b,P*R-T*b-E*M-w*A)},slerp:function(C,T){var E=this.x,w=this.y,P=this.z,b=this.w,M=C.x,A=C.y,R=C.z,L=C.w,O=E*M+w*A+P*R+b*L;O<0&&(O=-O,M=-M,A=-A,R=-R,L=-L);var D=1-T,I=T;if(1-O>l){var B=Math.acos(O),G=Math.sin(B);D=Math.sin((1-T)*B)/G,I=Math.sin(T*B)/G}return this.set(D*E+I*M,D*w+I*A,D*P+I*R,D*b+I*L)},invert:function(){var C=this.x,T=this.y,E=this.z,w=this.w,P=C*C+T*T+E*E+w*w,b=P?1/P:0;return this.set(-C*b,-T*b,-E*b,w*b)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(C){C*=.5;var T=this.x,E=this.y,w=this.z,P=this.w,b=Math.sin(C),M=Math.cos(C);return this.set(T*M+P*b,E*M+w*b,w*M-E*b,P*M-T*b)},rotateY:function(C){C*=.5;var T=this.x,E=this.y,w=this.z,P=this.w,b=Math.sin(C),M=Math.cos(C);return this.set(T*M-w*b,E*M+P*b,w*M+T*b,P*M-E*b)},rotateZ:function(C){C*=.5;var T=this.x,E=this.y,w=this.z,P=this.w,b=Math.sin(C),M=Math.cos(C);return this.set(T*M+E*b,E*M-T*b,w*M+P*b,P*M-w*b)},calculateW:function(){var C=this.x,T=this.y,E=this.z;return this.w=-Math.sqrt(1-C*C-T*T-E*E),this},setFromEuler:function(C,T){var E=C.x/2,w=C.y/2,P=C.z/2,b=Math.cos(E),M=Math.cos(w),A=Math.cos(P),R=Math.sin(E),L=Math.sin(w),O=Math.sin(P);switch(C.order){case"XYZ":{this.set(R*M*A+b*L*O,b*L*A-R*M*O,b*M*O+R*L*A,b*M*A-R*L*O,T);break}case"YXZ":{this.set(R*M*A+b*L*O,b*L*A-R*M*O,b*M*O-R*L*A,b*M*A+R*L*O,T);break}case"ZXY":{this.set(R*M*A-b*L*O,b*L*A+R*M*O,b*M*O+R*L*A,b*M*A-R*L*O,T);break}case"ZYX":{this.set(R*M*A-b*L*O,b*L*A+R*M*O,b*M*O-R*L*A,b*M*A+R*L*O,T);break}case"YZX":{this.set(R*M*A+b*L*O,b*L*A+R*M*O,b*M*O-R*L*A,b*M*A-R*L*O,T);break}case"XZY":{this.set(R*M*A-b*L*O,b*L*A-R*M*O,b*M*O+R*L*A,b*M*A+R*L*O,T);break}}return this},setFromRotationMatrix:function(C){var T=C.val,E=T[0],w=T[4],P=T[8],b=T[1],M=T[5],A=T[9],R=T[2],L=T[6],O=T[10],D=E+M+O,I;return D>0?(I=.5/Math.sqrt(D+1),this.set((L-A)*I,(P-R)*I,(b-w)*I,.25/I)):E>M&&E>O?(I=2*Math.sqrt(1+E-M-O),this.set(.25*I,(w+b)/I,(P+R)/I,(L-A)/I)):M>O?(I=2*Math.sqrt(1+M-E-O),this.set((w+b)/I,.25*I,(A+L)/I,(P-R)/I)):(I=2*Math.sqrt(1+O-E-M),this.set((P+R)/I,(A+L)/I,.25*I,(b-w)/I)),this},fromMat3:function(C){var T=C.val,E=T[0]+T[4]+T[8],w;if(E>0)w=Math.sqrt(E+1),this.w=.5*w,w=.5/w,this._x=(T[7]-T[5])*w,this._y=(T[2]-T[6])*w,this._z=(T[3]-T[1])*w;else{var P=0;T[4]>T[0]&&(P=1),T[8]>T[P*3+P]&&(P=2);var b=o[P],M=o[b];w=Math.sqrt(T[P*3+P]-T[b*3+b]-T[M*3+M]+1),d[P]=.5*w,w=.5/w,d[b]=(T[b*3+P]+T[P*3+b])*w,d[M]=(T[M*3+P]+T[P*3+M])*w,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(T[M*3+b]-T[b*3+M])*w}return this.onChangeCallback(this),this}});n.exports=m},43396:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(u){return u*a.RAD_TO_DEG};n.exports=g},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI;return s.x=Math.cos(g)*a,s.y=Math.sin(g)*a,s};n.exports=x},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);var g=Math.random()*2*Math.PI,u=Math.random()*2-1,h=Math.sqrt(1-u*u)*a;return s.x=Math.cos(g)*h,s.y=Math.sin(g)*h,s.z=u*a,s};n.exports=x},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1),s.x=(Math.random()*2-1)*a,s.y=(Math.random()*2-1)*a,s.z=(Math.random()*2-1)*a,s.w=(Math.random()*2-1)*a,s};n.exports=x},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x,u=s.y;return s.x=g*Math.cos(a)-u*Math.sin(a),s.y=g*Math.sin(a)+u*Math.cos(a),s};n.exports=x},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=Math.cos(u),l=Math.sin(u),o=s.x-a,d=s.y-g;return s.x=o*h-d*l+a,s.y=o*l+d*h+g,s};n.exports=x},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){var l=u+Math.atan2(s.y-g,s.x-a);return s.x=a+h*Math.cos(l),s.y=g+h*Math.sin(l),s};n.exports=x},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){return s.x=a+h*Math.cos(u),s.y=g+h*Math.sin(u),s};n.exports=x},72678:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(25836),g=s(37867),u=s(15746),h=new g,l=new u,o=new a,d=function(v,c,p){return l.setAxisAngle(c,p),h.fromRotationTranslation(l,o.set(0,0,0)),v.transformMat4(h)};n.exports=d},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s>0?Math.ceil(s):Math.floor(s)};n.exports=x},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=10);var u=Math.pow(g,-a);return Math.round(s*u)/u};n.exports=x},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a===void 0&&(a=1),g===void 0&&(g=1),u===void 0&&(u=1),u*=Math.PI/s;for(var h=[],l=[],o=0;o<s;o++)g-=a*u,a+=g*u,h[o]=g,l[o]=a;return{sin:l,cos:h,length:s}};n.exports=x},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s<=a?0:s>=g?1:(s=(s-a)/(g-a),s*s*(3-2*s))};n.exports=x},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s=Math.max(0,Math.min(1,(s-a)/(g-a))),s*s*s*(s*(s*6-15)+10)};n.exports=x},44408:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o){o===void 0&&(o=new a);var d=0,v=0,c=h*l;return u>0&&u<=c&&(u>h-1?(v=Math.floor(u/h),d=u-v*h):d=u),o.set(d,v)};n.exports=g},85955:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d,v,c,p){p===void 0&&(p=new a);var y=Math.sin(d),m=Math.cos(d),C=m*v,T=y*v,E=-y*c,w=m*c,P=1/(C*w+E*-T);return p.x=w*P*u+-E*P*h+(o*E-l*w)*P,p.y=C*P*h+-T*P*u+(-o*C+l*T)*P,p};n.exports=g},26099:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(43855),u=new a({initialize:function(l,o){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(o===void 0&&(o=l),this.x=l||0,this.y=o||0)},clone:function(){return new u(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setTo:function(h,l){return this.set(h,l)},setToPolar:function(h,l){return l==null&&(l=1),this.x=Math.cos(h)*l,this.y=Math.sin(h)*l,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,l){return g(this.x,h.x,l)&&g(this.y,h.y,l)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var l=h.x-this.x,o=h.y-this.y;return Math.sqrt(l*l+o*o)},distanceSq:function(h){var l=h.x-this.x,o=h.y-this.y;return l*l+o*o},length:function(){var h=this.x,l=this.y;return Math.sqrt(h*h+l*l)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,l=this.y;return h*h+l*l},normalize:function(){var h=this.x,l=this.y,o=h*h+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=h*o,this.y=l*o),this},normalizeRightHand:function(){var h=this.x;return this.x=this.y*-1,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=h*-1,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,l){l===void 0&&(l=0);var o=this.x,d=this.y;return this.x=o+l*(h.x-o),this.y=d+l*(h.y-d),this},transformMat3:function(h){var l=this.x,o=this.y,d=h.val;return this.x=d[0]*l+d[3]*o+d[6],this.y=d[1]*l+d[4]*o+d[7],this},transformMat4:function(h){var l=this.x,o=this.y,d=h.val;return this.x=d[0]*l+d[4]*o+d[12],this.y=d[1]*l+d[5]*o+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var l=this.length();return l&&l>h&&this.scale(h/l),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var l=Math.cos(h),o=Math.sin(h);return this.set(l*this.x-o*this.y,o*this.x+l*this.y)},project:function(h){var l=this.dot(h)/h.dot(h);return this.copy(h).scale(l)}});u.ZERO=new u,u.RIGHT=new u(1,0),u.LEFT=new u(-1,0),u.UP=new u(0,-1),u.DOWN=new u(0,1),u.ONE=new u(1,1),n.exports=u},25836:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.x=0,this.y=0,this.z=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=l||0,this.z=o||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(u){return this.x=Math.min(this.x,u.x),this.y=Math.min(this.y,u.y),this.z=Math.min(this.z,u.z),this},max:function(u){return this.x=Math.max(this.x,u.x),this.y=Math.max(this.y,u.y),this.z=Math.max(this.z,u.z),this},clone:function(){return new g(this.x,this.y,this.z)},addVectors:function(u,h){return this.x=u.x+h.x,this.y=u.y+h.y,this.z=u.z+h.z,this},crossVectors:function(u,h){var l=u.x,o=u.y,d=u.z,v=h.x,c=h.y,p=h.z;return this.x=o*p-d*c,this.y=d*v-l*p,this.z=l*c-o*v,this},equals:function(u){return this.x===u.x&&this.y===u.y&&this.z===u.z},copy:function(u){return this.x=u.x,this.y=u.y,this.z=u.z||0,this},set:function(u,h,l){return typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=h||0,this.z=l||0),this},setFromMatrixPosition:function(u){return this.fromArray(u.val,12)},setFromMatrixColumn:function(u,h){return this.fromArray(u.val,h*4)},fromArray:function(u,h){return h===void 0&&(h=0),this.x=u[h],this.y=u[h+1],this.z=u[h+2],this},add:function(u){return this.x+=u.x,this.y+=u.y,this.z+=u.z||0,this},addScalar:function(u){return this.x+=u,this.y+=u,this.z+=u,this},addScale:function(u,h){return this.x+=u.x*h,this.y+=u.y*h,this.z+=u.z*h||0,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this.z-=u.z||0,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this.z*=u.z||1,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u,this.z*=u):(this.x=0,this.y=0,this.z=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this.z/=u.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(u){var h=u.x-this.x,l=u.y-this.y,o=u.z-this.z||0;return Math.sqrt(h*h+l*l+o*o)},distanceSq:function(u){var h=u.x-this.x,l=u.y-this.y,o=u.z-this.z||0;return h*h+l*l+o*o},length:function(){var u=this.x,h=this.y,l=this.z;return Math.sqrt(u*u+h*h+l*l)},lengthSq:function(){var u=this.x,h=this.y,l=this.z;return u*u+h*h+l*l},normalize:function(){var u=this.x,h=this.y,l=this.z,o=u*u+h*h+l*l;return o>0&&(o=1/Math.sqrt(o),this.x=u*o,this.y=h*o,this.z=l*o),this},dot:function(u){return this.x*u.x+this.y*u.y+this.z*u.z},cross:function(u){var h=this.x,l=this.y,o=this.z,d=u.x,v=u.y,c=u.z;return this.x=l*c-o*v,this.y=o*d-h*c,this.z=h*v-l*d,this},lerp:function(u,h){h===void 0&&(h=0);var l=this.x,o=this.y,d=this.z;return this.x=l+h*(u.x-l),this.y=o+h*(u.y-o),this.z=d+h*(u.z-d),this},applyMatrix3:function(u){var h=this.x,l=this.y,o=this.z,d=u.val;return this.x=d[0]*h+d[3]*l+d[6]*o,this.y=d[1]*h+d[4]*l+d[7]*o,this.z=d[2]*h+d[5]*l+d[8]*o,this},applyMatrix4:function(u){var h=this.x,l=this.y,o=this.z,d=u.val,v=1/(d[3]*h+d[7]*l+d[11]*o+d[15]);return this.x=(d[0]*h+d[4]*l+d[8]*o+d[12])*v,this.y=(d[1]*h+d[5]*l+d[9]*o+d[13])*v,this.z=(d[2]*h+d[6]*l+d[10]*o+d[14])*v,this},transformMat3:function(u){var h=this.x,l=this.y,o=this.z,d=u.val;return this.x=h*d[0]+l*d[3]+o*d[6],this.y=h*d[1]+l*d[4]+o*d[7],this.z=h*d[2]+l*d[5]+o*d[8],this},transformMat4:function(u){var h=this.x,l=this.y,o=this.z,d=u.val;return this.x=d[0]*h+d[4]*l+d[8]*o+d[12],this.y=d[1]*h+d[5]*l+d[9]*o+d[13],this.z=d[2]*h+d[6]*l+d[10]*o+d[14],this},transformCoordinates:function(u){var h=this.x,l=this.y,o=this.z,d=u.val,v=h*d[0]+l*d[4]+o*d[8]+d[12],c=h*d[1]+l*d[5]+o*d[9]+d[13],p=h*d[2]+l*d[6]+o*d[10]+d[14],y=h*d[3]+l*d[7]+o*d[11]+d[15];return this.x=v/y,this.y=c/y,this.z=p/y,this},transformQuat:function(u){var h=this.x,l=this.y,o=this.z,d=u.x,v=u.y,c=u.z,p=u.w,y=p*h+v*o-c*l,m=p*l+c*h-d*o,C=p*o+d*l-v*h,T=-d*h-v*l-c*o;return this.x=y*p+T*-d+m*-c-C*-v,this.y=m*p+T*-v+C*-d-y*-c,this.z=C*p+T*-c+y*-v-m*-d,this},project:function(u){var h=this.x,l=this.y,o=this.z,d=u.val,v=d[0],c=d[1],p=d[2],y=d[3],m=d[4],C=d[5],T=d[6],E=d[7],w=d[8],P=d[9],b=d[10],M=d[11],A=d[12],R=d[13],L=d[14],O=d[15],D=1/(h*y+l*E+o*M+O);return this.x=(h*v+l*m+o*w+A)*D,this.y=(h*c+l*C+o*P+R)*D,this.z=(h*p+l*T+o*b+L)*D,this},projectViewMatrix:function(u,h){return this.applyMatrix4(u).applyMatrix4(h)},unprojectViewMatrix:function(u,h){return this.applyMatrix4(u).applyMatrix4(h)},unproject:function(u,h){var l=u.x,o=u.y,d=u.z,v=u.w,c=this.x-l,p=v-this.y-1-o,y=this.z;return this.x=2*c/d-1,this.y=2*p/v-1,this.z=2*y-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});g.ZERO=new g,g.RIGHT=new g(1,0,0),g.LEFT=new g(-1,0,0),g.UP=new g(0,-1,0),g.DOWN=new g(0,1,0),g.FORWARD=new g(0,0,1),g.BACK=new g(0,0,-1),g.ONE=new g(1,1,1),n.exports=g},61369:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=l||0,this.z=o||0,this.w=d||0)},clone:function(){return new g(this.x,this.y,this.z,this.w)},copy:function(u){return this.x=u.x,this.y=u.y,this.z=u.z||0,this.w=u.w||0,this},equals:function(u){return this.x===u.x&&this.y===u.y&&this.z===u.z&&this.w===u.w},set:function(u,h,l,o){return typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=h||0,this.z=l||0,this.w=o||0),this},add:function(u){return this.x+=u.x,this.y+=u.y,this.z+=u.z||0,this.w+=u.w||0,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this.z-=u.z||0,this.w-=u.w||0,this},scale:function(u){return this.x*=u,this.y*=u,this.z*=u,this.w*=u,this},length:function(){var u=this.x,h=this.y,l=this.z,o=this.w;return Math.sqrt(u*u+h*h+l*l+o*o)},lengthSq:function(){var u=this.x,h=this.y,l=this.z,o=this.w;return u*u+h*h+l*l+o*o},normalize:function(){var u=this.x,h=this.y,l=this.z,o=this.w,d=u*u+h*h+l*l+o*o;return d>0&&(d=1/Math.sqrt(d),this.x=u*d,this.y=h*d,this.z=l*d,this.w=o*d),this},dot:function(u){return this.x*u.x+this.y*u.y+this.z*u.z+this.w*u.w},lerp:function(u,h){h===void 0&&(h=0);var l=this.x,o=this.y,d=this.z,v=this.w;return this.x=l+h*(u.x-l),this.y=o+h*(u.y-o),this.z=d+h*(u.z-d),this.w=v+h*(u.w-v),this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this.z*=u.z||1,this.w*=u.w||1,this},divide:function(u){return this.x/=u.x,this.y/=u.y,this.z/=u.z||1,this.w/=u.w||1,this},distance:function(u){var h=u.x-this.x,l=u.y-this.y,o=u.z-this.z||0,d=u.w-this.w||0;return Math.sqrt(h*h+l*l+o*o+d*d)},distanceSq:function(u){var h=u.x-this.x,l=u.y-this.y,o=u.z-this.z||0,d=u.w-this.w||0;return h*h+l*l+o*o+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(u){var h=this.x,l=this.y,o=this.z,d=this.w,v=u.val;return this.x=v[0]*h+v[4]*l+v[8]*o+v[12]*d,this.y=v[1]*h+v[5]*l+v[9]*o+v[13]*d,this.z=v[2]*h+v[6]*l+v[10]*o+v[14]*d,this.w=v[3]*h+v[7]*l+v[11]*o+v[15]*d,this},transformQuat:function(u){var h=this.x,l=this.y,o=this.z,d=u.x,v=u.y,c=u.z,p=u.w,y=p*h+v*o-c*l,m=p*l+c*h-d*o,C=p*o+d*l-v*h,T=-d*h-v*l-c*o;return this.x=y*p+T*-d+m*-c-C*-v,this.y=m*p+T*-v+C*-d-y*-c,this.z=C*p+T*-c+y*-v-m*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});g.prototype.sub=g.prototype.subtract,g.prototype.mul=g.prototype.multiply,g.prototype.div=g.prototype.divide,g.prototype.dist=g.prototype.distance,g.prototype.distSq=g.prototype.distanceSq,g.prototype.len=g.prototype.length,g.prototype.lenSq=g.prototype.lengthSq,n.exports=g},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return Math.abs(s-a)<=g};n.exports=x},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=g-a;return a+((s-a)%u+u)%u};n.exports=x},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return Math.atan2(u-a,g-s)};n.exports=x},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.atan2(a.y-s.y,a.x-s.x)};n.exports=x},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return Math.atan2(a.x-s.x,a.y-s.y)};n.exports=x},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return Math.atan2(g-s,u-a)};n.exports=x},1432:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(u){return u>Math.PI&&(u-=a.PI2),Math.abs(((u+a.TAU)%a.PI2-a.PI2)%a.PI2)};n.exports=g},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s=s%(2*Math.PI),s>=0?s:s+2*Math.PI};n.exports=x},53993:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99472),g=function(){return a(-Math.PI,Math.PI)};n.exports=g},86564:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(99472),g=function(){return a(-180,180)};n.exports=g},90154:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(12407),g=function(u){return a(u+Math.PI)};n.exports=g},48736:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=function(u,h,l){return l===void 0&&(l=.05),u===h||(Math.abs(h-u)<=l||Math.abs(h-u)>=a.PI2-l?u=h:(Math.abs(h-u)>Math.PI&&(h<u?h+=a.PI2:h-=a.PI2),h>u?u+=l:h<u&&(u-=l))),u};n.exports=g},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=a-s;if(g===0)return 0;var u=Math.floor((g- -180)/360);return g-u*360};n.exports=x},86554:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15994),g=function(u){return a(u,-Math.PI,Math.PI)};n.exports=g},30954:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15994),g=function(u){return a(u,-180,180)};n.exports=g},25588:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:s(31040),BetweenPoints:s(55495),BetweenPointsY:s(128),BetweenY:s(41273),CounterClockwise:s(1432),Normalize:s(12407),Random:s(53993),RandomDegrees:s(86564),Reverse:s(90154),RotateTo:s(48736),ShortestBetween:s(61430),Wrap:s(86554),WrapDegrees:s(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=x},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=s-g,l=a-u;return Math.sqrt(h*h+l*l)};n.exports=x},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x-a.x,u=s.y-a.y;return Math.sqrt(g*g+u*u)};n.exports=x},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.x-a.x,u=s.y-a.y;return g*g+u*u};n.exports=x},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return Math.max(Math.abs(s-g),Math.abs(a-u))};n.exports=x},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){return h===void 0&&(h=2),Math.sqrt(Math.pow(g-s,h)+Math.pow(u-a,h))};n.exports=x},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return Math.abs(s-g)+Math.abs(a-u)};n.exports=x},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=s-g,l=a-u;return h*h+l*l};n.exports=x},50994:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:s(20339),BetweenPoints:s(52816),BetweenPointsSquared:s(64559),Chebyshev:s(82340),Power:s(14390),Snake:s(2243),Squared:s(89774)}},62640:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54178),g=s(41521),u=s(79980),h=s(85433),l=s(99140),o=s(48857),d=s(81596),v=s(59133),c=s(98516),p=s(35248),y=s(82500),m=s(49752);n.exports={Power0:d,Power1:v.Out,Power2:h.Out,Power3:c.Out,Power4:p.Out,Linear:d,Quad:v.Out,Cubic:h.Out,Quart:c.Out,Quint:p.Out,Sine:y.Out,Expo:o.Out,Circ:u.Out,Elastic:l.Out,Back:a.Out,Bounce:g.Out,Stepped:m,"Quad.easeIn":v.In,"Cubic.easeIn":h.In,"Quart.easeIn":c.In,"Quint.easeIn":p.In,"Sine.easeIn":y.In,"Expo.easeIn":o.In,"Circ.easeIn":u.In,"Elastic.easeIn":l.In,"Back.easeIn":a.In,"Bounce.easeIn":g.In,"Quad.easeOut":v.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":c.Out,"Quint.easeOut":p.Out,"Sine.easeOut":y.Out,"Expo.easeOut":o.Out,"Circ.easeOut":u.Out,"Elastic.easeOut":l.Out,"Back.easeOut":a.Out,"Bounce.easeOut":g.Out,"Quad.easeInOut":v.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":c.InOut,"Quint.easeInOut":p.InOut,"Sine.easeInOut":y.InOut,"Expo.easeInOut":o.InOut,"Circ.easeInOut":u.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":g.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1.70158),s*s*((a+1)*s-a)};n.exports=x},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1.70158);var g=a*1.525;return(s*=2)<1?.5*(s*s*((g+1)*s-g)):.5*((s-=2)*s*((g+1)*s+g)+2)};n.exports=x},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1.70158),--s*s*((a+1)*s+a)+1};n.exports=x},54178:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(1639),Out:s(41286),InOut:s(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s=1-s,s<.36363636363636365?1-7.5625*s*s:s<.7272727272727273?1-(7.5625*(s-=.5454545454545454)*s+.75):s<.9090909090909091?1-(7.5625*(s-=.8181818181818182)*s+.9375):1-(7.5625*(s-=.9545454545454546)*s+.984375)};n.exports=x},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=!1;return s<.5?(s=1-s*2,a=!0):s=s*2-1,s<.36363636363636365?s=7.5625*s*s:s<.7272727272727273?s=7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?s=7.5625*(s-=.8181818181818182)*s+.9375:s=7.5625*(s-=.9545454545454546)*s+.984375,a?(1-s)*.5:s*.5+.5};n.exports=x},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s<.36363636363636365?7.5625*s*s:s<.7272727272727273?7.5625*(s-=.5454545454545454)*s+.75:s<.9090909090909091?7.5625*(s-=.8181818181818182)*s+.9375:7.5625*(s-=.9545454545454546)*s+.984375};n.exports=x},41521:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(59590),Out:s(69905),InOut:s(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 1-Math.sqrt(1-s*s)};n.exports=x},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1)};n.exports=x},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.sqrt(1- --s*s)};n.exports=x},79980:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(91861),Out:s(57512),InOut:s(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s*s};n.exports=x},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s*s:.5*((s-=2)*s*s+2)};n.exports=x},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return--s*s*s+1};n.exports=x},85433:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(51150),Out:s(35033),InOut:s(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),s===0)return 0;if(s===1)return 1;var u=g/4;return a<1?a=1:u=g*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(s-=1))*Math.sin((s-u)*(2*Math.PI)/g))};n.exports=x},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),s===0)return 0;if(s===1)return 1;var u=g/4;return a<1?a=1:u=g*Math.asin(1/a)/(2*Math.PI),(s*=2)<1?-.5*(a*Math.pow(2,10*(s-=1))*Math.sin((s-u)*(2*Math.PI)/g)):a*Math.pow(2,-10*(s-=1))*Math.sin((s-u)*(2*Math.PI)/g)*.5+1};n.exports=x},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===void 0&&(a=.1),g===void 0&&(g=.1),s===0)return 0;if(s===1)return 1;var u=g/4;return a<1?a=1:u=g*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*s)*Math.sin((s-u)*(2*Math.PI)/g)+1};n.exports=x},99140:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(69965),Out:s(7744),InOut:s(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return Math.pow(2,10*(s-1))-.001};n.exports=x},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*Math.pow(2,10*(s-1)):.5*(2-Math.pow(2,-10*(s-1)))};n.exports=x},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 1-Math.pow(2,-10*s)};n.exports=x},48857:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(24590),Out:s(89433),InOut:s(87844)}},48820:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:s(54178),Bounce:s(41521),Circular:s(79980),Cubic:s(85433),Elastic:s(99140),Expo:s(48857),Linear:s(81596),Quadratic:s(59133),Quartic:s(98516),Quintic:s(35248),Sine:s(82500),Stepped:s(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s};n.exports=x},81596:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=s(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s};n.exports=x},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s:-.5*(--s*(s-2)-1)};n.exports=x},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*(2-s)};n.exports=x},59133:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(34826),Out:s(92029),InOut:s(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s*s*s};n.exports=x},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2)};n.exports=x},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return 1- --s*s*s*s};n.exports=x},98516:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(64413),Out:s(45840),InOut:s(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s*s*s*s*s};n.exports=x},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return(s*=2)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2)};n.exports=x},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return--s*s*s*s*s+1};n.exports=x},35248:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(87745),Out:s(17868),InOut:s(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===0?0:s===1?1:1-Math.cos(s*Math.PI/2)};n.exports=x},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===0?0:s===1?1:.5*(1-Math.cos(Math.PI*s))};n.exports=x},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s===0?0:s===1?1:Math.sin(s*Math.PI/2)};n.exports=x},82500:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:s(80461),Out:s(52768),InOut:s(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1),s<=0?0:s>=1?1:((a*s|0)+1)*(1/a)};n.exports=x},49752:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=s(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1e-4),Math.ceil(s-a)};n.exports=x},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=1e-4),Math.abs(s-a)<g};n.exports=x},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a=1e-4),Math.floor(s+a)};n.exports=x},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=1e-4),s>a-g};n.exports=x},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return g===void 0&&(g=1e-4),s<a+g};n.exports=x},48379:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:s(75698),Equal:s(43855),Floor:s(25777),GreaterThan:s(5470),LessThan:s(94977)}},75508:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36383),g=s(79291),u={Angle:s(25588),Distance:s(50994),Easing:s(48820),Fuzzy:s(48379),Interpolation:s(38289),Pow2:s(49001),Snap:s(73697),RandomDataGenerator:s(28453),Average:s(53307),Bernstein:s(85710),Between:s(30976),CatmullRom:s(87842),CeilTo:s(26302),Clamp:s(45319),DegToRad:s(39506),Difference:s(61241),Euler:s(38857),Factorial:s(6411),FloatBetween:s(99472),FloorTo:s(77623),FromPercent:s(62945),GetSpeed:s(38265),IsEven:s(78702),IsEvenStrict:s(94883),Linear:s(28915),LinearXY:s(94908),MaxAdd:s(86883),Median:s(50040),MinSub:s(37204),Percent:s(65201),RadToDeg:s(43396),RandomXY:s(74362),RandomXYZ:s(60706),RandomXYZW:s(67421),Rotate:s(36305),RotateAround:s(11520),RotateAroundDistance:s(1163),RotateTo:s(70336),RoundAwayFromZero:s(2284),RoundTo:s(41013),SinCosTableGenerator:s(16922),SmootherStep:s(54261),SmoothStep:s(7602),ToXY:s(44408),TransformXY:s(85955),Within:s(60417),Wrap:s(15994),Vector2:s(26099),Vector3:s(25836),Vector4:s(61369),Matrix3:s(94434),Matrix4:s(37867),Quaternion:s(15746),RotateVec3:s(72678)};u=g(!1,u,a),n.exports=u},89318:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85710),g=function(u,h){for(var l=0,o=u.length-1,d=0;d<=o;d++)l+=Math.pow(1-h,o-d)*Math.pow(h,d)*u[d]*a(o,d);return l};n.exports=g},77259:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87842),g=function(u,h){var l=u.length-1,o=l*h,d=Math.floor(o);return u[0]===u[l]?(h<0&&(d=Math.floor(o=l*(1+h))),a(o-d,u[(d-1+l)%l],u[d],u[(d+1)%l],u[(d+2)%l])):h<0?u[0]-(a(-o,u[0],u[0],u[1],u[1])-u[0]):h>1?u[l]-(a(o-l,u[l],u[l],u[l-1],u[l-1])-u[l]):a(o-d,u[d?d-1:0],u[d],u[l<d+1?l:d+1],u[l<d+2?l:d+2])};n.exports=g},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(h,l){var o=1-h;return o*o*o*l}function s(h,l){var o=1-h;return 3*o*o*h*l}function a(h,l){return 3*(1-h)*h*h*l}function g(h,l){return h*h*h*l}var u=function(h,l,o,d,v){return x(h,l)+s(h,o)+a(h,d)+g(h,v)};n.exports=u},28392:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(28915),g=function(u,h){var l=u.length-1,o=l*h,d=Math.floor(o);return h<0?a(u[0],u[1],o):h>1?a(u[l],u[l-1],l-o):a(u[d],u[d+1>l?l:d+1],o-d)};n.exports=g},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(u,h){var l=1-u;return l*l*h}function s(u,h){return 2*(1-u)*u*h}function a(u,h){return u*u*h}var g=function(u,h,l,o){return x(u,h)+s(u,l)+a(u,o)};n.exports=g},47235:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7602),g=function(u,h,l){return h+(l-h)*a(u,0,1)};n.exports=g},50178:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(54261),g=function(u,h,l){return h+(l-h)*a(u,0,1)};n.exports=g},38289:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:s(89318),CatmullRom:s(77259),CubicBezier:s(36316),Linear:s(28392),QuadraticBezier:s(32112),SmoothStep:s(47235),SmootherStep:s(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=Math.log(s)/.6931471805599453;return 1<<Math.ceil(a)};n.exports=x},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s>0&&(s&s-1)===0&&a>0&&(a&a-1)===0};n.exports=x},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s>0&&(s&s-1)===0};n.exports=x},49001:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:s(98439),IsSize:s(50030),IsValue:s(81230)}},28453:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){h===void 0&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var u=2091639*this.s0+this.c*23283064365386963e-26;return this.c=u|0,this.s0=this.s1,this.s1=this.s2,this.s2=u-this.c,this.s2},hash:function(u){var h,l=this.n;u=u.toString();for(var o=0;o<u.length;o++)l+=u.charCodeAt(o),h=.02519603282416938*l,l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(u){typeof u=="string"?this.state(u):this.sow(u)},sow:function(u){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!u)for(var h=0;h<u.length&&u[h]!=null;h++){var l=u[h];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(u,h){return Math.floor(this.realInRange(0,h-u+1)+u)},between:function(u,h){return Math.floor(this.realInRange(0,h-u+1)+u)},realInRange:function(u,h){return this.frac()*(h-u)+u},normal:function(){return 1-2*this.frac()},uuid:function(){var u="",h="";for(h=u="";u++<36;h+=~u%5|u*3&4?(u^15?8^this.frac()*(u^20?16:4):4).toString(16):"-");return h},pick:function(u){return u[this.integerInRange(0,u.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(u){return u[~~(Math.pow(this.frac(),2)*(u.length-.5)+.5)]},timestamp:function(u,h){return this.realInRange(u||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(u){return typeof u=="string"&&u.match(/^!rnd/)&&(u=u.split(","),this.c=parseFloat(u[1]),this.s0=parseFloat(u[2]),this.s1=parseFloat(u[3]),this.s2=parseFloat(u[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(u){for(var h=u.length-1,l=h;l>0;l--){var o=Math.floor(this.frac()*(l+1)),d=u[o];u[o]=u[l],u[l]=d}return u}});n.exports=g},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return g===void 0&&(g=0),a===0?s:(s-=g,s=a*Math.ceil(s/a),u?(g+s)/a:g+s)};n.exports=x},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return g===void 0&&(g=0),a===0?s:(s-=g,s=a*Math.floor(s/a),u?(g+s)/a:g+s)};n.exports=x},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){return g===void 0&&(g=0),a===0?s:(s-=g,s=a*Math.round(s/a),u?(g+s)/a:g+s)};n.exports=x},73697:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:s(63448),Floor:s(56583),To:s(77720)}},85454:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */s(63595);var a=s(8054),g=s(79291),u={Actions:s(61061),Animations:s(60421),BlendModes:s(10312),Cache:s(83388),Cameras:s(26638),Core:s(42857),Class:s(83419),Create:s(15822),Curves:s(25410),Data:s(44965),Display:s(27460),DOM:s(84902),Events:s(93055),FX:s(66064),Game:s(50127),GameObjects:s(77856),Geom:s(55738),Input:s(14350),Loader:s(57777),Math:s(75508),Physics:s(44563),Plugins:s(18922),Renderer:s(36909),Scale:s(93364),ScaleModes:s(29795),Scene:s(97482),Scenes:s(62194),Structs:s(41392),Textures:s(27458),Tilemaps:s(62501),Time:s(90291),Tweens:s(43066),Utils:s(91799)};u.Sound=s(23717),u=g(!1,u,a),n.exports=u,s.g.Phaser=u},71289:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92209),u=s(88571),h=new a({Extends:u,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(o,d,v,c,p){u.call(this,o,d,v,c,p),this.body=null}});n.exports=h},86689:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(39506),u=s(20339),h=s(89774),l=s(66022),o=s(95540),d=s(46975),v=s(72441),c=s(47956),p=s(37277),y=s(44594),m=s(26099),C=s(82248),T=new a({initialize:function(w){this.scene=w,this.systems=w.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,w.sys.events.once(y.BOOT,this.boot,this),w.sys.events.on(y.START,this.start,this)},boot:function(){this.world=new C(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new C(this.scene,this.config),this.add=new l(this.world));var E=this.systems.events;o(this.config,"customUpdate",!1)||E.on(y.UPDATE,this.world.update,this.world),E.on(y.POST_UPDATE,this.world.postUpdate,this.world),E.once(y.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(y.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(y.UPDATE,this.world.update,this.world)},getConfig:function(){var E=this.systems.game.config.physics,w=this.systems.settings.physics,P=d(o(w,"arcade",{}),o(E,"arcade",{}));return P},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(E,w,P,b,M){return P===void 0&&(P=null),b===void 0&&(b=null),M===void 0&&(M=P),this.world.collideObjects(E,w,P,b,M,!0)},collide:function(E,w,P,b,M){return P===void 0&&(P=null),b===void 0&&(b=null),M===void 0&&(M=P),this.world.collideObjects(E,w,P,b,M,!1)},collideTiles:function(E,w,P,b,M){return this.world.collideTiles(E,w,P,b,M)},overlapTiles:function(E,w,P,b,M){return this.world.overlapTiles(E,w,P,b,M)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(E,w,P,b,M,A){b===void 0&&(b=60);var R=Math.atan2(P-E.y,w-E.x);return E.body.acceleration.setToPolar(R,b),M!==void 0&&A!==void 0&&E.body.maxVelocity.set(M,A),R},accelerateToObject:function(E,w,P,b,M){return this.accelerateTo(E,w.x,w.y,P,b,M)},closest:function(E,w){w||(w=this.world.bodies.entries);for(var P=Number.MAX_VALUE,b=null,M=E.x,A=E.y,R=w.length,L=0;L<R;L++){var O=w[L],D=O.body||O;if(!(E===O||E===D||E===D.gameObject||E===D.center)){var I=h(M,A,D.center.x,D.center.y);I<P&&(b=O,P=I)}}return b},furthest:function(E,w){w||(w=this.world.bodies.entries);for(var P=-1,b=null,M=E.x,A=E.y,R=w.length,L=0;L<R;L++){var O=w[L],D=O.body||O;if(!(E===O||E===D||E===D.gameObject||E===D.center)){var I=h(M,A,D.center.x,D.center.y);I>P&&(b=O,P=I)}}return b},moveTo:function(E,w,P,b,M){b===void 0&&(b=60),M===void 0&&(M=0);var A=Math.atan2(P-E.y,w-E.x);return M>0&&(b=u(E.x,E.y,w,P)/(M/1e3)),E.body.velocity.setToPolar(A,b),A},moveToObject:function(E,w,P,b){return this.moveTo(E,w.x,w.y,P,b)},velocityFromAngle:function(E,w,P){return w===void 0&&(w=60),P===void 0&&(P=new m),P.setToPolar(g(E),w)},velocityFromRotation:function(E,w,P){return w===void 0&&(w=60),P===void 0&&(P=new m),P.setToPolar(E,w)},overlapRect:function(E,w,P,b,M,A){return c(this.world,E,w,P,b,M,A)},overlapCirc:function(E,w,P,b,M){return v(this.world,E,w,P,b,M)},shutdown:function(){if(this.world){var E=this.systems.events;E.off(y.UPDATE,this.world.update,this.world),E.off(y.POST_UPDATE,this.world.postUpdate,this.world),E.off(y.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(y.START,this.start,this),this.scene=null,this.systems=null}});p.register("ArcadePhysics",T,"arcadePhysics"),n.exports=T},13759:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92209),u=s(68287),h=new a({Extends:u,Mixins:[g.Acceleration,g.Angular,g.Bounce,g.Collision,g.Debug,g.Drag,g.Enable,g.Friction,g.Gravity,g.Immovable,g.Mass,g.Pushable,g.Size,g.Velocity],initialize:function(o,d,v,c,p){u.call(this,o,d,v,c,p),this.body=null}});n.exports=h},37742:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(78389),u=s(37747),h=s(63012),l=s(43396),o=s(87841),d=s(37303),v=s(95829),c=s(26099),p=new a({Mixins:[g],initialize:function(m,C){var T=64,E=64,w={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=C!==void 0;P&&C.displayWidth&&(T=C.displayWidth,E=C.displayHeight),P||(C=w),this.world=m,this.gameObject=P?C:void 0,this.isBody=!0,this.transform={x:C.x,y:C.y,rotation:C.angle,scaleX:C.scaleX,scaleY:C.scaleY,displayOriginX:C.displayOriginX,displayOriginY:C.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c,this.position=new c(C.x-C.scaleX*C.displayOriginX,C.y-C.scaleY*C.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=C.angle,this.preRotation=C.angle,this.width=T,this.height=E,this.sourceWidth=T,this.sourceHeight=E,C.frame&&(this.sourceWidth=C.frame.realWidth,this.sourceHeight=C.frame.realHeight),this.halfWidth=Math.abs(T/2),this.halfHeight=Math.abs(E/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new c,this.newVelocity=new c,this.deltaMax=new c,this.acceleration=new c,this.allowDrag=!0,this.drag=new c,this.allowGravity=!0,this.gravity=new c,this.bounce=new c,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new c(1e4,1e4),this.maxSpeed=-1,this.friction=new c(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=u.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new c(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=v(!1),this.touching=v(!0),this.wasTouching=v(!0),this.blocked=v(!0),this.syncBounds=!1,this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=C.scaleX,this._sy=C.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new o,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var y=this.gameObject,m=this.transform;if(y.parentContainer){var C=y.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=C.tx,m.y=C.ty,m.rotation=l(C.rotation),m.scaleX=C.scaleX,m.scaleY=C.scaleY,m.displayOriginX=y.displayOriginX,m.displayOriginY=y.displayOriginY}else m.x=y.x,m.y=y.y,m.rotation=y.angle,m.scaleX=y.scaleX,m.scaleY=y.scaleY,m.displayOriginX=y.displayOriginX,m.displayOriginY=y.displayOriginY;var T=!1;if(this.syncBounds){var E=y.getBounds(this._bounds);this.width=E.width,this.height=E.height,T=!0}else{var w=Math.abs(m.scaleX),P=Math.abs(m.scaleY);(this._sx!==w||this._sy!==P)&&(this.width=this.sourceWidth*w,this.height=this.sourceHeight*P,this._sx=w,this._sy=P,T=!0)}T&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var y=this.transform;this.position.x=y.x+y.scaleX*(this.offset.x-y.displayOriginX),this.position.y=y.y+y.scaleY*(this.offset.y-y.displayOriginY),this.updateCenter()},resetFlags:function(y){y===void 0&&(y=!1);var m=this.wasTouching,C=this.touching,T=this.blocked;y?v(!0,m):(m.none=C.none,m.up=C.up,m.down=C.down,m.left=C.left,m.right=C.right),v(!0,C),v(!0,T),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(y,m){if(y&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var C=this.position;this.prev.x=C.x,this.prev.y=C.y,this.prevFrame.x=C.x,this.prevFrame.y=C.y}y&&this.update(m)},update:function(y){var m=this.prev,C=this.position,T=this.velocity;if(m.set(C.x,C.y),!this.moves){this._dx=C.x-m.x,this._dy=C.y-m.y;return}if(this.directControl){var E=this.autoFrame;T.set((C.x-E.x)/y,(C.y-E.y)/y),this.world.updateMotion(this,y),this._dx=C.x-E.x,this._dy=C.y-E.y}else this.world.updateMotion(this,y),this.newVelocity.set(T.x*y,T.y*y),C.add(this.newVelocity),this._dx=C.x-m.x,this._dy=C.y-m.y;var w=T.x,P=T.y;if(this.updateCenter(),this.angle=Math.atan2(P,w),this.speed=Math.sqrt(w*w+P*P),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var b=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,b.up,b.down,b.left,b.right)}},postUpdate:function(){var y=this.position,m=y.x-this.prevFrame.x,C=y.y-this.prevFrame.y,T=this.gameObject;if(this.moves){var E=this.deltaMax.x,w=this.deltaMax.y;E!==0&&m!==0&&(m<0&&m<-E?m=-E:m>0&&m>E&&(m=E)),w!==0&&C!==0&&(C<0&&C<-w?C=-w:C>0&&C>w&&(C=w)),T&&(T.x+=m,T.y+=C)}m<0?this.facing=u.FACING_LEFT:m>0&&(this.facing=u.FACING_RIGHT),C<0?this.facing=u.FACING_UP:C>0&&(this.facing=u.FACING_DOWN),this.allowRotation&&T&&(T.angle+=this.deltaZ()),this._tx=m,this._ty=C,this.autoFrame.set(y.x,y.y)},setBoundsRectangle:function(y){return this.customBoundsRectangle=y||this.world.bounds,this},checkWorldBounds:function(){var y=this.position,m=this.velocity,C=this.blocked,T=this.customBoundsRectangle,E=this.world.checkCollision,w=this.worldBounce?-this.worldBounce.x:-this.bounce.x,P=this.worldBounce?-this.worldBounce.y:-this.bounce.y,b=!1;return y.x<T.x&&E.left?(y.x=T.x,m.x*=w,C.left=!0,b=!0):this.right>T.right&&E.right&&(y.x=T.right-this.width,m.x*=w,C.right=!0,b=!0),y.y<T.y&&E.up?(y.y=T.y,m.y*=P,C.up=!0,b=!0):this.bottom>T.bottom&&E.down&&(y.y=T.bottom-this.height,m.y*=P,C.down=!0,b=!0),b&&(this.blocked.none=!1,this.updateCenter()),b},setOffset:function(y,m){return m===void 0&&(m=y),this.offset.set(y,m),this},setGameObject:function(y,m){return m===void 0&&(m=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=y,y.body&&(y.body=this),this.setSize(),this.world.add(this),this.enable=m,this},setSize:function(y,m,C){C===void 0&&(C=!0);var T=this.gameObject;if(T&&(!y&&T.frame&&(y=T.frame.realWidth),!m&&T.frame&&(m=T.frame.realHeight)),this.sourceWidth=y,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),C&&T&&T.getCenter){var E=(T.width-y)/2,w=(T.height-m)/2;this.offset.set(E,w)}return this.isCircle=!1,this.radius=0,this},setCircle:function(y,m,C){return m===void 0&&(m=this.offset.x),C===void 0&&(C=this.offset.y),y>0?(this.isCircle=!0,this.radius=y,this.sourceWidth=y*2,this.sourceHeight=y*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,C),this.updateCenter()):this.isCircle=!1,this},reset:function(y,m){this.stop();var C=this.gameObject;C&&(C.setPosition(y,m),this.rotation=C.angle,this.preRotation=C.angle);var T=this.position;C&&C.getTopLeft?C.getTopLeft(T):T.set(y,m),this.prev.copy(T),this.prevFrame.copy(T),this.autoFrame.copy(T),C&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(y){return y.x=this.x,y.y=this.y,y.right=this.right,y.bottom=this.bottom,y},hitTest:function(y,m){if(!this.isCircle)return d(this,y,m);if(this.radius>0&&y>=this.left&&y<=this.right&&m>=this.top&&m<=this.bottom){var C=(this.center.x-y)*(this.center.x-y),T=(this.center.y-m)*(this.center.y-m);return C+T<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(y){var m=this.position,C=m.x+this.halfWidth,T=m.y+this.halfHeight;this.debugShowBody&&(y.lineStyle(y.defaultStrokeWidth,this.debugBodyColor),this.isCircle?y.strokeCircle(C,T,this.width/2):(this.checkCollision.up&&y.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&y.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&y.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&y.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(y.lineStyle(y.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),y.lineBetween(C,T,C+this.velocity.x/2,T+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(y){return y===void 0&&(y=!0),this.directControl=y,this},setCollideWorldBounds:function(y,m,C,T){y===void 0&&(y=!0),this.collideWorldBounds=y;var E=m!==void 0,w=C!==void 0;return(E||w)&&(this.worldBounce||(this.worldBounce=new c),E&&(this.worldBounce.x=m),w&&(this.worldBounce.y=C)),T!==void 0&&(this.onWorldBounds=T),this},setVelocity:function(y,m){return this.velocity.set(y,m),y=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(y*y+m*m),this},setVelocityX:function(y){return this.setVelocity(y,this.velocity.y)},setVelocityY:function(y){return this.setVelocity(this.velocity.x,y)},setMaxVelocity:function(y,m){return this.maxVelocity.set(y,m),this},setMaxVelocityX:function(y){return this.maxVelocity.x=y,this},setMaxVelocityY:function(y){return this.maxVelocity.y=y,this},setMaxSpeed:function(y){return this.maxSpeed=y,this},setSlideFactor:function(y,m){return this.slideFactor.set(y,m),this},setBounce:function(y,m){return this.bounce.set(y,m),this},setBounceX:function(y){return this.bounce.x=y,this},setBounceY:function(y){return this.bounce.y=y,this},setAcceleration:function(y,m){return this.acceleration.set(y,m),this},setAccelerationX:function(y){return this.acceleration.x=y,this},setAccelerationY:function(y){return this.acceleration.y=y,this},setAllowDrag:function(y){return y===void 0&&(y=!0),this.allowDrag=y,this},setAllowGravity:function(y){return y===void 0&&(y=!0),this.allowGravity=y,this},setAllowRotation:function(y){return y===void 0&&(y=!0),this.allowRotation=y,this},setDrag:function(y,m){return this.drag.set(y,m),this},setDamping:function(y){return this.useDamping=y,this},setDragX:function(y){return this.drag.x=y,this},setDragY:function(y){return this.drag.y=y,this},setGravity:function(y,m){return this.gravity.set(y,m),this},setGravityX:function(y){return this.gravity.x=y,this},setGravityY:function(y){return this.gravity.y=y,this},setFriction:function(y,m){return this.friction.set(y,m),this},setFrictionX:function(y){return this.friction.x=y,this},setFrictionY:function(y){return this.friction.y=y,this},setAngularVelocity:function(y){return this.angularVelocity=y,this},setAngularAcceleration:function(y){return this.angularAcceleration=y,this},setAngularDrag:function(y){return this.angularDrag=y,this},setMass:function(y){return this.mass=y,this},setImmovable:function(y){return y===void 0&&(y=!0),this.immovable=y,this},setEnable:function(y){return y===void 0&&(y=!0),this.enable=y,this},processX:function(y,m,C,T){this.x+=y,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var E=this.blocked;C&&(E.left=!0,E.none=!1),T&&(E.right=!0,E.none=!1)},processY:function(y,m,C,T){this.y+=y,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var E=this.blocked;C&&(E.up=!0,E.none=!1),T&&(E.down=!0,E.none=!1)},x:{get:function(){return this.position.x},set:function(y){this.position.x=y}},y:{get:function(){return this.position.y},set:function(y){this.position.y=y}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=p},79342:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d,v,c,p){this.world=h,this.name="",this.active=!0,this.overlapOnly=l,this.object1=o,this.object2=d,this.collideCallback=v,this.processCallback=c,this.callbackContext=p},setName:function(u){return this.name=u,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=g},66022:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71289),g=s(13759),u=s(37742),h=s(83419),l=s(37747),o=s(60758),d=s(72624),v=s(71464),c=new h({initialize:function(y){this.world=y,this.scene=y.scene,this.sys=y.scene.sys},collider:function(p,y,m,C,T){return this.world.addCollider(p,y,m,C,T)},overlap:function(p,y,m,C,T){return this.world.addOverlap(p,y,m,C,T)},existing:function(p,y){var m=y?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(p,m),p},staticImage:function(p,y,m,C){var T=new a(this.scene,p,y,m,C);return this.sys.displayList.add(T),this.world.enableBody(T,l.STATIC_BODY),T},image:function(p,y,m,C){var T=new a(this.scene,p,y,m,C);return this.sys.displayList.add(T),this.world.enableBody(T,l.DYNAMIC_BODY),T},staticSprite:function(p,y,m,C){var T=new g(this.scene,p,y,m,C);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,l.STATIC_BODY),T},sprite:function(p,y,m,C){var T=new g(this.scene,p,y,m,C);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,l.DYNAMIC_BODY),T},staticGroup:function(p,y){return this.sys.updateList.add(new v(this.world,this.world.scene,p,y))},group:function(p,y){return this.sys.updateList.add(new o(this.world,this.world.scene,p,y))},body:function(p,y,m,C){var T=new u(this.world);return T.position.set(p,y),m&&C&&T.setSize(m,C),this.world.add(T,l.DYNAMIC_BODY),T},staticBody:function(p,y,m,C){var T=new d(this.world);return T.position.set(p,y),m&&C&&T.setSize(m,C),this.world.add(T,l.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=c},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=0;if(!Array.isArray(s))a=s;else for(var g=0;g<s.length;g++)a|=s[g];return a};n.exports=x},64897:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37747),g=function(u,h,l,o){var d=0,v=u.deltaAbsX()+h.deltaAbsX()+o;return u._dx===0&&h._dx===0?(u.embedded=!0,h.embedded=!0):u._dx>h._dx?(d=u.right-h.x,d>v&&!l||u.checkCollision.right===!1||h.checkCollision.left===!1?d=0:(u.touching.none=!1,u.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.right=!0),u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0))):u._dx<h._dx&&(d=u.x-h.width-h.x,-d>v&&!l||u.checkCollision.left===!1||h.checkCollision.right===!1?d=0:(u.touching.none=!1,u.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.left=!0),u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0))),u.overlapX=d,h.overlapX=d,d};n.exports=g},45170:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37747),g=function(u,h,l,o){var d=0,v=u.deltaAbsY()+h.deltaAbsY()+o;return u._dy===0&&h._dy===0?(u.embedded=!0,h.embedded=!0):u._dy>h._dy?(d=u.bottom-h.y,d>v&&!l||u.checkCollision.down===!1||h.checkCollision.up===!1?d=0:(u.touching.none=!1,u.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.down=!0),u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0))):u._dy<h._dy&&(d=u.y-h.bottom,-d>v&&!l||u.checkCollision.up===!1||h.checkCollision.down===!1?d=0:(u.touching.none=!1,u.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===a.STATIC_BODY&&!l&&(u.blocked.none=!1,u.blocked.up=!0),u.physicsType===a.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0))),u.overlapY=d,h.overlapY=d,d};n.exports=g},60758:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13759),g=s(83419),u=s(78389),h=s(37747),l=s(95540),o=s(26479),d=s(41212),v=new g({Extends:o,Mixins:[u],initialize:function(p,y,m,C){if(!m&&!C)C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(m))C=m,m=null,C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&d(m[0])){var T=this;m.forEach(function(E){E.internalCreateCallback=T.createCallbackHandler,E.internalRemoveCallback=T.removeCallbackHandler,E.classType=l(E,"classType",a)}),C=null}else C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=p,C&&(C.classType=l(C,"classType",a)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:l(C,"collideWorldBounds",!1),setBoundsRectangle:l(C,"customBoundsRectangle",null),setAccelerationX:l(C,"accelerationX",0),setAccelerationY:l(C,"accelerationY",0),setAllowDrag:l(C,"allowDrag",!0),setAllowGravity:l(C,"allowGravity",!0),setAllowRotation:l(C,"allowRotation",!0),setDamping:l(C,"useDamping",!1),setBounceX:l(C,"bounceX",0),setBounceY:l(C,"bounceY",0),setDragX:l(C,"dragX",0),setDragY:l(C,"dragY",0),setEnable:l(C,"enable",!0),setGravityX:l(C,"gravityX",0),setGravityY:l(C,"gravityY",0),setFrictionX:l(C,"frictionX",0),setFrictionY:l(C,"frictionY",0),setMaxSpeed:l(C,"maxSpeed",-1),setMaxVelocityX:l(C,"maxVelocityX",1e4),setMaxVelocityY:l(C,"maxVelocityY",1e4),setVelocityX:l(C,"velocityX",0),setVelocityY:l(C,"velocityY",0),setAngularVelocity:l(C,"angularVelocity",0),setAngularAcceleration:l(C,"angularAcceleration",0),setAngularDrag:l(C,"angularDrag",0),setMass:l(C,"mass",1),setImmovable:l(C,"immovable",!1)},o.call(this,y,m,C),this.type="PhysicsGroup"},createCallbackHandler:function(c){c.body||this.world.enableBody(c,h.DYNAMIC_BODY);var p=c.body;for(var y in this.defaults)p[y](this.defaults[y])},removeCallbackHandler:function(c){c.body&&this.world.disableBody(c)},setVelocity:function(c,p,y){y===void 0&&(y=0);for(var m=this.getChildren(),C=0;C<m.length;C++)m[C].body.velocity.set(c+C*y,p+C*y);return this},setVelocityX:function(c,p){p===void 0&&(p=0);for(var y=this.getChildren(),m=0;m<y.length;m++)y[m].body.velocity.x=c+m*p;return this},setVelocityY:function(c,p){p===void 0&&(p=0);for(var y=this.getChildren(),m=0;m<y.length;m++)y[m].body.velocity.y=c+m*p;return this}});n.exports=v},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,s,a,g,u,h,l,o,d,v,c,p,y,m,C,T,E,w=function(L,O,D){x=L,s=O;var I=x.velocity.x,B=s.velocity.x;return a=x.pushable,d=x._dx<0,v=x._dx>0,c=x._dx===0,C=Math.abs(x.right-s.x)<=Math.abs(s.right-x.x),l=B-I*x.bounce.x,g=s.pushable,p=s._dx<0,y=s._dx>0,m=s._dx===0,T=!C,o=I-B*s.bounce.x,E=Math.abs(D),P()},P=function(){return v&&C&&s.blocked.right?(x.processX(-E,l,!1,!0),1):d&&T&&s.blocked.left?(x.processX(E,l,!0),1):y&&T&&x.blocked.right?(s.processX(-E,o,!1,!0),2):p&&C&&x.blocked.left?(s.processX(E,o,!0),2):0},b=function(){var L=x.velocity.x,O=s.velocity.x,D=Math.sqrt(O*O*s.mass/x.mass)*(O>0?1:-1),I=Math.sqrt(L*L*x.mass/s.mass)*(L>0?1:-1),B=(D+I)*.5;return D-=B,I-=B,u=B+D*x.bounce.x,h=B+I*s.bounce.x,d&&T?M(0):p&&C?M(1):v&&C?M(2):y&&T?M(3):!1},M=function(L){if(a&&g)E*=.5,L===0||L===3?(x.processX(E,u),s.processX(-E,h)):(x.processX(-E,u),s.processX(E,h));else if(a&&!g)L===0||L===3?x.processX(E,l,!0):x.processX(-E,l,!1,!0);else if(!a&&g)L===0||L===3?s.processX(-E,o,!1,!0):s.processX(E,o,!0);else{var O=E*.5;L===0?m?(x.processX(E,0,!0),s.processX(0,null,!1,!0)):y?(x.processX(O,0,!0),s.processX(-O,0,!1,!0)):(x.processX(O,s.velocity.x,!0),s.processX(-O,null,!1,!0)):L===1?c?(x.processX(0,null,!1,!0),s.processX(E,0,!0)):v?(x.processX(-O,0,!1,!0),s.processX(O,0,!0)):(x.processX(-O,null,!1,!0),s.processX(O,x.velocity.x,!0)):L===2?m?(x.processX(-E,0,!1,!0),s.processX(0,null,!0)):p?(x.processX(-O,0,!1,!0),s.processX(O,0,!0)):(x.processX(-O,s.velocity.x,!1,!0),s.processX(O,null,!0)):L===3&&(c?(x.processX(0,null,!0),s.processX(-E,0,!1,!0)):d?(x.processX(O,0,!0),s.processX(-O,0,!1,!0)):(x.processX(O,s.velocity.y,!0),s.processX(-O,null,!1,!0)))}return!0},A=function(L){L===1?s.velocity.x=0:C?s.processX(E,o,!0):s.processX(-E,o,!1,!0),x.moves&&(s.y+=(x.y-x.prev.y)*x.friction.y,s._dy=s.y-s.prev.y)},R=function(L){L===2?x.velocity.x=0:T?x.processX(E,l,!0):x.processX(-E,l,!1,!0),s.moves&&(x.y+=(s.y-s.prev.y)*s.friction.y,x._dy=x.y-x.prev.y)};n.exports={BlockCheck:P,Check:b,Set:w,Run:M,RunImmovableBody1:A,RunImmovableBody2:R}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x,s,a,g,u,h,l,o,d,v,c,p,y,m,C,T,E,w=function(L,O,D){x=L,s=O;var I=x.velocity.y,B=s.velocity.y;return a=x.pushable,d=x._dy<0,v=x._dy>0,c=x._dy===0,C=Math.abs(x.bottom-s.y)<=Math.abs(s.bottom-x.y),l=B-I*x.bounce.y,g=s.pushable,p=s._dy<0,y=s._dy>0,m=s._dy===0,T=!C,o=I-B*s.bounce.y,E=Math.abs(D),P()},P=function(){return v&&C&&s.blocked.down?(x.processY(-E,l,!1,!0),1):d&&T&&s.blocked.up?(x.processY(E,l,!0),1):y&&T&&x.blocked.down?(s.processY(-E,o,!1,!0),2):p&&C&&x.blocked.up?(s.processY(E,o,!0),2):0},b=function(){var L=x.velocity.y,O=s.velocity.y,D=Math.sqrt(O*O*s.mass/x.mass)*(O>0?1:-1),I=Math.sqrt(L*L*x.mass/s.mass)*(L>0?1:-1),B=(D+I)*.5;return D-=B,I-=B,u=B+D*x.bounce.y,h=B+I*s.bounce.y,d&&T?M(0):p&&C?M(1):v&&C?M(2):y&&T?M(3):!1},M=function(L){if(a&&g)E*=.5,L===0||L===3?(x.processY(E,u),s.processY(-E,h)):(x.processY(-E,u),s.processY(E,h));else if(a&&!g)L===0||L===3?x.processY(E,l,!0):x.processY(-E,l,!1,!0);else if(!a&&g)L===0||L===3?s.processY(-E,o,!1,!0):s.processY(E,o,!0);else{var O=E*.5;L===0?m?(x.processY(E,0,!0),s.processY(0,null,!1,!0)):y?(x.processY(O,0,!0),s.processY(-O,0,!1,!0)):(x.processY(O,s.velocity.y,!0),s.processY(-O,null,!1,!0)):L===1?c?(x.processY(0,null,!1,!0),s.processY(E,0,!0)):v?(x.processY(-O,0,!1,!0),s.processY(O,0,!0)):(x.processY(-O,null,!1,!0),s.processY(O,x.velocity.y,!0)):L===2?m?(x.processY(-E,0,!1,!0),s.processY(0,null,!0)):p?(x.processY(-O,0,!1,!0),s.processY(O,0,!0)):(x.processY(-O,s.velocity.y,!1,!0),s.processY(O,null,!0)):L===3&&(c?(x.processY(0,null,!0),s.processY(-E,0,!1,!0)):d?(x.processY(O,0,!0),s.processY(-O,0,!1,!0)):(x.processY(O,s.velocity.y,!0),s.processY(-O,null,!1,!0)))}return!0},A=function(L){L===1?s.velocity.y=0:C?s.processY(E,o,!0):s.processY(-E,o,!1,!0),x.moves&&(s.x+=(x.x-x.prev.x)*x.friction.x,s._dx=s.x-s.prev.x)},R=function(L){L===2?x.velocity.y=0:T?x.processY(E,l,!0):x.processY(-E,l,!1,!0),s.moves&&(x.x+=(s.x-s.prev.x)*s.friction.x,x._dx=x.x-x.prev.x)};n.exports={BlockCheck:P,Check:b,Set:w,Run:M,RunImmovableBody1:A,RunImmovableBody2:R}},14087:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(64897),g=s(3017),u=function(h,l,o,d,v){v===void 0&&(v=a(h,l,o,d));var c=h.immovable,p=l.immovable;if(o||v===0||c&&p||h.customSeparateX||l.customSeparateX)return v!==0||h.embedded&&l.embedded;var y=g.Set(h,l,v);return!c&&!p?y>0?!0:g.Check():(c?g.RunImmovableBody1(y):p&&g.RunImmovableBody2(y),!0)};n.exports=u},89936:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45170),g=s(47962),u=function(h,l,o,d,v){v===void 0&&(v=a(h,l,o,d));var c=h.immovable,p=l.immovable;if(o||v===0||c&&p||h.customSeparateY||l.customSeparateY)return v!==0||h.embedded&&l.embedded;var y=g.Set(h,l,v);return!c&&!p?y>0?!0:g.Check():(c?g.RunImmovableBody1(y):p&&g.RunImmovableBody2(y),!0)};n.exports=u},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===void 0&&(a={}),a.none=s,a.up=!1,a.down=!1,a.left=!1,a.right=!1,s||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};n.exports=x},72624:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87902),g=s(83419),u=s(78389),h=s(37747),l=s(37303),o=s(95829),d=s(26099),v=new g({Mixins:[u],initialize:function(p,y){var m=64,C=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=y!==void 0;E&&y.displayWidth&&(m=y.displayWidth,C=y.displayHeight),E||(y=T),this.world=p,this.gameObject=E?y:void 0,this.isBody=!0,this.debugShowBody=p.defaults.debugShowStaticBody,this.debugBodyColor=p.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(y.x-m*y.originX,y.y-C*y.originY),this.width=m,this.height=C,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=o(!1),this.touching=o(!0),this.wasTouching=o(!0),this.blocked=o(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(c,p){return c&&c!==this.gameObject&&(this.gameObject.body=null,c.body=this,this.gameObject=c),p&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var c=this.gameObject;return c.getTopLeft(this.position),this.width=c.displayWidth,this.height=c.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(c,p){return p===void 0&&(p=c),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(c,p),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(c,p,y){y===void 0&&(y=!0);var m=this.gameObject;if(m&&m.frame&&(c||(c=m.frame.realWidth),p||(p=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=c,this.height=p,this.halfWidth=Math.floor(c/2),this.halfHeight=Math.floor(p/2),y&&m&&m.getCenter){var C=m.displayWidth/2,T=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(C-this.halfWidth,T-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(c,p,y){return p===void 0&&(p=this.offset.x),y===void 0&&(y=this.offset.y),c>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=c,this.width=c*2,this.height=c*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(p,y),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(c,p){var y=this.gameObject;c===void 0&&(c=y.x),p===void 0&&(p=y.y),this.world.staticTree.remove(this),y.setPosition(c,p),y.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(c){return c.x=this.x,c.y=this.y,c.right=this.right,c.bottom=this.bottom,c},hitTest:function(c,p){return this.isCircle?a(this,c,p):l(this,c,p)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(c){var p=this.position,y=p.x+this.halfWidth,m=p.y+this.halfHeight;this.debugShowBody&&(c.lineStyle(c.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?c.strokeCircle(y,m,this.width/2):c.strokeRect(p.x,p.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(c){return c<=0&&(c=.1),this.mass=c,this},x:{get:function(){return this.position.x},set:function(c){this.world.staticTree.remove(this),this.position.x=c,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(c){this.world.staticTree.remove(this),this.position.y=c,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v},71464:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13759),g=s(83419),u=s(78389),h=s(37747),l=s(95540),o=s(26479),d=s(41212),v=new g({Extends:o,Mixins:[u],initialize:function(p,y,m,C){!m&&!C?C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:d(m)?(C=m,m=null,C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",a)):Array.isArray(m)&&d(m[0])?(C=m,m=null,C.forEach(function(T){T.internalCreateCallback=this.createCallbackHandler,T.internalRemoveCallback=this.removeCallbackHandler,T.createMultipleCallback=this.createMultipleCallbackHandler,T.classType=l(T,"classType",a)})):C={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=p,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,o.call(this,y,m,C),this.type="StaticPhysicsGroup"},createCallbackHandler:function(c){c.body||this.world.enableBody(c,h.STATIC_BODY)},removeCallbackHandler:function(c){c.body&&this.world.disableBody(c)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var c=this.children.entries,p=0;p<c.length;p++)c[p].body.reset();return this}});n.exports=v},82248:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(55495),g=s(37742),u=s(45319),h=s(83419),l=s(79342),o=s(37747),d=s(20339),v=s(52816),c=s(50792),p=s(63012),y=s(43855),m=s(5470),C=s(94977),T=s(64897),E=s(45170),w=s(96523),P=s(35154),b=s(36383),M=s(25774),A=s(96602),R=s(87841),L=s(59542),O=s(40012),D=s(14087),I=s(89936),B=s(35072),G=s(72624),z=s(2483),Y=s(61340),H=s(26099),k=s(15994),U=new h({Extends:c,initialize:function(N,V){c.call(this),this.scene=N,this.bodies=new B,this.staticBodies=new B,this.pendingDestroy=new B,this.colliders=new M,this.gravity=new H(P(V,"gravity.x",0),P(V,"gravity.y",0)),this.bounds=new R(P(V,"x",0),P(V,"y",0),P(V,"width",N.sys.scale.width),P(V,"height",N.sys.scale.height)),this.checkCollision={up:P(V,"checkCollision.up",!0),down:P(V,"checkCollision.down",!0),left:P(V,"checkCollision.left",!0),right:P(V,"checkCollision.right",!0)},this.fps=P(V,"fps",60),this.fixedStep=P(V,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=P(V,"timeScale",1),this.OVERLAP_BIAS=P(V,"overlapBias",4),this.TILE_BIAS=P(V,"tileBias",16),this.forceX=P(V,"forceX",!1),this.isPaused=P(V,"isPaused",!1),this._total=0,this.drawDebug=P(V,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:P(V,"debugShowBody",!0),debugShowStaticBody:P(V,"debugShowStaticBody",!0),debugShowVelocity:P(V,"debugShowVelocity",!0),bodyDebugColor:P(V,"debugBodyColor",16711935),staticBodyDebugColor:P(V,"debugStaticBodyColor",255),velocityDebugColor:P(V,"debugVelocityColor",65280)},this.maxEntries=P(V,"maxEntries",16),this.useTree=P(V,"useTree",!0),this.tree=new L(this.maxEntries),this.staticTree=new L(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(F,N){N===void 0&&(N=o.DYNAMIC_BODY),Array.isArray(F)||(F=[F]);for(var V=0;V<F.length;V++){var $=F[V];if($.isParent)for(var X=$.getChildren(),j=0;j<X.length;j++){var Q=X[j];Q.isParent?this.enable(Q,N):this.enableBody(Q,N)}else this.enableBody($,N)}},enableBody:function(F,N){return N===void 0&&(N=o.DYNAMIC_BODY),F.hasTransformComponent&&(F.body||(N===o.DYNAMIC_BODY?F.body=new g(this,F):N===o.STATIC_BODY&&(F.body=new G(this,F))),this.add(F.body)),F},add:function(F){return F.physicsType===o.DYNAMIC_BODY?this.bodies.set(F):F.physicsType===o.STATIC_BODY&&(this.staticBodies.set(F),this.staticTree.insert(F)),F.enable=!0,F},disable:function(F){Array.isArray(F)||(F=[F]);for(var N=0;N<F.length;N++){var V=F[N];if(V.isParent)for(var $=V.getChildren(),X=0;X<$.length;X++){var j=$[X];j.isParent?this.disable(j):this.disableBody(j.body)}else this.disableBody(V.body)}},disableBody:function(F){this.remove(F),F.enable=!1},remove:function(F){F.physicsType===o.DYNAMIC_BODY?(this.tree.remove(F),this.bodies.delete(F)):F.physicsType===o.STATIC_BODY&&(this.staticBodies.delete(F),this.staticTree.remove(F))},createDebugGraphic:function(){var F=this.scene.sys.add.graphics({x:0,y:0});return F.setDepth(Number.MAX_VALUE),this.debugGraphic=F,this.drawDebug=!0,F},setBounds:function(F,N,V,$,X,j,Q,K){return this.bounds.setTo(F,N,V,$),X!==void 0&&this.setBoundsCollision(X,j,Q,K),this},setBoundsCollision:function(F,N,V,$){return F===void 0&&(F=!0),N===void 0&&(N=!0),V===void 0&&(V=!0),$===void 0&&($=!0),this.checkCollision.left=F,this.checkCollision.right=N,this.checkCollision.up=V,this.checkCollision.down=$,this},pause:function(){return this.isPaused=!0,this.emit(p.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(p.RESUME),this},addCollider:function(F,N,V,$,X){V===void 0&&(V=null),$===void 0&&($=null),X===void 0&&(X=V);var j=new l(this,!1,F,N,V,$,X);return this.colliders.add(j),j},addOverlap:function(F,N,V,$,X){V===void 0&&(V=null),$===void 0&&($=null),X===void 0&&(X=V);var j=new l(this,!0,F,N,V,$,X);return this.colliders.add(j),j},removeCollider:function(F){return this.colliders.remove(F),this},setFPS:function(F){return this.fps=F,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(F,N){if(!(this.isPaused||this.bodies.size===0)){var V,$=this._frameTime,X=this._frameTimeMS*this.timeScale;this._elapsed+=N;var j,Q=this.bodies.entries,K=this._elapsed>=X;for(this.fixedStep||($=N*.001,K=!0,this._elapsed=0),V=0;V<Q.length;V++)j=Q[V],j.enable&&j.preUpdate(K,$);if(K){this._elapsed-=X,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(Q));var q=this.colliders.update();for(V=0;V<q.length;V++){var tt=q[V];tt.active&&tt.update()}this.emit(p.WORLD_STEP,$)}for(;this._elapsed>=X;)this._elapsed-=X,this.step($)}},step:function(F){var N,V,$=this.bodies.entries,X=$.length;for(N=0;N<X;N++)V=$[N],V.enable&&V.update(F);this.useTree&&(this.tree.clear(),this.tree.load($));var j=this.colliders.update();for(N=0;N<j.length;N++){var Q=j[N];Q.active&&Q.update()}this.emit(p.WORLD_STEP,F),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var F,N,V=this.bodies.entries,$=V.length,X=this.bodies,j=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,F=0;F<$;F++)N=V[F],N.enable&&N.postUpdate();if(this.drawDebug){var Q=this.debugGraphic;for(Q.clear(),F=0;F<$;F++)N=V[F],N.willDrawDebug()&&N.drawDebug(Q);for(V=j.entries,$=V.length,F=0;F<$;F++)N=V[F],N.willDrawDebug()&&N.drawDebug(Q)}var K=this.pendingDestroy;if(K.size>0){var q=this.tree,tt=this.staticTree;for(V=K.entries,$=V.length,F=0;F<$;F++)N=V[F],N.physicsType===o.DYNAMIC_BODY?(q.remove(N),X.delete(N)):N.physicsType===o.STATIC_BODY&&(tt.remove(N),j.delete(N)),N.world=void 0,N.gameObject=void 0;K.clear()}},updateMotion:function(F,N){F.allowRotation&&this.computeAngularVelocity(F,N),this.computeVelocity(F,N)},computeAngularVelocity:function(F,N){var V=F.angularVelocity,$=F.angularAcceleration,X=F.angularDrag,j=F.maxAngular;$?V+=$*N:F.allowDrag&&X&&(X*=N,m(V-X,0,.1)?V-=X:C(V+X,0,.1)?V+=X:V=0),V=u(V,-j,j);var Q=V-F.angularVelocity;F.angularVelocity+=Q,F.rotation+=F.angularVelocity*N},computeVelocity:function(F,N){var V=F.velocity.x,$=F.acceleration.x,X=F.drag.x,j=F.maxVelocity.x,Q=F.velocity.y,K=F.acceleration.y,q=F.drag.y,tt=F.maxVelocity.y,st=F.speed,nt=F.maxSpeed,rt=F.allowDrag,ut=F.useDamping;F.allowGravity&&(V+=(this.gravity.x+F.gravity.x)*N,Q+=(this.gravity.y+F.gravity.y)*N),$?V+=$*N:rt&&X&&(ut?(X=Math.pow(X,N),V*=X,st=Math.sqrt(V*V+Q*Q),y(st,0,.001)&&(V=0)):(X*=N,m(V-X,0,.01)?V-=X:C(V+X,0,.01)?V+=X:V=0)),K?Q+=K*N:rt&&q&&(ut?(q=Math.pow(q,N),Q*=q,st=Math.sqrt(V*V+Q*Q),y(st,0,.001)&&(Q=0)):(q*=N,m(Q-q,0,.01)?Q-=q:C(Q+q,0,.01)?Q+=q:Q=0)),V=u(V,-j,j),Q=u(Q,-tt,tt),F.velocity.set(V,Q),nt>-1&&F.velocity.length()>nt&&(F.velocity.normalize().scale(nt),st=nt),F.speed=st},separate:function(F,N,V,$,X){var j,Q,K=!1,q=!0;if(!F.enable||!N.enable||F.checkCollision.none||N.checkCollision.none||!this.intersects(F,N)||V&&V.call($,F.gameObject,N.gameObject)===!1)return K;if(F.isCircle||N.isCircle){var tt=this.separateCircle(F,N,X);tt.result?(K=!0,q=!1):(j=tt.x,Q=tt.y,q=!0)}if(q){var st=!1,nt=!1,rt=this.OVERLAP_BIAS;X?(st=D(F,N,X,rt,j),nt=I(F,N,X,rt,Q)):this.forceX||Math.abs(this.gravity.y+F.gravity.y)<Math.abs(this.gravity.x+F.gravity.x)?(st=D(F,N,X,rt,j),this.intersects(F,N)&&(nt=I(F,N,X,rt,Q))):(nt=I(F,N,X,rt,Q),this.intersects(F,N)&&(st=D(F,N,X,rt,j))),K=st||nt}return K&&(X?(F.onOverlap||N.onOverlap)&&this.emit(p.OVERLAP,F.gameObject,N.gameObject,F,N):(F.onCollide||N.onCollide)&&this.emit(p.COLLIDE,F.gameObject,N.gameObject,F,N)),K},separateCircle:function(F,N,V){T(F,N,!1,0),E(F,N,!1,0);var $=F.isCircle,X=N.isCircle,j=F.center,Q=N.center,K=F.immovable,q=N.immovable,tt=F.velocity,st=N.velocity,nt=0,rt=!0;if($!==X){rt=!1;var ut=j.x,vt=j.y,pt=F.halfWidth,ft=N.position.x,lt=N.position.y,yt=N.right,Ct=N.bottom;X&&(ut=Q.x,vt=Q.y,pt=N.halfWidth,ft=F.position.x,lt=F.position.y,yt=F.right,Ct=F.bottom),vt<lt?ut<ft?nt=d(ut,vt,ft,lt)-pt:ut>yt&&(nt=d(ut,vt,yt,lt)-pt):vt>Ct&&(ut<ft?nt=d(ut,vt,ft,Ct)-pt:ut>yt&&(nt=d(ut,vt,yt,Ct)-pt)),nt*=-1}else nt=F.halfWidth+N.halfWidth-v(j,Q);F.overlapR=nt,N.overlapR=nt;var Rt=a(j,Q),Dt=(nt+b.EPSILON)*Math.cos(Rt),Tt=(nt+b.EPSILON)*Math.sin(Rt),Et={overlap:nt,result:!1,x:Dt,y:Tt};if(V&&(!rt||rt&&nt!==0))return Et.result=!0,Et;if(!rt&&nt===0||K&&q||F.customSeparateX||N.customSeparateX)return Et.x=void 0,Et.y=void 0,Et;var ot=!F.pushable&&!N.pushable;if(rt){var at=j.x-Q.x,gt=j.y-Q.y,_=Math.sqrt(Math.pow(at,2)+Math.pow(gt,2)),it=(Q.x-j.x)/_||0,ht=(Q.y-j.y)/_||0,dt=2*(tt.x*it+tt.y*ht-st.x*it-st.y*ht)/(F.mass+N.mass);(K||q)&&(dt*=2),K||(tt.x=tt.x-dt/F.mass*it,tt.y=tt.y-dt/F.mass*ht,tt.multiply(F.bounce)),q||(st.x=st.x+dt/N.mass*it,st.y=st.y+dt/N.mass*ht,st.multiply(N.bounce)),!K&&!q&&(Dt*=.5,Tt*=.5),K||(F.x-=Dt,F.y-=Tt,F.updateCenter()),q||(N.x+=Dt,N.y+=Tt,N.updateCenter()),Et.result=!0}else!K||F.pushable||ot?(F.x-=Dt,F.y-=Tt,F.updateCenter()):(!q||N.pushable||ot)&&(N.x+=Dt,N.y+=Tt,N.updateCenter()),Et.x=void 0,Et.y=void 0;return Et},intersects:function(F,N){return F===N?!1:!F.isCircle&&!N.isCircle?!(F.right<=N.left||F.bottom<=N.top||F.left>=N.right||F.top>=N.bottom):F.isCircle?N.isCircle?v(F.center,N.center)<=F.halfWidth+N.halfWidth:this.circleBodyIntersects(F,N):this.circleBodyIntersects(N,F)},circleBodyIntersects:function(F,N){var V=u(F.center.x,N.left,N.right),$=u(F.center.y,N.top,N.bottom),X=(F.center.x-V)*(F.center.x-V),j=(F.center.y-$)*(F.center.y-$);return X+j<=F.halfWidth*F.halfWidth},overlap:function(F,N,V,$,X){return V===void 0&&(V=null),$===void 0&&($=null),X===void 0&&(X=V),this.collideObjects(F,N,V,$,X,!0)},collide:function(F,N,V,$,X){return V===void 0&&(V=null),$===void 0&&($=null),X===void 0&&(X=V),this.collideObjects(F,N,V,$,X,!1)},collideObjects:function(F,N,V,$,X,j){var Q,K;F.isParent&&(F.physicsType===void 0||N===void 0||F===N)&&(F=F.children.entries),N&&N.isParent&&N.physicsType===void 0&&(N=N.children.entries);var q=Array.isArray(F),tt=Array.isArray(N);if(this._total=0,!q&&!tt)this.collideHandler(F,N,V,$,X,j);else if(!q&&tt)for(Q=0;Q<N.length;Q++)this.collideHandler(F,N[Q],V,$,X,j);else if(q&&!tt)if(N)for(Q=0;Q<F.length;Q++)this.collideHandler(F[Q],N,V,$,X,j);else for(Q=0;Q<F.length;Q++){var st=F[Q];for(K=Q+1;K<F.length;K++)Q!==K&&this.collideHandler(st,F[K],V,$,X,j)}else for(Q=0;Q<F.length;Q++)for(K=0;K<N.length;K++)this.collideHandler(F[Q],N[K],V,$,X,j);return this._total>0},collideHandler:function(F,N,V,$,X,j){if(N===void 0&&F.isParent)return this.collideGroupVsGroup(F,F,V,$,X,j);if(!F||!N)return!1;if(F.body||F.isBody){if(N.body||N.isBody)return this.collideSpriteVsSprite(F,N,V,$,X,j);if(N.isParent)return this.collideSpriteVsGroup(F,N,V,$,X,j);if(N.isTilemap)return this.collideSpriteVsTilemapLayer(F,N,V,$,X,j)}else if(F.isParent){if(N.body||N.isBody)return this.collideSpriteVsGroup(N,F,V,$,X,j);if(N.isParent)return this.collideGroupVsGroup(F,N,V,$,X,j);if(N.isTilemap)return this.collideGroupVsTilemapLayer(F,N,V,$,X,j)}else if(F.isTilemap){if(N.body||N.isBody)return this.collideSpriteVsTilemapLayer(N,F,V,$,X,j);if(N.isParent)return this.collideGroupVsTilemapLayer(N,F,V,$,X,j)}},canCollide:function(F,N){return F&&N&&(F.collisionMask&N.collisionCategory)!==0&&(N.collisionMask&F.collisionCategory)!==0},collideSpriteVsSprite:function(F,N,V,$,X,j){var Q=F.isBody?F:F.body,K=N.isBody?N:N.body;return this.canCollide(Q,K)?(this.separate(Q,K,$,X,j)&&(V&&V.call(X,F,N),this._total++),!0):!1},collideSpriteVsGroup:function(F,N,V,$,X,j){var Q=F.isBody?F:F.body;if(!(N.length===0||!Q||!Q.enable||Q.checkCollision.none||!this.canCollide(Q,N))){var K,q,tt;if(this.useTree||N.physicsType===o.STATIC_BODY){var st=this.treeMinMax;st.minX=Q.left,st.minY=Q.top,st.maxX=Q.right,st.maxY=Q.bottom;var nt=N.physicsType===o.DYNAMIC_BODY?this.tree.search(st):this.staticTree.search(st);for(q=nt.length,K=0;K<q;K++)tt=nt[K],!(Q===tt||!tt.enable||tt.checkCollision.none||!N.contains(tt.gameObject))&&this.separate(Q,tt,$,X,j)&&(V&&V.call(X,Q.gameObject,tt.gameObject),this._total++)}else{var rt=N.getChildren(),ut=N.children.entries.indexOf(F);for(q=rt.length,K=0;K<q;K++)tt=rt[K].body,!(!tt||K===ut||!tt.enable)&&this.separate(Q,tt,$,X,j)&&(V&&V.call(X,Q.gameObject,tt.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(F,N,V,$,X,j){if(!this.canCollide(F,N))return!1;var Q=F.getChildren();if(Q.length===0)return!1;for(var K=!1,q=0;q<Q.length;q++)(Q[q].body||Q[q].isBody)&&this.collideSpriteVsTilemapLayer(Q[q],N,V,$,X,j)&&(K=!0);return K},collideTiles:function(F,N,V,$,X){return N.length===0||F.body&&!F.body.enable||F.isBody&&!F.enable?!1:this.collideSpriteVsTilesHandler(F,N,V,$,X,!1,!1)},overlapTiles:function(F,N,V,$,X){return N.length===0||F.body&&!F.body.enable||F.isBody&&!F.enable?!1:this.collideSpriteVsTilesHandler(F,N,V,$,X,!0,!1)},collideSpriteVsTilemapLayer:function(F,N,V,$,X,j){var Q=F.isBody?F:F.body;if(!Q.enable||Q.checkCollision.none||!this.canCollide(Q,N))return!1;var K=N.layer,q=Q.x-K.tileWidth*N.scaleX,tt=Q.y-K.tileHeight*N.scaleY,st=Q.width+K.tileWidth*N.scaleX,nt=Q.height+K.tileHeight*N.scaleY,rt=j?null:this.tileFilterOptions,ut=w(q,tt,st,nt,rt,N.scene.cameras.main,N.layer);return ut.length===0?!1:this.collideSpriteVsTilesHandler(F,ut,V,$,X,j,!0)},collideSpriteVsTilesHandler:function(F,N,V,$,X,j,Q){for(var K=F.isBody?F:F.body,q,tt={left:0,right:0,top:0,bottom:0},st,nt=!1,rt=0;rt<N.length;rt++){q=N[rt],st=q.tilemapLayer;var ut=st.tileToWorldXY(q.x,q.y);tt.left=ut.x,tt.top=ut.y,tt.right=tt.left+q.width*st.scaleX,tt.bottom=tt.top+q.height*st.scaleY,z(tt,K)&&(!$||$.call(X,F,q))&&A(q,F)&&(j||O(rt,K,q,tt,st,this.TILE_BIAS,Q))&&(this._total++,nt=!0,V&&V.call(X,F,q),j&&K.onOverlap?this.emit(p.TILE_OVERLAP,F,q,K):K.onCollide&&this.emit(p.TILE_COLLIDE,F,q,K))}return nt},collideGroupVsGroup:function(F,N,V,$,X,j){if(!(F.length===0||N.length===0||!this.canCollide(F,N)))for(var Q=F.getChildren(),K=0;K<Q.length;K++)this.collideSpriteVsGroup(Q[K],N,V,$,X,j)},wrap:function(F,N){F.body?this.wrapObject(F,N):F.getChildren?this.wrapArray(F.getChildren(),N):Array.isArray(F)?this.wrapArray(F,N):this.wrapObject(F,N)},wrapArray:function(F,N){for(var V=0;V<F.length;V++)this.wrapObject(F[V],N)},wrapObject:function(F,N){N===void 0&&(N=0),F.x=k(F.x,this.bounds.left-N,this.bounds.right+N),F.y=k(F.y,this.bounds.top-N,this.bounds.bottom+N)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=U},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAcceleration:function(s,a){return this.body.acceleration.set(s,a),this},setAccelerationX:function(s){return this.body.acceleration.x=s,this},setAccelerationY:function(s){return this.body.acceleration.y=s,this}};n.exports=x},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setAngularVelocity:function(s){return this.body.angularVelocity=s,this},setAngularAcceleration:function(s){return this.body.angularAcceleration=s,this},setAngularDrag:function(s){return this.body.angularDrag=s,this}};n.exports=x},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(s,a){return this.body.bounce.set(s,a),this},setBounceX:function(s){return this.body.bounce.x=s,this},setBounceY:function(s){return this.body.bounce.y=s,this},setCollideWorldBounds:function(s,a,g,u){return this.body.setCollideWorldBounds(s,a,g,u),this}};n.exports=x},78389:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79599),g={setCollisionCategory:function(u){var h=this.body?this.body:this;return h.collisionCategory=u,this},willCollideWith:function(u){var h=this.body?this.body:this;return(h.collisionMask&u)!==0},addCollidesWith:function(u){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|u,this},removeCollidesWith:function(u){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~u,this},setCollidesWith:function(u){var h=this.body?this.body:this;return h.collisionMask=a(u),this},resetCollisionCategory:function(){var u=this.body?this.body:this;return u.collisionCategory=1,u.collisionMask=1,this}};n.exports=g},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDebug:function(s,a,g){return this.debugShowBody=s,this.debugShowVelocity=a,this.debugBodyColor=g,this},setDebugBodyColor:function(s){return this.body.debugBodyColor=s,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(s){this.body.debugShowBody=s}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(s){this.body.debugShowVelocity=s}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(s){this.body.debugBodyColor=s}}};n.exports=x},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDrag:function(s,a){return this.body.drag.set(s,a),this},setDragX:function(s){return this.body.drag.x=s,this},setDragY:function(s){return this.body.drag.y=s,this},setDamping:function(s){return this.body.useDamping=s,this}};n.exports=x},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setDirectControl:function(s){return this.body.setDirectControl(s),this},enableBody:function(s,a,g,u,h){return s&&this.body.reset(a,g),u&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(s,a){return s===void 0&&(s=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,s&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=x},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(s,a){return this.body.friction.set(s,a),this},setFrictionX:function(s){return this.body.friction.x=s,this},setFrictionY:function(s){return this.body.friction.y=s,this}};n.exports=x},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setGravity:function(s,a){return this.body.gravity.set(s,a),this},setGravityX:function(s){return this.body.gravity.x=s,this},setGravityY:function(s){return this.body.gravity.y=s,this}};n.exports=x},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setImmovable:function(s){return s===void 0&&(s=!0),this.body.immovable=s,this}};n.exports=x},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setMass:function(s){return this.body.mass=s,this}};n.exports=x},72441:(n,x,s)=>{var a=s(47956),g=s(96503),u=s(2044),h=s(81491),l=function(o,d,v,c,p,y){var m=a(o,d-c,v-c,2*c,2*c,p,y);if(m.length===0)return m;for(var C=new g(d,v,c),T=new g,E=[],w=0;w<m.length;w++){var P=m[w];P.isCircle?(T.setTo(P.center.x,P.center.y,P.halfWidth),u(C,T)&&E.push(P)):h(C,P)&&E.push(P)}return E};n.exports=l},47956:n=>{var x=function(s,a,g,u,h,l,o){l===void 0&&(l=!0),o===void 0&&(o=!1);var d=[],v=[],c=s.treeMinMax;if(c.minX=a,c.minY=g,c.maxX=a+u,c.maxY=g+h,o&&(v=s.staticTree.search(c)),l&&s.useTree)d=s.tree.search(c);else if(l){var p=s.bodies,y={position:{x:a,y:g},left:a,top:g,right:a+u,bottom:g+h,isCircle:!1},m=s.intersects;p.iterate(function(C){m(C,y)&&d.push(C)})}return v.concat(d)};n.exports=x},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setPushable:function(s){return s===void 0&&(s=!0),this.body.pushable=s,this}};n.exports=x},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setOffset:function(s,a){return this.body.setOffset(s,a),this},setSize:function(s,a,g){return this.body.setSize(s,a,g),this},setBodySize:function(s,a,g){return this.body.setSize(s,a,g),this},setCircle:function(s,a,g){return this.body.setCircle(s,a,g),this}};n.exports=x},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setVelocity:function(s,a){return this.body.setVelocity(s,a),this},setVelocityX:function(s){return this.body.setVelocityX(s),this},setVelocityY:function(s){return this.body.setVelocityY(s),this},setMaxVelocity:function(s,a){return this.body.maxVelocity.set(s,a),this}};n.exports=x},92209:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:s(1093),Angular:s(59023),Bounce:s(62069),Collision:s(78389),Debug:s(87118),Drag:s(52819),Enable:s(4074),Friction:s(40831),Gravity:s(26775),Immovable:s(9437),Mass:s(30621),OverlapCirc:s(72441),OverlapRect:s(47956),Pushable:s(62121),Size:s(29384),Velocity:s(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=x},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:s(20009),OVERLAP:s(36768),PAUSE:s(60473),RESUME:s(89954),TILE_COLLIDE:s(61804),TILE_OVERLAP:s(7161),WORLD_BOUNDS:s(34689),WORLD_STEP:s(16006)}},27064:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37747),g=s(79291),u={ArcadePhysics:s(86689),Body:s(37742),Collider:s(79342),Components:s(92209),Events:s(63012),Factory:s(66022),GetCollidesWith:s(79599),GetOverlapX:s(64897),GetOverlapY:s(45170),SeparateX:s(14087),SeparateY:s(89936),Group:s(60758),Image:s(71289),Sprite:s(13759),StaticBody:s(72624),StaticGroup:s(71464),Tilemap:s(55173),World:s(82248)};u=g(!1,u,a),n.exports=u},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.collisionCallback?!s.collisionCallback.call(s.collisionCallbackContext,a,s):s.layer.callbacks[s.index]?!s.layer.callbacks[s.index].callback.call(s.layer.callbacks[s.index].callbackContext,a,s):!0};n.exports=x},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a<0?(s.blocked.none=!1,s.blocked.left=!0):a>0&&(s.blocked.none=!1,s.blocked.right=!0),s.position.x-=a,s.updateCenter(),s.bounce.x===0?s.velocity.x=0:s.velocity.x=-s.velocity.x*s.bounce.x};n.exports=x},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a<0?(s.blocked.none=!1,s.blocked.up=!0):a>0&&(s.blocked.none=!1,s.blocked.down=!0),s.position.y-=a,s.updateCenter(),s.bounce.y===0?s.velocity.y=0:s.velocity.y=-s.velocity.y*s.bounce.y};n.exports=x},40012:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(21329),g=s(53442),u=s(2483),h=function(l,o,d,v,c,p,y){var m=v.left,C=v.top,T=v.right,E=v.bottom,w=d.faceLeft||d.faceRight,P=d.faceTop||d.faceBottom;if(y||(w=!0,P=!0),!w&&!P)return!1;var b=0,M=0,A=0,R=1;if(o.deltaAbsX()>o.deltaAbsY()?A=-1:o.deltaAbsX()<o.deltaAbsY()&&(R=-1),o.deltaX()!==0&&o.deltaY()!==0&&w&&P&&(A=Math.min(Math.abs(o.position.x-T),Math.abs(o.right-m)),R=Math.min(Math.abs(o.position.y-E),Math.abs(o.bottom-C))),A<R){if(w&&(b=a(o,d,m,T,p,y),b!==0&&!u(v,o)))return!0;P&&(M=g(o,d,C,E,p,y))}else{if(P&&(M=g(o,d,C,E,p,y),M!==0&&!u(v,o)))return!0;w&&(b=a(o,d,m,T,p,y))}return b!==0||M!==0};n.exports=h},21329:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36294),g=function(u,h,l,o,d,v){var c=0,p=h.faceLeft,y=h.faceRight,m=h.collideLeft,C=h.collideRight;return v||(p=!0,y=!0,m=!0,C=!0),u.deltaX()<0&&C&&u.checkCollision.left?y&&u.x<o&&(c=u.x-o,c<-d&&(c=0)):u.deltaX()>0&&m&&u.checkCollision.right&&p&&u.right>l&&(c=u.right-l,c>d&&(c=0)),c!==0&&(u.customSeparateX?u.overlapX=c:a(u,c)),c};n.exports=g},53442:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(67013),g=function(u,h,l,o,d,v){var c=0,p=h.faceTop,y=h.faceBottom,m=h.collideUp,C=h.collideDown;return v||(p=!0,y=!0,m=!0,C=!0),u.deltaY()<0&&C&&u.checkCollision.up?y&&u.y<o&&(c=u.y-o,c<-d&&(c=0)):u.deltaY()>0&&m&&u.checkCollision.down&&p&&u.bottom>l&&(c=u.bottom-l,c>d&&(c=0)),c!==0&&(u.customSeparateY?u.overlapY=c:a(u,c)),c};n.exports=g},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return!(a.right<=s.left||a.bottom<=s.top||a.position.x>=s.right||a.position.y>=s.bottom)};n.exports=x},55173:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:s(96602),ProcessTileSeparationX:s(36294),ProcessTileSeparationY:s(67013),SeparateTile:s(40012),TileCheckX:s(21329),TileCheckY:s(53442),TileIntersectsBody:s(2483)};n.exports=a},44563:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:s(27064),Matter:s(3875)}},68174:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),u=new a({initialize:function(){this.boundsCenter=new g,this.centerDiff=new g},parseBody:function(h){if(h=h.hasOwnProperty("body")?h.body:h,!h.hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,o=this.centerDiff,d=h.bounds.max.x-h.bounds.min.x,v=h.bounds.max.y-h.bounds.min.y,c=d*h.centerOfMass.x,p=v*h.centerOfMass.y;return l.set(d/2,v/2),o.set(c-l.x,p-l.y),!0},getTopLeft:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l+d.x+v.x,o+d.y+v.y)}return!1},getTopCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l+v.x,o+d.y+v.y)}return!1},getTopRight:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l-(d.x-v.x),o+d.y+v.y)}return!1},getLeftCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l+d.x+v.x,o+v.y)}return!1},getCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.centerDiff;return new g(l+d.x,o+d.y)}return!1},getRightCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l-(d.x-v.x),o+v.y)}return!1},getBottomLeft:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l+d.x+v.x,o-(d.y-v.y))}return!1},getBottomCenter:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l+v.x,o-(d.y-v.y))}return!1},getBottomRight:function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),this.parseBody(h)){var d=this.boundsCenter,v=this.centerDiff;return new g(l-(d.x-v.x),o-(d.y-v.y))}return!1}});n.exports=u},19933:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6790);a.Body=s(22562),a.Composite=s(69351),a.World=s(4372),a.Collision=s(52284),a.Detector=s(81388),a.Pairs=s(99561),a.Pair=s(4506),a.Query=s(73296),a.Resolver=s(66272),a.Constraint=s(48140),a.Common=s(53402),a.Engine=s(48413),a.Events=s(35810),a.Sleeping=s(53614),a.Plugin=s(73832),a.Bodies=s(66280),a.Composites=s(74116),a.Axes=s(66615),a.Bounds=s(15647),a.Svg=s(74058),a.Vector=s(31725),a.Vertices=s(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,n.exports=a},28137:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(83419),u=s(74116),h=s(48140),l=s(74058),o=s(75803),d=s(23181),v=s(34803),c=s(73834),p=s(19496),y=s(85791),m=s(98713),C=s(41598),T=new g({initialize:function(w){this.world=w,this.scene=w.scene,this.sys=w.scene.sys},rectangle:function(E,w,P,b,M){var A=a.rectangle(E,w,P,b,M);return this.world.add(A),A},trapezoid:function(E,w,P,b,M,A){var R=a.trapezoid(E,w,P,b,M,A);return this.world.add(R),R},circle:function(E,w,P,b,M){var A=a.circle(E,w,P,b,M);return this.world.add(A),A},polygon:function(E,w,P,b,M){var A=a.polygon(E,w,P,b,M);return this.world.add(A),A},fromVertices:function(E,w,P,b,M,A,R){typeof P=="string"&&(P=C.fromPath(P));var L=a.fromVertices(E,w,P,b,M,A,R);return this.world.add(L),L},fromPhysicsEditor:function(E,w,P,b,M){M===void 0&&(M=!0);var A=p.parseBody(E,w,P,b);return M&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(E,w,P,b,M,A){b===void 0&&(b=1),M===void 0&&(M={}),A===void 0&&(A=!0);for(var R=P.getElementsByTagName("path"),L=[],O=0;O<R.length;O++){var D=l.pathToVertices(R[O],30);b!==1&&C.scale(D,b,b),L.push(D)}var I=a.fromVertices(E,w,L,M);return A&&this.world.add(I),I},fromJSON:function(E,w,P,b,M){b===void 0&&(b={}),M===void 0&&(M=!0);var A=y.parseBody(E,w,P,b);return A&&M&&this.world.add(A),A},imageStack:function(E,w,P,b,M,A,R,L,O){R===void 0&&(R=0),L===void 0&&(L=0),O===void 0&&(O={});var D=this.world,I=this.sys.displayList;O.addToWorld=!1;var B=u.stack(P,b,M,A,R,L,function(G,z){var Y=new d(D,G,z,E,w,O);return I.add(Y),Y.body});return D.add(B),B},stack:function(E,w,P,b,M,A,R){var L=u.stack(E,w,P,b,M,A,R);return this.world.add(L),L},pyramid:function(E,w,P,b,M,A,R){var L=u.pyramid(E,w,P,b,M,A,R);return this.world.add(L),L},chain:function(E,w,P,b,M,A){return u.chain(E,w,P,b,M,A)},mesh:function(E,w,P,b,M){return u.mesh(E,w,P,b,M)},newtonsCradle:function(E,w,P,b,M){var A=u.newtonsCradle(E,w,P,b,M);return this.world.add(A),A},car:function(E,w,P,b,M){var A=u.car(E,w,P,b,M);return this.world.add(A),A},softBody:function(E,w,P,b,M,A,R,L,O,D){var I=u.softBody(E,w,P,b,M,A,R,L,O,D);return this.world.add(I),I},joint:function(E,w,P,b,M){return this.constraint(E,w,P,b,M)},spring:function(E,w,P,b,M){return this.constraint(E,w,P,b,M)},constraint:function(E,w,P,b,M){b===void 0&&(b=1),M===void 0&&(M={}),M.bodyA=E.type==="body"?E:E.body,M.bodyB=w.type==="body"?w:w.body,isNaN(P)||(M.length=P),M.stiffness=b;var A=h.create(M);return this.world.add(A),A},worldConstraint:function(E,w,P,b){P===void 0&&(P=1),b===void 0&&(b={}),b.bodyB=E.type==="body"?E:E.body,isNaN(w)||(b.length=w),b.stiffness=P;var M=h.create(b);return this.world.add(M),M},mouseSpring:function(E){return this.pointerConstraint(E)},pointerConstraint:function(E){E===void 0&&(E={}),E.hasOwnProperty("render")||(E.render={visible:!1});var w=new m(this.scene,this.world,E);return this.world.add(w.constraint),w},image:function(E,w,P,b,M){var A=new d(this.world,E,w,P,b,M);return this.sys.displayList.add(A),A},tileBody:function(E,w){return new c(this.world,E,w)},sprite:function(E,w,P,b,M){var A=new v(this.world,E,w,P,b,M);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(E,w,P){return o(this.world,E,w,P)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=T},75803:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(31884),g=s(95540),u=s(26099);function h(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}var l=function(o,d,v,c){v===void 0&&(v={}),c===void 0&&(c=!0);var p=d.x,y=d.y;d.body={temp:!0,position:{x:p,y}};var m=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(m.forEach(function(T){for(var E in T)h(T[E])?Object.defineProperty(d,E,{get:T[E].get,set:T[E].set}):Object.defineProperty(d,E,{value:T[E]})}),d.world=o,d._tempVec2=new u(p,y),v.hasOwnProperty("type")&&v.type==="body")d.setExistingBody(v,c);else{var C=g(v,"shape",null);C||(C="rectangle"),v.addToWorld=c,d.setBody(C,v)}return d};n.exports=l},23181:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31884),u=s(95643),h=s(95540),l=s(88571),o=s(72699),d=s(26099),v=new a({Extends:l,Mixins:[g.Bounce,g.Collision,g.Force,g.Friction,g.Gravity,g.Mass,g.Sensor,g.SetBody,g.Sleep,g.Static,g.Transform,g.Velocity,o],initialize:function(p,y,m,C,T,E){u.call(this,p.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(C,T),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new d(y,m);var w=h(E,"shape",null);w?this.setBody(w,E):this.setRectangle(this.width,this.height,E),this.setPosition(y,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=v},42045:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(60461),g=s(66615),u=s(66280),h=s(22562),l=s(68174),o=s(15647),d=s(83419),v=s(52284),c=s(53402),p=s(69351),y=s(74116),m=s(48140),C=s(81388),T=s(20339),E=s(28137),w=s(95540),P=s(35154),b=s(18210),M=s(40178),A=s(6790),R=s(74507),L=s(46975),O=s(4506),D=s(99561),I=s(73832),B=s(37277),G=s(73296),z=s(66272),Y=s(44594),H=s(74058),k=s(31725),U=s(41598),F=s(68243);c.setDecomp(s(55973));var N=new d({initialize:function($){this.scene=$,this.systems=$.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=h,this.composite=p,this.collision=v,this.detector=C,this.pair=O,this.pairs=D,this.query=G,this.resolver=z,this.constraint=m,this.bodies=u,this.composites=y,this.axes=g,this.bounds=o,this.svg=H,this.vector=k,this.vertices=U,this.verts=U,this._tempVec2=k.create(),P(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),P(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),P(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),z._restingThresh=P(this.config,"restingThresh",4),z._restingThreshTangent=P(this.config,"restingThreshTangent",6),z._positionDampen=P(this.config,"positionDampen",.9),z._positionWarming=P(this.config,"positionWarming",.8),z._frictionNormalMultiplier=P(this.config,"frictionNormalMultiplier",5),$.sys.events.once(Y.BOOT,this.boot,this),$.sys.events.on(Y.START,this.start,this)},boot:function(){this.world=new F(this.scene,this.config),this.add=new E(this.world),this.bodyBounds=new l,this.systems.events.once(Y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new F(this.scene,this.config),this.add=new E(this.world));var V=this.systems.events;V.on(Y.UPDATE,this.world.update,this.world),V.on(Y.POST_UPDATE,this.world.postUpdate,this.world),V.once(Y.SHUTDOWN,this.shutdown,this)},getConfig:function(){var V=this.systems.game.config.physics,$=this.systems.settings.physics,X=L(w($,"matter",{}),w(V,"matter",{}));return X},enableAttractorPlugin:function(){return I.register(b),I.use(A,b),this},enableWrapPlugin:function(){return I.register(R),I.use(A,R),this},enableCollisionEventsPlugin:function(){return I.register(M),I.use(A,M),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(V,$){this.world.step(V,$)},containsPoint:function(V,$,X){V=this.getMatterBodies(V);var j=k.create($,X),Q=G.point(V,j);return Q.length>0},intersectPoint:function(V,$,X){X=this.getMatterBodies(X);var j=k.create(V,$),Q=[],K=G.point(X,j);return K.forEach(function(q){Q.indexOf(q)===-1&&Q.push(q)}),Q},intersectRect:function(V,$,X,j,Q,K){Q===void 0&&(Q=!1),K=this.getMatterBodies(K);var q={min:{x:V,y:$},max:{x:V+X,y:$+j}},tt=[],st=G.region(K,q,Q);return st.forEach(function(nt){tt.indexOf(nt)===-1&&tt.push(nt)}),tt},intersectRay:function(V,$,X,j,Q,K){Q===void 0&&(Q=1),K=this.getMatterBodies(K);for(var q=[],tt=G.ray(K,k.create(V,$),k.create(X,j),Q),st=0;st<tt.length;st++)q.push(tt[st].body);return q},intersectBody:function(V,$){$=this.getMatterBodies($);for(var X=[],j=G.collides(V,$),Q=0;Q<j.length;Q++){var K=j[Q];K.bodyA===V?X.push(K.bodyB):X.push(K.bodyA)}return X},overlap:function(V,$,X,j,Q){X===void 0&&(X=null),j===void 0&&(j=null),Q===void 0&&(Q=X),Array.isArray(V)||(V=[V]),V=this.getMatterBodies(V),$=this.getMatterBodies($);for(var K=!1,q=0;q<V.length;q++)for(var tt=V[q],st=G.collides(tt,$),nt=0;nt<st.length;nt++){var rt=st[nt],ut=rt.bodyA.id===tt.id?rt.bodyB:rt.bodyA;if(!j||j.call(Q,tt,ut,rt)){if(K=!0,X)X.call(Q,tt,ut,rt);else if(!j)return!0}}return K},setCollisionCategory:function(V,$){return V=this.getMatterBodies(V),V.forEach(function(X){X.collisionFilter.category=$}),this},setCollisionGroup:function(V,$){return V=this.getMatterBodies(V),V.forEach(function(X){X.collisionFilter.group=$}),this},setCollidesWith:function(V,$){V=this.getMatterBodies(V);var X=0;if(!Array.isArray($))X=$;else for(var j=0;j<$.length;j++)X|=$[j];return V.forEach(function(Q){Q.collisionFilter.mask=X}),this},getMatterBodies:function(V){if(!V)return this.world.getAllBodies();Array.isArray(V)||(V=[V]);for(var $=[],X=0;X<V.length;X++){var j=V[X].hasOwnProperty("body")?V[X].body:V[X];$.push(j)}return $},setVelocity:function(V,$,X){V=this.getMatterBodies(V);var j=this._tempVec2;return j.x=$,j.y=X,V.forEach(function(Q){h.setVelocity(Q,j)}),this},setVelocityX:function(V,$){V=this.getMatterBodies(V);var X=this._tempVec2;return X.x=$,V.forEach(function(j){X.y=j.velocity.y,h.setVelocity(j,X)}),this},setVelocityY:function(V,$){V=this.getMatterBodies(V);var X=this._tempVec2;return X.y=$,V.forEach(function(j){X.x=j.velocity.x,h.setVelocity(j,X)}),this},setAngularVelocity:function(V,$){return V=this.getMatterBodies(V),V.forEach(function(X){h.setAngularVelocity(X,$)}),this},applyForce:function(V,$){V=this.getMatterBodies(V);var X=this._tempVec2;return V.forEach(function(j){X.x=j.position.x,X.y=j.position.y,h.applyForce(j,X,$)}),this},applyForceFromPosition:function(V,$,X,j){V=this.getMatterBodies(V);var Q=this._tempVec2;return V.forEach(function(K){j===void 0&&(j=K.angle),Q.x=X*Math.cos(j),Q.y=X*Math.sin(j),h.applyForce(K,$,Q)}),this},applyForceFromAngle:function(V,$,X){V=this.getMatterBodies(V);var j=this._tempVec2;return V.forEach(function(Q){X===void 0&&(X=Q.angle),j.x=$*Math.cos(X),j.y=$*Math.sin(X),h.applyForce(Q,{x:Q.position.x,y:Q.position.y},j)}),this},getConstraintLength:function(V){var $=V.pointA.x,X=V.pointA.y,j=V.pointB.x,Q=V.pointB.y;return V.bodyA&&($+=V.bodyA.position.x,X+=V.bodyA.position.y),V.bodyB&&(j+=V.bodyB.position.x,Q+=V.bodyB.position.y),T($,X,j,Q)},alignBody:function(V,$,X,j){V=V.hasOwnProperty("body")?V.body:V;var Q;switch(j){case a.TOP_LEFT:case a.LEFT_TOP:Q=this.bodyBounds.getTopLeft(V,$,X);break;case a.TOP_CENTER:Q=this.bodyBounds.getTopCenter(V,$,X);break;case a.TOP_RIGHT:case a.RIGHT_TOP:Q=this.bodyBounds.getTopRight(V,$,X);break;case a.LEFT_CENTER:Q=this.bodyBounds.getLeftCenter(V,$,X);break;case a.CENTER:Q=this.bodyBounds.getCenter(V,$,X);break;case a.RIGHT_CENTER:Q=this.bodyBounds.getRightCenter(V,$,X);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:Q=this.bodyBounds.getBottomLeft(V,$,X);break;case a.BOTTOM_CENTER:Q=this.bodyBounds.getBottomCenter(V,$,X);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:Q=this.bodyBounds.getBottomRight(V,$,X);break}return Q&&h.setPosition(V,Q),this},shutdown:function(){var V=this.systems.events;this.world&&(V.off(Y.UPDATE,this.world.update,this.world),V.off(Y.POST_UPDATE,this.world.postUpdate,this.world)),V.off(Y.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Y.START,this.start,this),this.scene=null,this.systems=null}});B.register("MatterPhysics",N,"matterPhysics"),n.exports=N},34803:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(9674),g=s(83419),u=s(31884),h=s(95643),l=s(95540),o=s(72699),d=s(68287),v=s(26099),c=new g({Extends:d,Mixins:[u.Bounce,u.Collision,u.Force,u.Friction,u.Gravity,u.Mass,u.Sensor,u.SetBody,u.Sleep,u.Static,u.Transform,u.Velocity,o],initialize:function(y,m,C,T,E,w){h.call(this,y.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(T,E),this.setSizeToFrame(),this.setOrigin(),this.world=y,this._tempVec2=new v(m,C);var P=l(w,"shape",null);P?this.setBody(P,w):this.setRectangle(this.width,this.height,w),this.setPosition(m,C),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=c},73834:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),u=s(83419),h=s(31884),l=s(62644),o=s(50792),d=s(95540),v=s(97022),c=s(41598),p=new u({Extends:o,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(m,C,T){o.call(this),this.tile=C,this.world=m,C.physics.matterBody&&C.physics.matterBody.destroy(),C.physics.matterBody=this;var E=d(T,"body",null),w=d(T,"addToWorld",!0);if(E)this.setBody(E,w);else{var P=C.getCollisionGroup(),b=d(P,"objects",[]);b.length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(C.flipX||C.flipY){var M={x:C.getCenterX(),y:C.getCenterY()},A=C.flipX?-1:1,R=C.flipY?-1:1;g.scale(E,A,R,M)}},setFromTileRectangle:function(y){y===void 0&&(y={}),v(y,"isStatic")||(y.isStatic=!0),v(y,"addToWorld")||(y.addToWorld=!0);var m=this.tile.getBounds(),C=m.x+m.width/2,T=m.y+m.height/2,E=a.rectangle(C,T,m.width,m.height,y);return this.setBody(E,y.addToWorld),this},setFromTileCollision:function(y){y===void 0&&(y={}),v(y,"isStatic")||(y.isStatic=!0),v(y,"addToWorld")||(y.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,C=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),E=this.tile.getTop(),w=this.tile.getCollisionGroup(),P=d(w,"objects",[]),b=[],M=0;M<P.length;M++){var A=P[M],R=T+A.x*m,L=E+A.y*C,O=A.width*m,D=A.height*C,I=null;if(A.rectangle)I=a.rectangle(R+O/2,L+D/2,O,D,y);else if(A.ellipse)I=a.circle(R+O/2,L+D/2,O/2,y);else if(A.polygon||A.polyline){var B=A.polygon?A.polygon:A.polyline,G=B.map(function(k){return{x:k.x*m,y:k.y*C}}),z=c.create(G),Y=c.centre(z);R+=Y.x,L+=Y.y,I=a.fromVertices(R,L,z,y)}I&&b.push(I)}if(b.length===1)this.setBody(b[0],y.addToWorld);else if(b.length>1){var H=l(y);H.parts=b,this.setBody(g.create(H),H.addToWorld)}return this},setBody:function(y,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=y,this.body.gameObject=this,m&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=p},19496:(n,x,s)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),u=s(53402),h=s(95540),l=s(41598),o={parseBody:function(d,v,c,p){p===void 0&&(p={});for(var y=h(c,"fixtures",[]),m=[],C=0;C<y.length;C++)for(var T=this.parseFixture(y[C]),E=0;E<T.length;E++)m.push(T[E]);var w=u.clone(c,!0);u.extend(w,p,!0),delete w.fixtures,delete w.type;var P=g.create(w);return g.setParts(P,m),g.setPosition(P,{x:d,y:v}),P},parseFixture:function(d){var v=u.extend({},!1,d);delete v.circle,delete v.vertices;var c;if(d.circle){var p=h(d.circle,"x"),y=h(d.circle,"y"),m=h(d.circle,"radius");c=[a.circle(p,y,m,v)]}else d.vertices&&(c=this.parseVertices(d.vertices,v));return c},parseVertices:function(d,v){v===void 0&&(v={});for(var c=[],p=0;p<d.length;p++)l.clockwiseSort(d[p]),c.push(g.create(u.extend({position:l.centre(d[p]),vertices:d[p]},v)));return a.flagCoincidentParts(c)}};n.exports=o},85791:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),u={parseBody:function(h,l,o,d){d===void 0&&(d={});var v,c=o.vertices;if(c.length===1)d.vertices=c[0],v=g.create(d),a.flagCoincidentParts(v.parts);else{for(var p=[],y=0;y<c.length;y++){var m=g.create({vertices:c[y]});p.push(m)}a.flagCoincidentParts(p),d.parts=p,v=g.create(d)}return v.label=o.label,g.setPosition(v,{x:h,y:l}),v}};n.exports=u},98713:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(15647),g=s(83419),u=s(69351),h=s(48140),l=s(81388),o=s(1121),d=s(8214),v=s(46975),c=s(53614),p=s(26099),y=s(41598),m=new g({initialize:function(T,E,w){w===void 0&&(w={});var P={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=T,this.world=E,this.camera=null,this.pointer=null,this.active=!0,this.position=new p,this.body=null,this.part=null,this.constraint=h.create(v(w,P)),this.world.on(o.BEFORE_UPDATE,this.update,this),T.sys.input.on(d.POINTER_DOWN,this.onDown,this),T.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(C){this.pointer||(this.pointer=C,this.camera=C.camera)},onUp:function(C){C===this.pointer&&(this.pointer=null)},getBody:function(C){var T=this.position,E=this.constraint;this.camera.getWorldPoint(C.x,C.y,T);for(var w=u.allBodies(this.world.localWorld),P=0;P<w.length;P++){var b=w[P];if(!b.ignorePointer&&a.contains(b.bounds,T)&&l.canCollide(b.collisionFilter,E.collisionFilter)&&this.hitTestBody(b,T))return this.world.emit(o.DRAG_START,b,this.part,this),!0}return!1},hitTestBody:function(C,T){for(var E=this.constraint,w=C.parts.length,P=w>1?1:0,b=P;b<w;b++){var M=C.parts[b];if(y.contains(M.vertices,T))return E.pointA=T,E.pointB={x:T.x-C.position.x,y:T.y-C.position.y},E.bodyB=C,E.angleB=C.angle,c.set(C,!1),this.part=M,this.body=C,!0}return!1},update:function(){var C=this.pointer,T=this.body;if(!this.active||!C){T&&this.stopDrag();return}if(!C.isDown&&T){this.stopDrag();return}else if(C.isDown){if(!this.camera||!T&&!this.getBody(C))return;T=this.body;var E=this.position,w=this.constraint;this.camera.getWorldPoint(C.x,C.y,E),w.pointA.x=E.x,w.pointA.y=E.y,c.set(T,!1),this.world.emit(o.DRAG,T,this)}},stopDrag:function(){var C=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,C&&this.world.emit(o.DRAG_END,C,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(o.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});n.exports=m},68243:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),u=s(83419),h=s(53402),l=s(69351),o=s(48413),d=s(50792),v=s(1121),c=s(95540),p=s(35154),y=s(22562),m=s(35810),C=s(73834),T=s(4372),E=s(31725),w=new u({Extends:d,initialize:function(b,M){d.call(this),this.scene=b,this.engine=o.create(M),this.localWorld=this.engine.world;var A=p(M,"gravity",null);A?this.setGravity(A.x,A.y,A.scale):A===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=p(M,"enabled",!0),this.getDelta=p(M,"getDelta",this.update60Hz);var R=c(M,"runner",{}),L=c(R,"fps",!1),O=c(R,"fps",60),D=c(R,"delta",1e3/O),I=c(R,"deltaMin",1e3/O),B=c(R,"deltaMax",1e3/(O*.5));L||(O=1e3/D),this.runner={fps:O,deltaSampleSize:c(R,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:c(R,"isFixed",!1),delta:D,deltaMin:I,deltaMax:B},this.autoUpdate=p(M,"autoUpdate",!0);var G=p(M,"debug",!1);if(this.drawDebug=typeof G=="object"?!0:G,this.debugGraphic,this.debugConfig={showAxes:c(G,"showAxes",!1),showAngleIndicator:c(G,"showAngleIndicator",!1),angleColor:c(G,"angleColor",15208787),showBroadphase:c(G,"showBroadphase",!1),broadphaseColor:c(G,"broadphaseColor",16757760),showBounds:c(G,"showBounds",!1),boundsColor:c(G,"boundsColor",16777215),showVelocity:c(G,"showVelocity",!1),velocityColor:c(G,"velocityColor",44783),showCollisions:c(G,"showCollisions",!1),collisionColor:c(G,"collisionColor",16094476),showSeparations:c(G,"showSeparations",!1),separationColor:c(G,"separationColor",16753920),showBody:c(G,"showBody",!0),showStaticBody:c(G,"showStaticBody",!0),showInternalEdges:c(G,"showInternalEdges",!1),renderFill:c(G,"renderFill",!1),renderLine:c(G,"renderLine",!0),fillColor:c(G,"fillColor",1075465),fillOpacity:c(G,"fillOpacity",1),lineColor:c(G,"lineColor",2678297),lineOpacity:c(G,"lineOpacity",1),lineThickness:c(G,"lineThickness",1),staticFillColor:c(G,"staticFillColor",857979),staticLineColor:c(G,"staticLineColor",1255396),showSleeping:c(G,"showSleeping",!1),staticBodySleepOpacity:c(G,"staticBodySleepOpacity",.7),sleepFillColor:c(G,"sleepFillColor",4605510),sleepLineColor:c(G,"sleepLineColor",10066585),showSensors:c(G,"showSensors",!0),sensorFillColor:c(G,"sensorFillColor",857979),sensorLineColor:c(G,"sensorLineColor",1255396),showPositions:c(G,"showPositions",!0),positionSize:c(G,"positionSize",4),positionColor:c(G,"positionColor",14697178),showJoint:c(G,"showJoint",!0),jointColor:c(G,"jointColor",14737474),jointLineOpacity:c(G,"jointLineOpacity",1),jointLineThickness:c(G,"jointLineThickness",2),pinSize:c(G,"pinSize",4),pinColor:c(G,"pinColor",4382944),springColor:c(G,"springColor",14697184),anchorColor:c(G,"anchorColor",15724527),anchorSize:c(G,"anchorSize",4),showConvexHulls:c(G,"showConvexHulls",!1),hullColor:c(G,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),c(M,"setBounds",!1)){var z=M.setBounds;if(typeof z=="boolean")this.setBounds();else{var Y=c(z,"x",0),H=c(z,"y",0),k=c(z,"width",b.sys.scale.width),U=c(z,"height",b.sys.scale.height),F=c(z,"thickness",64),N=c(z,"left",!0),V=c(z,"right",!0),$=c(z,"top",!0),X=c(z,"bottom",!0);this.setBounds(Y,H,k,U,F,N,V,$,X)}}},setCompositeRenderStyle:function(P){var b=P.bodies,M=P.constraints,A=P.composites,R,L,O;for(R=0;R<b.length;R++)L=b[R],O=L.render,this.setBodyRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.fillColor,O.fillOpacity);for(R=0;R<M.length;R++)L=M[R],O=L.render,this.setConstraintRenderStyle(L,O.lineColor,O.lineOpacity,O.lineThickness,O.pinSize,O.anchorColor,O.anchorSize);for(R=0;R<A.length;R++)L=A[R],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(P,b,M,A,R,L){var O=P.render,D=this.debugConfig;return O?(b==null&&(b=P.isStatic?D.staticLineColor:D.lineColor),M==null&&(M=D.lineOpacity),A==null&&(A=D.lineThickness),R==null&&(R=P.isStatic?D.staticFillColor:D.fillColor),L==null&&(L=D.fillOpacity),b!==!1&&(O.lineColor=b),M!==!1&&(O.lineOpacity=M),A!==!1&&(O.lineThickness=A),R!==!1&&(O.fillColor=R),L!==!1&&(O.fillOpacity=L),this):this},setConstraintRenderStyle:function(P,b,M,A,R,L,O){var D=P.render,I=this.debugConfig;if(!D)return this;if(b==null){var B=D.type;B==="line"?b=I.jointColor:B==="pin"?b=I.pinColor:B==="spring"&&(b=I.springColor)}return M==null&&(M=I.jointLineOpacity),A==null&&(A=I.jointLineThickness),R==null&&(R=I.pinSize),L==null&&(L=I.anchorColor),O==null&&(O=I.anchorSize),b!==!1&&(D.lineColor=b),M!==!1&&(D.lineOpacity=M),A!==!1&&(D.lineThickness=A),R!==!1&&(D.pinSize=R),L!==!1&&(D.anchorColor=L),O!==!1&&(D.anchorSize=O),this},setEventsProxy:function(){var P=this,b=this.engine,M=this.localWorld;this.drawDebug&&(m.on(M,"compositeModified",function(A){P.setCompositeRenderStyle(A)}),m.on(M,"beforeAdd",function(A){for(var R=[].concat(A.object),L=0;L<R.length;L++){var O=R[L],D=O.render;O.type==="body"?P.setBodyRenderStyle(O,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):O.type==="composite"?P.setCompositeRenderStyle(O):O.type==="constraint"&&P.setConstraintRenderStyle(O,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),m.on(M,"beforeAdd",function(A){P.emit(v.BEFORE_ADD,A)}),m.on(M,"afterAdd",function(A){P.emit(v.AFTER_ADD,A)}),m.on(M,"beforeRemove",function(A){P.emit(v.BEFORE_REMOVE,A)}),m.on(M,"afterRemove",function(A){P.emit(v.AFTER_REMOVE,A)}),m.on(b,"beforeUpdate",function(A){P.emit(v.BEFORE_UPDATE,A)}),m.on(b,"afterUpdate",function(A){P.emit(v.AFTER_UPDATE,A)}),m.on(b,"collisionStart",function(A){var R=A.pairs,L,O;R.length>0&&(L=R[0].bodyA,O=R[0].bodyB),P.emit(v.COLLISION_START,A,L,O)}),m.on(b,"collisionActive",function(A){var R=A.pairs,L,O;R.length>0&&(L=R[0].bodyA,O=R[0].bodyB),P.emit(v.COLLISION_ACTIVE,A,L,O)}),m.on(b,"collisionEnd",function(A){var R=A.pairs,L,O;R.length>0&&(L=R[0].bodyA,O=R[0].bodyB),P.emit(v.COLLISION_END,A,L,O)})},setBounds:function(P,b,M,A,R,L,O,D,I){return P===void 0&&(P=0),b===void 0&&(b=0),M===void 0&&(M=this.scene.sys.scale.width),A===void 0&&(A=this.scene.sys.scale.height),R===void 0&&(R=64),L===void 0&&(L=!0),O===void 0&&(O=!0),D===void 0&&(D=!0),I===void 0&&(I=!0),this.updateWall(L,"left",P-R,b-R,R,A+R*2),this.updateWall(O,"right",P+M,b-R,R,A+R*2),this.updateWall(D,"top",P,b-R,M,R),this.updateWall(I,"bottom",P,b+A,M,R),this},updateWall:function(P,b,M,A,R,L){var O=this.walls[b];P?(O&&T.remove(this.localWorld,O),M+=R/2,A+=L/2,this.walls[b]=this.create(M,A,R,L,{isStatic:!0,friction:0,frictionStatic:0})):(O&&T.remove(this.localWorld,O),this.walls[b]=null)},createDebugGraphic:function(){var P=this.scene.sys.add.graphics({x:0,y:0});return P.setDepth(Number.MAX_VALUE),this.debugGraphic=P,this.drawDebug=!0,P},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(P,b,M){return P===void 0&&(P=0),b===void 0&&(b=1),M===void 0&&(M=.001),this.localWorld.gravity.x=P,this.localWorld.gravity.y=b,this.localWorld.gravity.scale=M,this},create:function(P,b,M,A,R){var L=a.rectangle(P,b,M,A,R);return T.add(this.localWorld,L),L},add:function(P){return T.add(this.localWorld,P),this},remove:function(P,b){Array.isArray(P)||(P=[P]);for(var M=0;M<P.length;M++){var A=P[M],R=A.body?A.body:A;l.remove(this.localWorld,R,b)}return this},removeConstraint:function(P,b){return l.remove(this.localWorld,P,b),this},convertTilemapLayer:function(P,b){var M=P.layer,A=P.getTilesWithin(0,0,M.width,M.height,{isColliding:!0});return this.convertTiles(A,b),this},convertTiles:function(P,b){if(P.length===0)return this;for(var M=0;M<P.length;M++)new C(this,P[M],b);return this},nextGroup:function(P){return y.nextGroup(P)},nextCategory:function(){return y.nextCategory()},pause:function(){return this.enabled=!1,this.emit(v.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(v.RESUME),this},update:function(P,b){if(!(!this.enabled||!this.autoUpdate)){var M=this.engine,A=this.runner,R=M.timing;A.isFixed?b=this.getDelta(P,b):(b=P-A.timePrev||A.delta,A.timePrev=P,A.deltaHistory.push(b),A.deltaHistory=A.deltaHistory.slice(-A.deltaSampleSize),b=Math.min.apply(null,A.deltaHistory),b=b<A.deltaMin?A.deltaMin:b,b=b>A.deltaMax?A.deltaMax:b,A.delta=b),A.timeScalePrev=R.timeScale,A.frameCounter+=1,P-A.counterTimestamp>=1e3&&(A.fps=A.frameCounter*((P-A.counterTimestamp)/1e3),A.counterTimestamp=P,A.frameCounter=0),o.update(M,b)}},step:function(P){o.update(this.engine,P)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(P){var b=P.hasOwnProperty("body")?P.body:P;return l.get(this.localWorld,b.id,b.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var P=this.debugConfig,b=this.engine,M=this.debugGraphic,A=l.allBodies(this.localWorld);this.debugGraphic.clear(),P.showBroadphase&&b.broadphase.controller&&this.renderGrid(b.broadphase,M,P.broadphaseColor,.5),P.showBounds&&this.renderBodyBounds(A,M,P.boundsColor,.5),(P.showBody||P.showStaticBody)&&this.renderBodies(A),P.showJoint&&this.renderJoints(),(P.showAxes||P.showAngleIndicator)&&this.renderBodyAxes(A,M,P.showAxes,P.angleColor,.5),P.showVelocity&&this.renderBodyVelocity(A,M,P.velocityColor,1,2),P.showSeparations&&this.renderSeparations(b.pairs.list,M,P.separationColor),P.showCollisions&&this.renderCollisions(b.pairs.list,M,P.collisionColor)}},renderGrid:function(P,b,M,A){b.lineStyle(1,M,A);for(var R=h.keys(P.buckets),L=0;L<R.length;L++){var O=R[L];if(!(P.buckets[O].length<2)){var D=O.split(/C|R/);b.strokeRect(parseInt(D[1],10)*P.bucketWidth,parseInt(D[2],10)*P.bucketHeight,P.bucketWidth,P.bucketHeight)}}return this},renderSeparations:function(P,b,M){b.lineStyle(1,M,1);for(var A=0;A<P.length;A++){var R=P[A];if(R.isActive){var L=R.collision,O=L.bodyA,D=L.bodyB,I=O.position,B=D.position,G=L.penetration,z=!O.isStatic&&!D.isStatic?4:1;D.isStatic&&(z=0),b.lineBetween(B.x,B.y,B.x-G.x*z,B.y-G.y*z),z=!O.isStatic&&!D.isStatic?4:1,O.isStatic&&(z=0),b.lineBetween(I.x,I.y,I.x-G.x*z,I.y-G.y*z)}}return this},renderCollisions:function(P,b,M){b.lineStyle(1,M,.5),b.fillStyle(M,1);var A,R;for(A=0;A<P.length;A++)if(R=P[A],!!R.isActive)for(var L=0;L<R.activeContacts.length;L++){var O=R.activeContacts[L],D=O.vertex;b.fillRect(D.x-2,D.y-2,5,5)}for(A=0;A<P.length;A++)if(R=P[A],!!R.isActive){var I=R.collision,B=R.activeContacts;if(B.length>0){var G=B[0].vertex.x,z=B[0].vertex.y;B.length===2&&(G=(B[0].vertex.x+B[1].vertex.x)/2,z=(B[0].vertex.y+B[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?b.lineBetween(G-I.normal.x*8,z-I.normal.y*8,G,z):b.lineBetween(G+I.normal.x*8,z+I.normal.y*8,G,z)}}return this},renderBodyBounds:function(P,b,M,A){b.lineStyle(1,M,A);for(var R=0;R<P.length;R++){var L=P[R];if(L.render.visible){var O=L.bounds;if(O)b.strokeRect(O.min.x,O.min.y,O.max.x-O.min.x,O.max.y-O.min.y);else for(var D=L.parts,I=D.length>1?1:0;I<D.length;I++){var B=D[I];b.strokeRect(B.bounds.min.x,B.bounds.min.y,B.bounds.max.x-B.bounds.min.x,B.bounds.max.y-B.bounds.min.y)}}}return this},renderBodyAxes:function(P,b,M,A,R){b.lineStyle(1,A,R);for(var L=0;L<P.length;L++){var O=P[L],D=O.parts;if(O.render.visible){var I,B,G;if(M)for(B=D.length>1?1:0;B<D.length;B++)for(I=D[B],G=0;G<I.axes.length;G++){var z=I.axes[G];b.lineBetween(I.position.x,I.position.y,I.position.x+z.x*20,I.position.y+z.y*20)}else for(B=D.length>1?1:0;B<D.length;B++)for(I=D[B],G=0;G<I.axes.length;G++)b.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(P,b,M,A,R){b.lineStyle(R,M,A);for(var L=0;L<P.length;L++){var O=P[L];O.render.visible&&b.lineBetween(O.position.x,O.position.y,O.position.x+(O.position.x-O.positionPrev.x)*2,O.position.y+(O.position.y-O.positionPrev.y)*2)}return this},renderBodies:function(P){for(var b=this.debugGraphic,M=this.debugConfig,A=M.showBody,R=M.showStaticBody,L=M.showSleeping,O=M.showInternalEdges,D=M.showConvexHulls,I=M.renderFill,B=M.renderLine,G=M.staticBodySleepOpacity,z=M.sleepFillColor,Y=M.sleepLineColor,H=M.hullColor,k=0;k<P.length;k++){var U=P[k];if(U.render.visible&&!(!R&&U.isStatic||!A&&!U.isStatic)){var F=U.render.lineColor,N=U.render.lineOpacity,V=U.render.lineThickness,$=U.render.fillColor,X=U.render.fillOpacity;L&&U.isSleeping&&(U.isStatic?(N*=G,X*=G):(F=Y,$=z)),I||($=null),B||(F=null),this.renderBody(U,b,O,F,N,V,$,X);var j=U.parts.length;D&&j>1&&this.renderConvexHull(U,b,H,V)}}},renderBody:function(P,b,M,A,R,L,O,D){A===void 0&&(A=null),R===void 0&&(R=null),L===void 0&&(L=1),O===void 0&&(O=null),D===void 0&&(D=null);for(var I=this.debugConfig,B=I.sensorFillColor,G=I.sensorLineColor,z=P.parts,Y=z.length,H=Y>1?1:0;H<Y;H++){var k=z[H],U=k.render,F=U.opacity;if(!(!U.visible||F===0||k.isSensor&&!I.showSensors)){var N=k.circleRadius;if(b.beginPath(),k.isSensor?(O!==null&&b.fillStyle(B,D*F),A!==null&&b.lineStyle(L,G,R*F)):(O!==null&&b.fillStyle(O,D*F),A!==null&&b.lineStyle(L,A,R*F)),N)b.arc(k.position.x,k.position.y,N,0,2*Math.PI);else{var V=k.vertices,$=V.length;b.moveTo(V[0].x,V[0].y);for(var X=1;X<$;X++){var j=V[X];if(!V[X-1].isInternal||M?b.lineTo(j.x,j.y):b.moveTo(j.x,j.y),X<$&&j.isInternal&&!M){var Q=(X+1)%$;b.moveTo(V[Q].x,V[Q].y)}}b.closePath()}O!==null&&b.fillPath(),A!==null&&b.strokePath()}}if(I.showPositions&&!P.isStatic){var K=P.position.x,q=P.position.y,tt=Math.ceil(I.positionSize/2);b.fillStyle(I.positionColor,1),b.fillRect(K-tt,q-tt,I.positionSize,I.positionSize)}return this},renderConvexHull:function(P,b,M,A){A===void 0&&(A=1);var R=P.parts,L=R.length;if(L>1){var O=P.vertices;b.lineStyle(A,M),b.beginPath(),b.moveTo(O[0].x,O[0].y);for(var D=1;D<O.length;D++)b.lineTo(O[D].x,O[D].y);b.lineTo(O[0].x,O[0].y),b.strokePath()}return this},renderJoints:function(){for(var P=this.debugGraphic,b=l.allConstraints(this.localWorld),M=0;M<b.length;M++){var A=b[M].render,R=A.lineColor,L=A.lineOpacity,O=A.lineThickness,D=A.pinSize,I=A.anchorColor,B=A.anchorSize;this.renderConstraint(b[M],P,R,L,O,D,I,B)}},renderConstraint:function(P,b,M,A,R,L,O,D){var I=P.render;if(!I.visible||!P.pointA||!P.pointB)return this;b.lineStyle(R,M,A);var B=P.bodyA,G=P.bodyB,z,Y;if(B?z=E.add(B.position,P.pointA):z=P.pointA,I.type==="pin")b.strokeCircle(z.x,z.y,L);else{if(G?Y=E.add(G.position,P.pointB):Y=P.pointB,b.beginPath(),b.moveTo(z.x,z.y),I.type==="spring")for(var H=E.sub(Y,z),k=E.perp(E.normalise(H)),U=Math.ceil(h.clamp(P.length/5,12,20)),F,N=1;N<U;N+=1)F=N%2===0?1:-1,b.lineTo(z.x+H.x*(N/U)+k.x*F*4,z.y+H.y*(N/U)+k.y*F*4);b.lineTo(Y.x,Y.y)}return b.strokePath(),I.anchors&&D>0&&(b.fillStyle(O),b.fillCircle(z.x,z.y,D),b.fillCircle(Y.x,Y.y,D)),this},resetCollisionIDs:function(){return g._nextCollidingGroupId=1,g._nextNonCollidingGroupId=-1,g._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),o.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=w},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setBounce:function(s){return this.body.restitution=s,this}};n.exports=x},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setCollisionCategory:function(s){return this.body.collisionFilter.category=s,this},setCollisionGroup:function(s){return this.body.collisionFilter.group=s,this},setCollidesWith:function(s){var a=0;if(!Array.isArray(s))a=s;else for(var g=0;g<s.length;g++)a|=s[g];return this.body.collisionFilter.mask=a,this},setOnCollide:function(s){return this.body.onCollideCallback=s,this},setOnCollideEnd:function(s){return this.body.onCollideEndCallback=s,this},setOnCollideActive:function(s){return this.body.onCollideActiveCallback=s,this},setOnCollideWith:function(s,a){Array.isArray(s)||(s=[s]);for(var g=0;g<s.length;g++){var u=s[g].hasOwnProperty("body")?s[g].body:s[g];this.body.setOnCollideWith(u,a)}return this}};n.exports=x},51607:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g={applyForce:function(u){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,u),this},applyForceFrom:function(u,h){return a.applyForce(this.body,u,h),this},thrust:function(u){var h=this.body.angle;return this._tempVec2.set(u*Math.cos(h),u*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(u){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(u*Math.cos(h),u*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(u){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(u*Math.cos(h),u*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(u){var h=this.body.angle-Math.PI;return this._tempVec2.set(u*Math.cos(h),u*Math.sin(h)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=g},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setFriction:function(s,a,g){return this.body.friction=s,a!==void 0&&(this.body.frictionAir=a),g!==void 0&&(this.body.frictionStatic=g),this},setFrictionAir:function(s){return this.body.frictionAir=s,this},setFrictionStatic:function(s){return this.body.frictionStatic=s,this}};n.exports=x},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setIgnoreGravity:function(s){return this.body.ignoreGravity=s,this}};n.exports=x},37302:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g=s(26099),u={setMass:function(h){return a.setMass(this.body,h),this},setDensity:function(h){return a.setDensity(this.body,h),this},centerOfMass:{get:function(){return new g(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=u},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={setSensor:function(s){return this.body.isSensor=s,this},isSensor:function(){return this.body.isSensor}};n.exports=x},57772:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(66280),g=s(22562),u=s(43855),h=s(95540),l=s(19496),o=s(85791),d=s(41598),v={setRectangle:function(c,p,y){return this.setBody({type:"rectangle",width:c,height:p},y)},setCircle:function(c,p){return this.setBody({type:"circle",radius:c},p)},setPolygon:function(c,p,y){return this.setBody({type:"polygon",sides:p,radius:c},y)},setTrapezoid:function(c,p,y,m){return this.setBody({type:"trapezoid",width:c,height:p,slope:y},m)},setExistingBody:function(c,p){p===void 0&&(p=!0),this.body&&this.world.remove(this.body,!0),this.body=c;for(var y=0;y<c.parts.length;y++)c.parts[y].gameObject=this;var m=this;if(c.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},p&&(this.world.has(c)&&this.world.remove(c,!0),this.world.add(c)),this._originComponent){var C=c.render.sprite.xOffset,T=c.render.sprite.yOffset,E=c.centerOfMass.x,w=c.centerOfMass.y;if(u(E,.5)&&u(w,.5))this.setOrigin(C+.5,T+.5);else{var P=c.centerOffset.x,b=c.centerOffset.y;this.setOrigin(C+P/this.displayWidth,T+b/this.displayHeight)}}return this},setBody:function(c,p){if(!c)return this;var y;typeof c=="string"&&(c={type:c});var m=h(c,"type","rectangle"),C=h(c,"x",this._tempVec2.x),T=h(c,"y",this._tempVec2.y),E=h(c,"width",this.width),w=h(c,"height",this.height);switch(m){case"rectangle":y=a.rectangle(C,T,E,w,p);break;case"circle":var P=h(c,"radius",Math.max(E,w)/2),b=h(c,"maxSides",25);y=a.circle(C,T,P,p,b);break;case"trapezoid":var M=h(c,"slope",.5);y=a.trapezoid(C,T,E,w,M,p);break;case"polygon":var A=h(c,"sides",5),R=h(c,"radius",Math.max(E,w)/2);y=a.polygon(C,T,A,R,p);break;case"fromVertices":case"fromVerts":var L=h(c,"verts",null);if(L)if(typeof L=="string"&&(L=d.fromPath(L)),this.body&&!this.body.hasOwnProperty("temp"))g.setVertices(this.body,L),y=this.body;else{var O=h(c,"flagInternal",!1),D=h(c,"removeCollinear",.01),I=h(c,"minimumArea",10);y=a.fromVertices(C,T,L,p,O,D,I)}break;case"fromPhysicsEditor":y=l.parseBody(C,T,c,p);break;case"fromPhysicsTracer":y=o.parseBody(C,T,c,p);break}return y&&this.setExistingBody(y,c.addToWorld),this}};n.exports=v},38083:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(1121),g=s(53614),u=s(35810),h={setToSleep:function(){return g.set(this.body,!0),this},setAwake:function(){return g.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,o){return this.setSleepStartEvent(l),this.setSleepEndEvent(o),this},setSleepStartEvent:function(l){if(l){var o=this.world;u.on(this.body,"sleepStart",function(d){o.emit(a.SLEEP_START,d,this)})}else u.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var o=this.world;u.on(this.body,"sleepEnd",function(d){o.emit(a.SLEEP_END,d,this)})}else u.off(this.body,"sleepEnd");return this}};n.exports=h},90556:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g={setStatic:function(u){return a.setStatic(this.body,u),this},isStatic:function(){return this.body.isStatic}};n.exports=g},85436:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g=s(36383),u=s(86554),h=s(30954),l=4,o={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),a.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(d){var v=1/this._scaleX,c=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,a.scale(this.body,v,c),a.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var v=1/this._scaleX,c=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,a.scale(this.body,v,c),a.scale(this.body,this._scaleX,d)}},angle:{get:function(){return h(this.body.angle*g.RAD_TO_DEG)},set:function(d){this.rotation=h(d)*g.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=u(d),a.setAngle(this.body,this._rotation)}},setPosition:function(d,v){return d===void 0&&(d=0),v===void 0&&(v=d),this._tempVec2.set(d,v),a.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=u(d),a.setAngle(this.body,d),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,a.setAngle(this.body,this.rotation),this},setScale:function(d,v,c){d===void 0&&(d=1),v===void 0&&(v=d);var p=1/this._scaleX,y=1/this._scaleY;return this._scaleX=d,this._scaleY=v,a.scale(this.body,p,y,c),a.scale(this.body,d,v,c),this}};n.exports=o},42081:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(22562),g={setVelocityX:function(u){return this._tempVec2.set(u,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(u){return this._tempVec2.set(this.body.velocity.x,u),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(u,h){return this._tempVec2.set(u,h),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(u){return a.setAngularVelocity(this.body,u),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(u){return a.setAngularSpeed(this.body,u),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};n.exports=g},31884:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:s(70410),Collision:s(66968),Force:s(51607),Friction:s(5436),Gravity:s(39858),Mass:s(37302),Sensor:s(39132),SetBody:s(57772),Sleep:s(38083),Static:s(90556),Transform:s(85436),Velocity:s(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:s(85608),AFTER_REMOVE:s(1213),AFTER_UPDATE:s(25968),BEFORE_ADD:s(67205),BEFORE_REMOVE:s(39438),BEFORE_UPDATE:s(44823),COLLISION_ACTIVE:s(92593),COLLISION_END:s(60128),COLLISION_START:s(76861),DRAG_END:s(92362),DRAG:s(76408),DRAG_START:s(93971),PAUSE:s(5656),RESUME:s(47861),SLEEP_END:s(79099),SLEEP_START:s(35906)}},3875:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:s(68174),Components:s(31884),Events:s(1121),Factory:s(28137),MatterGameObject:s(75803),Image:s(23181),Matter:s(19933),MatterPhysics:s(42045),PolyDecomp:s(55973),Sprite:s(34803),TileBody:s(73834),PhysicsEditorParser:s(19496),PhysicsJSONParser:s(85791),PointerConstraint:s(98713),World:s(68243)}},22562:(n,x,s)=>{var a={};n.exports=a;var g=s(41598),u=s(31725),h=s(53614),l=s(53402),o=s(15647),d=s(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(c){var p={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!c.hasOwnProperty("position")&&c.hasOwnProperty("vertices")?c.position=g.centre(c.vertices):c.hasOwnProperty("vertices")||(p.vertices=g.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var y=l.extend(p,c);return v(y,c),y.setOnCollideWith=function(m,C){return C?this.onCollideWith[m.id]=C:delete this.onCollideWith[m.id],this},y},a.nextGroup=function(c){return c?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var v=function(c,p){if(p=p||{},a.set(c,{bounds:c.bounds||o.create(c.vertices),positionPrev:c.positionPrev||u.clone(c.position),anglePrev:c.anglePrev||c.angle,vertices:c.vertices,parts:c.parts||[c],isStatic:c.isStatic,isSleeping:c.isSleeping,parent:c.parent||c}),g.rotate(c.vertices,c.angle,c.position),d.rotate(c.axes,c.angle),o.update(c.bounds,c.vertices,c.velocity),a.set(c,{axes:p.axes||c.axes,area:p.area||c.area,mass:p.mass||c.mass,inertia:p.inertia||c.inertia}),c.parts.length===1){var y=c.bounds,m=c.centerOfMass,C=c.centerOffset,T=y.max.x-y.min.x,E=y.max.y-y.min.y;m.x=-(y.min.x-c.position.x)/T,m.y=-(y.min.y-c.position.y)/E,C.x=T*m.x,C.y=E*m.y}};a.set=function(c,p,y){var m;typeof p=="string"&&(m=p,p={},p[m]=y);for(m in p)if(Object.prototype.hasOwnProperty.call(p,m))switch(y=p[m],m){case"isStatic":a.setStatic(c,y);break;case"isSleeping":h.set(c,y);break;case"mass":a.setMass(c,y);break;case"density":a.setDensity(c,y);break;case"inertia":a.setInertia(c,y);break;case"vertices":a.setVertices(c,y);break;case"position":a.setPosition(c,y);break;case"angle":a.setAngle(c,y);break;case"velocity":a.setVelocity(c,y);break;case"angularVelocity":a.setAngularVelocity(c,y);break;case"speed":a.setSpeed(c,y);break;case"angularSpeed":a.setAngularSpeed(c,y);break;case"parts":a.setParts(c,y);break;case"centre":a.setCentre(c,y);break;default:c[m]=y}},a.setStatic=function(c,p){for(var y=0;y<c.parts.length;y++){var m=c.parts[y];p?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=p}},a.setMass=function(c,p){var y=c.inertia/(c.mass/6);c.inertia=y*(p/6),c.inverseInertia=1/c.inertia,c.mass=p,c.inverseMass=1/c.mass,c.density=c.mass/c.area},a.setDensity=function(c,p){a.setMass(c,p*c.area),c.density=p},a.setInertia=function(c,p){c.inertia=p,c.inverseInertia=1/c.inertia},a.setVertices=function(c,p){p[0].body===c?c.vertices=p:c.vertices=g.create(p,c),c.axes=d.fromVertices(c.vertices),c.area=g.area(c.vertices),a.setMass(c,c.density*c.area);var y=g.centre(c.vertices);g.translate(c.vertices,y,-1),a.setInertia(c,a._inertiaScale*g.inertia(c.vertices,c.mass)),g.translate(c.vertices,c.position),o.update(c.bounds,c.vertices,c.velocity)},a.setParts=function(c,p,y){var m;for(p=p.slice(0),c.parts.length=0,c.parts.push(c),c.parent=c,m=0;m<p.length;m++){var C=p[m];C!==c&&(C.parent=c,c.parts.push(C))}if(c.parts.length!==1){if(y=typeof y<"u"?y:!0,y){var T=[];for(m=0;m<p.length;m++)T=T.concat(p[m].vertices);g.clockwiseSort(T);var E=g.hull(T),w=g.centre(E);a.setVertices(c,E),g.translate(c.vertices,w)}var P=a._totalProperties(c),b=P.centre.x,M=P.centre.y,A=c.bounds,R=c.centerOfMass,L=c.centerOffset;o.update(A,c.vertices,c.velocity),R.x=-(A.min.x-b)/(A.max.x-A.min.x),R.y=-(A.min.y-M)/(A.max.y-A.min.y),L.x=b,L.y=M,c.area=P.area,c.parent=c,c.position.x=b,c.position.y=M,c.positionPrev.x=b,c.positionPrev.y=M,a.setMass(c,P.mass),a.setInertia(c,P.inertia),a.setPosition(c,P.centre)}},a.setCentre=function(c,p,y){y?(c.positionPrev.x+=p.x,c.positionPrev.y+=p.y,c.position.x+=p.x,c.position.y+=p.y):(c.positionPrev.x=p.x-(c.position.x-c.positionPrev.x),c.positionPrev.y=p.y-(c.position.y-c.positionPrev.y),c.position.x=p.x,c.position.y=p.y)},a.setPosition=function(c,p,y){var m=u.sub(p,c.position);y?(c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.velocity.x=m.x,c.velocity.y=m.y,c.speed=u.magnitude(m)):(c.positionPrev.x+=m.x,c.positionPrev.y+=m.y);for(var C=0;C<c.parts.length;C++){var T=c.parts[C];T.position.x+=m.x,T.position.y+=m.y,g.translate(T.vertices,m),o.update(T.bounds,T.vertices,c.velocity)}},a.setAngle=function(c,p,y){var m=p-c.angle;y?(c.anglePrev=c.angle,c.angularVelocity=m,c.angularSpeed=Math.abs(m)):c.anglePrev+=m;for(var C=0;C<c.parts.length;C++){var T=c.parts[C];T.angle+=m,g.rotate(T.vertices,m,c.position),d.rotate(T.axes,m),o.update(T.bounds,T.vertices,c.velocity),C>0&&u.rotateAbout(T.position,m,c.position,T.position)}},a.setVelocity=function(c,p){var y=c.deltaTime/a._baseDelta;c.positionPrev.x=c.position.x-p.x*y,c.positionPrev.y=c.position.y-p.y*y,c.velocity.x=(c.position.x-c.positionPrev.x)/y,c.velocity.y=(c.position.y-c.positionPrev.y)/y,c.speed=u.magnitude(c.velocity)},a.getVelocity=function(c){var p=a._baseDelta/c.deltaTime;return{x:(c.position.x-c.positionPrev.x)*p,y:(c.position.y-c.positionPrev.y)*p}},a.getSpeed=function(c){return u.magnitude(a.getVelocity(c))},a.setSpeed=function(c,p){a.setVelocity(c,u.mult(u.normalise(a.getVelocity(c)),p))},a.setAngularVelocity=function(c,p){var y=c.deltaTime/a._baseDelta;c.anglePrev=c.angle-p*y,c.angularVelocity=(c.angle-c.anglePrev)/y,c.angularSpeed=Math.abs(c.angularVelocity)},a.getAngularVelocity=function(c){return(c.angle-c.anglePrev)*a._baseDelta/c.deltaTime},a.getAngularSpeed=function(c){return Math.abs(a.getAngularVelocity(c))},a.setAngularSpeed=function(c,p){a.setAngularVelocity(c,l.sign(a.getAngularVelocity(c))*p)},a.translate=function(c,p,y){a.setPosition(c,u.add(c.position,p),y)},a.rotate=function(c,p,y,m){if(!y)a.setAngle(c,c.angle+p,m);else{var C=Math.cos(p),T=Math.sin(p),E=c.position.x-y.x,w=c.position.y-y.y;a.setPosition(c,{x:y.x+(E*C-w*T),y:y.y+(E*T+w*C)},m),a.setAngle(c,c.angle+p,m)}},a.scale=function(c,p,y,m){var C=0,T=0;m=m||c.position;for(var E=c.inertia===1/0,w=0;w<c.parts.length;w++){var P=c.parts[w];P.scale.x=p,P.scale.y=y,g.scale(P.vertices,p,y,m),P.axes=d.fromVertices(P.vertices),P.area=g.area(P.vertices),a.setMass(P,c.density*P.area),g.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),a.setInertia(P,a._inertiaScale*g.inertia(P.vertices,P.mass)),g.translate(P.vertices,{x:P.position.x,y:P.position.y}),w>0&&(C+=P.area,T+=P.inertia),P.position.x=m.x+(P.position.x-m.x)*p,P.position.y=m.y+(P.position.y-m.y)*y,o.update(P.bounds,P.vertices,c.velocity)}c.parts.length>1&&(c.area=C,c.isStatic||(a.setMass(c,c.density*C),a.setInertia(c,T))),c.circleRadius&&(p===y?c.circleRadius*=p:c.circleRadius=null),E&&a.setInertia(c,1/0)},a.update=function(c,p){p=(typeof p<"u"?p:16.666666666666668)*c.timeScale;var y=p*p,m=a._timeCorrection?p/(c.deltaTime||p):1,C=1-c.frictionAir*(p/l._baseDelta),T=(c.position.x-c.positionPrev.x)*m,E=(c.position.y-c.positionPrev.y)*m;c.velocity.x=T*C+c.force.x/c.mass*y,c.velocity.y=E*C+c.force.y/c.mass*y,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.position.x+=c.velocity.x,c.position.y+=c.velocity.y,c.deltaTime=p,c.angularVelocity=(c.angle-c.anglePrev)*C*m+c.torque/c.inertia*y,c.anglePrev=c.angle,c.angle+=c.angularVelocity,c.speed=u.magnitude(c.velocity),c.angularSpeed=Math.abs(c.angularVelocity);for(var w=0;w<c.parts.length;w++){var P=c.parts[w];g.translate(P.vertices,c.velocity),w>0&&(P.position.x+=c.velocity.x,P.position.y+=c.velocity.y),c.angularVelocity!==0&&(g.rotate(P.vertices,c.angularVelocity,c.position),d.rotate(P.axes,c.angularVelocity),w>0&&u.rotateAbout(P.position,c.angularVelocity,c.position,P.position)),o.update(P.bounds,P.vertices,c.velocity)}},a.updateVelocities=function(c){var p=a._baseDelta/c.deltaTime,y=c.velocity;y.x=(c.position.x-c.positionPrev.x)*p,y.y=(c.position.y-c.positionPrev.y)*p,c.speed=Math.sqrt(y.x*y.x+y.y*y.y),c.angularVelocity=(c.angle-c.anglePrev)*p,c.angularSpeed=Math.abs(c.angularVelocity)},a.applyForce=function(c,p,y){var m={x:p.x-c.position.x,y:p.y-c.position.y};c.force.x+=y.x,c.force.y+=y.y,c.torque+=m.x*y.y-m.y*y.x},a._totalProperties=function(c){for(var p={mass:0,area:0,inertia:0,centre:{x:0,y:0}},y=c.parts.length===1?0:1;y<c.parts.length;y++){var m=c.parts[y],C=m.mass!==1/0?m.mass:1;p.mass+=C,p.area+=m.area,p.inertia+=m.inertia,p.centre=u.add(p.centre,u.mult(m.position,C))}return p.centre=u.div(p.centre,p.mass),p}})()},69351:(n,x,s)=>{var a={};n.exports=a;var g=s(35810),u=s(53402),h=s(15647),l=s(22562);(function(){a.create=function(o){return u.extend({id:u.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},o)},a.setModified=function(o,d,v,c){if(g.trigger(o,"compositeModified",o),o.isModified=d,d&&o.cache&&(o.cache.allBodies=null,o.cache.allConstraints=null,o.cache.allComposites=null),v&&o.parent&&a.setModified(o.parent,d,v,c),c)for(var p=0;p<o.composites.length;p++){var y=o.composites[p];a.setModified(y,d,v,c)}},a.add=function(o,d){var v=[].concat(d);g.trigger(o,"beforeAdd",{object:d});for(var c=0;c<v.length;c++){var p=v[c];switch(p.type){case"body":if(p.parent!==p){u.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(o,p);break;case"constraint":a.addConstraint(o,p);break;case"composite":a.addComposite(o,p);break;case"mouseConstraint":a.addConstraint(o,p.constraint);break}}return g.trigger(o,"afterAdd",{object:d}),o},a.remove=function(o,d,v){var c=[].concat(d);g.trigger(o,"beforeRemove",{object:d});for(var p=0;p<c.length;p++){var y=c[p];switch(y.type){case"body":a.removeBody(o,y,v);break;case"constraint":a.removeConstraint(o,y,v);break;case"composite":a.removeComposite(o,y,v);break;case"mouseConstraint":a.removeConstraint(o,y.constraint);break}}return g.trigger(o,"afterRemove",{object:d}),o},a.addComposite=function(o,d){return o.composites.push(d),d.parent=o,a.setModified(o,!0,!0,!1),o},a.removeComposite=function(o,d,v){var c=u.indexOf(o.composites,d);if(c!==-1&&a.removeCompositeAt(o,c),v)for(var p=0;p<o.composites.length;p++)a.removeComposite(o.composites[p],d,!0);return o},a.removeCompositeAt=function(o,d){return o.composites.splice(d,1),a.setModified(o,!0,!0,!1),o},a.addBody=function(o,d){return o.bodies.push(d),a.setModified(o,!0,!0,!1),o},a.removeBody=function(o,d,v){var c=u.indexOf(o.bodies,d);if(c!==-1&&a.removeBodyAt(o,c),v)for(var p=0;p<o.composites.length;p++)a.removeBody(o.composites[p],d,!0);return o},a.removeBodyAt=function(o,d){return o.bodies.splice(d,1),a.setModified(o,!0,!0,!1),o},a.addConstraint=function(o,d){return o.constraints.push(d),a.setModified(o,!0,!0,!1),o},a.removeConstraint=function(o,d,v){var c=u.indexOf(o.constraints,d);if(c!==-1&&a.removeConstraintAt(o,c),v)for(var p=0;p<o.composites.length;p++)a.removeConstraint(o.composites[p],d,!0);return o},a.removeConstraintAt=function(o,d){return o.constraints.splice(d,1),a.setModified(o,!0,!0,!1),o},a.clear=function(o,d,v){if(v)for(var c=0;c<o.composites.length;c++)a.clear(o.composites[c],d,!0);return d?o.bodies=o.bodies.filter(function(p){return p.isStatic}):o.bodies.length=0,o.constraints.length=0,o.composites.length=0,a.setModified(o,!0,!0,!1),o},a.allBodies=function(o){if(o.cache&&o.cache.allBodies)return o.cache.allBodies;for(var d=[].concat(o.bodies),v=0;v<o.composites.length;v++)d=d.concat(a.allBodies(o.composites[v]));return o.cache&&(o.cache.allBodies=d),d},a.allConstraints=function(o){if(o.cache&&o.cache.allConstraints)return o.cache.allConstraints;for(var d=[].concat(o.constraints),v=0;v<o.composites.length;v++)d=d.concat(a.allConstraints(o.composites[v]));return o.cache&&(o.cache.allConstraints=d),d},a.allComposites=function(o){if(o.cache&&o.cache.allComposites)return o.cache.allComposites;for(var d=[].concat(o.composites),v=0;v<o.composites.length;v++)d=d.concat(a.allComposites(o.composites[v]));return o.cache&&(o.cache.allComposites=d),d},a.get=function(o,d,v){var c,p;switch(v){case"body":c=a.allBodies(o);break;case"constraint":c=a.allConstraints(o);break;case"composite":c=a.allComposites(o).concat(o);break}return c?(p=c.filter(function(y){return y.id.toString()===d.toString()}),p.length===0?null:p[0]):null},a.move=function(o,d,v){return a.remove(o,d),a.add(v,d),o},a.rebase=function(o){for(var d=a.allBodies(o).concat(a.allConstraints(o)).concat(a.allComposites(o)),v=0;v<d.length;v++)d[v].id=u.nextId();return o},a.translate=function(o,d,v){for(var c=v?a.allBodies(o):o.bodies,p=0;p<c.length;p++)l.translate(c[p],d);return o},a.rotate=function(o,d,v,c){for(var p=Math.cos(d),y=Math.sin(d),m=c?a.allBodies(o):o.bodies,C=0;C<m.length;C++){var T=m[C],E=T.position.x-v.x,w=T.position.y-v.y;l.setPosition(T,{x:v.x+(E*p-w*y),y:v.y+(E*y+w*p)}),l.rotate(T,d)}return o},a.scale=function(o,d,v,c,p){for(var y=p?a.allBodies(o):o.bodies,m=0;m<y.length;m++){var C=y[m],T=C.position.x-c.x,E=C.position.y-c.y;l.setPosition(C,{x:c.x+T*d,y:c.y+E*v}),l.scale(C,d,v)}return o},a.bounds=function(o){for(var d=a.allBodies(o),v=[],c=0;c<d.length;c+=1){var p=d[c];v.push(p.bounds.min,p.bounds.max)}return h.create(v)}})()},4372:(n,x,s)=>{var a={};n.exports=a;var g=s(69351);(function(){a.create=g.create,a.add=g.add,a.remove=g.remove,a.clear=g.clear,a.addComposite=g.addComposite,a.addBody=g.addBody,a.addConstraint=g.addConstraint})()},52284:(n,x,s)=>{var a={};n.exports=a;var g=s(41598),u=s(4506);(function(){var h=[],l={overlap:0,axis:null},o={overlap:0,axis:null};a.create=function(d,v){return{pair:null,collided:!1,bodyA:d,bodyB:v,parentA:d.parent,parentB:v.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},a.collides=function(d,v,c){if(a._overlapAxes(l,d.vertices,v.vertices,d.axes),l.overlap<=0||(a._overlapAxes(o,v.vertices,d.vertices,v.axes),o.overlap<=0))return null;var p=c&&c.table[u.id(d,v)],y;p?y=p.collision:(y=a.create(d,v),y.collided=!0,y.bodyA=d.id<v.id?d:v,y.bodyB=d.id<v.id?v:d,y.parentA=y.bodyA.parent,y.parentB=y.bodyB.parent),d=y.bodyA,v=y.bodyB;var m;l.overlap<o.overlap?m=l:m=o;var C=y.normal,T=y.supports,E=m.axis,w=E.x,P=E.y;w*(v.position.x-d.position.x)+P*(v.position.y-d.position.y)<0?(C.x=w,C.y=P):(C.x=-w,C.y=-P),y.tangent.x=-C.y,y.tangent.y=C.x,y.depth=m.overlap,y.penetration.x=C.x*y.depth,y.penetration.y=C.y*y.depth;var b=a._findSupports(d,v,C,1),M=0;if(g.contains(d.vertices,b[0])&&(T[M++]=b[0]),g.contains(d.vertices,b[1])&&(T[M++]=b[1]),M<2){var A=a._findSupports(v,d,C,-1);g.contains(v.vertices,A[0])&&(T[M++]=A[0]),M<2&&g.contains(v.vertices,A[1])&&(T[M++]=A[1])}return M===0&&(T[M++]=b[0]),T.length=M,y},a._overlapAxes=function(d,v,c,p){var y=v.length,m=c.length,C=v[0].x,T=v[0].y,E=c[0].x,w=c[0].y,P=p.length,b=Number.MAX_VALUE,M=0,A,R,L,O,D,I;for(D=0;D<P;D++){var B=p[D],G=B.x,z=B.y,Y=C*G+T*z,H=E*G+w*z,k=Y,U=H;for(I=1;I<y;I+=1)O=v[I].x*G+v[I].y*z,O>k?k=O:O<Y&&(Y=O);for(I=1;I<m;I+=1)O=c[I].x*G+c[I].y*z,O>U?U=O:O<H&&(H=O);if(R=k-H,L=U-Y,A=R<L?R:L,A<b&&(b=A,M=D,A<=0))break}d.axis=p[M],d.overlap=b},a._projectToAxis=function(d,v,c){for(var p=v[0].x*c.x+v[0].y*c.y,y=p,m=1;m<v.length;m+=1){var C=v[m].x*c.x+v[m].y*c.y;C>y?y=C:C<p&&(p=C)}d.min=p,d.max=y},a._findSupports=function(d,v,c,p){var y=v.vertices,m=y.length,C=d.position.x,T=d.position.y,E=c.x*p,w=c.y*p,P=Number.MAX_VALUE,b,M,A,R,L;for(L=0;L<m;L+=1)M=y[L],R=E*(C-M.x)+w*(T-M.y),R<P&&(P=R,b=M);return A=y[(m+b.index-1)%m],P=E*(C-A.x)+w*(T-A.y),M=y[(b.index+1)%m],E*(C-M.x)+w*(T-M.y)<P?(h[0]=b,h[1]=M,h):(h[0]=b,h[1]=A,h)}})()},43424:n=>{var x={};n.exports=x,function(){x.create=function(s){return{vertex:s,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,x,s)=>{var a={};n.exports=a;var g=s(53402),u=s(52284);(function(){a.create=function(h){var l={bodies:[],pairs:null};return g.extend(l,h)},a.setBodies=function(h,l){h.bodies=l.slice(0)},a.clear=function(h){h.bodies=[]},a.collisions=function(h){var l=[],o=h.pairs,d=h.bodies,v=d.length,c=a.canCollide,p=u.collides,y,m;for(d.sort(a._compareBoundsX),y=0;y<v;y++){var C=d[y],T=C.bounds,E=C.bounds.max.x,w=C.bounds.max.y,P=C.bounds.min.y,b=C.isStatic||C.isSleeping,M=C.parts.length,A=M===1;for(m=y+1;m<v;m++){var R=d[m],L=R.bounds;if(L.min.x>E)break;if(!(w<L.min.y||P>L.max.y)&&!(b&&(R.isStatic||R.isSleeping))&&c(C.collisionFilter,R.collisionFilter)){var O=R.parts.length;if(A&&O===1){var D=p(C,R,o);D&&l.push(D)}else for(var I=M>1?1:0,B=O>1?1:0,G=I;G<M;G++)for(var z=C.parts[G],T=z.bounds,Y=B;Y<O;Y++){var H=R.parts[Y],L=H.bounds;if(!(T.min.x>L.max.x||T.max.x<L.min.x||T.max.y<L.min.y||T.min.y>L.max.y)){var D=p(z,H,o);D&&l.push(D)}}}}}return l},a.canCollide=function(h,l){return h.group===l.group&&h.group!==0?h.group>0:(h.mask&l.category)!==0&&(l.mask&h.category)!==0},a._compareBoundsX=function(h,l){return h.bounds.min.x-l.bounds.min.x}})()},4506:(n,x,s)=>{var a={};n.exports=a;var g=s(43424);(function(){a.create=function(u,h){var l=u.bodyA,o=u.bodyB,d={id:a.id(l,o),bodyA:l,bodyB:o,collision:u,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:l.isSensor||o.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(d,u,h),d},a.update=function(u,h,l){var o=u.contacts,d=h.supports,v=u.activeContacts,c=h.parentA,p=h.parentB,y=c.vertices.length;u.isActive=!0,u.timeUpdated=l,u.collision=h,u.separation=h.depth,u.inverseMass=c.inverseMass+p.inverseMass,u.friction=c.friction<p.friction?c.friction:p.friction,u.frictionStatic=c.frictionStatic>p.frictionStatic?c.frictionStatic:p.frictionStatic,u.restitution=c.restitution>p.restitution?c.restitution:p.restitution,u.slop=c.slop>p.slop?c.slop:p.slop,h.pair=u,v.length=0;for(var m=0;m<d.length;m++){var C=d[m],T=C.body===c?C.index:y+C.index,E=o[T];E?v.push(E):v.push(o[T]=g.create(C))}},a.setActive=function(u,h,l){h?(u.isActive=!0,u.timeUpdated=l):(u.isActive=!1,u.activeContacts.length=0)},a.id=function(u,h){return u.id<h.id?"A"+u.id+"B"+h.id:"A"+h.id+"B"+u.id}})()},99561:(n,x,s)=>{var a={};n.exports=a;var g=s(4506),u=s(53402);(function(){a.create=function(h){return u.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},a.update=function(h,l,o){var d=h.list,v=d.length,c=h.table,p=l.length,y=h.collisionStart,m=h.collisionEnd,C=h.collisionActive,T,E,w,P;for(y.length=0,m.length=0,C.length=0,P=0;P<v;P++)d[P].confirmedActive=!1;for(P=0;P<p;P++)T=l[P],w=T.pair,w?(w.isActive?C.push(w):y.push(w),g.update(w,T,o),w.confirmedActive=!0):(w=g.create(T,o),c[w.id]=w,y.push(w),d.push(w));var b=[];for(v=d.length,P=0;P<v;P++)w=d[P],w.confirmedActive||(g.setActive(w,!1,o),m.push(w),!w.collision.bodyA.isSleeping&&!w.collision.bodyB.isSleeping&&b.push(P));for(P=0;P<b.length;P++)E=b[P]-P,w=d[E],d.splice(E,1),delete c[w.id]},a.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()},73296:(n,x,s)=>{var a={};n.exports=a;var g=s(31725),u=s(52284),h=s(15647),l=s(66280),o=s(41598);(function(){a.collides=function(d,v){for(var c=[],p=v.length,y=d.bounds,m=u.collides,C=h.overlaps,T=0;T<p;T++){var E=v[T],w=E.parts.length,P=w===1?0:1;if(d!==E&&C(E.bounds,y))for(var b=P;b<w;b++){var M=E.parts[b];if(C(M.bounds,y)){var A=m(M,d);if(A){c.push(A);break}}}}return c},a.ray=function(d,v,c,p){p=p||1e-100;for(var y=g.angle(v,c),m=g.magnitude(g.sub(v,c)),C=(c.x+v.x)*.5,T=(c.y+v.y)*.5,E=l.rectangle(C,T,m,p,{angle:y}),w=a.collides(E,d),P=0;P<w.length;P+=1){var b=w[P];b.body=b.bodyB=b.bodyA}return w},a.region=function(d,v,c){for(var p=[],y=0;y<d.length;y++){var m=d[y],C=h.overlaps(m.bounds,v);(C&&!c||!C&&c)&&p.push(m)}return p},a.point=function(d,v){for(var c=[],p=0;p<d.length;p++){var y=d[p];if(h.contains(y.bounds,v))for(var m=y.parts.length===1?0:1;m<y.parts.length;m++){var C=y.parts[m];if(h.contains(C.bounds,v)&&o.contains(C.vertices,v)){c.push(y);break}}}return c}})()},66272:(n,x,s)=>{var a={};n.exports=a;var g=s(41598),u=s(53402),h=s(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(l){var o,d,v,c=l.length;for(o=0;o<c;o++)d=l[o],d.isActive&&(v=d.activeContacts.length,d.collision.parentA.totalContacts+=v,d.collision.parentB.totalContacts+=v)},a.solvePosition=function(l,o,d){var v,c,p,y,m,C,T,E,w=a._positionDampen*(d||1),P=u.clamp(o/u._baseDelta,0,1),b=l.length;for(v=0;v<b;v++)c=l[v],!(!c.isActive||c.isSensor)&&(p=c.collision,y=p.parentA,m=p.parentB,C=p.normal,c.separation=C.x*(m.positionImpulse.x+p.penetration.x-y.positionImpulse.x)+C.y*(m.positionImpulse.y+p.penetration.y-y.positionImpulse.y));for(v=0;v<b;v++)c=l[v],!(!c.isActive||c.isSensor)&&(p=c.collision,y=p.parentA,m=p.parentB,C=p.normal,E=c.separation-c.slop*P,(y.isStatic||m.isStatic)&&(E*=2),y.isStatic||y.isSleeping||(T=w/y.totalContacts,y.positionImpulse.x+=C.x*E*T,y.positionImpulse.y+=C.y*E*T),m.isStatic||m.isSleeping||(T=w/m.totalContacts,m.positionImpulse.x-=C.x*E*T,m.positionImpulse.y-=C.y*E*T))},a.postSolvePosition=function(l){for(var o=a._positionWarming,d=l.length,v=g.translate,c=h.update,p=0;p<d;p++){var y=l[p],m=y.positionImpulse,C=m.x,T=m.y,E=y.velocity;if(y.totalContacts=0,C!==0||T!==0){for(var w=0;w<y.parts.length;w++){var P=y.parts[w];v(P.vertices,m),c(P.bounds,P.vertices,E),P.position.x+=C,P.position.y+=T}y.positionPrev.x+=C,y.positionPrev.y+=T,C*E.x+T*E.y<0?(m.x=0,m.y=0):(m.x*=o,m.y*=o)}}},a.preSolveVelocity=function(l){var o=l.length,d,v;for(d=0;d<o;d++){var c=l[d];if(!(!c.isActive||c.isSensor)){var p=c.activeContacts,y=p.length,m=c.collision,C=m.parentA,T=m.parentB,E=m.normal,w=m.tangent;for(v=0;v<y;v++){var P=p[v],b=P.vertex,M=P.normalImpulse,A=P.tangentImpulse;if(M!==0||A!==0){var R=E.x*M+w.x*A,L=E.y*M+w.y*A;C.isStatic||C.isSleeping||(C.positionPrev.x+=R*C.inverseMass,C.positionPrev.y+=L*C.inverseMass,C.anglePrev+=C.inverseInertia*((b.x-C.position.x)*L-(b.y-C.position.y)*R)),T.isStatic||T.isSleeping||(T.positionPrev.x-=R*T.inverseMass,T.positionPrev.y-=L*T.inverseMass,T.anglePrev-=T.inverseInertia*((b.x-T.position.x)*L-(b.y-T.position.y)*R))}}}}},a.solveVelocity=function(l,o){var d=o/u._baseDelta,v=d*d,c=v*d,p=-a._restingThresh*d,y=a._restingThreshTangent,m=a._frictionNormalMultiplier*d,C=a._frictionMaxStatic,T=l.length,E,w,P,b;for(P=0;P<T;P++){var M=l[P];if(!(!M.isActive||M.isSensor)){var A=M.collision,R=A.parentA,L=A.parentB,O=R.velocity,D=L.velocity,I=A.normal.x,B=A.normal.y,G=A.tangent.x,z=A.tangent.y,Y=M.activeContacts,H=Y.length,k=1/H,U=R.inverseMass+L.inverseMass,F=M.friction*M.frictionStatic*m;for(O.x=R.position.x-R.positionPrev.x,O.y=R.position.y-R.positionPrev.y,D.x=L.position.x-L.positionPrev.x,D.y=L.position.y-L.positionPrev.y,R.angularVelocity=R.angle-R.anglePrev,L.angularVelocity=L.angle-L.anglePrev,b=0;b<H;b++){var N=Y[b],V=N.vertex,$=V.x-R.position.x,X=V.y-R.position.y,j=V.x-L.position.x,Q=V.y-L.position.y,K=O.x-X*R.angularVelocity,q=O.y+$*R.angularVelocity,tt=D.x-Q*L.angularVelocity,st=D.y+j*L.angularVelocity,nt=K-tt,rt=q-st,ut=I*nt+B*rt,vt=G*nt+z*rt,pt=M.separation+ut,ft=Math.min(pt,1);ft=pt<0?0:ft;var lt=ft*F;vt<-lt||vt>lt?(w=vt>0?vt:-vt,E=M.friction*(vt>0?1:-1)*c,E<-w?E=-w:E>w&&(E=w)):(E=vt,w=C);var yt=$*B-X*I,Ct=j*B-Q*I,Rt=k/(U+R.inverseInertia*yt*yt+L.inverseInertia*Ct*Ct),Dt=(1+M.restitution)*ut*Rt;if(E*=Rt,ut<p)N.normalImpulse=0;else{var Tt=N.normalImpulse;N.normalImpulse+=Dt,N.normalImpulse>0&&(N.normalImpulse=0),Dt=N.normalImpulse-Tt}if(vt<-y||vt>y)N.tangentImpulse=0;else{var Et=N.tangentImpulse;N.tangentImpulse+=E,N.tangentImpulse<-w&&(N.tangentImpulse=-w),N.tangentImpulse>w&&(N.tangentImpulse=w),E=N.tangentImpulse-Et}var ot=I*Dt+G*E,at=B*Dt+z*E;R.isStatic||R.isSleeping||(R.positionPrev.x+=ot*R.inverseMass,R.positionPrev.y+=at*R.inverseMass,R.anglePrev+=($*at-X*ot)*R.inverseInertia),L.isStatic||L.isSleeping||(L.positionPrev.x-=ot*L.inverseMass,L.positionPrev.y-=at*L.inverseMass,L.anglePrev-=(j*at-Q*ot)*L.inverseInertia)}}}}})()},48140:(n,x,s)=>{var a={};n.exports=a;var g=s(41598),u=s(31725),h=s(53614),l=s(15647),o=s(66615),d=s(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(v){var c=v;c.bodyA&&!c.pointA&&(c.pointA={x:0,y:0}),c.bodyB&&!c.pointB&&(c.pointB={x:0,y:0});var p=c.bodyA?u.add(c.bodyA.position,c.pointA):c.pointA,y=c.bodyB?u.add(c.bodyB.position,c.pointB):c.pointB,m=u.magnitude(u.sub(p,y));c.length=typeof c.length<"u"?c.length:m,c.id=c.id||d.nextId(),c.label=c.label||"Constraint",c.type="constraint",c.stiffness=c.stiffness||(c.length>0?1:.7),c.damping=c.damping||0,c.angularStiffness=c.angularStiffness||0,c.angleA=c.bodyA?c.bodyA.angle:c.angleA,c.angleB=c.bodyB?c.bodyB.angle:c.angleB,c.plugin={};var C={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return c.length===0&&c.stiffness>.1?(C.type="pin",C.anchors=!1):c.stiffness<.9&&(C.type="spring"),c.render=d.extend(C,c.render),c},a.preSolveAll=function(v){for(var c=0;c<v.length;c+=1){var p=v[c],y=p.constraintImpulse;p.isStatic||y.x===0&&y.y===0&&y.angle===0||(p.position.x+=y.x,p.position.y+=y.y,p.angle+=y.angle)}},a.solveAll=function(v,c){for(var p=d.clamp(c/d._baseDelta,0,1),y=0;y<v.length;y+=1){var m=v[y],C=!m.bodyA||m.bodyA&&m.bodyA.isStatic,T=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(C||T)&&a.solve(v[y],p)}for(y=0;y<v.length;y+=1)m=v[y],C=!m.bodyA||m.bodyA&&m.bodyA.isStatic,T=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!C&&!T&&a.solve(v[y],p)},a.solve=function(v,c){var p=v.bodyA,y=v.bodyB,m=v.pointA,C=v.pointB;if(!(!p&&!y)){p&&!p.isStatic&&(u.rotate(m,p.angle-v.angleA,m),v.angleA=p.angle),y&&!y.isStatic&&(u.rotate(C,y.angle-v.angleB,C),v.angleB=y.angle);var T=m,E=C;if(p&&(T=u.add(p.position,m)),y&&(E=u.add(y.position,C)),!(!T||!E)){var w=u.sub(T,E),P=u.magnitude(w);P<a._minLength&&(P=a._minLength);var b=(P-v.length)/P,M=v.stiffness>=1||v.length===0,A=M?v.stiffness*c:v.stiffness*c*c,R=v.damping*c,L=u.mult(w,b*A),O=(p?p.inverseMass:0)+(y?y.inverseMass:0),D=(p?p.inverseInertia:0)+(y?y.inverseInertia:0),I=O+D,B,G,z,Y,H;if(R>0){var k=u.create();z=u.div(w,P),H=u.sub(y&&u.sub(y.position,y.positionPrev)||k,p&&u.sub(p.position,p.positionPrev)||k),Y=u.dot(z,H)}p&&!p.isStatic&&(G=p.inverseMass/O,p.constraintImpulse.x-=L.x*G,p.constraintImpulse.y-=L.y*G,p.position.x-=L.x*G,p.position.y-=L.y*G,R>0&&(p.positionPrev.x-=R*z.x*Y*G,p.positionPrev.y-=R*z.y*Y*G),B=u.cross(m,L)/I*a._torqueDampen*p.inverseInertia*(1-v.angularStiffness),p.constraintImpulse.angle-=B,p.angle-=B),y&&!y.isStatic&&(G=y.inverseMass/O,y.constraintImpulse.x+=L.x*G,y.constraintImpulse.y+=L.y*G,y.position.x+=L.x*G,y.position.y+=L.y*G,R>0&&(y.positionPrev.x+=R*z.x*Y*G,y.positionPrev.y+=R*z.y*Y*G),B=u.cross(C,L)/I*a._torqueDampen*y.inverseInertia*(1-v.angularStiffness),y.constraintImpulse.angle+=B,y.angle+=B)}}},a.postSolveAll=function(v){for(var c=0;c<v.length;c++){var p=v[c],y=p.constraintImpulse;if(!(p.isStatic||y.x===0&&y.y===0&&y.angle===0)){h.set(p,!1);for(var m=0;m<p.parts.length;m++){var C=p.parts[m];g.translate(C.vertices,y),m>0&&(C.position.x+=y.x,C.position.y+=y.y),y.angle!==0&&(g.rotate(C.vertices,y.angle,p.position),o.rotate(C.axes,y.angle),m>0&&u.rotateAbout(C.position,y.angle,p.position,C.position)),l.update(C.bounds,C.vertices,p.velocity)}y.angle*=a._warming,y.x*=a._warming,y.y*=a._warming}}},a.pointAWorld=function(v){return{x:(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),y:(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0)}},a.pointBWorld=function(v){return{x:(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),y:(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0)}},a.currentLength=function(v){var c=(v.bodyA?v.bodyA.position.x:0)+(v.pointA?v.pointA.x:0),p=(v.bodyA?v.bodyA.position.y:0)+(v.pointA?v.pointA.y:0),y=(v.bodyB?v.bodyB.position.x:0)+(v.pointB?v.pointB.x:0),m=(v.bodyB?v.bodyB.position.y:0)+(v.pointB?v.pointB.y:0),C=c-y,T=p-m;return Math.sqrt(C*C+T*T)}})()},53402:(n,x,s)=>{var a={};n.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(u,h){var l,o;typeof h=="boolean"?(l=2,o=h):(l=1,o=!0);for(var d=l;d<arguments.length;d++){var v=arguments[d];if(v)for(var c in v)o&&v[c]&&v[c].constructor===Object&&(!u[c]||u[c].constructor===Object)?(u[c]=u[c]||{},a.extend(u[c],o,v[c])):u[c]=v[c]}return u},a.clone=function(u,h){return a.extend({},h,u)},a.keys=function(u){if(Object.keys)return Object.keys(u);var h=[];for(var l in u)h.push(l);return h},a.values=function(u){var h=[];if(Object.keys){for(var l=Object.keys(u),o=0;o<l.length;o++)h.push(u[l[o]]);return h}for(var d in u)h.push(u[d]);return h},a.get=function(u,h,l,o){h=h.split(".").slice(l,o);for(var d=0;d<h.length;d+=1)u=u[h[d]];return u},a.set=function(u,h,l,o,d){var v=h.split(".").slice(o,d);return a.get(u,h,0,-1)[v[v.length-1]]=l,l},a.shuffle=function(u){for(var h=u.length-1;h>0;h--){var l=Math.floor(a.random()*(h+1)),o=u[h];u[h]=u[l],u[l]=o}return u},a.choose=function(u){return u[Math.floor(a.random()*u.length)]},a.isElement=function(u){return typeof HTMLElement<"u"?u instanceof HTMLElement:!!(u&&u.nodeType&&u.nodeName)},a.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"},a.isFunction=function(u){return typeof u=="function"},a.isPlainObject=function(u){return typeof u=="object"&&u.constructor===Object},a.isString=function(u){return toString.call(u)==="[object String]"},a.clamp=function(u,h,l){return u<h?h:u>l?l:u},a.sign=function(u){return u<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(u,h){return u=typeof u<"u"?u:0,h=typeof h<"u"?h:1,u+g()*(h-u)};var g=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(u){return u=u.replace("#",""),u.length==3&&(u=u.charAt(0)+u.charAt(0)+u.charAt(1)+u.charAt(1)+u.charAt(2)+u.charAt(2)),parseInt(u,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var u=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[u]||(a.warn(u),a._warnedOnce[u]=!0)},a.deprecated=function(u,h,l){u[h]=a.chain(function(){a.warnOnce(" deprecated ",l)},u[h])},a.nextId=function(){return a._nextId++},a.indexOf=function(u,h){if(u.indexOf)return u.indexOf(h);for(var l=0;l<u.length;l++)if(u[l]===h)return l;return-1},a.map=function(u,h){if(u.map)return u.map(h);for(var l=[],o=0;o<u.length;o+=1)l.push(h(u[o]));return l},a.topologicalSort=function(u){var h=[],l=[],o=[];for(var d in u)!l[d]&&!o[d]&&a._topologicalSort(d,l,o,u,h);return h},a._topologicalSort=function(u,h,l,o,d){var v=o[u]||[];l[u]=!0;for(var c=0;c<v.length;c+=1){var p=v[c];l[p]||h[p]||a._topologicalSort(p,h,l,o,d)}l[u]=!1,h[u]=!0,d.push(u)},a.chain=function(){for(var u=[],h=0;h<arguments.length;h+=1){var l=arguments[h];l._chained?u.push.apply(u,l._chained):u.push(l)}var o=function(){for(var d,v=new Array(arguments.length),c=0,p=arguments.length;c<p;c++)v[c]=arguments[c];for(c=0;c<u.length;c+=1){var y=u[c].apply(d,v);typeof y<"u"&&(d=y)}return d};return o._chained=u,o},a.chainPathBefore=function(u,h,l){return a.set(u,h,a.chain(l,a.get(u,h)))},a.chainPathAfter=function(u,h,l){return a.set(u,h,a.chain(a.get(u,h),l))},a.setDecomp=function(u){a._decomp=u},a.getDecomp=function(){var u=a._decomp;try{!u&&typeof window<"u"&&(u=window.decomp),!u&&typeof s.g<"u"&&(u=s.g.decomp)}catch{u=null}return u}}()},48413:(n,x,s)=>{var a={};n.exports=a;var g=s(53614),u=s(66272),h=s(81388),l=s(99561),o=s(35810),d=s(69351),v=s(48140),c=s(53402),p=s(22562);(function(){a.create=function(y){y=y||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},C=c.extend(m,y);return C.world=y.world||d.create({label:"World"}),C.pairs=y.pairs||l.create(),C.detector=y.detector||h.create(),C.grid={buckets:[]},C.world.gravity=C.gravity,C.broadphase=C.grid,C.metrics={},C},a.update=function(y,m){var C=c.now(),T=y.world,E=y.detector,w=y.pairs,P=y.timing,b=P.timestamp,M;m=typeof m<"u"?m:c._baseDelta,m*=P.timeScale,P.timestamp+=m,P.lastDelta=m;var A={timestamp:P.timestamp,delta:m};o.trigger(y,"beforeUpdate",A);var R=d.allBodies(T),L=d.allConstraints(T);for(T.isModified&&(h.setBodies(E,R),d.setModified(T,!1,!1,!0)),y.enableSleeping&&g.update(R,m),a._bodiesApplyGravity(R,y.gravity),m>0&&a._bodiesUpdate(R,m),o.trigger(y,"beforeSolve",A),v.preSolveAll(R),M=0;M<y.constraintIterations;M++)v.solveAll(L,m);v.postSolveAll(R),E.pairs=y.pairs;var O=h.collisions(E);l.update(w,O,b),y.enableSleeping&&g.afterCollisions(w.list),w.collisionStart.length>0&&o.trigger(y,"collisionStart",{pairs:w.collisionStart,timestamp:P.timestamp,delta:m});var D=c.clamp(20/y.positionIterations,0,1);for(u.preSolvePosition(w.list),M=0;M<y.positionIterations;M++)u.solvePosition(w.list,m,D);for(u.postSolvePosition(R),v.preSolveAll(R),M=0;M<y.constraintIterations;M++)v.solveAll(L,m);for(v.postSolveAll(R),u.preSolveVelocity(w.list),M=0;M<y.velocityIterations;M++)u.solveVelocity(w.list,m);return a._bodiesUpdateVelocities(R),w.collisionActive.length>0&&o.trigger(y,"collisionActive",{pairs:w.collisionActive,timestamp:P.timestamp,delta:m}),w.collisionEnd.length>0&&o.trigger(y,"collisionEnd",{pairs:w.collisionEnd,timestamp:P.timestamp,delta:m}),a._bodiesClearForces(R),o.trigger(y,"afterUpdate",A),y.timing.lastElapsed=c.now()-C,y},a.merge=function(y,m){if(c.extend(y,m),m.world){y.world=m.world,a.clear(y);for(var C=d.allBodies(y.world),T=0;T<C.length;T++){var E=C[T];g.set(E,!1),E.id=c.nextId()}}},a.clear=function(y){l.clear(y.pairs),h.clear(y.detector)},a._bodiesClearForces=function(y){for(var m=y.length,C=0;C<m;C++){var T=y[C];T.force.x=0,T.force.y=0,T.torque=0}},a._bodiesApplyGravity=function(y,m){var C=typeof m.scale<"u"?m.scale:.001,T=y.length;if(!(m.x===0&&m.y===0||C===0))for(var E=0;E<T;E++){var w=y[E];w.ignoreGravity||w.isStatic||w.isSleeping||(w.force.y+=w.mass*m.y*C,w.force.x+=w.mass*m.x*C)}},a._bodiesUpdate=function(y,m){for(var C=y.length,T=0;T<C;T++){var E=y[T];E.isStatic||E.isSleeping||p.update(E,m)}},a._bodiesUpdateVelocities=function(y){for(var m=y.length,C=0;C<m;C++)p.updateVelocities(y[C])}})()},35810:(n,x,s)=>{var a={};n.exports=a;var g=s(53402);(function(){a.on=function(u,h,l){for(var o=h.split(" "),d,v=0;v<o.length;v++)d=o[v],u.events=u.events||{},u.events[d]=u.events[d]||[],u.events[d].push(l);return l},a.off=function(u,h,l){if(!h){u.events={};return}typeof h=="function"&&(l=h,h=g.keys(u.events).join(" "));for(var o=h.split(" "),d=0;d<o.length;d++){var v=u.events[o[d]],c=[];if(l&&v)for(var p=0;p<v.length;p++)v[p]!==l&&c.push(v[p]);u.events[o[d]]=c}},a.trigger=function(u,h,l){var o,d,v,c,p=u.events;if(p&&g.keys(p).length>0){l||(l={}),o=h.split(" ");for(var y=0;y<o.length;y++)if(d=o[y],v=p[d],v){c=g.clone(l,!1),c.name=d,c.source=u;for(var m=0;m<v.length;m++)v[m].apply(u,[c])}}}})()},6790:(n,x,s)=>{var a={};n.exports=a;var g=s(73832),u=s(53402);(function(){a.name="matter-js",a.version="0.19.0",a.uses=[],a.used=[],a.use=function(){g.use(a,Array.prototype.slice.call(arguments))},a.before=function(h,l){return h=h.replace(/^Matter./,""),u.chainPathBefore(a,h,l)},a.after=function(h,l){return h=h.replace(/^Matter./,""),u.chainPathAfter(a,h,l)}})()},73832:(n,x,s)=>{var a={};n.exports=a;var g=s(53402);(function(){a._registry={},a.register=function(u){if(a.isPlugin(u)||g.warn("Plugin.register:",a.toString(u),"does not implement all required fields."),u.name in a._registry){var h=a._registry[u.name],l=a.versionParse(u.version).number,o=a.versionParse(h.version).number;l>o?(g.warn("Plugin.register:",a.toString(h),"was upgraded to",a.toString(u)),a._registry[u.name]=u):l<o?g.warn("Plugin.register:",a.toString(h),"can not be downgraded to",a.toString(u)):u!==h&&g.warn("Plugin.register:",a.toString(u),"is already registered to different plugin object")}else a._registry[u.name]=u;return u},a.resolve=function(u){return a._registry[a.dependencyParse(u).name]},a.toString=function(u){return typeof u=="string"?u:(u.name||"anonymous")+"@"+(u.version||u.range||"0.0.0")},a.isPlugin=function(u){return u&&u.name&&u.version&&u.install},a.isUsed=function(u,h){return u.used.indexOf(h)>-1},a.isFor=function(u,h){var l=u.for&&a.dependencyParse(u.for);return!u.for||h.name===l.name&&a.versionSatisfies(h.version,l.range)},a.use=function(u,h){if(u.uses=(u.uses||[]).concat(h||[]),u.uses.length===0){g.warn("Plugin.use:",a.toString(u),"does not specify any dependencies to install.");return}for(var l=a.dependencies(u),o=g.topologicalSort(l),d=[],v=0;v<o.length;v+=1)if(o[v]!==u.name){var c=a.resolve(o[v]);if(!c){d.push(" "+o[v]);continue}a.isUsed(u,c.name)||(a.isFor(c,u)||(g.warn("Plugin.use:",a.toString(c),"is for",c.for,"but installed on",a.toString(u)+"."),c._warned=!0),c.install?c.install(u):(g.warn("Plugin.use:",a.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(d.push(" "+a.toString(c)),delete c._warned):d.push(" "+a.toString(c)),u.used.push(c.name))}d.length>0&&!c.silent&&g.info(d.join("  "))},a.dependencies=function(u,h){var l=a.dependencyParse(u),o=l.name;if(h=h||{},!(o in h)){u=a.resolve(u)||u,h[o]=g.map(u.uses||[],function(v){a.isPlugin(v)&&a.register(v);var c=a.dependencyParse(v),p=a.resolve(v);return p&&!a.versionSatisfies(p.version,c.range)?(g.warn("Plugin.dependencies:",a.toString(p),"does not satisfy",a.toString(c),"used by",a.toString(l)+"."),p._warned=!0,u._warned=!0):p||(g.warn("Plugin.dependencies:",a.toString(v),"used by",a.toString(l),"could not be resolved."),u._warned=!0),c.name});for(var d=0;d<h[o].length;d+=1)a.dependencies(h[o][d],h);return h}},a.dependencyParse=function(u){if(g.isString(u)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(u)||g.warn("Plugin.dependencyParse:",u,"is not a valid dependency string."),{name:u.split("@")[0],range:u.split("@")[1]||"*"}}return{name:u.name,range:u.range||u.version}},a.versionParse=function(u){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(u)||g.warn("Plugin.versionParse:",u,"is not a valid version or range.");var l=h.exec(u),o=Number(l[4]),d=Number(l[5]),v=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:u,operator:l[1]||l[2]||"",major:o,minor:d,patch:v,parts:[o,d,v],prerelease:l[7],number:o*1e8+d*1e4+v}},a.versionSatisfies=function(u,h){h=h||"*";var l=a.versionParse(h),o=a.versionParse(u);if(l.isRange){if(l.operator==="*"||u==="*")return!0;if(l.operator===">")return o.number>l.number;if(l.operator===">=")return o.number>=l.number;if(l.operator==="~")return o.major===l.major&&o.minor===l.minor&&o.patch>=l.patch;if(l.operator==="^")return l.major>0?o.major===l.major&&o.number>=l.number:l.minor>0?o.minor===l.minor&&o.patch>=l.patch:o.patch===l.patch}return u===h||u==="*"}})()},53614:(n,x,s)=>{var a={};n.exports=a;var g=s(22562),u=s(35810),h=s(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(l,o){for(var d=o/h._baseDelta,v=a._motionSleepThreshold,c=0;c<l.length;c++){var p=l[c],y=g.getSpeed(p),m=g.getAngularSpeed(p),C=y*y+m*m;if(p.force.x!==0||p.force.y!==0){a.set(p,!1);continue}var T=Math.min(p.motion,C),E=Math.max(p.motion,C);p.motion=a._minBias*T+(1-a._minBias)*E,p.sleepThreshold>0&&p.motion<v?(p.sleepCounter+=1,p.sleepCounter>=p.sleepThreshold/d&&a.set(p,!0)):p.sleepCounter>0&&(p.sleepCounter-=1)}},a.afterCollisions=function(l){for(var o=a._motionSleepThreshold,d=0;d<l.length;d++){var v=l[d];if(v.isActive){var c=v.collision,p=c.bodyA.parent,y=c.bodyB.parent;if(!(p.isSleeping&&y.isSleeping||p.isStatic||y.isStatic)&&(p.isSleeping||y.isSleeping)){var m=p.isSleeping&&!p.isStatic?p:y,C=m===p?y:p;!m.isStatic&&C.motion>o&&a.set(m,!1)}}}},a.set=function(l,o){var d=l.isSleeping;o?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,d||u.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,d&&u.trigger(l,"sleepEnd"))}})()},66280:(n,x,s)=>{var a={};n.exports=a;var g=s(41598),u=s(53402),h=s(22562),l=s(15647),o=s(31725);(function(){a.rectangle=function(d,v,c,p,y){y=y||{};var m={label:"Rectangle Body",position:{x:d,y:v},vertices:g.fromPath("L 0 0 L "+c+" 0 L "+c+" "+p+" L 0 "+p)};if(y.chamfer){var C=y.chamfer;m.vertices=g.chamfer(m.vertices,C.radius,C.quality,C.qualityMin,C.qualityMax),delete y.chamfer}return h.create(u.extend({},m,y))},a.trapezoid=function(d,v,c,p,y,m){m=m||{},y*=.5;var C=(1-y*2)*c,T=c*y,E=T+C,w=E+T,P;y<.5?P="L 0 0 L "+T+" "+-p+" L "+E+" "+-p+" L "+w+" 0":P="L 0 0 L "+E+" "+-p+" L "+w+" 0";var b={label:"Trapezoid Body",position:{x:d,y:v},vertices:g.fromPath(P)};if(m.chamfer){var M=m.chamfer;b.vertices=g.chamfer(b.vertices,M.radius,M.quality,M.qualityMin,M.qualityMax),delete m.chamfer}return h.create(u.extend({},b,m))},a.circle=function(d,v,c,p,y){p=p||{};var m={label:"Circle Body",circleRadius:c};y=y||25;var C=Math.ceil(Math.max(10,Math.min(y,c)));return C%2===1&&(C+=1),a.polygon(d,v,C,c,u.extend({},m,p))},a.polygon=function(d,v,c,p,y){if(y=y||{},c<3)return a.circle(d,v,p,y);for(var m=2*Math.PI/c,C="",T=m*.5,E=0;E<c;E+=1){var w=T+E*m,P=Math.cos(w)*p,b=Math.sin(w)*p;C+="L "+P.toFixed(3)+" "+b.toFixed(3)+" "}var M={label:"Polygon Body",position:{x:d,y:v},vertices:g.fromPath(C)};if(y.chamfer){var A=y.chamfer;M.vertices=g.chamfer(M.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete y.chamfer}return h.create(u.extend({},M,y))},a.fromVertices=function(d,v,c,p,y,m,C,T){var E=u.getDecomp(),w,P,b,M,A,R,L,O,D,I,B;for(w=!!(E&&E.quickDecomp),p=p||{},b=[],y=typeof y<"u"?y:!1,m=typeof m<"u"?m:.01,C=typeof C<"u"?C:10,T=typeof T<"u"?T:.01,u.isArray(c[0])||(c=[c]),I=0;I<c.length;I+=1)if(R=c[I],M=g.isConvex(R),A=!M,A&&!w&&u.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),M||!w)M?R=g.clockwiseSort(R):R=g.hull(R),b.push({position:{x:d,y:v},vertices:R});else{var G=R.map(function(j){return[j.x,j.y]});E.makeCCW(G),m!==!1&&E.removeCollinearPoints(G,m),T!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(G,T);var z=E.quickDecomp(G);for(L=0;L<z.length;L++){var Y=z[L],H=Y.map(function(j){return{x:j[0],y:j[1]}});C>0&&g.area(H)<C||b.push({position:g.centre(H),vertices:H})}}for(L=0;L<b.length;L++)b[L]=h.create(u.extend(b[L],p));if(y){var k=5;for(L=0;L<b.length;L++){var U=b[L];for(O=L+1;O<b.length;O++){var F=b[O];if(l.overlaps(U.bounds,F.bounds)){var N=U.vertices,V=F.vertices;for(D=0;D<U.vertices.length;D++)for(B=0;B<F.vertices.length;B++){var $=o.magnitudeSquared(o.sub(N[(D+1)%N.length],V[B])),X=o.magnitudeSquared(o.sub(N[D],V[(B+1)%V.length]));$<k&&X<k&&(N[D].isInternal=!0,V[B].isInternal=!0)}}}}}return b.length>1?(P=h.create(u.extend({parts:b.slice(0)},p)),h.setPosition(P,{x:d,y:v}),P):b[0]},a.flagCoincidentParts=function(d,v){v===void 0&&(v=5);for(var c=0;c<d.length;c++)for(var p=d[c],y=c+1;y<d.length;y++){var m=d[y];if(l.overlaps(p.bounds,m.bounds))for(var C=p.vertices,T=m.vertices,E=0;E<p.vertices.length;E++)for(var w=0;w<m.vertices.length;w++){var P=o.magnitudeSquared(o.sub(C[(E+1)%C.length],T[w])),b=o.magnitudeSquared(o.sub(C[E],T[(w+1)%T.length]));P<v&&b<v&&(C[E].isInternal=!0,T[w].isInternal=!0)}}return d}})()},74116:(n,x,s)=>{var a={};n.exports=a;var g=s(69351),u=s(48140),h=s(53402),l=s(22562),o=s(66280);(function(){a.stack=function(d,v,c,p,y,m,C){for(var T=g.create({label:"Stack"}),E=d,w=v,P,b=0,M=0;M<p;M++){for(var A=0,R=0;R<c;R++){var L=C(E,w,R,M,P,b);if(L){var O=L.bounds.max.y-L.bounds.min.y,D=L.bounds.max.x-L.bounds.min.x;O>A&&(A=O),l.translate(L,{x:D*.5,y:O*.5}),E=L.bounds.max.x+y,g.addBody(T,L),P=L,b+=1}else E+=y}w+=A+m,E=d}return T},a.chain=function(d,v,c,p,y,m){for(var C=d.bodies,T=1;T<C.length;T++){var E=C[T-1],w=C[T],P=E.bounds.max.y-E.bounds.min.y,b=E.bounds.max.x-E.bounds.min.x,M=w.bounds.max.y-w.bounds.min.y,A=w.bounds.max.x-w.bounds.min.x,R={bodyA:E,pointA:{x:b*v,y:P*c},bodyB:w,pointB:{x:A*p,y:M*y}},L=h.extend(R,m);g.addConstraint(d,u.create(L))}return d.label+=" Chain",d},a.mesh=function(d,v,c,p,y){var m=d.bodies,C,T,E,w,P;for(C=0;C<c;C++){for(T=1;T<v;T++)E=m[T-1+C*v],w=m[T+C*v],g.addConstraint(d,u.create(h.extend({bodyA:E,bodyB:w},y)));if(C>0)for(T=0;T<v;T++)E=m[T+(C-1)*v],w=m[T+C*v],g.addConstraint(d,u.create(h.extend({bodyA:E,bodyB:w},y))),p&&T>0&&(P=m[T-1+(C-1)*v],g.addConstraint(d,u.create(h.extend({bodyA:P,bodyB:w},y)))),p&&T<v-1&&(P=m[T+1+(C-1)*v],g.addConstraint(d,u.create(h.extend({bodyA:P,bodyB:w},y))))}return d.label+=" Mesh",d},a.pyramid=function(d,v,c,p,y,m,C){return a.stack(d,v,c,p,y,m,function(T,E,w,P,b,M){var A=Math.min(p,Math.ceil(c/2)),R=b?b.bounds.max.x-b.bounds.min.x:0;if(!(P>A)){P=A-P;var L=P,O=c-1-P;if(!(w<L||w>O)){M===1&&l.translate(b,{x:(w+(c%2===1?1:-1))*R,y:0});var D=b?w*R:0;return C(d+D+w*y,E,w,P,b,M)}}})},a.newtonsCradle=function(d,v,c,p,y){for(var m=g.create({label:"Newtons Cradle"}),C=0;C<c;C++){var T=1.9,E=o.circle(d+C*(p*T),v+y,p,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),w=u.create({pointA:{x:d+C*(p*T),y:v},bodyB:E});g.addBody(m,E),g.addConstraint(m,w)}return m},a.car=function(d,v,c,p,y){var m=l.nextGroup(!0),C=20,T=-c*.5+C,E=c*.5-C,w=0,P=g.create({label:"Car"}),b=o.rectangle(d,v,c,p,{collisionFilter:{group:m},chamfer:{radius:p*.5},density:2e-4}),M=o.circle(d+T,v+w,y,{collisionFilter:{group:m},friction:.8}),A=o.circle(d+E,v+w,y,{collisionFilter:{group:m},friction:.8}),R=u.create({bodyB:b,pointB:{x:T,y:w},bodyA:M,stiffness:1,length:0}),L=u.create({bodyB:b,pointB:{x:E,y:w},bodyA:A,stiffness:1,length:0});return g.addBody(P,b),g.addBody(P,M),g.addBody(P,A),g.addConstraint(P,R),g.addConstraint(P,L),P},a.softBody=function(d,v,c,p,y,m,C,T,E,w){E=h.extend({inertia:1/0},E),w=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},w);var P=a.stack(d,v,c,p,y,m,function(b,M){return o.circle(b,M,T,E)});return a.mesh(P,c,p,C,w),P.label="Soft Body",P}})()},66615:(n,x,s)=>{var a={};n.exports=a;var g=s(31725),u=s(53402);(function(){a.fromVertices=function(h){for(var l={},o=0;o<h.length;o++){var d=(o+1)%h.length,v=g.normalise({x:h[d].y-h[o].y,y:h[o].x-h[d].x}),c=v.y===0?1/0:v.x/v.y;c=c.toFixed(3).toString(),l[c]=v}return u.values(l)},a.rotate=function(h,l){if(l!==0)for(var o=Math.cos(l),d=Math.sin(l),v=0;v<h.length;v++){var c=h[v],p;p=c.x*o-c.y*d,c.y=c.x*d+c.y*o,c.x=p}}})()},15647:n=>{var x={};n.exports=x,function(){x.create=function(s){var a={min:{x:0,y:0},max:{x:0,y:0}};return s&&x.update(a,s),a},x.update=function(s,a,g){s.min.x=1/0,s.max.x=-1/0,s.min.y=1/0,s.max.y=-1/0;for(var u=0;u<a.length;u++){var h=a[u];h.x>s.max.x&&(s.max.x=h.x),h.x<s.min.x&&(s.min.x=h.x),h.y>s.max.y&&(s.max.y=h.y),h.y<s.min.y&&(s.min.y=h.y)}g&&(g.x>0?s.max.x+=g.x:s.min.x+=g.x,g.y>0?s.max.y+=g.y:s.min.y+=g.y)},x.contains=function(s,a){return a.x>=s.min.x&&a.x<=s.max.x&&a.y>=s.min.y&&a.y<=s.max.y},x.overlaps=function(s,a){return s.min.x<=a.max.x&&s.max.x>=a.min.x&&s.max.y>=a.min.y&&s.min.y<=a.max.y},x.translate=function(s,a){s.min.x+=a.x,s.max.x+=a.x,s.min.y+=a.y,s.max.y+=a.y},x.shift=function(s,a){var g=s.max.x-s.min.x,u=s.max.y-s.min.y;s.min.x=a.x,s.max.x=a.x+g,s.min.y=a.y,s.max.y=a.y+u}}()},74058:(n,x,s)=>{var a={};n.exports=a,s(15647);var g=s(53402);(function(){a.pathToVertices=function(u,h){typeof window<"u"&&!("SVGPathSeg"in window)&&g.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,o,d,v,c,p,y,m,C,T,E=[],w,P,b=0,M=0,A=0;h=h||15;var R=function(O,D,I){var B=I%2===1&&I>1;if(!C||O!=C.x||D!=C.y){C&&B?(w=C.x,P=C.y):(w=0,P=0);var G={x:w+O,y:P+D};(B||!C)&&(C=G),E.push(G),M=w+O,A=P+D}},L=function(O){var D=O.pathSegTypeAsLetter.toUpperCase();if(D!=="Z"){switch(D){case"M":case"L":case"T":case"C":case"S":case"Q":M=O.x,A=O.y;break;case"H":M=O.x;break;case"V":A=O.y;break}R(M,A,O.pathSegType)}};for(a._svgPathToAbsolute(u),d=u.getTotalLength(),p=[],l=0;l<u.pathSegList.numberOfItems;l+=1)p.push(u.pathSegList.getItem(l));for(y=p.concat();b<d;){if(T=u.getPathSegAtLength(b),c=p[T],c!=m){for(;y.length&&y[0]!=c;)L(y.shift());m=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":v=u.getPointAtLength(b),R(v.x,v.y,0);break}b+=h}for(l=0,o=y.length;l<o;++l)L(y[l]);return E},a._svgPathToAbsolute=function(u){for(var h,l,o,d,v,c,p=u.pathSegList,y=0,m=0,C=p.numberOfItems,T=0;T<C;++T){var E=p.getItem(T),w=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(w))"x"in E&&(y=E.x),"y"in E&&(m=E.y);else switch("x1"in E&&(o=y+E.x1),"x2"in E&&(v=y+E.x2),"y1"in E&&(d=m+E.y1),"y2"in E&&(c=m+E.y2),"x"in E&&(y+=E.x),"y"in E&&(m+=E.y),w){case"m":p.replaceItem(u.createSVGPathSegMovetoAbs(y,m),T);break;case"l":p.replaceItem(u.createSVGPathSegLinetoAbs(y,m),T);break;case"h":p.replaceItem(u.createSVGPathSegLinetoHorizontalAbs(y),T);break;case"v":p.replaceItem(u.createSVGPathSegLinetoVerticalAbs(m),T);break;case"c":p.replaceItem(u.createSVGPathSegCurvetoCubicAbs(y,m,o,d,v,c),T);break;case"s":p.replaceItem(u.createSVGPathSegCurvetoCubicSmoothAbs(y,m,v,c),T);break;case"q":p.replaceItem(u.createSVGPathSegCurvetoQuadraticAbs(y,m,o,d),T);break;case"t":p.replaceItem(u.createSVGPathSegCurvetoQuadraticSmoothAbs(y,m),T);break;case"a":p.replaceItem(u.createSVGPathSegArcAbs(y,m,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),T);break;case"z":case"Z":y=h,m=l;break}(w=="M"||w=="m")&&(h=y,l=m)}}})()},31725:n=>{var x={};n.exports=x,function(){x.create=function(s,a){return{x:s||0,y:a||0}},x.clone=function(s){return{x:s.x,y:s.y}},x.magnitude=function(s){return Math.sqrt(s.x*s.x+s.y*s.y)},x.magnitudeSquared=function(s){return s.x*s.x+s.y*s.y},x.rotate=function(s,a,g){var u=Math.cos(a),h=Math.sin(a);g||(g={});var l=s.x*u-s.y*h;return g.y=s.x*h+s.y*u,g.x=l,g},x.rotateAbout=function(s,a,g,u){var h=Math.cos(a),l=Math.sin(a);u||(u={});var o=g.x+((s.x-g.x)*h-(s.y-g.y)*l);return u.y=g.y+((s.x-g.x)*l+(s.y-g.y)*h),u.x=o,u},x.normalise=function(s){var a=x.magnitude(s);return a===0?{x:0,y:0}:{x:s.x/a,y:s.y/a}},x.dot=function(s,a){return s.x*a.x+s.y*a.y},x.cross=function(s,a){return s.x*a.y-s.y*a.x},x.cross3=function(s,a,g){return(a.x-s.x)*(g.y-s.y)-(a.y-s.y)*(g.x-s.x)},x.add=function(s,a,g){return g||(g={}),g.x=s.x+a.x,g.y=s.y+a.y,g},x.sub=function(s,a,g){return g||(g={}),g.x=s.x-a.x,g.y=s.y-a.y,g},x.mult=function(s,a){return{x:s.x*a,y:s.y*a}},x.div=function(s,a){return{x:s.x/a,y:s.y/a}},x.perp=function(s,a){return a=a===!0?-1:1,{x:a*-s.y,y:a*s.x}},x.neg=function(s){return{x:-s.x,y:-s.y}},x.angle=function(s,a){return Math.atan2(a.y-s.y,a.x-s.x)},x._temp=[x.create(),x.create(),x.create(),x.create(),x.create(),x.create()]}()},41598:(n,x,s)=>{var a={};n.exports=a;var g=s(31725),u=s(53402);(function(){a.create=function(h,l){for(var o=[],d=0;d<h.length;d++){var v=h[d],c={x:v.x,y:v.y,index:d,body:l,isInternal:!1};o.push(c)}return o},a.fromPath=function(h,l){var o=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return h.replace(o,function(v,c,p){d.push({x:parseFloat(c),y:parseFloat(p)})}),a.create(d,l)},a.centre=function(h){for(var l=a.area(h,!0),o={x:0,y:0},d,v,c,p=0;p<h.length;p++)c=(p+1)%h.length,d=g.cross(h[p],h[c]),v=g.mult(g.add(h[p],h[c]),d),o=g.add(o,v);return g.div(o,6*l)},a.mean=function(h){for(var l={x:0,y:0},o=0;o<h.length;o++)l.x+=h[o].x,l.y+=h[o].y;return g.div(l,h.length)},a.area=function(h,l){for(var o=0,d=h.length-1,v=0;v<h.length;v++)o+=(h[d].x-h[v].x)*(h[d].y+h[v].y),d=v;return l?o/2:Math.abs(o)/2},a.inertia=function(h,l){for(var o=0,d=0,v=h,c,p,y=0;y<v.length;y++)p=(y+1)%v.length,c=Math.abs(g.cross(v[p],v[y])),o+=c*(g.dot(v[p],v[p])+g.dot(v[p],v[y])+g.dot(v[y],v[y])),d+=c;return l/6*(o/d)},a.translate=function(h,l,o){o=typeof o<"u"?o:1;var d=h.length,v=l.x*o,c=l.y*o,p;for(p=0;p<d;p++)h[p].x+=v,h[p].y+=c;return h},a.rotate=function(h,l,o){if(l!==0){var d=Math.cos(l),v=Math.sin(l),c=o.x,p=o.y,y=h.length,m,C,T,E;for(E=0;E<y;E++)m=h[E],C=m.x-c,T=m.y-p,m.x=c+(C*d-T*v),m.y=p+(C*v+T*d);return h}},a.contains=function(h,l){for(var o=l.x,d=l.y,v=h.length,c=h[v-1],p,y=0;y<v;y++){if(p=h[y],(o-c.x)*(p.y-c.y)+(d-c.y)*(c.x-p.x)>0)return!1;c=p}return!0},a.scale=function(h,l,o,d){if(l===1&&o===1)return h;d=d||a.centre(h);for(var v,c,p=0;p<h.length;p++)v=h[p],c=g.sub(v,d),h[p].x=d.x+c.x*l,h[p].y=d.y+c.y*o;return h},a.chamfer=function(h,l,o,d,v){typeof l=="number"?l=[l]:l=l||[8],o=typeof o<"u"?o:-1,d=d||2,v=v||14;for(var c=[],p=0;p<h.length;p++){var y=h[p-1>=0?p-1:h.length-1],m=h[p],C=h[(p+1)%h.length],T=l[p<l.length?p:l.length-1];if(T===0){c.push(m);continue}var E=g.normalise({x:m.y-y.y,y:y.x-m.x}),w=g.normalise({x:C.y-m.y,y:m.x-C.x}),P=Math.sqrt(2*Math.pow(T,2)),b=g.mult(u.clone(E),T),M=g.normalise(g.mult(g.add(E,w),.5)),A=g.sub(m,g.mult(M,P)),R=o;o===-1&&(R=Math.pow(T,.32)*1.75),R=u.clamp(R,d,v),R%2===1&&(R+=1);for(var L=Math.acos(g.dot(E,w)),O=L/R,D=0;D<R;D++)c.push(g.add(g.rotate(b,O*D),A))}return c},a.clockwiseSort=function(h){var l=a.mean(h);return h.sort(function(o,d){return g.angle(l,o)-g.angle(l,d)}),h},a.isConvex=function(h){var l=0,o=h.length,d,v,c,p;if(o<3)return null;for(d=0;d<o;d++)if(v=(d+1)%o,c=(d+2)%o,p=(h[v].x-h[d].x)*(h[c].y-h[v].y),p-=(h[v].y-h[d].y)*(h[c].x-h[v].x),p<0?l|=1:p>0&&(l|=2),l===3)return!1;return l!==0?!0:null},a.hull=function(h){var l=[],o=[],d,v;for(h=h.slice(0),h.sort(function(c,p){var y=c.x-p.x;return y!==0?y:c.y-p.y}),v=0;v<h.length;v+=1){for(d=h[v];o.length>=2&&g.cross3(o[o.length-2],o[o.length-1],d)<=0;)o.pop();o.push(d)}for(v=h.length-1;v>=0;v-=1){for(d=h[v];l.length>=2&&g.cross3(l[l.length-2],l[l.length-1],d)<=0;)l.pop();l.push(d)}return l.pop(),o.pop(),l.concat(o)}})()},18210:(n,x,s)=>{var a=s(19933),g={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(u){u.after("Body.create",function(){g.Body.init(this)}),u.before("Engine.update",function(h){g.Engine.update(h)})},Body:{init:function(u){u.plugin.attractors=u.plugin.attractors||[]}},Engine:{update:function(u){for(var h=a.Composite.allBodies(u.world),l=0;l<h.length;l++){var o=h[l],d=o.plugin.attractors;if(d&&d.length>0)for(var v=0;v<h.length;v++){var c=h[v];if(l!==v)for(var p=0;p<d.length;p++){var y=d[p],m=y;a.Common.isFunction(y)&&(m=y(o,c)),m&&a.Body.applyForce(c,c.position,m)}}}}},Attractors:{gravityConstant:.001,gravity:function(u,h){var l=a.Vector.sub(h.position,u.position),o=a.Vector.magnitudeSquared(l)||1e-4,d=a.Vector.normalise(l),v=-g.Attractors.gravityConstant*(u.mass*h.mass/o),c=a.Vector.mult(d,v);a.Body.applyForce(u,u.position,a.Vector.neg(c)),a.Body.applyForce(h,h.position,c)}}};n.exports=g},40178:n=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@phaser.io>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(s){s.after("Engine.create",function(){s.Events.on(this,"collisionStart",function(a){a.pairs.map(function(g){var u=g.bodyA,h=g.bodyB;u.gameObject&&u.gameObject.emit("collide",u,h,g),h.gameObject&&h.gameObject.emit("collide",h,u,g),s.Events.trigger(u,"onCollide",{pair:g}),s.Events.trigger(h,"onCollide",{pair:g}),u.onCollideCallback&&u.onCollideCallback(g),h.onCollideCallback&&h.onCollideCallback(g),u.onCollideWith[h.id]&&u.onCollideWith[h.id](h,g),h.onCollideWith[u.id]&&h.onCollideWith[u.id](u,g)})}),s.Events.on(this,"collisionActive",function(a){a.pairs.map(function(g){var u=g.bodyA,h=g.bodyB;u.gameObject&&u.gameObject.emit("collideActive",u,h,g),h.gameObject&&h.gameObject.emit("collideActive",h,u,g),s.Events.trigger(u,"onCollideActive",{pair:g}),s.Events.trigger(h,"onCollideActive",{pair:g}),u.onCollideActiveCallback&&u.onCollideActiveCallback(g),h.onCollideActiveCallback&&h.onCollideActiveCallback(g)})}),s.Events.on(this,"collisionEnd",function(a){a.pairs.map(function(g){var u=g.bodyA,h=g.bodyB;u.gameObject&&u.gameObject.emit("collideEnd",u,h,g),h.gameObject&&h.gameObject.emit("collideEnd",h,u,g),s.Events.trigger(u,"onCollideEnd",{pair:g}),s.Events.trigger(h,"onCollideEnd",{pair:g}),u.onCollideEndCallback&&u.onCollideEndCallback(g),h.onCollideEndCallback&&h.onCollideEndCallback(g)})})})}};n.exports=x},74507:(n,x,s)=>{var a=s(19933),g={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(u){u.after("Engine.update",function(){g.Engine.update(this)})},Engine:{update:function(u){for(var h=u.world,l=a.Composite.allBodies(h),o=a.Composite.allComposites(h),d=0;d<l.length;d+=1){var v=l[d];v.plugin.wrap&&g.Body.wrap(v,v.plugin.wrap)}for(d=0;d<o.length;d+=1){var c=o[d];c.plugin.wrap&&g.Composite.wrap(c,c.plugin.wrap)}}},Bounds:{wrap:function(u,h){var l=null,o=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(u.min.x>h.max.x?l=h.min.x-u.max.x:u.max.x<h.min.x&&(l=h.max.x-u.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(u.min.y>h.max.y?o=h.min.y-u.max.y:u.max.y<h.min.y&&(o=h.max.y-u.min.y)),l!==null||o!==null)return{x:l||0,y:o||0}}},Body:{wrap:function(u,h){var l=g.Bounds.wrap(u.bounds,h);return l&&a.Body.translate(u,l),l}},Composite:{bounds:function(u){for(var h=a.Composite.allBodies(u),l=[],o=0;o<h.length;o+=1){var d=h[o];l.push(d.bounds.min,d.bounds.max)}return a.Bounds.create(l)},wrap:function(u,h){var l=g.Bounds.wrap(g.Composite.bounds(u),h);return l&&a.Composite.translate(u,l),l}}};n.exports=g},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:L,quickDecomp:B,isSimple:D,removeCollinearPoints:G,removeDuplicatePoints:z,makeCCW:C};function x(k,U,F){F=F||0;var N=[0,0],V,$,X,j,Q,K,q;return V=k[1][1]-k[0][1],$=k[0][0]-k[1][0],X=V*k[0][0]+$*k[0][1],j=U[1][1]-U[0][1],Q=U[0][0]-U[1][0],K=j*U[0][0]+Q*U[0][1],q=V*Q-j*$,Y(q,0,F)||(N[0]=(Q*X-$*K)/q,N[1]=(V*K-j*X)/q),N}function s(k,U,F,N){var V=U[0]-k[0],$=U[1]-k[1],X=N[0]-F[0],j=N[1]-F[1];if(X*$-j*V===0)return!1;var Q=(V*(F[1]-k[1])+$*(k[0]-F[0]))/(X*$-j*V),K=(X*(k[1]-F[1])+j*(F[0]-k[0]))/(j*V-X*$);return Q>=0&&Q<=1&&K>=0&&K<=1}function a(k,U,F){return(U[0]-k[0])*(F[1]-k[1])-(F[0]-k[0])*(U[1]-k[1])}function g(k,U,F){return a(k,U,F)>0}function u(k,U,F){return a(k,U,F)>=0}function h(k,U,F){return a(k,U,F)<0}function l(k,U,F){return a(k,U,F)<=0}var o=[],d=[];function v(k,U,F,N){if(N){var V=o,$=d;V[0]=U[0]-k[0],V[1]=U[1]-k[1],$[0]=F[0]-U[0],$[1]=F[1]-U[1];var X=V[0]*$[0]+V[1]*$[1],j=Math.sqrt(V[0]*V[0]+V[1]*V[1]),Q=Math.sqrt($[0]*$[0]+$[1]*$[1]),K=Math.acos(X/(j*Q));return K<N}else return a(k,U,F)===0}function c(k,U){var F=U[0]-k[0],N=U[1]-k[1];return F*F+N*N}function p(k,U){var F=k.length;return k[U<0?U%F+F:U%F]}function y(k){k.length=0}function m(k,U,F,N){for(var V=F;V<N;V++)k.push(U[V])}function C(k){for(var U=0,F=k,N=1;N<k.length;++N)(F[N][1]<F[U][1]||F[N][1]===F[U][1]&&F[N][0]>F[U][0])&&(U=N);return g(p(k,U-1),p(k,U),p(k,U+1))?!1:(T(k),!0)}function T(k){for(var U=[],F=k.length,N=0;N!==F;N++)U.push(k.pop());for(var N=0;N!==F;N++)k[N]=U[N]}function E(k,U){return h(p(k,U-1),p(k,U),p(k,U+1))}var w=[],P=[];function b(k,U,F){var N,V,$=w,X=P;if(u(p(k,U+1),p(k,U),p(k,F))&&l(p(k,U-1),p(k,U),p(k,F)))return!1;V=c(p(k,U),p(k,F));for(var j=0;j!==k.length;++j)if(!((j+1)%k.length===U||j===U)&&u(p(k,U),p(k,F),p(k,j+1))&&l(p(k,U),p(k,F),p(k,j))&&($[0]=p(k,U),$[1]=p(k,F),X[0]=p(k,j),X[1]=p(k,j+1),N=x($,X),c(p(k,U),N)<V))return!1;return!0}function M(k,U,F){for(var N=0;N!==k.length;++N)if(!(N===U||N===F||(N+1)%k.length===U||(N+1)%k.length===F)&&s(p(k,U),p(k,F),p(k,N),p(k,N+1)))return!1;return!0}function A(k,U,F,N){var V=N||[];if(y(V),U<F)for(var $=U;$<=F;$++)V.push(k[$]);else{for(var $=0;$<=F;$++)V.push(k[$]);for(var $=U;$<k.length;$++)V.push(k[$])}return V}function R(k){for(var U=[],F=[],N=[],V=[],$=Number.MAX_VALUE,X=0;X<k.length;++X)if(E(k,X)){for(var j=0;j<k.length;++j)if(b(k,X,j)){F=R(A(k,X,j,V)),N=R(A(k,j,X,V));for(var Q=0;Q<N.length;Q++)F.push(N[Q]);F.length<$&&(U=F,$=F.length,U.push([p(k,X),p(k,j)]))}}return U}function L(k){var U=R(k);return U.length>0?O(k,U):[k]}function O(k,U){if(U.length===0)return[k];if(U instanceof Array&&U.length&&U[0]instanceof Array&&U[0].length===2&&U[0][0]instanceof Array){for(var F=[k],N=0;N<U.length;N++)for(var V=U[N],$=0;$<F.length;$++){var X=F[$],j=O(X,V);if(j){F.splice($,1),F.push(j[0],j[1]);break}}return F}else{var V=U,N=k.indexOf(V[0]),$=k.indexOf(V[1]);return N!==-1&&$!==-1?[A(k,N,$),A(k,$,N)]:!1}}function D(k){var U=k,F;for(F=0;F<U.length-1;F++)for(var N=0;N<F-1;N++)if(s(U[F],U[F+1],U[N],U[N+1]))return!1;for(F=1;F<U.length-2;F++)if(s(U[0],U[U.length-1],U[F],U[F+1]))return!1;return!0}function I(k,U,F,N,V){V=V||0;var $=U[1]-k[1],X=k[0]-U[0],j=$*k[0]+X*k[1],Q=N[1]-F[1],K=F[0]-N[0],q=Q*F[0]+K*F[1],tt=$*K-Q*X;return Y(tt,0,V)?[0,0]:[(K*j-X*q)/tt,($*q-Q*j)/tt]}function B(k,U,F,N,V,$,X){$=$||100,X=X||0,V=V||25,U=typeof U<"u"?U:[],F=F||[],N=N||[];var j=[0,0],Q=[0,0],K=[0,0],q=0,tt=0,st=0,nt=0,rt=0,ut=0,vt=0,pt=[],ft=[],lt=k,yt=k;if(yt.length<3)return U;if(X++,X>$)return console.warn("quickDecomp: max level ("+$+") reached."),U;for(var Ct=0;Ct<k.length;++Ct)if(E(lt,Ct)){F.push(lt[Ct]),q=tt=Number.MAX_VALUE;for(var Rt=0;Rt<k.length;++Rt)g(p(lt,Ct-1),p(lt,Ct),p(lt,Rt))&&l(p(lt,Ct-1),p(lt,Ct),p(lt,Rt-1))&&(K=I(p(lt,Ct-1),p(lt,Ct),p(lt,Rt),p(lt,Rt-1)),h(p(lt,Ct+1),p(lt,Ct),K)&&(st=c(lt[Ct],K),st<tt&&(tt=st,Q=K,ut=Rt))),g(p(lt,Ct+1),p(lt,Ct),p(lt,Rt+1))&&l(p(lt,Ct+1),p(lt,Ct),p(lt,Rt))&&(K=I(p(lt,Ct+1),p(lt,Ct),p(lt,Rt),p(lt,Rt+1)),g(p(lt,Ct-1),p(lt,Ct),K)&&(st=c(lt[Ct],K),st<q&&(q=st,j=K,rt=Rt)));if(ut===(rt+1)%k.length)K[0]=(Q[0]+j[0])/2,K[1]=(Q[1]+j[1])/2,N.push(K),Ct<rt?(m(pt,lt,Ct,rt+1),pt.push(K),ft.push(K),ut!==0&&m(ft,lt,ut,lt.length),m(ft,lt,0,Ct+1)):(Ct!==0&&m(pt,lt,Ct,lt.length),m(pt,lt,0,rt+1),pt.push(K),ft.push(K),m(ft,lt,ut,Ct+1));else{if(ut>rt&&(rt+=k.length),nt=Number.MAX_VALUE,rt<ut)return U;for(var Rt=ut;Rt<=rt;++Rt)u(p(lt,Ct-1),p(lt,Ct),p(lt,Rt))&&l(p(lt,Ct+1),p(lt,Ct),p(lt,Rt))&&(st=c(p(lt,Ct),p(lt,Rt)),st<nt&&M(lt,Ct,Rt)&&(nt=st,vt=Rt%k.length));Ct<vt?(m(pt,lt,Ct,vt+1),vt!==0&&m(ft,lt,vt,yt.length),m(ft,lt,0,Ct+1)):(Ct!==0&&m(pt,lt,Ct,yt.length),m(pt,lt,0,vt+1),m(ft,lt,vt,Ct+1))}return pt.length<ft.length?(B(pt,U,F,N,V,$,X),B(ft,U,F,N,V,$,X)):(B(ft,U,F,N,V,$,X),B(pt,U,F,N,V,$,X)),U}return U.push(k),U}function G(k,U){for(var F=0,N=k.length-1;k.length>3&&N>=0;--N)v(p(k,N-1),p(k,N),p(k,N+1),U)&&(k.splice(N%k.length,1),F++);return F}function z(k,U){for(var F=k.length-1;F>=1;--F)for(var N=k[F],V=F-1;V>=0;--V)if(H(N,k[V],U)){k.splice(F,1);continue}}function Y(k,U,F){return F=F||0,Math.abs(k-U)<=F}function H(k,U,F){return Y(k[0],U[0],F)&&Y(k[1],U[1],F)}},52018:(n,x,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=s(83419),g=new a({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=g},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=x},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={},s={},a={};a.register=function(g,u,h,l){l===void 0&&(l=!1),x[g]={plugin:u,mapping:h,custom:l}},a.registerCustom=function(g,u,h,l){s[g]={plugin:u,mapping:h,data:l}},a.hasCore=function(g){return x.hasOwnProperty(g)},a.hasCustom=function(g){return s.hasOwnProperty(g)},a.getCore=function(g){return x[g]},a.getCustom=function(g){return s[g]},a.getCustomClass=function(g){return s.hasOwnProperty(g)?s[g].plugin:null},a.remove=function(g){x.hasOwnProperty(g)&&delete x[g]},a.removeCustom=function(g){s.hasOwnProperty(g)&&delete s[g]},a.destroyCorePlugins=function(){for(var g in x)x.hasOwnProperty(g)&&delete x[g]},a.destroyCustomPlugins=function(){for(var g in s)s.hasOwnProperty(g)&&delete s[g]},n.exports=a},77332:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(8443),u=s(50792),h=s(74099),l=s(44603),o=s(39429),d=s(95540),v=s(37277),c=s(72905),p=new a({Extends:u,initialize:function(m){u.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted?this.boot():m.events.once(g.BOOT,this.boot,this)},boot:function(){var y,m,C,T,E,w,P,b=this.game.config,M=b.installGlobalPlugins;for(M=M.concat(this._pendingGlobal),y=0;y<M.length;y++)m=M[y],C=d(m,"key",null),T=d(m,"plugin",null),E=d(m,"start",!1),w=d(m,"mapping",null),P=d(m,"data",null),C&&(T?this.install(C,T,E,w,P):console.warn("Missing `plugin` for key: "+C));for(M=b.installScenePlugins,M=M.concat(this._pendingScene),y=0;y<M.length;y++)m=M[y],C=d(m,"key",null),T=d(m,"plugin",null),w=d(m,"mapping",null),C&&(T?this.installScenePlugin(C,T,w):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(g.DESTROY,this.destroy,this)},addToScene:function(y,m,C){var T,E,w,P=this.game,b=y.scene,M=y.settings.map,A=y.settings.isBooted;for(T=0;T<m.length;T++)E=m[T],P[E]?(y[E]=P[E],M.hasOwnProperty(E)&&(b[M[E]]=y[E])):E==="game"&&M.hasOwnProperty(E)&&(b[M[E]]=P);for(var R=0;R<C.length;R++)for(w=C[R],T=0;T<w.length;T++)if(E=w[T],!!v.hasCore(E)){var L=v.getCore(E),O=L.mapping,D=new L.plugin(b,this,O);y[O]=D,L.custom?b[O]=D:M.hasOwnProperty(O)&&(b[M[O]]=D),A&&D.boot()}for(w=this.plugins,T=0;T<w.length;T++){var I=w[T];I.mapping&&(b[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var y=this.game.config.defaultPlugins;return y=y.concat(this.scenePlugins),y},installScenePlugin:function(y,m,C,T,E){if(E===void 0&&(E=!1),typeof m!="function"){console.warn("Invalid Scene Plugin: "+y);return}if(v.hasCore(y)||v.register(y,m,C,!0),this.scenePlugins.indexOf(y)===-1)this.scenePlugins.push(y);else if(!E&&v.hasCore(y)){console.warn("Scene Plugin key in use: "+y);return}if(T){var w=new m(T,this,y);T.sys[y]=w,C&&C!==""&&(T[C]=w),w.boot()}},install:function(y,m,C,T,E){if(C===void 0&&(C=!1),T===void 0&&(T=null),E===void 0&&(E=null),typeof m!="function")return console.warn("Invalid Plugin: "+y),null;if(v.hasCustom(y))return console.warn("Plugin key in use: "+y),null;if(T!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:y,plugin:m,start:C,mapping:T,data:E});else if(v.registerCustom(y,m,T,E),C)return this.start(y);return null},getIndex:function(y){for(var m=this.plugins,C=0;C<m.length;C++){var T=m[C];if(T.key===y)return C}return-1},getEntry:function(y){var m=this.getIndex(y);if(m!==-1)return this.plugins[m]},isActive:function(y){var m=this.getEntry(y);return m&&m.active},start:function(y,m){m===void 0&&(m=y);var C=this.getEntry(m);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(y,m)),C?C.plugin:null},createEntry:function(y,m){var C=v.getCustom(y);if(C){var T=new C.plugin(this);C={key:m,plugin:T,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),T.init(C.data),T.start()}return C},stop:function(y){var m=this.getEntry(y);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},get:function(y,m){m===void 0&&(m=!0);var C=this.getEntry(y);if(C)return C.plugin;var T=this.getClass(y);return T&&m?(C=this.createEntry(y,y),C?C.plugin:null):T||null},getClass:function(y){return v.getCustomClass(y)},removeGlobalPlugin:function(y){var m=this.getEntry(y);m&&c(this.plugins,m),v.removeCustom(y)},removeScenePlugin:function(y){c(this.scenePlugins,y),v.remove(y)},registerGameObject:function(y,m,C){return m&&o.register(y,m),C&&l.register(y,C),this},removeGameObject:function(y,m,C){return m===void 0&&(m=!0),C===void 0&&(C=!0),m&&o.remove(y),C&&l.remove(y),this},registerFileType:function(y,m,C){h.register(y,m),C&&C.sys.load&&(C.sys.load[y]=m)},destroy:function(){for(var y=0;y<this.plugins.length;y++)this.plugins[y].plugin.destroy();v.destroyCustomPlugins(),this.game.noReturn&&v.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=p},45145:(n,x,s)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2024 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=s(52018),g=s(83419),u=s(44594),h=new g({Extends:a,initialize:function(o,d,v){a.call(this,d),this.scene=o,this.systems=o.sys,this.pluginKey=v,o.sys.events.once(u.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=h},18922:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:s(52018),DefaultPlugins:s(42363),PluginCache:s(37277),PluginManager:s(77332),ScenePlugin:s(45145)}},63595:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const x=performance.now(),s=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||s.totalVideoFrames-s.droppedVideoFrames,g=(u,h)=>{const l=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(o>a){const d=this.mozFrameDelay||l.totalFrameDelay-s.totalFrameDelay||0,v=h-u;n(h,{presentationTime:h+d*1e3,expectedDisplayTime:h+v,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+v/1e3,presentedFrames:o,processingDuration:d}),delete this._rvfcpolyfillmap[x]}else this._rvfcpolyfillmap[x]=requestAnimationFrame(d=>g(h,d))};return this._rvfcpolyfillmap[x]=requestAnimationFrame(u=>g(x,u)),x},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=x},68627:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19715),g=s(32880),u=s(83419),h=s(8054),l=s(50792),o=s(92503),d=s(56373),v=s(97480),c=s(69442),p=s(61340),y=new u({Extends:l,initialize:function(C){l.call(this);var T=C.config;this.config={clearBeforeRender:T.clearBeforeRender,backgroundColor:T.backgroundColor,antialias:T.antialias,roundPixels:T.roundPixels},this.game=C,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var E={alpha:C.config.transparent,desynchronized:C.config.desynchronized,willReadFrequently:!1};this.gameContext=T.context?T.context:this.gameCanvas.getContext("2d",E),this.currentContext=this.gameContext,this.antialias=C.config.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(c.READY,this.boot,this)},boot:function(){var m=this.game,C=m.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,m.scale.on(v.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(m,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(m,C){this.width=m,this.height=C,this.emit(o.RESIZE,m,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(m){return this.currentContext.globalCompositeOperation=m,this},setContext:function(m){return this.currentContext=m||this.gameContext,this},setAlpha:function(m){return this.currentContext.globalAlpha=m,this},preRender:function(){var m=this.gameContext,C=this.config,T=this.width,E=this.height;m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),C.clearBeforeRender&&(m.clearRect(0,0,T,E),C.transparent||(m.fillStyle=C.backgroundColor.rgba,m.fillRect(0,0,T,E))),m.save(),this.drawCount=0,this.emit(o.PRE_RENDER)},render:function(m,C,T){var E=C.length;this.emit(o.RENDER,m,T);var w=T.x,P=T.y,b=T.width,M=T.height,A=T.renderToTexture?T.context:m.sys.context;A.save(),this.game.scene.customViewports&&(A.beginPath(),A.rect(w,P,b,M),A.clip()),T.emit(a.PRE_RENDER,T),this.currentContext=A;var R=T.mask;R&&R.preRenderCanvas(this,null,T._maskCamera),T.transparent||(A.fillStyle=T.backgroundColor.rgba,A.fillRect(w,P,b,M)),A.globalAlpha=T.alpha,A.globalCompositeOperation="source-over",this.drawCount+=E,T.renderToTexture&&T.emit(a.PRE_RENDER,T),T.matrix.copyToContext(A);for(var L=0;L<E;L++){var O=C[L];O.mask&&O.mask.preRenderCanvas(this,O,T),O.renderCanvas(this,O,T),O.mask&&O.mask.postRenderCanvas(this,O,T)}A.setTransform(1,0,0,1,0,0),A.globalCompositeOperation="source-over",A.globalAlpha=1,T.flashEffect.postRenderCanvas(A),T.fadeEffect.postRenderCanvas(A),T.dirty=!1,R&&R.postRenderCanvas(this),A.restore(),T.renderToTexture&&(T.emit(a.POST_RENDER,T),T.renderToGame&&m.sys.context.drawImage(T.canvas,w,P)),T.emit(a.POST_RENDER,T)},postRender:function(){var m=this.gameContext;m.restore(),this.emit(o.POST_RENDER);var C=this.snapshotState;C.callback&&(g(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(m,C,T,E,w,P,b,M,A){T===void 0&&(T=!1),this.snapshotArea(E,w,P,b,C,M,A);var R=this.snapshotState;return R.getPixel=T,g(m,R),R.callback=null,this},snapshot:function(m,C,T){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,m,C,T)},snapshotArea:function(m,C,T,E,w,P,b){var M=this.snapshotState;return M.callback=w,M.type=P,M.encoder=b,M.getPixel=!1,M.x=m,M.y=C,M.width=Math.min(T,this.gameCanvas.width),M.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(m,C,T){return this.snapshotArea(m,C,1,1,T),this.snapshotState.getPixel=!0,this},batchSprite:function(m,C,T,E){var w=T.alpha*m.alpha;if(w!==0){var P=this.currentContext,b=this._tempMatrix1,M=this._tempMatrix2,A=C.canvasData,R=A.x,L=A.y,O=C.cutWidth,D=C.cutHeight,I=C.customPivot,B=C.source.resolution,G=m.displayOriginX,z=m.displayOriginY,Y=-G+C.x,H=-z+C.y;if(m.isCropped){var k=m._crop;(k.flipX!==m.flipX||k.flipY!==m.flipY)&&C.updateCropUVs(k,m.flipX,m.flipY),O=k.cw,D=k.ch,R=k.cx,L=k.cy,Y=-G+k.x,H=-z+k.y,m.flipX&&(Y>=0?Y=-(Y+O):Y<0&&(Y=Math.abs(Y)-O)),m.flipY&&(H>=0?H=-(H+D):H<0&&(H=Math.abs(H)-D))}var U=1,F=1;m.flipX&&(I||(Y+=-C.realWidth+G*2),U=-1),m.flipY&&(I||(H+=-C.realHeight+z*2),F=-1);var N=m.x,V=m.y;M.applyITRS(N,V,m.rotation,m.scaleX*U,m.scaleY*F),b.copyFrom(T.matrix),E?(b.multiplyWithOffset(E,-T.scrollX*m.scrollFactorX,-T.scrollY*m.scrollFactorY),M.e=N,M.f=V):(M.e-=T.scrollX*m.scrollFactorX,M.f-=T.scrollY*m.scrollFactorY),b.multiply(M),T.roundPixels&&(b.e=Math.round(b.e),b.f=Math.round(b.f)),P.save(),b.setToContext(P),P.globalCompositeOperation=this.blendModes[m.blendMode],P.globalAlpha=w,P.imageSmoothingEnabled=!C.source.scaleMode,m.mask&&m.mask.preRenderCanvas(this,m,T),O>0&&D>0&&(T.roundPixels?P.drawImage(C.source.image,R,L,O,D,Math.round(Y),Math.round(H),Math.round(O/B),Math.round(D/B)):P.drawImage(C.source.image,R,L,O,D,Y,H,O/B,D/B)),m.mask&&m.mask.postRenderCanvas(this,m,T),P.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=y},55830:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:s(68627),GetBlendModes:s(56373),SetTransform:s(20926)}},56373:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(89289),u=function(){var h=[],l=g.supportNewBlendModes,o="source-over";return h[a.NORMAL]=o,h[a.ADD]="lighter",h[a.MULTIPLY]=l?"multiply":o,h[a.SCREEN]=l?"screen":o,h[a.OVERLAY]=l?"overlay":o,h[a.DARKEN]=l?"darken":o,h[a.LIGHTEN]=l?"lighten":o,h[a.COLOR_DODGE]=l?"color-dodge":o,h[a.COLOR_BURN]=l?"color-burn":o,h[a.HARD_LIGHT]=l?"hard-light":o,h[a.SOFT_LIGHT]=l?"soft-light":o,h[a.DIFFERENCE]=l?"difference":o,h[a.EXCLUSION]=l?"exclusion":o,h[a.HUE]=l?"hue":o,h[a.SATURATION]=l?"saturation":o,h[a.COLOR]=l?"color":o,h[a.LUMINOSITY]=l?"luminosity":o,h[a.ERASE]="destination-out",h[a.SOURCE_IN]="source-in",h[a.SOURCE_OUT]="source-out",h[a.SOURCE_ATOP]="source-atop",h[a.DESTINATION_OVER]="destination-over",h[a.DESTINATION_IN]="destination-in",h[a.DESTINATION_OUT]="destination-out",h[a.DESTINATION_ATOP]="destination-atop",h[a.LIGHTER]="lighter",h[a.COPY]="copy",h[a.XOR]="xor",h};n.exports=u},20926:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91296),g=function(u,h,l,o,d){var v=o.alpha*l.alpha;if(v<=0)return!1;var c=a(l,o,d).calc;return h.globalCompositeOperation=u.blendModes[l.blendMode],h.globalAlpha=v,h.save(),c.setToContext(h),h.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:u.antialias,!0};n.exports=g},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:s(63899),POST_RENDER:s(6119),PRE_RENDER:s(48070),RENDER:s(15640),RESIZE:s(8912),RESTORE_WEBGL:s(87124)}},36909:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(92503),Snapshot:s(89966)},n.exports.Canvas=s(55830),n.exports.WebGL=s(4159)},32880:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(40987),u=s(95540),h=function(l,o){var d=u(o,"callback"),v=u(o,"type","image/png"),c=u(o,"encoder",.92),p=Math.abs(Math.round(u(o,"x",0))),y=Math.abs(Math.round(u(o,"y",0))),m=Math.floor(u(o,"width",l.width)),C=Math.floor(u(o,"height",l.height)),T=u(o,"getPixel",!1);if(T){var E=l.getContext("2d",{willReadFrequently:!1}),w=E.getImageData(p,y,1,1),P=w.data;d.call(null,new g(P[0],P[1],P[2],P[3]))}else if(p!==0||y!==0||m!==l.width||C!==l.height){var b=a.createWebGL(this,m,C),M=b.getContext("2d",{willReadFrequently:!0});m>0&&C>0&&M.drawImage(l,p,y,m,C,0,0,m,C);var A=new Image;A.onerror=function(){d.call(null),a.remove(b)},A.onload=function(){d.call(null,A),a.remove(b)},A.src=b.toDataURL(v,c)}else{var R=new Image;R.onerror=function(){d.call(null)},R.onload=function(){d.call(null,R)},R.src=l.toDataURL(v,c)}};n.exports=h},88815:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(40987),u=s(95540),h=function(l,o){var d=l,v=u(o,"callback"),c=u(o,"type","image/png"),p=u(o,"encoder",.92),y=Math.abs(Math.round(u(o,"x",0))),m=Math.abs(Math.round(u(o,"y",0))),C=u(o,"getPixel",!1),T=u(o,"isFramebuffer",!1),E=T?u(o,"bufferWidth",1):d.drawingBufferWidth,w=T?u(o,"bufferHeight",1):d.drawingBufferHeight;if(C){var P=new Uint8Array(4),b=T?m:w-m;d.readPixels(y,b,1,1,d.RGBA,d.UNSIGNED_BYTE,P),v.call(null,new g(P[0],P[1],P[2],P[3]))}else{var M=Math.floor(u(o,"width",E)),A=Math.floor(u(o,"height",w)),R=M*A*4,L=new Uint8Array(R);d.readPixels(y,w-m-A,M,A,d.RGBA,d.UNSIGNED_BYTE,L);for(var O=a.createWebGL(this,M,A),D=O.getContext("2d",{willReadFrequently:!0}),I=D.getImageData(0,0,M,A),B=I.data,G=0;G<A;G++)for(var z=0;z<M;z++){var Y=((A-G-1)*M+z)*4,H=T?R-(G*M+(M-z))*4:(G*M+z)*4;B[H+0]=L[Y+0],B[H+1]=L[Y+1],B[H+2]=L[Y+2],B[H+3]=L[Y+3]}D.putImageData(I,0,0);var k=new Image;k.onerror=function(){v.call(null),a.remove(O)},k.onload=function(){v.call(null,k),a.remove(O)},k.src=O.toDataURL(c,p)}};n.exports=h},89966:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:s(32880),WebGL:s(88815)}},7530:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(36060),u=s(90330),h=s(82264),l=s(95540),o=s(32302),d=s(63448),v=s(31302),c=s(58918),p=s(14811),y=s(92651),m=s(96569),C=s(56527),T=s(57516),E=s(43439),w=s(81041),P=s(12385),b=s(7589),M=s(95428),A=s(72905),R=new a({initialize:function(O){this.game=O.game,this.renderer=O,this.classes=new u([[g.UTILITY_PIPELINE,b],[g.MULTI_PIPELINE,T],[g.BITMAPMASK_PIPELINE,v],[g.SINGLE_PIPELINE,P],[g.ROPE_PIPELINE,w],[g.LIGHT_PIPELINE,m],[g.POINTLIGHT_PIPELINE,E],[g.MOBILE_PIPELINE,C]]),this.postPipelineClasses=new u,this.pipelines=new u,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(L,O,D){var I=this.renderer,B=this.renderTargets;this.frameInc=Math.floor(l(L,"frameInc",32));var G=I.width,z=I.height,Y=this.game.config.disablePreFX,H=this.game.config.disablePostFX;if(H||this.postPipelineClasses.setAll([[String(p.BARREL),c.Barrel],[String(p.BLOOM),c.Bloom],[String(p.BLUR),c.Blur],[String(p.BOKEH),c.Bokeh],[String(p.CIRCLE),c.Circle],[String(p.COLOR_MATRIX),c.ColorMatrix],[String(p.DISPLACEMENT),c.Displacement],[String(p.GLOW),c.Glow],[String(p.GRADIENT),c.Gradient],[String(p.PIXELATE),c.Pixelate],[String(p.SHADOW),c.Shadow],[String(p.SHINE),c.Shine],[String(p.VIGNETTE),c.Vignette],[String(p.WIPE),c.Wipe]]),!Y){this.classes.set(g.FX_PIPELINE,y);for(var k=Math.min(G,z),U=Math.ceil(k/this.frameInc),F=1;F<U;F++){var N=F*this.frameInc;B.push(new o(I,N,N)),B.push(new o(I,N,N)),B.push(new o(I,N,N)),this.maxDimension=N}B.push(new o(I,G,z,1,0,!0,!0)),B.push(new o(I,G,z,1,0,!0,!0)),B.push(new o(I,G,z,1,0,!0,!0))}var V,$,X=this,j=this.game;if(this.classes.each(function(K,q){V=X.add(K,new q({game:j})),K===g.UTILITY_PIPELINE&&(X.UTILITY_PIPELINE=V,X.fullFrame1=V.fullFrame1,X.fullFrame2=V.fullFrame2,X.halfFrame1=V.halfFrame1,X.halfFrame2=V.halfFrame2)}),this.MULTI_PIPELINE=this.get(g.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(g.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(g.MOBILE_PIPELINE),Y||(this.FX_PIPELINE=this.get(g.FX_PIPELINE)),L)for($ in L){var Q=L[$];V=new Q(j),V.name=$,V.isPostFX?this.postPipelineClasses.set($,Q):this.has($)||(this.classes.set($,Q),this.add($,V))}this.default=this.get(O),D&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(L){var O=this.get(L);return O&&(this.default=O),O},add:function(L,O){if(O.isPostFX){console.warn(L+" is a Post Pipeline. Use `addPostPipeline` instead");return}var D=this.pipelines,I=this.renderer;return D.has(L)?console.warn("Pipeline exists: "+L):(O.name=L,O.manager=this,D.set(L,O)),O.hasBooted||O.boot(),I.width!==0&&I.height!==0&&!O.isPreFX&&O.resize(I.width,I.height),O},addPostPipeline:function(L,O){this.postPipelineClasses.has(L)||this.postPipelineClasses.set(L,O)},flush:function(){this.current&&this.current.flush()},has:function(L){var O=this.pipelines;return typeof L=="string"?O.has(L):!!O.contains(L)},get:function(L){var O=this.pipelines;if(typeof L=="string")return O.get(L);if(O.contains(L))return L},getPostPipeline:function(L,O,D){var I=this.postPipelineClasses,B,G="",z=typeof L;if(z==="string"||z==="number"?(B=I.get(L),G=L):z==="function"?(I.contains(L)&&(B=L),G=L.name):z==="object"&&(B=I.get(L.name),G=L.name),B){var Y=new B(this.game,D);return Y.name=G,O&&(Y.gameObject=O),this.postPipelineInstances.push(Y),Y}},removePostPipeline:function(L){A(this.postPipelineInstances,L)},remove:function(L,O,D){O===void 0&&(O=!0),D===void 0&&(D=!0),this.pipelines.delete(L),O&&this.classes.delete(L),D&&this.postPipelineClasses.delete(L)},set:function(L,O,D){if(!L.isPostFX)return this.isCurrent(L,D)||(this.flush(),this.current&&this.current.unbind(),this.current=L,L.bind(D)),L.updateProjectionMatrix(),L.onBind(O),L},preBatch:function(L){if(L.hasPostPipeline){this.flush();for(var O=L.postPipelines,D=O.length-1;D>=0;D--){var I=O[D];I.active&&I.preBatch(L)}}},postBatch:function(L){if(L.hasPostPipeline){this.flush();for(var O=L.postPipelines,D=0;D<O.length;D++){var I=O[D];I.active&&I.postBatch(L)}}},preBatchCamera:function(L){if(L.hasPostPipeline){this.flush();for(var O=L.postPipelines,D=O.length-1;D>=0;D--){var I=O[D];I.active&&I.preBatch(L)}}},postBatchCamera:function(L){if(L.hasPostPipeline){this.flush();for(var O=L.postPipelines,D=0;D<O.length;D++){var I=O[D];I.active&&I.postBatch(L)}}},isCurrent:function(L,O){var D=this.renderer,I=this.current;return I&&!O&&(O=I.currentShader),!(I!==L||O.program!==D.currentProgram)},copyFrame:function(L,O,D,I,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(L,O,D,I,B),this},copyToGame:function(L){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(L),this},drawFrame:function(L,O,D,I){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(L,O,D,I),this},blendFrames:function(L,O,D,I,B){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(L,O,D,I,B),this},blendFramesAdditive:function(L,O,D,I,B){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(L,O,D,I,B),this},clearFrame:function(L,O){return this.UTILITY_PIPELINE.clearFrame(L,O),this},blitFrame:function(L,O,D,I,B,G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(L,O,D,I,B,G),this},copyFrameRect:function(L,O,D,I,B,G,z,Y){return this.UTILITY_PIPELINE.copyFrameRect(L,O,D,I,B,G,z,Y),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(L){return this.UTILITY_PIPELINE.bind(L)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(L,O){O.restoreContext()}),M(this.postPipelineInstances,function(L){L.restoreContext()})},rebind:function(L){L===void 0&&this.previous&&(L=this.previous);var O=this.renderer,D=O.gl;D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),O.hasActiveStencilMask()?D.clear(D.DEPTH_BUFFER_BIT):(D.disable(D.STENCIL_TEST),D.clear(D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)),D.viewport(0,0,O.width,O.height),O.currentProgram=null,O.setBlendMode(0,!0);var I=O.vaoExtension;I&&I.bindVertexArrayOES(null);var B=this.pipelines.entries;for(var G in B)B[G].glReset=!0;L&&(this.current=L,L.rebind())},clear:function(){var L=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,L.currentProgram=null,L.setBlendMode(0,!0);var O=L.vaoExtension;O&&O.bindVertexArrayOES(null)},getRenderTarget:function(L){var O=this.renderTargets,D=3;if(L>this.maxDimension)return this.targetIndex=O.length-D,O[this.targetIndex];var I=(d(L,this.frameInc,0,!0)-1)*D;return this.targetIndex=I,O[I]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=R},32302:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92503),u=new a({initialize:function(l,o,d,v,c,p,y,m,C){v===void 0&&(v=1),c===void 0&&(c=0),p===void 0&&(p=!0),y===void 0&&(y=!1),m===void 0&&(m=!0),C===void 0&&(C=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=v,this.minFilter=c,this.autoClear=p,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=C,this.resize(o,d),y?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(g.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(g.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,l){if(h=Math.round(h*this.scale),l=Math.round(l*this.scale),h<=0&&(h=1),l<=0&&(l=1),this.autoResize&&(h!==this.width||l!==this.height)){var o=this.renderer;o.deleteFramebuffer(this.framebuffer),o.deleteTexture(this.texture),this.texture=o.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=o.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l}return this},willResize:function(h,l){return h=Math.round(h*this.scale),l=Math.round(l*this.scale),h<=0&&(h=1),l<=0&&(l=1),h!==this.width||l!==this.height},bind:function(h,l,o){h===void 0&&(h=!1);var d=this.renderer;if(h&&d.flush(),l&&o&&this.resize(l,o),d.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var v=this.renderer.gl;v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(){var h=this.renderer,l=h.gl;h.pushFramebuffer(this.framebuffer),l.disable(l.SCISSOR_TEST),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT),h.popFramebuffer(),h.resetScissor()},unbind:function(h){h===void 0&&(h=!1);var l=this.renderer;return h&&l.flush(),l.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(g.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=u},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(x,s,a,g){var u=(x*255|0)&255,h=(s*255|0)&255,l=(a*255|0)&255,o=(g*255|0)&255;return(o<<24|u<<16|h<<8|l)>>>0},getTintAppendFloatAlpha:function(x,s){var a=(s*255|0)&255;return(a<<24|x)>>>0},getTintAppendFloatAlphaAndSwap:function(x,s){var a=(x>>16|0)&255,g=(x>>8|0)&255,u=(x|0)&255,h=(s*255|0)&255;return(h<<24|u<<16|g<<8|a)>>>0},getFloatsFromUintRGB:function(x){var s=(x>>16|0)&255,a=(x>>8|0)&255,g=(x|0)&255;return[s/255,a/255,g/255]},checkShaderMax:function(x,s){var a=Math.min(16,x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS));return!s||s===-1?a:Math.min(a,s)},parseFragmentShaderMaxTextures:function(x,s){if(!x)return"";for(var a="",g=0;g<s;g++)g>0&&(a+=`
	else `),g<s-1&&(a+="if (outTexId < "+g+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+g+"], outTexCoord);",a+=`
	}`;return x=x.replace(/%count%/gi,s.toString()),x.replace(/%forloop%/gi,a)},setGlowQuality:function(x,s,a,g){return a===void 0&&(a=s.config.glowFXQuality),g===void 0&&(g=s.config.glowFXDistance),x=x.replace(/__SIZE__/gi,(1/a/g).toFixed(7)),x=x.replace(/__DIST__/gi,g.toFixed(0)+".0"),x}}},29100:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(62644),u=s(50792),h=s(77085),l=s(95540),o=s(37867),d=s(92503),v=s(32302),c=s(70554),p=s(38683),y=new a({Extends:u,initialize:function(C){u.call(this);var T=C.game,E=T.renderer,w=E.gl;this.name=l(C,"name","WebGLPipeline"),this.game=T,this.renderer=E,this.manager,this.gl=w,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(C,"topology",w.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(C,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=C,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(C,"resizeUniform","")},boot:function(){var m,C=this.gl,T=this.config,E=this.renderer;this.isPostFX||(this.projectionMatrix=new o().identity());var w=this.renderTargets,P=l(T,"renderTarget",!1);typeof P=="boolean"&&P&&(P=1);var b=E.width,M=E.height;if(typeof P=="number")for(m=0;m<P;m++)w.push(new v(E,b,M,1,0,!0));else if(Array.isArray(P))for(m=0;m<P.length;m++){var A=l(P[m],"scale",1),R=l(P[m],"minFilter",0),L=l(P[m],"autoClear",1),O=l(P[m],"autoResize",!1),D=l(P[m],"width",null),I=l(P[m],"height",D);D?w.push(new v(E,D,I,1,R,L,O)):w.push(new v(E,b,M,A,R,L,O))}w.length&&(this.currentRenderTarget=w[0]),this.setShadersFromConfig(T);var B=this.shaders,G=0;for(m=0;m<B.length;m++)B[m].vertexSize>G&&(G=B[m].vertexSize);var z=l(T,"batchSize",E.config.batchSize);this.vertexCapacity=z*6;var Y=new ArrayBuffer(this.vertexCapacity*G);this.vertexData=Y,this.bytes=new Uint8Array(Y),this.vertexViewF32=new Float32Array(Y),this.vertexViewU32=new Uint32Array(Y);var H=l(T,"vertices",null);for(H?(this.vertexViewF32.set(H),this.vertexBuffer=E.createVertexBuffer(Y,C.STATIC_DRAW)):this.vertexBuffer=E.createVertexBuffer(Y.byteLength,C.DYNAMIC_DRAW),this.setVertexBuffer(),m=B.length-1;m>=0;m--)B[m].rebind();this.hasBooted=!0,E.on(d.RESIZE,this.resize,this),E.on(d.PRE_RENDER,this.onPreRender,this),E.on(d.RENDER,this.onRender,this),E.on(d.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,C,T){var E=this.renderer;if(m!==this.currentShader||E.currentProgram!==this.currentShader.program){this.flush();var w=this.setVertexBuffer(T);w&&!C&&(C=!0),m.bind(C,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var C=this.shaders,T=0;T<C.length;T++)if(C[T].name===m)return C[T]},setShadersFromConfig:function(m){var C,T=this.shaders,E=this.renderer;for(C=0;C<T.length;C++)T[C].destroy();var w="vertShader",P="fragShader",b="attributes",M=l(m,w,null),A=c.parseFragmentShaderMaxTextures(l(m,P,null),E.maxTextures),R=l(m,b,null),L=l(m,"shaders",[]),O=L.length;if(O===0)M&&A&&(this.shaders=[new p(this,"default",M,A,g(R))]);else{var D=[];for(C=0;C<O;C++){var I=L[C],B,G,z,Y;if(typeof I=="string"?(B="default",G=M,z=c.parseFragmentShaderMaxTextures(I,E.maxTextures),Y=R):(B=l(I,"name","default"),G=l(I,w,M),z=c.parseFragmentShaderMaxTextures(l(I,P,A),E.maxTextures),Y=l(I,b,R)),B==="default"){var H=z.split(`
`),k=H[0].trim();k.indexOf("#define SHADER_NAME")>-1&&(B=k.substring(20))}G&&z&&D.push(new p(this,B,G,z,g(Y)))}this.shaders=D}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},addTextureToBatch:function(m){var C=this.currentBatch;C&&(C.texture.push(m),C.unit++,C.maxUnit++)},pushBatch:function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var C=this.currentBatch,T=C.texture.indexOf(m);return T===-1?C.texture.length===this.renderer.maxTextures?this.createBatch(m):(C.unit++,C.maxUnit++,C.texture.push(m),this.currentUnit=C.unit,this.currentTexture=m,C.unit):(this.currentUnit=T,this.currentTexture=m,T)},setGameObject:function(m,C){return C===void 0&&(C=m.frame),this.pushBatch(C.source.glTexture)},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(m,C){(m!==this.width||C!==this.height)&&this.flush(),this.width=m,this.height=C;for(var T=this.renderTargets,E=0;E<T.length;E++)T[E].resize(m,C);return this.setProjectionMatrix(m,C),this.resizeUniform&&this.set2f(this.resizeUniform,m,C),this.emit(h.RESIZE,m,C,this),this.onResize(m,C),this},setProjectionMatrix:function(m,C){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=m,this.projectionHeight=C,T.ortho(0,m,C,0,-1e3,1e3);for(var E=this.shaders,w="uProjectionMatrix",P=0;P<E.length;P++){var b=E[P];b.hasUniform(w)&&(b.resetUniform(w),b.setMatrix4fv(w,!1,T.val,b))}return this},flipProjectionMatrix:function(m){m===void 0&&(m=!0);var C=this.projectionMatrix;if(!C)return this;var T=this.projectionWidth,E=this.projectionHeight;m?C.ortho(0,T,0,E,-1e3,1e3):C.ortho(0,T,E,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,C.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,C=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==C)&&this.setProjectionMatrix(m,C)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var C=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,C=!0),m.bind(C),this.currentShader=m,this.activeTextures.length=0,this.emit(h.BIND,this,m),this.onActive(m),this},rebind:function(m){this.activeBuffer=null,this.setVertexBuffer();for(var C=this.shaders,T=C.length-1;T>=0;T--){var E=C[T].rebind();(!m||E===m)&&(this.currentShader=E)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var m=this.shaders,C=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,C&&this.setVertexBuffer();for(var T=0;T<m.length;T++){var E=m[T];E.syncUniforms(),C&&E.rebind()}},setVertexBuffer:function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var C=this.gl;return this.gl.bindBuffer(C.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var C=this.gl,T=this.vertexCount,E=this.currentShader.vertexSize,w=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.DYNAMIC_DRAW):C.bufferSubData(C.ARRAY_BUFFER,0,this.bytes.subarray(0,T*E));var P,b,M,A=this.batch,R=this.activeTextures;if(this.forceZero)for(R[0]||C.activeTexture(C.TEXTURE0),P=0;P<A.length;P++)b=A[P],M=b.texture[0],R[0]!==M&&(C.bindTexture(C.TEXTURE_2D,M.webGLTexture),R[0]=M),C.drawArrays(w,b.start,b.count);else for(P=0;P<A.length;P++){b=A[P];for(var L=0;L<=b.maxUnit;L++)M=b.texture[L],R[L]!==M&&(C.activeTexture(C.TEXTURE0+L),C.bindTexture(C.TEXTURE_2D,M.webGLTexture),R[L]=M);C.drawArrays(w,b.start,b.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,C,T,E,w,P,b){var M=this.vertexViewF32,A=this.vertexViewU32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++R]=m,M[++R]=C,M[++R]=T,M[++R]=E,M[++R]=w,M[++R]=P,A[++R]=b,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(m,C,T,E,w,P,b,M,A,R,L,O,D,I,B,G,z,Y,H,k){k===void 0&&(k=this.currentUnit);var U=!1;this.shouldFlush(6)&&(this.flush(),U=!0),this.currentBatch||(k=this.setTexture2D(H));var F=this.vertexViewF32,N=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return F[++V]=C,F[++V]=T,F[++V]=R,F[++V]=L,F[++V]=k,F[++V]=Y,N[++V]=I,F[++V]=E,F[++V]=w,F[++V]=R,F[++V]=D,F[++V]=k,F[++V]=Y,N[++V]=G,F[++V]=P,F[++V]=b,F[++V]=O,F[++V]=D,F[++V]=k,F[++V]=Y,N[++V]=z,F[++V]=C,F[++V]=T,F[++V]=R,F[++V]=L,F[++V]=k,F[++V]=Y,N[++V]=I,F[++V]=P,F[++V]=b,F[++V]=O,F[++V]=D,F[++V]=k,F[++V]=Y,N[++V]=z,F[++V]=M,F[++V]=A,F[++V]=O,F[++V]=L,F[++V]=k,F[++V]=Y,N[++V]=B,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),U},batchTri:function(m,C,T,E,w,P,b,M,A,R,L,O,D,I,B,G,z){z===void 0&&(z=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(z=this.setTexture2D(G));var H=this.vertexViewF32,k=this.vertexViewU32,U=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++U]=C,H[++U]=T,H[++U]=M,H[++U]=A,H[++U]=z,H[++U]=B,k[++U]=O,H[++U]=E,H[++U]=w,H[++U]=M,H[++U]=L,H[++U]=z,H[++U]=B,k[++U]=D,H[++U]=P,H[++U]=b,H[++U]=R,H[++U]=L,H[++U]=z,H[++U]=B,k[++U]=I,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),Y},drawFillRect:function(m,C,T,E,w,P,b,M){b===void 0&&(b=this.renderer.whiteTexture),M===void 0&&(M=!0),m=Math.floor(m),C=Math.floor(C);var A=Math.floor(m+T),R=Math.floor(C+E),L=this.setTexture2D(b),O=c.getTintAppendFloatAlphaAndSwap(w,P),D=0,I=0,B=1,G=1;M&&(I=1,G=0),this.batchQuad(null,m,C,m,R,A,R,A,C,D,I,B,G,O,O,O,O,0,b,L)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},bindTexture:function(m,C){C===void 0&&(C=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+C),T.bindTexture(T.TEXTURE_2D,m.webGLTexture),this},bindRenderTarget:function(m,C){return this.bindTexture(m.texture,C)},setTime:function(m,C){return this.set1f(m,this.game.loop.getDuration(),C),this},setBoolean:function(m,C,T){return T===void 0&&(T=this.currentShader),T.setBoolean(m,C),this},set1f:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set1f(m,C),this},set2f:function(m,C,T,E){return E===void 0&&(E=this.currentShader),E.set2f(m,C,T),this},set3f:function(m,C,T,E,w){return w===void 0&&(w=this.currentShader),w.set3f(m,C,T,E),this},set4f:function(m,C,T,E,w,P){return P===void 0&&(P=this.currentShader),P.set4f(m,C,T,E,w),this},set1fv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set1fv(m,C),this},set2fv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set2fv(m,C),this},set3fv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set3fv(m,C),this},set4fv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set4fv(m,C),this},set1iv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set1iv(m,C),this},set2iv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set2iv(m,C),this},set3iv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set3iv(m,C),this},set4iv:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set4iv(m,C),this},set1i:function(m,C,T){return T===void 0&&(T=this.currentShader),T.set1i(m,C),this},set2i:function(m,C,T,E){return E===void 0&&(E=this.currentShader),E.set2i(m,C,T),this},set3i:function(m,C,T,E,w){return w===void 0&&(w=this.currentShader),w.set3i(m,C,T,E),this},set4i:function(m,C,T,E,w,P){return P===void 0&&(P=this.currentShader),P.set4i(m,C,T,E,w),this},setMatrix2fv:function(m,C,T,E){return E===void 0&&(E=this.currentShader),E.setMatrix2fv(m,C,T),this},setMatrix3fv:function(m,C,T,E){return E===void 0&&(E=this.currentShader),E.setMatrix3fv(m,C,T),this},setMatrix4fv:function(m,C,T,E){return E===void 0&&(E=this.currentShader),E.setMatrix4fv(m,C,T),this},destroy:function(){this.emit(h.DESTROY,this);var m,C=this.shaders;for(m=0;m<C.length;m++)C[m].destroy();var T=this.renderTargets;for(m=0;m<T.length;m++)T[m].destroy();var E=this.renderer;return E.deleteBuffer(this.vertexBuffer),E.off(d.RESIZE,this.resize,this),E.off(d.PRE_RENDER,this.onPreRender,this),E.off(d.RENDER,this.onRender,this),E.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=y},74797:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95428),g=s(72905),u=s(19715),h=s(83419),l=s(8054),o=s(50792),d=s(92503),v=s(50030),c=s(37867),p=s(29747),y=s(7530),m=s(32302),C=s(97480),T=s(69442),E=s(70554),w=s(88815),P=s(26128),b=s(1482),M=s(82751),A=s(84387),R=s(93567),L=s(57183),O=new h({Extends:o,initialize:function(I){o.call(this);var B=I.config,G={alpha:B.transparent,desynchronized:B.desynchronized,depth:!0,antialias:B.antialiasGL,premultipliedAlpha:B.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:B.failIfMajorPerformanceCaveat,powerPreference:B.powerPreference,preserveDrawingBuffer:B.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:B.clearBeforeRender,antialias:B.antialias,backgroundColor:B.backgroundColor,contextCreation:G,roundPixels:B.roundPixels,maxTextures:B.maxTextures,maxTextureSize:B.maxTextureSize,batchSize:B.batchSize,maxLights:B.maxLights,mipmapFilter:B.mipmapFilter},this.game=I,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=I.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=p,this.contextRestoredHandler=p,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(D){var I,B=this.game,G=this.canvas,z=D.backgroundColor;if(B.config.context?I=B.config.context:I=G.getContext("webgl",D.contextCreation)||G.getContext("experimental-webgl",D.contextCreation),!I||I.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=I;var Y=this,H=function(){var F=I.getSupportedExtensions();Y.supportedExtensions=F;var N="ANGLE_instanced_arrays";Y.instancedArraysExtension=F.indexOf(N)>-1?I.getExtension(N):null;var V="OES_vertex_array_object";Y.vaoExtension=F.indexOf(V)>-1?I.getExtension(V):null};H(),this.contextLostHandler=function(F){Y.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),Y.emit(d.LOSE_WEBGL,Y),F.preventDefault()},G.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.contextRestoredHandler=function(F){if(I.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}Y.currentProgram=null,Y.currentFramebuffer=null,Y.setBlendMode(l.BlendModes.NORMAL),I.disable(I.BLEND),I.disable(I.DEPTH_TEST),I.enable(I.CULL_FACE),Y.compression=Y.getCompressedTextures();var N=function(V){V.createResource()};a(Y.glTextureWrappers,N),a(Y.glBufferWrappers,N),a(Y.glFramebufferWrappers,N),a(Y.glProgramWrappers,N),a(Y.glAttribLocationWrappers,N),a(Y.glUniformLocationWrappers,N),Y.createTemporaryTextures(),Y.pipelines.restoreContext(),Y.resize(Y.game.scale.baseSize.width,Y.game.scale.baseSize.height),H(),Y.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),Y.emit(d.RESTORE_WEBGL,Y),F.preventDefault()},G.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),B.context=I;for(var k=0;k<=27;k++)this.blendModes.push({func:[I.ONE,I.ONE_MINUS_SRC_ALPHA],equation:I.FUNC_ADD});this.blendModes[1].func=[I.ONE,I.DST_ALPHA],this.blendModes[2].func=[I.DST_COLOR,I.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[I.ONE,I.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[I.ZERO,I.ONE_MINUS_SRC_ALPHA],equation:I.FUNC_REVERSE_SUBTRACT},this.glFormats=[I.BYTE,I.SHORT,I.UNSIGNED_BYTE,I.UNSIGNED_SHORT,I.FLOAT],this.glFuncMap={mat2:{func:I.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:I.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:I.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:I.uniform1f,length:1},"1fv":{func:I.uniform1fv,length:1},"1i":{func:I.uniform1i,length:1},"1iv":{func:I.uniform1iv,length:1},"2f":{func:I.uniform2f,length:2},"2fv":{func:I.uniform2fv,length:1},"2i":{func:I.uniform2i,length:2},"2iv":{func:I.uniform2iv,length:1},"3f":{func:I.uniform3f,length:3},"3fv":{func:I.uniform3fv,length:1},"3i":{func:I.uniform3i,length:3},"3iv":{func:I.uniform3iv,length:1},"4f":{func:I.uniform4f,length:4},"4fv":{func:I.uniform4fv,length:1},"4i":{func:I.uniform4i,length:4},"4iv":{func:I.uniform4iv,length:1}},(!D.maxTextures||D.maxTextures===-1)&&(D.maxTextures=I.getParameter(I.MAX_TEXTURE_IMAGE_UNITS)),D.maxTextureSize||(D.maxTextureSize=I.getParameter(I.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),I.disable(I.DEPTH_TEST),I.disable(I.CULL_FACE),I.enable(I.BLEND),I.clearColor(z.redGL,z.greenGL,z.blueGL,z.alphaGL);var U=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return U.indexOf(D.mipmapFilter)!==-1&&(this.mipmapFilter=I[D.mipmapFilter]),this.maxTextures=E.checkShaderMax(I,D.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new y(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new c().identity(),B.textures.once(T.READY,this.boot,this),this},boot:function(){var D=this.game,I=this.pipelines,B=D.scale.baseSize,G=B.width,z=B.height;this.width=G,this.height=z,this.isBooted=!0,this.renderTarget=new m(this,G,z,1,0,!0,!0),this.maskTarget=new m(this,G,z,1,0,!0,!0),this.maskSource=new m(this,G,z,1,0,!0,!0);var Y=D.config;I.boot(Y.pipeline,Y.defaultPipeline,Y.autoMobilePipeline),this.blankTexture=D.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=D.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=D.textures.getFrame("__WHITE").glTexture;var H=this.gl;H.bindFramebuffer(H.FRAMEBUFFER,null),H.enable(H.SCISSOR_TEST),D.scale.on(C.RESIZE,this.onResize,this),this.resize(G,z)},createTemporaryTextures:function(){for(var D=this.gl,I=0;I<this.maxTextures;I++){var B=D.createTexture();D.activeTexture(D.TEXTURE0+I),D.bindTexture(D.TEXTURE_2D,B),D.texImage2D(D.TEXTURE_2D,0,D.RGBA,1,1,0,D.RGBA,D.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(I)}},captureFrame:function(D,I){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(D,I,B){},stopCapture:function(){},onCapture:function(D){},onResize:function(D,I){(I.width!==this.width||I.height!==this.height)&&this.resize(I.width,I.height)},beginCapture:function(D,I){D===void 0&&(D=this.width),I===void 0&&(I=this.height),this.renderTarget.bind(!0,D,I),this.setProjectionMatrix(D,I)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(D,I){var B=this.gl;return this.width=D,this.height=I,this.setProjectionMatrix(D,I),B.viewport(0,0,D,I),this.drawingBufferHeight=B.drawingBufferHeight,B.scissor(0,B.drawingBufferHeight-I,D,I),this.defaultScissor[2]=D,this.defaultScissor[3]=I,this.emit(d.RESIZE,D,I),this},getCompressedTextures:function(){var D="WEBGL_compressed_texture_",I="WEBKIT_"+D,B="EXT_texture_compression_",G=function(Y,H){var k=Y.getExtension(D+H)||Y.getExtension(I+H)||Y.getExtension(B+H);if(k){var U={};for(var F in k)U[k[F]]=F;return U}},z=this.gl;return{ETC:G(z,"etc"),ETC1:G(z,"etc1"),ATC:G(z,"atc"),ASTC:G(z,"astc"),BPTC:G(z,"bptc"),RGTC:G(z,"rgtc"),PVRTC:G(z,"pvrtc"),S3TC:G(z,"s3tc"),S3TCSRGB:G(z,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(D,I){var B=this.compression[D.toUpperCase()];if(I in B)return B[I]},supportsCompressedTexture:function(D,I){var B=this.compression[D.toUpperCase()];return B?I?I in B:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(D,I){return(D!==this.projectionWidth||I!==this.projectionHeight)&&(this.projectionWidth=D,this.projectionHeight=I,this.projectionMatrix.ortho(0,D,I,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(D){return this.supportedExtensions?this.supportedExtensions.indexOf(D):!1},getExtension:function(D){return this.hasExtension(D)?(D in this.extensions||(this.extensions[D]=this.gl.getExtension(D)),this.extensions[D]):null},flush:function(){this.pipelines.flush()},pushScissor:function(D,I,B,G,z){z===void 0&&(z=this.drawingBufferHeight);var Y=this.scissorStack,H=[D,I,B,G];return Y.push(H),this.setScissor(D,I,B,G,z),this.currentScissor=H,H},setScissor:function(D,I,B,G,z){z===void 0&&(z=this.drawingBufferHeight);var Y=this.gl,H=this.currentScissor,k=B>0&&G>0;if(H&&k){var U=H[0],F=H[1],N=H[2],V=H[3];k=U!==D||F!==I||N!==B||V!==G}k&&(this.flush(),Y.scissor(D,z-I-G,B,G))},resetScissor:function(){var D=this.gl;D.enable(D.SCISSOR_TEST);var I=this.currentScissor;if(I){var B=I[0],G=I[1],z=I[2],Y=I[3];z>0&&Y>0&&D.scissor(B,this.drawingBufferHeight-G-Y,z,Y)}},popScissor:function(){var D=this.scissorStack;D.pop();var I=D[D.length-1];I&&this.setScissor(I[0],I[1],I[2],I[3]),this.currentScissor=I},hasActiveStencilMask:function(){var D=this.currentMask.mask,I=this.currentCameraMask.mask;return D&&D.isStencil||I&&I.isStencil},resetViewport:function(){var D=this.gl;D.viewport(0,0,this.width,this.height),this.drawingBufferHeight=D.drawingBufferHeight},setBlendMode:function(D,I){I===void 0&&(I=!1);var B=this.gl,G=this.blendModes[D];return I||D!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==D?(this.flush(),B.enable(B.BLEND),B.blendEquation(G.equation),G.func.length>2?B.blendFuncSeparate(G.func[0],G.func[1],G.func[2],G.func[3]):B.blendFunc(G.func[0],G.func[1]),this.currentBlendMode=D,!0):!1},addBlendMode:function(D,I){var B=this.blendModes.push({func:D,equation:I});return B-1},updateBlendMode:function(D,I,B){return this.blendModes[D]&&(this.blendModes[D].func=I,B&&(this.blendModes[D].equation=B)),this},removeBlendMode:function(D){return D>17&&this.blendModes[D]&&this.blendModes.splice(D,1),this},pushFramebuffer:function(D,I,B,G,z){return D===this.currentFramebuffer?this:(this.fboStack.push(D),this.setFramebuffer(D,I,B,G,z))},setFramebuffer:function(D,I,B,G,z){if(I===void 0&&(I=!1),B===void 0&&(B=!0),G===void 0&&(G=null),z===void 0&&(z=!1),D===this.currentFramebuffer)return this;var Y=this.gl,H=this.width,k=this.height;return D&&D.renderTexture&&B?(H=D.renderTexture.width,k=D.renderTexture.height):this.flush(),D?Y.bindFramebuffer(Y.FRAMEBUFFER,D.webGLFramebuffer):Y.bindFramebuffer(Y.FRAMEBUFFER,null),B&&Y.viewport(0,0,H,k),G&&Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,G.webGLTexture,0),z&&(Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT)),I&&(D?(this.drawingBufferHeight=k,this.pushScissor(0,0,H,k)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=D,this},popFramebuffer:function(D,I){D===void 0&&(D=!1),I===void 0&&(I=!0);var B=this.fboStack;B.pop();var G=B[B.length-1];return G||(G=null),this.setFramebuffer(G,D,I),G},restoreFramebuffer:function(D,I){D===void 0&&(D=!1),I===void 0&&(I=!0);var B=this.fboStack,G=B[B.length-1];G||(G=null),this.currentFramebuffer=null,this.setFramebuffer(G,D,I)},setProgram:function(D){return D!==this.currentProgram?(this.flush(),this.gl.useProgram(D.webGLProgram),this.currentProgram=D,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(D,I,B,G,z){z===void 0&&(z=!1);var Y=this.gl,H=Y.NEAREST,k=Y.NEAREST,U=Y.CLAMP_TO_EDGE,F=null;I=D?D.width:I,B=D?D.height:B;var N=v(I,B);if(N&&!z&&(U=Y.REPEAT),G===l.ScaleModes.LINEAR&&this.config.antialias){var V=D&&D.compressed,$=!V&&N||V&&D.mipmaps.length>1;H=this.mipmapFilter&&$?this.mipmapFilter:Y.LINEAR,k=Y.LINEAR}return!D&&typeof I=="number"&&typeof B=="number"?F=this.createTexture2D(0,H,k,U,U,Y.RGBA,null,I,B):F=this.createTexture2D(0,H,k,U,U,Y.RGBA,D),F},createTexture2D:function(D,I,B,G,z,Y,H,k,U,F,N,V){typeof k!="number"&&(k=H?H.width:1),typeof U!="number"&&(U=H?H.height:1);var $=new M(this.gl,D,I,B,G,z,Y,H,k,U,F,N,V);return this.glTextureWrappers.push($),$},createFramebuffer:function(D,I,B,G){this.currentFramebuffer=null;var z=new A(this.gl,D,I,B,G);return this.glFramebufferWrappers.push(z),z},beginBitmapMask:function(D,I){var B=this.gl;B&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==D&&(this.currentMask.mask=D,this.currentMask.camera=I))},drawBitmapMask:function(D,I,B){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),D.renderWebGL(this,D,I),this.maskSource.unbind(!0),this.maskTarget.unbind();var G=this.gl,z=this.getCurrentStencilMask();z?(G.enable(G.STENCIL_TEST),z.mask.applyStencil(this,z.camera,!0)):this.currentMask.mask=null,this.pipelines.set(B),G.activeTexture(G.TEXTURE0),G.bindTexture(G.TEXTURE_2D,this.maskTarget.texture.webGLTexture),G.activeTexture(G.TEXTURE1),G.bindTexture(G.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(D,I){var B=new b(this.gl,D,I);return this.glProgramWrappers.push(B),B},createVertexBuffer:function(D,I){var B=this.gl,G=new P(B,D,B.ARRAY_BUFFER,I);return this.glBufferWrappers.push(G),G},createAttribLocation:function(D,I){var B=new R(this.gl,D,I);return this.glAttribLocationWrappers.push(B),B},createUniformLocation:function(D,I){var B=new L(this.gl,D,I);return this.glUniformLocationWrappers.push(B),B},createIndexBuffer:function(D,I){var B=this.gl,G=new P(B,D,B.ELEMENT_ARRAY_BUFFER,I);return this.glBufferWrappers.push(G),G},deleteTexture:function(D){if(D)return g(this.glTextureWrappers,D),D.destroy(),this},deleteFramebuffer:function(D){return D?(g(this.fboStack,D),g(this.glFramebufferWrappers,D),D.destroy(),this):this},deleteProgram:function(D){return D&&(g(this.glProgramWrappers,D),D.destroy()),this},deleteAttribLocation:function(D){return D&&(g(this.glAttribLocationWrappers,D),D.destroy()),this},deleteUniformLocation:function(D){return D&&(g(this.glUniformLocationWrappers,D),D.destroy()),this},deleteBuffer:function(D){return D?(g(this.glBufferWrappers,D),D.destroy(),this):this},preRenderCamera:function(D){var I=D.x,B=D.y,G=D.width,z=D.height,Y=D.backgroundColor;if(D.emit(u.PRE_RENDER,D),this.pipelines.preBatchCamera(D),this.pushScissor(I,B,G,z),D.mask&&(this.currentCameraMask.mask=D.mask,this.currentCameraMask.camera=D._maskCamera,D.mask.preRenderWebGL(this,D,D._maskCamera)),Y.alphaGL>0){var H=this.pipelines.setMulti();H.drawFillRect(I,B,G,z,E.getTintFromFloats(Y.blueGL,Y.greenGL,Y.redGL,1),Y.alphaGL)}},getCurrentStencilMask:function(){var D=null,I=this.maskStack,B=this.currentCameraMask;return I.length>0?D=I[I.length-1]:B.mask&&B.mask.isStencil&&(D=B),D},postRenderCamera:function(D){var I=D.flashEffect,B=D.fadeEffect;if(I.isRunning||B.isRunning||B.isComplete){var G=this.pipelines.setMulti();I.postRenderWebGL(G,E.getTintFromFloats),B.postRenderWebGL(G,E.getTintFromFloats)}D.dirty=!1,this.popScissor(),D.mask&&(this.currentCameraMask.mask=null,D.mask.postRenderWebGL(this,D._maskCamera)),this.pipelines.postBatchCamera(D),D.emit(u.POST_RENDER,D)},preRender:function(){if(!this.contextLost){var D=this.gl;if(D.bindFramebuffer(D.FRAMEBUFFER,null),this.config.clearBeforeRender){var I=this.config.backgroundColor;D.clearColor(I.redGL,I.greenGL,I.blueGL,I.alphaGL),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT|D.STENCIL_BUFFER_BIT)}D.enable(D.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&D.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(D,I,B){if(!this.contextLost){var G=I.length;if(this.emit(d.RENDER,D,B),this.preRenderCamera(B),G===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(B);return}this.currentType="";for(var z=this.currentMask,Y=0;Y<G;Y++){this.finalType=Y===G-1;var H=I[Y],k=H.mask;z=this.currentMask,z.mask&&z.mask!==k&&z.mask.postRenderWebGL(this,z.camera),k&&z.mask!==k&&k.preRenderWebGL(this,H,B),H.blendMode!==this.currentBlendMode&&this.setBlendMode(H.blendMode);var U=H.type;U!==this.currentType&&(this.newType=!0,this.currentType=U),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=I[Y+1].type===this.currentType,H.renderWebGL(this,H,B),this.newType=!1}z=this.currentMask,z.mask&&z.mask.postRenderWebGL(this,z.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(B)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var D=this.snapshotState;D.callback&&(w(this.gl,D),D.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var D=this.gl,I=this.getCurrentStencilMask();if(I){var B=I.mask;D.enable(D.STENCIL_TEST),B.invertAlpha?D.stencilFunc(D.NOTEQUAL,B.level,255):D.stencilFunc(D.EQUAL,B.level,255)}},snapshot:function(D,I,B){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,D,I,B)},snapshotArea:function(D,I,B,G,z,Y,H){var k=this.snapshotState;return k.callback=z,k.type=Y,k.encoder=H,k.getPixel=!1,k.x=D,k.y=I,k.width=B,k.height=G,this},snapshotPixel:function(D,I,B){return this.snapshotArea(D,I,1,1,B),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(D,I,B,G,z,Y,H,k,U,F,N){z===void 0&&(z=!1),Y===void 0&&(Y=0),H===void 0&&(H=0),k===void 0&&(k=I),U===void 0&&(U=B),F==="pixel"&&(z=!0,F="image/png");var V=this.currentFramebuffer;this.snapshotArea(Y,H,k,U,G,F,N);var $=this.snapshotState;return $.getPixel=z,$.isFramebuffer=!0,$.bufferWidth=I,$.bufferHeight=B,$.width=Math.min($.width,I),$.height=Math.min($.height,B),this.setFramebuffer(D),w(this.gl,$),this.setFramebuffer(V),$.callback=null,$.isFramebuffer=!1,this},canvasToTexture:function(D,I,B,G){B===void 0&&(B=!1),G===void 0&&(G=!1);var z=this.gl,Y=z.NEAREST,H=z.NEAREST,k=D.width,U=D.height,F=z.CLAMP_TO_EDGE,N=v(k,U);return!B&&N&&(F=z.REPEAT),this.config.antialias&&(Y=N&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,H=z.LINEAR),I?(I.update(D,k,U,G,F,F,Y,H,I.format),I):this.createTexture2D(0,Y,H,F,F,z.RGBA,D,k,U,!0,!1,G)},createCanvasTexture:function(D,I,B){return I===void 0&&(I=!1),B===void 0&&(B=!1),this.canvasToTexture(D,null,I,B)},updateCanvasTexture:function(D,I,B,G){return B===void 0&&(B=!1),G===void 0&&(G=!1),this.canvasToTexture(D,I,G,B)},videoToTexture:function(D,I,B,G){B===void 0&&(B=!1),G===void 0&&(G=!1);var z=this.gl,Y=z.NEAREST,H=z.NEAREST,k=D.videoWidth,U=D.videoHeight,F=z.CLAMP_TO_EDGE,N=v(k,U);return!B&&N&&(F=z.REPEAT),this.config.antialias&&(Y=N&&this.mipmapFilter?this.mipmapFilter:z.LINEAR,H=z.LINEAR),I?(I.update(D,k,U,G,F,F,Y,H,I.format),I):this.createTexture2D(0,Y,H,F,F,z.RGBA,D,k,U,!0,!0,G)},createVideoTexture:function(D,I,B){return I===void 0&&(I=!1),B===void 0&&(B=!1),this.videoToTexture(D,null,I,B)},updateVideoTexture:function(D,I,B,G){return B===void 0&&(B=!1),G===void 0&&(G=!1),this.videoToTexture(D,I,G,B)},createUint8ArrayTexture:function(D,I,B){var G=this.gl,z=G.NEAREST,Y=G.NEAREST,H=G.CLAMP_TO_EDGE,k=v(I,B);return k&&(H=G.REPEAT),this.createTexture2D(0,z,Y,H,H,G.RGBA,D,I,B)},setTextureFilter:function(D,I){var B=this.gl,G=I===0?B.LINEAR:B.NEAREST;B.activeTexture(B.TEXTURE0);var z=B.getParameter(B.TEXTURE_BINDING_2D);return B.bindTexture(B.TEXTURE_2D,D.webGLTexture),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,G),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,G),D.minFilter=G,D.magFilter=G,z&&B.bindTexture(B.TEXTURE_2D,z),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var D=function(I){I.destroy()};a(this.glAttribLocationWrappers,D),a(this.glBufferWrappers,D),a(this.glFramebufferWrappers,D),a(this.glProgramWrappers,D),a(this.glTextureWrappers,D),a(this.glUniformLocationWrappers,D),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=O},38683:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95428),u=s(95540),h=s(14500),l=new a({initialize:function(d,v,c,p,y){this.pipeline=d,this.name=v,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=p,this.vertSrc=c,this.program=this.renderer.createProgram(c,p),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(y),this.createUniforms()},createAttributes:function(o){var d=0,v=0,c=[];this.vertexComponentCount=0;for(var p=0;p<o.length;p++){var y=o[p],m=y.name,C=u(y,"size",1),T=u(y,"type",h.FLOAT),E=T.enum,w=T.size,P=!!y.normalized;c.push({name:m,size:C,type:E,normalized:P,offset:v,enabled:!1,location:-1}),w===4?d+=C:d++,v+=C*w}this.vertexSize=v,this.vertexComponentCount=d,this.attributes=c},bind:function(o,d){return o===void 0&&(o=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),o&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(o){o===void 0&&(o=!1);for(var d=this.gl,v=this.renderer,c=this.vertexSize,p=this.attributes,y=this.program,m=0;m<p.length;m++){var C=p[m],T=C.size,E=C.type,w=C.offset,P=C.enabled,b=C.location,M=!!C.normalized;if(o){b!==-1&&v.deleteAttribLocation(b);var A=this.renderer.createAttribLocation(y,C.name);A.webGLAttribLocation>=0?(d.enableVertexAttribArray(A.webGLAttribLocation),d.vertexAttribPointer(A.webGLAttribLocation,T,E,M,c,w),C.enabled=!0,C.location=A):A.webGLAttribLocation!==-1&&d.disableVertexAttribArray(A.webGLAttribLocation)}else P?d.vertexAttribPointer(b.webGLAttribLocation,T,E,M,c,w):!P&&b!==-1&&b.webGLAttribLocation>-1&&(d.disableVertexAttribArray(b.webGLAttribLocation),C.location=-1)}return this},createUniforms:function(){var o=this.gl,d=this.program,v=this.uniforms,c,p,y,m=o.getProgramParameter(d.webGLProgram,o.ACTIVE_UNIFORMS);for(c=0;c<m;c++){var C=o.getActiveUniform(d.webGLProgram,c);if(C){p=C.name,y=this.renderer.createUniformLocation(d,p),y!==null&&(v[p]={name:p,location:y,setter:null,value1:null,value2:null,value3:null,value4:null});var T=p.indexOf("[");T>0&&(p=p.substr(0,T),v.hasOwnProperty(p)||(y=this.renderer.createUniformLocation(d,p),y!==null&&(v[p]={name:p,location:y,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var o=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var v=this.uniforms[d];v.setter&&v.setter.call(o,v.location.webGLUniformLocation,v.value1,v.value2,v.value3,v.value4)}},hasUniform:function(o){return this.uniforms.hasOwnProperty(o)},resetUniform:function(o){var d=this.uniforms[o];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(o,d,v,c){var p=this.uniforms[d];return p?((c||p.value1!==v)&&(p.setter||(p.setter=o),p.value1=v,this.renderer.setProgram(this.program),o.call(this.gl,p.location.webGLUniformLocation,v),this.pipeline.currentShader=this),this):this},setUniform2:function(o,d,v,c,p){var y=this.uniforms[d];return y?((p||y.value1!==v||y.value2!==c)&&(y.setter||(y.setter=o),y.value1=v,y.value2=c,this.renderer.setProgram(this.program),o.call(this.gl,y.location.webGLUniformLocation,v,c),this.pipeline.currentShader=this),this):this},setUniform3:function(o,d,v,c,p,y){var m=this.uniforms[d];return m?((y||m.value1!==v||m.value2!==c||m.value3!==p)&&(m.setter||(m.setter=o),m.value1=v,m.value2=c,m.value3=p,this.renderer.setProgram(this.program),o.call(this.gl,m.location.webGLUniformLocation,v,c,p),this.pipeline.currentShader=this),this):this},setUniform4:function(o,d,v,c,p,y,m){var C=this.uniforms[d];return C?((m||C.value1!==v||C.value2!==c||C.value3!==p||C.value4!==y)&&(C.setter||(C.setter=o),C.value1=v,C.value2=c,C.value3=p,C.value4=y,this.renderer.setProgram(this.program),o.call(this.gl,C.location.webGLUniformLocation,v,c,p,y),this.pipeline.currentShader=this),this):this},setBoolean:function(o,d){return this.setUniform1(this.gl.uniform1i,o,Number(d))},set1f:function(o,d){return this.setUniform1(this.gl.uniform1f,o,d)},set2f:function(o,d,v){return this.setUniform2(this.gl.uniform2f,o,d,v)},set3f:function(o,d,v,c){return this.setUniform3(this.gl.uniform3f,o,d,v,c)},set4f:function(o,d,v,c,p){return this.setUniform4(this.gl.uniform4f,o,d,v,c,p)},set1fv:function(o,d){return this.setUniform1(this.gl.uniform1fv,o,d,!0)},set2fv:function(o,d){return this.setUniform1(this.gl.uniform2fv,o,d,!0)},set3fv:function(o,d){return this.setUniform1(this.gl.uniform3fv,o,d,!0)},set4fv:function(o,d){return this.setUniform1(this.gl.uniform4fv,o,d,!0)},set1iv:function(o,d){return this.setUniform1(this.gl.uniform1iv,o,d,!0)},set2iv:function(o,d){return this.setUniform1(this.gl.uniform2iv,o,d,!0)},set3iv:function(o,d){return this.setUniform1(this.gl.uniform3iv,o,d,!0)},set4iv:function(o,d){return this.setUniform1(this.gl.uniform4iv,o,d,!0)},set1i:function(o,d){return this.setUniform1(this.gl.uniform1i,o,d)},set2i:function(o,d,v){return this.setUniform2(this.gl.uniform2i,o,d,v)},set3i:function(o,d,v,c){return this.setUniform3(this.gl.uniform3i,o,d,v,c)},set4i:function(o,d,v,c,p){return this.setUniform4(this.gl.uniform4i,o,d,v,c,p)},setMatrix2fv:function(o,d,v){return this.setUniform2(this.gl.uniformMatrix2fv,o,d,v,!0)},setMatrix3fv:function(o,d,v){return this.setUniform2(this.gl.uniformMatrix3fv,o,d,v,!0)},setMatrix4fv:function(o,d,v){return this.setUniform2(this.gl.uniformMatrix4fv,o,d,v,!0)},createProgram:function(o,d){return o===void 0&&(o=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=o,this.fragSrc=d,this.program=this.renderer.createProgram(o,d),this.createUniforms(),this.rebind()},destroy:function(){var o=this.renderer;g(this.uniforms,function(d){o.deleteUniformLocation(d.location)}),this.uniforms=null,g(this.attributes,function(d){o.deleteAttribLocation(d.location)}),this.attributes=null,o.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=l},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=x},4159:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(14500),g=s(79291),u={PipelineManager:s(7530),Pipelines:s(96615),RenderTarget:s(32302),Utils:s(70554),WebGLPipeline:s(29100),WebGLRenderer:s(74797),WebGLShader:s(38683),Wrappers:s(9503)};u=g(!1,u,a),n.exports=u},31302:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(78908),h=s(85191),l=s(14500),o=s(29100),d=new a({Extends:o,initialize:function(c){c.fragShader=g(c,"fragShader",u),c.vertShader=g(c,"vertShader",h),c.batchSize=g(c,"batchSize",1),c.vertices=g(c,"vertices",[-1,1,-1,-7,7,1]),c.attributes=g(c,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),o.call(this,c)},boot:function(){o.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(v,c){o.prototype.resize.call(this,v,c),this.set2f("uResolution",v,c)},beginMask:function(v,c,p){this.renderer.beginBitmapMask(v,p)},endMask:function(v,c,p){var y=this.gl,m=this.renderer,C=v.bitmapMask;C&&y&&(m.drawBitmapMask(C,c,this),p&&this.set2f("uResolution",p.width,p.height),this.set1i("uInvertMaskAlpha",v.invertAlpha),y.drawArrays(this.topology,0,3),p&&this.set2f("uResolution",this.width,this.height),y.bindTexture(y.TEXTURE_2D,null))}});n.exports=d},92651:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(58918),u=s(14811),h=s(95540),l=s(43558),o=s(89350),d=s(70554),v=new a({Extends:l,initialize:function(p){p.shaders=[d.setGlowQuality(o.FXGlowFrag,p.game),o.FXShadowFrag,o.FXPixelateFrag,o.FXVignetteFrag,o.FXShineFrag,o.FXBlurLowFrag,o.FXBlurMedFrag,o.FXBlurHighFrag,o.FXGradientFrag,o.FXBloomFrag,o.ColorMatrixFrag,o.FXCircleFrag,o.FXBarrelFrag,o.FXDisplacementFrag,o.FXWipeFrag,o.FXBokehFrag],l.call(this,p);var y=this.game;this.glow=new g.Glow(y),this.shadow=new g.Shadow(y),this.pixelate=new g.Pixelate(y),this.vignette=new g.Vignette(y),this.shine=new g.Shine(y),this.gradient=new g.Gradient(y),this.circle=new g.Circle(y),this.barrel=new g.Barrel(y),this.wipe=new g.Wipe(y),this.bokeh=new g.Bokeh(y);var m=[];m[u.GLOW]=this.onGlow,m[u.SHADOW]=this.onShadow,m[u.PIXELATE]=this.onPixelate,m[u.VIGNETTE]=this.onVignette,m[u.SHINE]=this.onShine,m[u.BLUR]=this.onBlur,m[u.GRADIENT]=this.onGradient,m[u.BLOOM]=this.onBloom,m[u.COLOR_MATRIX]=this.onColorMatrix,m[u.CIRCLE]=this.onCircle,m[u.BARREL]=this.onBarrel,m[u.DISPLACEMENT]=this.onDisplacement,m[u.WIPE]=this.onWipe,m[u.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},onDraw:function(c,p,y){this.source=c,this.target=p,this.swap=y;var m=c.width,C=c.height,T=this.tempSprite,E=this.fxHandlers;if(T&&T.preFX)for(var w=T.preFX.list,P=0;P<w.length;P++){var b=w[P];b.active&&E[b.type].call(this,b,m,C)}this.drawToGame(this.source)},runDraw:function(){var c=this.source,p=this.target;this.copy(c,p),this.source=p,this.target=c},onGlow:function(c,p,y){var m=this.shaders[u.GLOW];this.setShader(m),this.glow.onPreRender(c,m,p,y),this.runDraw()},onShadow:function(c){var p=this.shaders[u.SHADOW];this.setShader(p),this.shadow.onPreRender(c,p),this.runDraw()},onPixelate:function(c,p,y){var m=this.shaders[u.PIXELATE];this.setShader(m),this.pixelate.onPreRender(c,m,p,y),this.runDraw()},onVignette:function(c){var p=this.shaders[u.VIGNETTE];this.setShader(p),this.vignette.onPreRender(c,p),this.runDraw()},onShine:function(c,p,y){var m=this.shaders[u.SHINE];this.setShader(m),this.shine.onPreRender(c,m,p,y),this.runDraw()},onBlur:function(c,p,y){var m=h(c,"quality"),C=this.shaders[u.BLUR+m];this.setShader(C),this.set1i("uMainSampler",0),this.set2f("resolution",p,y),this.set1f("strength",h(c,"strength")),this.set3fv("color",h(c,"glcolor"));for(var T=h(c,"x"),E=h(c,"y"),w=h(c,"steps"),P=0;P<w;P++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,E),this.runDraw()},onGradient:function(c){var p=this.shaders[u.GRADIENT];this.setShader(p),this.gradient.onPreRender(c,p),this.runDraw()},onBloom:function(c,p,y){var m=this.shaders[u.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",h(c,"blurStrength")),this.set3fv("color",h(c,"glcolor"));for(var C=2/p*h(c,"offsetX"),T=2/y*h(c,"offsetY"),E=h(c,"steps"),w=0;w<E;w++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(c,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(c){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",c.getData()),this.set1f("uAlpha",c.alpha),this.runDraw()},onCircle:function(c,p,y){var m=this.shaders[u.CIRCLE];this.setShader(m),this.circle.onPreRender(c,m,p,y),this.runDraw()},onBarrel:function(c){var p=this.shaders[u.BARREL];this.setShader(p),this.barrel.onPreRender(c,p),this.runDraw()},onDisplacement:function(c){this.setShader(this.shaders[u.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",c.x,c.y),this.bindTexture(c.glTexture,1),this.runDraw()},onWipe:function(c){var p=this.shaders[u.WIPE];this.setShader(p),this.wipe.onPreRender(c,p),this.runDraw()},onBokeh:function(c,p,y){var m=this.shaders[u.BOKEH];this.setShader(m),this.bokeh.onPreRender(c,m,p,y),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});n.exports=v},96569:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(31063),h=s(57516),l=s(61340),o=s(26099),d=s(29100),v=new a({Extends:h,initialize:function(p){var y=g(p,"fragShader",u);p.fragShader=y.replace("%LIGHT_COUNT%",p.game.renderer.config.maxLights),h.call(this,p),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new o,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){d.prototype.boot.call(this)},onRender:function(c,p){var y=c.sys.lights;if(this.lightsActive=!1,!(!y||!y.active)){var m=y.getLights(p),C=m.length;this.lightsActive=!0;var T,E=this.renderer,w=E.height,P=p.matrix,b=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",p.x,p.y,p.rotation,p.zoom),this.set3f("uAmbientLightColor",y.ambientColor.r,y.ambientColor.g,y.ambientColor.b),this.set1i("uLightCount",C),T=0;T<C;T++){var M=m[T].light,A=M.color,R="uLights["+T+"].";P.transformPoint(M.x,M.y,b),this.set2f(R+"position",b.x-p.scrollX*M.scrollFactorX*p.zoom,w-(b.y-p.scrollY*M.scrollFactorY*p.zoom)),this.set3f(R+"color",A.r,A.g,A.b),this.set1f(R+"intensity",M.intensity),this.set1f(R+"radius",M.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(c){if(c!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var p=this.inverseRotationMatrix;if(c){var y=-c,m=Math.cos(y),C=Math.sin(y);p[1]=C,p[3]=-C,p[0]=p[4]=m}else p[0]=p[4]=1,p[1]=p[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,p),this.currentNormalMapRotation=c}},setTexture2D:function(c,p){var y=this.renderer;c===void 0&&(c=y.whiteTexture);var m=this.getNormalMap(p);this.isNewNormalMap(c,m)&&(this.flush(),this.createBatch(c),this.addTextureToBatch(m),this.currentNormalMap=m);var C=0;if(p&&p.parentContainer){var T=p.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);C=T.rotationNormalized}else p&&(C=p.rotation);return this.setNormalMapRotation(C),0},setGameObject:function(c,p){p===void 0&&(p=c.frame);var y=p.glTexture,m=this.getNormalMap(c);if(this.isNewNormalMap(y,m)&&(this.flush(),this.createBatch(y),this.addTextureToBatch(m),this.currentNormalMap=m),c.parentContainer){var C=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(C.rotationNormalized)}else this.setNormalMapRotation(c.rotation);return 0},isNewNormalMap:function(c,p){return this.currentTexture!==c||this.currentNormalMap!==p},getNormalMap:function(c){var p;if(c)c.displayTexture?p=c.displayTexture.dataSource[c.displayFrame.sourceIndex]:c.texture?p=c.texture.dataSource[c.frame.sourceIndex]:c.tileset&&(Array.isArray(c.tileset)?p=c.tileset[0].image.dataSource[0]:p=c.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return p?p.glTexture:this.renderer.normalTexture},batchSprite:function(c,p,y){this.lightsActive&&h.prototype.batchSprite.call(this,c,p,y)},batchTexture:function(c,p,y,m,C,T,E,w,P,b,M,A,R,L,O,D,I,B,G,z,Y,H,k,U,F,N,V,$,X,j,Q,K){this.lightsActive&&h.prototype.batchTexture.call(this,c,p,y,m,C,T,E,w,P,b,M,A,R,L,O,D,I,B,G,z,Y,H,k,U,F,N,V,$,X,j,Q,K)},batchTextureFrame:function(c,p,y,m,C,T,E){this.lightsActive&&h.prototype.batchTextureFrame.call(this,c,p,y,m,C,T,E)}});n.exports=v},56527:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(57516),h=s(45561),l=s(60722),o=s(14500),d=s(29100),v=new a({Extends:u,initialize:function(p){p.fragShader=g(p,"fragShader",h),p.vertShader=g(p,"vertShader",l),p.attributes=g(p,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:o.UNSIGNED_BYTE,normalized:!0}]),p.forceZero=!0,p.resizeUniform="uResolution",u.call(this,p)},boot:function(){d.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height),this.set1i("uRoundPixels",c.config.roundPixels)}});n.exports=v},57516:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(94811),u=s(95540),h=s(98840),l=s(44667),o=s(61340),d=s(70554),v=s(14500),c=s(29100),p=new a({Extends:c,initialize:function(m){var C=m.game.renderer,T=u(m,"fragShader",h);m.fragShader=d.parseFragmentShaderMaxTextures(T,C.maxTextures),m.vertShader=u(m,"vertShader",l),m.attributes=u(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:v.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",c.call(this,m),this._tempMatrix1=new o,this._tempMatrix2=new o,this._tempMatrix3=new o,this.calcMatrix=new o,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){c.prototype.boot.call(this);var y=this.renderer;this.set1iv("uMainSampler",y.textureIndexes),this.set2f("uResolution",y.width,y.height),this.set1i("uRoundPixels",y.config.roundPixels)},batchSprite:function(y,m,C){this.manager.set(this,y);var T=this._tempMatrix1,E=this._tempMatrix2,w=this._tempMatrix3,P=y.frame,b=P.glTexture,M=P.u0,A=P.v0,R=P.u1,L=P.v1,O=P.x,D=P.y,I=P.cutWidth,B=P.cutHeight,G=P.customPivot,z=y.displayOriginX,Y=y.displayOriginY,H=-z+O,k=-Y+D;if(y.isCropped){var U=y._crop;(U.flipX!==y.flipX||U.flipY!==y.flipY)&&P.updateCropUVs(U,y.flipX,y.flipY),M=U.u0,A=U.v0,R=U.u1,L=U.v1,I=U.width,B=U.height,O=U.x,D=U.y,H=-z+O,k=-Y+D}var F=1,N=1;y.flipX&&(G||(H+=-P.realWidth+z*2),F=-1),y.flipY&&(G||(k+=-P.realHeight+Y*2),N=-1);var V=y.x,$=y.y;E.applyITRS(V,$,y.rotation,y.scaleX*F,y.scaleY*N),T.copyFrom(m.matrix),C?(T.multiplyWithOffset(C,-m.scrollX*y.scrollFactorX,-m.scrollY*y.scrollFactorY),E.e=V,E.f=$):(E.e-=m.scrollX*y.scrollFactorX,E.f-=m.scrollY*y.scrollFactorY),T.multiply(E,w);var X=w.setQuad(H,k,H+I,k+B),j=d.getTintAppendFloatAlpha,Q=m.alpha,K=j(y.tintTopLeft,Q*y._alphaTL),q=j(y.tintTopRight,Q*y._alphaTR),tt=j(y.tintBottomLeft,Q*y._alphaBL),st=j(y.tintBottomRight,Q*y._alphaBR);this.shouldFlush(6)&&this.flush();var nt=this.setGameObject(y,P);this.manager.preBatch(y),this.currentShader.set1i("uRoundPixels",m.roundPixels),this.batchQuad(y,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],M,A,R,L,K,q,tt,st,y.tintFill,b,nt),this.manager.postBatch(y)},batchTexture:function(y,m,C,T,E,w,P,b,M,A,R,L,O,D,I,B,G,z,Y,H,k,U,F,N,V,$,X,j,Q,K,q,tt,st){st===void 0&&(st=!1),this.manager.set(this,y);var nt=this._tempMatrix1,rt=this._tempMatrix2,ut=this._tempMatrix3,vt=z/C+X,pt=Y/T+j,ft=(z+H)/C+X,lt=(Y+k)/T+j,yt=P,Ct=b,Rt=-B,Dt=-G;if(y.isCropped){var Tt=y._crop,Et=Tt.width,ot=Tt.height;yt=Et,Ct=ot,P=Et,b=ot,z=Tt.x,Y=Tt.y;var at=z,gt=Y;L&&(at=H-Tt.x-Et),O&&(gt=k-Tt.y-ot),vt=at/C+X,pt=gt/T+j,ft=(at+Et)/C+X,lt=(gt+ot)/T+j,Rt=-B+z,Dt=-G+Y}O=O^(!q&&m.isRenderTexture?1:0),L&&(yt*=-1,Rt+=P),O&&(Ct*=-1,Dt+=b),rt.applyITRS(E,w,R,M,A),nt.copyFrom(Q.matrix),K?(nt.multiplyWithOffset(K,-Q.scrollX*D,-Q.scrollY*I),rt.e=E,rt.f=w):(rt.e-=Q.scrollX*D,rt.f-=Q.scrollY*I),nt.multiply(rt,ut);var _=ut.setQuad(Rt,Dt,Rt+yt,Dt+Ct);tt==null&&(tt=this.setTexture2D(m)),y&&!st&&this.manager.preBatch(y),this.currentShader.set1i("uRoundPixels",Q.roundPixels),this.batchQuad(y,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],vt,pt,ft,lt,U,F,N,V,$,m,tt),y&&!st&&this.manager.postBatch(y)},batchTextureFrame:function(y,m,C,T,E,w,P){this.manager.set(this);var b=this._tempMatrix1.copyFrom(w),M=this._tempMatrix2;P?b.multiply(P,M):M=b;var A=M.setQuad(m,C,m+y.width,C+y.height),R=this.setTexture2D(y.source.glTexture);T=d.getTintAppendFloatAlpha(T,E),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],y.u0,y.v0,y.u1,y.v1,T,T,T,T,0,y.glTexture,R)},batchFillRect:function(y,m,C,T,E,w){this.renderer.pipelines.set(this);var P=this.calcMatrix;w&&w.multiply(E,P);var b=P.setQuad(y,m,y+C,m+T),M=this.fillTint;this.batchQuad(null,b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],0,0,1,1,M.TL,M.TR,M.BL,M.BR,2)},batchFillTriangle:function(y,m,C,T,E,w,P,b){this.renderer.pipelines.set(this);var M=this.calcMatrix;b&&b.multiply(P,M);var A=M.getX(y,m),R=M.getY(y,m),L=M.getX(C,T),O=M.getY(C,T),D=M.getX(E,w),I=M.getY(E,w),B=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,A,R,L,O,D,I,0,0,1,1,B.TL,B.TR,B.BL,2)},batchStrokeTriangle:function(y,m,C,T,E,w,P,b,M){var A=this.tempTriangle;A[0].x=y,A[0].y=m,A[0].width=P,A[1].x=C,A[1].y=T,A[1].width=P,A[2].x=E,A[2].y=w,A[2].width=P,A[3].x=y,A[3].y=m,A[3].width=P,this.batchStrokePath(A,P,!1,b,M)},batchFillPath:function(y,m,C){this.renderer.pipelines.set(this);var T=this.calcMatrix;C&&C.multiply(m,T);for(var E=y.length,w=this.polygonCache,P,b,M=this.fillTint.TL,A=this.fillTint.TR,R=this.fillTint.BL,L=0;L<E;++L)b=y[L],w.push(b.x,b.y);P=g(w),E=P.length,this.currentShader.set1i("uRoundPixels",!1);for(var O=0;O<E;O+=3){var D=P[O+0]*2,I=P[O+1]*2,B=P[O+2]*2,G=w[D+0],z=w[D+1],Y=w[I+0],H=w[I+1],k=w[B+0],U=w[B+1],F=T.getX(G,z),N=T.getY(G,z),V=T.getX(Y,H),$=T.getY(Y,H),X=T.getX(k,U),j=T.getY(k,U);this.batchTri(null,F,N,V,$,X,j,0,0,1,1,M,A,R,2)}w.length=0},batchStrokePath:function(y,m,C,T,E){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var w=y.length-1,P=0;P<w;P++){var b=y[P],M=y[P+1];this.batchLine(b.x,b.y,M.x,M.y,b.width/2,M.width/2,m,P,!C&&P===w-1,T,E)}},batchLine:function(y,m,C,T,E,w,P,b,M,A,R){this.renderer.pipelines.set(this);var L=this.calcMatrix;R&&R.multiply(A,L);var O=C-y,D=T-m,I=Math.sqrt(O*O+D*D);if(I!==0){var B=E*(T-m)/I,G=E*(y-C)/I,z=w*(T-m)/I,Y=w*(y-C)/I,H=C-z,k=T-Y,U=y-B,F=m-G,N=C+z,V=T+Y,$=y+B,X=m+G,j=L.getX(H,k),Q=L.getY(H,k),K=L.getX(U,F),q=L.getY(U,F),tt=L.getX(N,V),st=L.getY(N,V),nt=L.getX($,X),rt=L.getY($,X),ut=this.strokeTint,vt=ut.TL,pt=ut.TR,ft=ut.BL,lt=ut.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,nt,rt,K,q,j,Q,tt,st,0,0,1,1,vt,pt,ft,lt,2),!(P<=2)){var yt=this.prevQuad,Ct=this.firstQuad;b>0&&yt[4]?this.batchQuad(null,nt,rt,K,q,yt[0],yt[1],yt[2],yt[3],0,0,1,1,vt,pt,ft,lt,2):(Ct[0]=nt,Ct[1]=rt,Ct[2]=K,Ct[3]=q,Ct[4]=1),M&&Ct[4]?this.batchQuad(null,j,Q,tt,st,Ct[0],Ct[1],Ct[2],Ct[3],0,0,1,1,vt,pt,ft,lt,2):(yt[0]=j,yt[1]=Q,yt[2]=tt,yt[3]=st,yt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,c.prototype.destroy.call(this),this}});n.exports=p},43439:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(4127),h=s(89924),l=s(29100),o=new a({Extends:l,initialize:function(v){v.vertShader=g(v,"vertShader",h),v.fragShader=g(v,"fragShader",u),v.attributes=g(v,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,v)},onRender:function(d,v){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",v.zoom)},batchPointLight:function(d,v,c,p,y,m,C,T,E,w,P,b){var M=d.color,A=d.intensity,R=d.radius,L=d.attenuation,O=M.r*A,D=M.g*A,I=M.b*A,B=v.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(c,p,P,b,R,L,O,D,I,B),this.batchLightVert(y,m,P,b,R,L,O,D,I,B),this.batchLightVert(C,T,P,b,R,L,O,D,I,B),this.batchLightVert(c,p,P,b,R,L,O,D,I,B),this.batchLightVert(C,T,P,b,R,L,O,D,I,B),this.batchLightVert(E,w,P,b,R,L,O,D,I,B),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,v,c,p,y,m,C,T,E,w){var P=this.vertexViewF32,b=this.vertexCount*this.currentShader.vertexComponentCount-1;P[++b]=d,P[++b]=v,P[++b]=c,P[++b]=p,P[++b]=y,P[++b]=m,P[++b]=C,P[++b]=T,P[++b]=E,P[++b]=w,this.vertexCount++}});n.exports=o},84057:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89422),u=s(95540),h=s(27681),l=s(49627),o=s(29100),d=new a({Extends:o,initialize:function(c){c.renderTarget=u(c,"renderTarget",1),c.fragShader=u(c,"fragShader",h),c.vertShader=u(c,"vertShader",l),c.attributes=u(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),c.batchSize=1,c.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],o.call(this,c),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new g,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){o.prototype.boot.call(this);var v=this.manager.UTILITY_PIPELINE;this.fullFrame1=v.fullFrame1,this.fullFrame2=v.fullFrame2,this.halfFrame1=v.halfFrame1,this.halfFrame2=v.halfFrame2;var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height),this.set1i("uRoundPixels",c.config.roundPixels);for(var p=this.renderTargets,y=0;y<p.length;y++)p[y].autoResize=!0},postBatch:function(v){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(v),this},onDraw:function(v){this.bindAndDraw(v)},getController:function(v){return v!==void 0?v:this.controller?this.controller:this},copySprite:function(v,c,p){p===void 0&&(p=!1);var y=this.gl;y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,v.texture.webGLTexture);var m=y.getParameter(y.FRAMEBUFFER_BINDING);y.bindFramebuffer(y.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,c.texture.webGLTexture,0),y.clearColor(0,0,0,0),y.clear(y.COLOR_BUFFER_BIT),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),p&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,m))},copyFrame:function(v,c,p,y,m){this.manager.copyFrame(v,c,p,y,m)},copyToGame:function(v){this.manager.copyToGame(v)},drawFrame:function(v,c,p){this.manager.drawFrame(v,c,p,this.colorMatrix)},blendFrames:function(v,c,p,y,m){this.manager.blendFrames(v,c,p,y,m)},blendFramesAdditive:function(v,c,p,y,m){this.manager.blendFramesAdditive(v,c,p,y,m)},clearFrame:function(v,c){this.manager.clearFrame(v,c)},blitFrame:function(v,c,p,y,m,C){this.manager.blitFrame(v,c,p,y,m,C)},copyFrameRect:function(v,c,p,y,m,C,T,E){this.manager.copyFrameRect(v,c,p,y,m,C,T,E)},bindAndDraw:function(v,c,p,y,m){p===void 0&&(p=!0),y===void 0&&(y=!0);var C=this.gl,T=this.renderer;this.bind(m),this.set1i("uMainSampler",0),c?(C.viewport(0,0,c.width,c.height),C.bindFramebuffer(C.FRAMEBUFFER,c.framebuffer.webGLFramebuffer),C.framebufferTexture2D(C.FRAMEBUFFER,C.COLOR_ATTACHMENT0,C.TEXTURE_2D,c.texture.webGLTexture,0),p&&(y?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||C.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,v.texture.webGLTexture),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6),c&&(C.bindTexture(C.TEXTURE_2D,null),C.bindFramebuffer(C.FRAMEBUFFER,T.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),o.prototype.destroy.call(this),this}});n.exports=d},43558:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(67502),u=s(83419),h=s(96293),l=s(95540),o=s(57516),d=s(27681),v=s(87841),c=s(32302),p=s(45561),y=s(60722),m=s(29100),C=new u({Extends:o,initialize:function(E){var w=l(E,"fragShader",d),P=l(E,"vertShader",y),b=l(E,"drawShader",d),M=[{name:"DrawSprite",fragShader:p,vertShader:y},{name:"CopySprite",fragShader:w,vertShader:P},{name:"DrawGame",fragShader:b,vertShader:y},{name:"ColorMatrix",fragShader:h}],A=l(E,"shaders",[]);E.shaders=M.concat(A),E.vertShader||(E.vertShader=P),E.batchSize=1,o.call(this,E),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new v,this.targetBounds=new v,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){m.prototype.boot.call(this);var T=this.shaders,E=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new c(E,E.width,E.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var w=new ArrayBuffer(168);this.quadVertexData=w,this.quadVertexViewF32=new Float32Array(w),this.quadVertexBuffer=E.createVertexBuffer(w,this.gl.STATIC_DRAW),this.onResize(E.width,E.height),this.currentShader=this.copyShader,this.set2f("uResolution",E.width,E.height),this.set1i("uRoundPixels",E.config.roundPixels)},onResize:function(T,E){var w=this.quadVertexViewF32;w[1]=E,w[22]=E,w[14]=T,w[28]=T,w[35]=T,w[36]=E},batchQuad:function(T,E,w,P,b,M,A,R,L,O,D,I,B,G,z,Y,H,k,U){var F=Math.min(E,P,M,R),N=Math.min(w,b,A,L),V=Math.max(E,P,M,R),$=Math.max(w,b,A,L),X=V-F,j=$-N,Q=this.spriteBounds.setTo(F,N,X,j),K=T?T.preFX.padding:0,q=X+K*2,tt=j+K*2,st=Math.abs(Math.max(q,tt)),nt=this.manager.getRenderTarget(st),rt=this.targetBounds.setTo(0,0,nt.width,nt.height);g(rt,Q.centerX,Q.centerY),this.tempSprite=T;var ut=this.gl,vt=this.renderer;vt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",vt.width,vt.height),this.set1i("uRoundPixels",vt.config.roundPixels),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,nt),T.preFX.onFX(this));var pt=this.fsTarget;return this.flush(),ut.viewport(0,0,vt.width,vt.height),ut.bindFramebuffer(ut.FRAMEBUFFER,pt.framebuffer.webGLFramebuffer),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,pt.texture.webGLTexture,0),ut.clearColor(0,0,0,0),ut.clear(ut.COLOR_BUFFER_BIT),this.setTexture2D(U),this.batchVert(E,w,O,D,0,k,G),this.batchVert(P,b,O,B,0,k,Y),this.batchVert(M,A,I,B,0,k,H),this.batchVert(E,w,O,D,0,k,G),this.batchVert(M,A,I,B,0,k,H),this.batchVert(R,L,I,D,0,k,z),this.flush(),this.flipProjectionMatrix(!1),ut.activeTexture(ut.TEXTURE0),ut.bindTexture(ut.TEXTURE_2D,nt.texture.webGLTexture),ut.copyTexSubImage2D(ut.TEXTURE_2D,0,0,0,rt.x,rt.y,rt.width,rt.height),ut.bindFramebuffer(ut.FRAMEBUFFER,null),ut.bindTexture(ut.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(nt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,E,w,P,b,M,A){w===void 0&&(w=!0),P===void 0&&(P=!0),b===void 0&&(b=!1),A===void 0&&(A=this.copyShader);var R=this.gl,L=this.tempSprite;M&&(A=this.colorMatrixShader),this.currentShader=A;var O=this.setVertexBuffer(this.quadVertexBuffer);A.bind(O,!1);var D=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",D.width,D.height),this.set1i("uRoundPixels",D.config.roundPixels),L.preFX.onFXCopy(this),this.onCopySprite(T,E,L),M&&(this.set1fv("uColorMatrix",M.getData()),this.set1f("uAlpha",M.alpha)),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,T.texture.webGLTexture),T.height>E.height)R.viewport(0,0,T.width,T.height),this.setTargetUVs(T,E);else{var I=E.height-T.height;R.viewport(0,I,T.width,T.height),this.resetUVs()}if(R.bindFramebuffer(R.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,E.texture.webGLTexture,0),w&&(R.clearColor(0,0,0,+!P),R.clear(R.COLOR_BUFFER_BIT)),b){var B=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}R.bufferData(R.ARRAY_BUFFER,this.quadVertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),b&&this.renderer.setBlendMode(B),R.bindFramebuffer(R.FRAMEBUFFER,null)},copy:function(T,E){var w=this.gl;this.set1i("uMainSampler",0),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,T.texture.webGLTexture),w.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),w.bindFramebuffer(w.FRAMEBUFFER,E.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,E.texture.webGLTexture,0),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.quadVertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null)},blendFrames:function(T,E,w,P,b){this.manager.blendFrames(T,E,w,P,b)},blendFramesAdditive:function(T,E,w,P,b){this.manager.blendFramesAdditive(T,E,w,P,b)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var E=this.gl,w=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(T.texture);var P=this._tempMatrix1.loadIdentity(),b=this.targetBounds.x,M=this.targetBounds.y,A=b+T.width,R=M+T.height,L=P.getX(b,M),O=P.getX(b,R),D=P.getX(A,R),I=P.getX(A,M),B=P.getY(b,M),G=P.getY(b,R),z=P.getY(A,R),Y=P.getY(A,M),H=16777215;this.batchVert(L,B,0,0,0,0,H),this.batchVert(O,G,0,1,0,0,H),this.batchVert(D,z,1,1,0,0,H),this.batchVert(L,B,0,0,0,0,H),this.batchVert(D,z,1,1,0,0,H),this.batchVert(I,Y,1,0,0,0,H),w.restoreFramebuffer(!1,!0),w.currentFramebuffer||E.viewport(0,0,w.width,w.height),w.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,E,w,P,b,M,A,R){var L=this.quadVertexViewF32;L[2]=T,L[3]=E,L[9]=w,L[10]=P,L[16]=b,L[17]=M,L[23]=T,L[24]=E,L[30]=b,L[31]=M,L[37]=A,L[38]=R},setTargetUVs:function(T,E){var w=E.height/T.height;w>.5?w=.5-(w-.5):w=.5+(.5-w),this.setUVs(0,w,0,1+w,1,1+w,1,w)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,o.prototype.destroy.call(this),this}});n.exports=C},81041:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(57516),h=new a({Extends:u,initialize:function(o){o.topology=5,o.batchSize=g(o,"batchSize",256),u.call(this,o)}});n.exports=h},12385:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(57516),h=s(45561),l=s(60722),o=s(29100),d=new a({Extends:u,initialize:function(c){c.fragShader=g(c,"fragShader",h),c.vertShader=g(c,"vertShader",l),c.forceZero=!0,u.call(this,c)},boot:function(){o.prototype.boot.call(this);var v=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",v.width,v.height),this.set1i("uRoundPixels",v.config.roundPixels)}});n.exports=d},7589:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35407),g=s(10312),u=s(83419),h=s(89422),l=s(96293),o=s(36682),d=s(95540),v=s(48247),c=s(49627),p=s(29100),y=new u({Extends:p,initialize:function(C){C.renderTarget=d(C,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),C.vertShader=d(C,"vertShader",c),C.shaders=d(C,"shaders",[{name:"Copy",fragShader:o},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:v},{name:"ColorMatrix",fragShader:l}]),C.attributes=d(C,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),C.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],C.batchSize=1,p.call(this,C),this.colorMatrix=new h,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){p.prototype.boot.call(this);var m=this.shaders,C=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=C[0],this.fullFrame2=C[1],this.halfFrame1=C[2],this.halfFrame2=C[3]},copyFrame:function(m,C,T,E,w){T===void 0&&(T=1),E===void 0&&(E=!0),w===void 0&&(w=!0);var P=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),P.activeTexture(P.TEXTURE0),P.bindTexture(P.TEXTURE_2D,m.texture.webGLTexture),C?(P.viewport(0,0,C.width,C.height),P.bindFramebuffer(P.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_2D,C.texture.webGLTexture,0)):P.viewport(0,0,m.width,m.height),E&&(w?P.clearColor(0,0,0,0):P.clearColor(0,0,0,1),P.clear(P.COLOR_BUFFER_BIT)),P.bufferData(P.ARRAY_BUFFER,this.vertexData,P.STATIC_DRAW),P.drawArrays(P.TRIANGLES,0,6),P.bindFramebuffer(P.FRAMEBUFFER,null),P.bindTexture(P.TEXTURE_2D,null)},blitFrame:function(m,C,T,E,w,P,b){T===void 0&&(T=1),E===void 0&&(E=!0),w===void 0&&(w=!0),P===void 0&&(P=!1),b===void 0&&(b=!1);var M=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),m.height>C.height)M.viewport(0,0,m.width,m.height),this.setTargetUVs(m,C);else{var A=C.height-m.height;M.viewport(0,A,m.width,m.height)}if(M.bindFramebuffer(M.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,C.texture.webGLTexture,0),E&&(w?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),P){var R=this.renderer.currentBlendMode;this.renderer.setBlendMode(g.ERASE)}b&&this.flipY(),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),P&&this.renderer.setBlendMode(R),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,C,T,E,w,P,b,M){b===void 0&&(b=!0),M===void 0&&(M=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,m.texture.webGLTexture,0),b&&(M?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,C.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,T,E,w,P),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(m){var C=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),C.activeTexture(C.TEXTURE0),C.bindTexture(C.TEXTURE_2D,m.texture.webGLTexture),C.bufferData(C.ARRAY_BUFFER,this.vertexData,C.STATIC_DRAW),C.drawArrays(C.TRIANGLES,0,6)},drawFrame:function(m,C,T,E){T===void 0&&(T=!0),E===void 0&&(E=this.colorMatrix);var w=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",E.getData()),this.set1f("uAlpha",E.alpha),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),C?(w.viewport(0,0,C.width,C.height),w.bindFramebuffer(w.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,C.texture.webGLTexture,0)):w.viewport(0,0,m.width,m.height),T?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFrames:function(m,C,T,E,w,P){E===void 0&&(E=1),w===void 0&&(w=!0),P===void 0&&(P=this.linearShader);var b=this.gl;this.setShader(P),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",E),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,m.texture.webGLTexture),b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,C.texture.webGLTexture),T?(b.bindFramebuffer(b.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,T.texture.webGLTexture,0),b.viewport(0,0,T.width,T.height)):b.viewport(0,0,m.width,m.height),w?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},blendFramesAdditive:function(m,C,T,E,w){this.blendFrames(m,C,T,E,w,this.addShader)},clearFrame:function(m,C){C===void 0&&(C=!0);var T=this.gl;T.viewport(0,0,m.width,m.height),T.bindFramebuffer(T.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),C?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT);var E=this.renderer.currentFramebuffer;T.bindFramebuffer(T.FRAMEBUFFER,E.webGLFramebuffer)},setUVs:function(m,C,T,E,w,P,b,M){var A=this.vertexViewF32;A[2]=m,A[3]=C,A[6]=T,A[7]=E,A[10]=w,A[11]=P,A[14]=m,A[15]=C,A[18]=w,A[19]=P,A[22]=b,A[23]=M},setTargetUVs:function(m,C){var T=C.height/m.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=y},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=x},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:s(84817),BEFORE_FLUSH:s(36712),BIND:s(40285),BOOT:s(65918),DESTROY:s(92852),REBIND:s(56072),RESIZE:s(57566)}},54812:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(99155),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.amount=1},onPreRender:function(l,o){l=this.getController(l),this.set1f("amount",l.amount,o)}});n.exports=h},67329:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(24400),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var o=this.getController(),d=this.fullFrame1,v=this.fullFrame2;this.copyFrame(l,v);for(var c=2/l.width*o.offsetX,p=2/l.height*o.offsetY,y=0;y<o.steps;y++)this.set2f("offset",c,0),this.copySprite(l,d),this.set2f("offset",0,p),this.copySprite(d,l);this.blendFrames(v,l,d,o.strength),this.copyToGame(d)}});n.exports=h},8861:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(41514),u=s(51078),h=s(94328),l=s(84057),o=new a({Extends:l,initialize:function(v){l.call(this,{game:v,shaders:[{name:"Gaussian5",fragShader:g},{name:"Gaussian9",fragShader:u},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var v=this.getController(),c=this.gl,p=this.fullFrame1,y=c.getParameter(c.FRAMEBUFFER_BINDING);this.bind(this.shaders[v.quality]),c.activeTexture(c.TEXTURE0),c.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",v.strength),this.set3fv("color",v.glcolor);for(var m=0;m<v.steps;m++)this.set2f("offset",v.x,0),this.copySprite(d,p),this.set2f("offset",0,v.y),this.copySprite(p,d);c.bindFramebuffer(c.FRAMEBUFFER,y),c.bindTexture(c.TEXTURE_2D,null),this.copyToGame(d)}});n.exports=o},51051:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(90610),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,o,d,v){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("amount",l.amount,o),this.set1f("contrast",l.contrast,o),this.set1f("strength",l.strength,o),this.set2f("blur",l.blurX,l.blurY,o),this.setBoolean("isTiltShift",l.isTiltShift,o),d&&v&&this.set2f("resolution",d,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},89428:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(91899),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,o,d,v){l=this.getController(l),this.set1f("scale",l.scale,o),this.set1f("feather",l.feather,o),this.set1f("thickness",l.thickness,o),this.set3fv("color",l.glcolor,o),this.set4fv("backgroundColor",l.glcolor2,o),d&&v&&this.set2f("resolution",d,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},88904:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(84057),u=new a({Extends:g,initialize:function(l){g.call(this,{game:l})},onDraw:function(h){var l=this.fullFrame1;this.controller?this.manager.drawFrame(h,l,!0,this.controller):this.drawFrame(h,l),this.copyToGame(l)}});n.exports=u},63563:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(47838),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var o=this.game.textures.getFrame(l);o&&(this.glTexture=o.glTexture)},onDraw:function(l){var o=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",o.x,o.y),this.bindTexture(o.glTexture,1),this.copySprite(l,d),this.copyToGame(d)}});n.exports=h},94045:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=s(98656),h=s(84057),l=s(70554),o=new a({Extends:h,initialize:function(v,c){var p=g(c,"quality",.1),y=g(c,"distance",10);h.call(this,{game:v,fragShader:l.setGlowQuality(u,v,p,y)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,v,c,p){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,v),this.set1f("innerStrength",d.innerStrength,v),this.set4fv("glowColor",d.glcolor,v),this.setBoolean("knockout",d.knockout,v),c&&p&&this.set2f("resolution",c,p,v)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});n.exports=o},74088:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(70463),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,o){l=this.getController(l),this.set1f("alpha",l.alpha,o),this.set1i("size",l.size,o),this.set3fv("color1",l.glcolor1,o),this.set3fv("color2",l.glcolor2,o),this.set2f("positionFrom",l.fromX,l.fromY,o),this.set2f("positionTo",l.toX,l.toY,o)}});n.exports=h},99636:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50831),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.amount=1},onPreRender:function(l,o,d,v){l=this.getController(l),this.set1f("amount",l.amount,o),d&&v&&this.set2f("resolution",d,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},34700:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(92595),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,o){l=this.getController(l);var d=l.samples;this.set1i("samples",d,o),this.set1f("intensity",l.intensity,o),this.set1f("decay",l.decay,o),this.set1f("power",l.power/d,o),this.set2f("lightPosition",l.x,l.y,o),this.set4fv("color",l.glcolor,o)}});n.exports=h},91157:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(72464),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,o,d,v){l=this.getController(l),this.setTime("time",o),this.set1f("speed",l.speed,o),this.set1f("lineWidth",l.lineWidth,o),this.set1f("gradient",l.gradient,o),this.setBoolean("reveal",l.reveal,o),d&&v&&this.set2f("resolution",d,v,o)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},27797:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(39249),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,o){l=this.getController(l),this.set1f("radius",l.radius,o),this.set1f("strength",l.strength,o),this.set2f("position",l.x,l.y,o)}});n.exports=h},67603:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(2878),u=s(84057),h=new a({Extends:u,initialize:function(o){u.call(this,{game:o,fragShader:g}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,o){l=this.getController(l);var d=l.progress,v=l.wipeWidth,c=l.direction,p=l.axis;this.set4f("config",d,v,c,p,o),this.setBoolean("reveal",l.reveal,o)}});n.exports=h},58918:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:s(54812),Bloom:s(67329),Blur:s(8861),Bokeh:s(51051),Circle:s(89428),ColorMatrix:s(88904),Displacement:s(63563),Glow:s(94045),Gradient:s(74088),Pixelate:s(99636),Shadow:s(34700),Shine:s(91157),Vignette:s(27797),Wipe:s(67603)};n.exports=a},96615:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(36060),g=s(79291),u={FX:s(58918),BitmapMaskPipeline:s(31302),Events:s(77085),FXPipeline:s(92651),LightPipeline:s(96569),MobilePipeline:s(56527),MultiPipeline:s(57516),PointLightPipeline:s(43439),PostFXPipeline:s(84057),PreFXPipeline:s(43558),RopePipeline:s(81041),SinglePipeline:s(12385),UtilityPipeline:s(7589)};u=g(!1,u,a),n.exports=u},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:s(35407),BitmapMaskFrag:s(78908),BitmapMaskVert:s(85191),ColorMatrixFrag:s(96293),CopyFrag:s(36682),FXBarrelFrag:s(99155),FXBloomFrag:s(24400),FXBlurHighFrag:s(94328),FXBlurLowFrag:s(41514),FXBlurMedFrag:s(51078),FXBokehFrag:s(90610),FXCircleFrag:s(91899),FXDisplacementFrag:s(47838),FXGlowFrag:s(98656),FXGradientFrag:s(70463),FXPixelateFrag:s(50831),FXShadowFrag:s(92595),FXShineFrag:s(72464),FXVignetteFrag:s(39249),FXWipeFrag:s(2878),LightFrag:s(31063),LinearBlendFrag:s(48247),MeshFrag:s(41214),MeshVert:s(39653),MobileFrag:s(62143),MobileVert:s(47940),MultiFrag:s(98840),MultiVert:s(44667),PointLightFrag:s(4127),PointLightVert:s(89924),PostFXFrag:s(27681),QuadVert:s(49627),SingleFrag:s(45561),SingleVert:s(60722)}},93567:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.webGLAttribLocation=-1,this.gl=h,this.program=l,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var u=this.gl;u.isContextLost()||(this.webGLAttribLocation=u.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=g},26128:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=l,this.bufferType=o,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var u=this.gl;if(!u.isContextLost()){var h=this.bufferType,l=u.createBuffer();this.webGLBuffer=l,u.bindBuffer(h,this.webGLBuffer),u.bufferData(h,this.initialDataOrSize,this.bufferUsage),u.bindBuffer(h,null)}}},destroy:function(){var u=this.gl;u.isContextLost()||u.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=g},84387:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},u=new a({initialize:function(l,o,d,v,c){this.webGLFramebuffer=null,this.gl=l,this.width=o,this.height=d,this.renderTexture=v,this.addDepthStencilBuffer=!!c,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var l=this.renderTexture,o=0,d=h.createFramebuffer();if(this.webGLFramebuffer=d,h.bindFramebuffer(h.FRAMEBUFFER,d),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l.webGLTexture,0),o=h.checkFramebufferStatus(h.FRAMEBUFFER),o!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(g[o]||o));if(this.addDepthStencilBuffer){var v=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,v),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,v)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var l=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(l));var o=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&h.deleteRenderbuffer(o),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=u},1482:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.webGLProgram=null,this.gl=h,this.vertexSource=l,this.fragmentSource=o,this.createResource()},createResource:function(){var u=this.gl;if(!u.isContextLost()){var h=u.createProgram(),l=u.createShader(u.VERTEX_SHADER),o=u.createShader(u.FRAGMENT_SHADER);u.shaderSource(l,this.vertexSource),u.shaderSource(o,this.fragmentSource),u.compileShader(l),u.compileShader(o);var d=`Shader failed:
`;if(!u.getShaderParameter(l,u.COMPILE_STATUS))throw new Error("Vertex "+d+u.getShaderInfoLog(l));if(!u.getShaderParameter(o,u.COMPILE_STATUS))throw new Error("Fragment "+d+u.getShaderInfoLog(o));if(u.attachShader(h,l),u.attachShader(h,o),u.linkProgram(h),!u.getProgramParameter(h,u.LINK_STATUS))throw new Error("Link "+d+u.getProgramInfoLog(h));u.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=g},82751:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50030),u=new a({initialize:function(l,o,d,v,c,p,y,m,C,T,E,w,P){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=o,this.minFilter=d,this.magFilter=v,this.wrapT=c,this.wrapS=p,this.format=y,this.pixels=m,this.width=C,this.height=T,this.pma=E??!0,this.forceSize=!!w,this.flipY=!!P,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof u){this.webGLTexture=this.pixels.webGLTexture;return}var l=h.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(h,l,o,d,v,c,p,y,m){if(!(l===0||o===0)){this.pixels=h,this.width=l,this.height=o,this.flipY=d,this.wrapS=v,this.wrapT=c,this.minFilter=p,this.magFilter=y,this.format=m;var C=this.gl;C.isContextLost()||this._processTexture()}},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var l=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var o=this.pixels,d=this.mipLevel,v=this.width,c=this.height,p=this.format,y=!1;if(o==null)h.texImage2D(h.TEXTURE_2D,d,p,v,c,0,p,h.UNSIGNED_BYTE,null),y=g(v,c);else if(o.compressed){v=o.width,c=o.height,y=o.generateMipmap;for(var m=0;m<o.mipmaps.length;m++)h.compressedTexImage2D(h.TEXTURE_2D,m,o.internalFormat,o.mipmaps[m].width,o.mipmaps[m].height,0,o.mipmaps[m].data)}else o instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,d,p,v,c,0,p,h.UNSIGNED_BYTE,o),y=g(v,c)):(this.forceSize||(v=o.width,c=o.height),h.texImage2D(h.TEXTURE_2D,d,p,p,h.UNSIGNED_BYTE,o),y=g(v,c));y&&h.generateMipmap(h.TEXTURE_2D),l?h.bindTexture(h.TEXTURE_2D,l):h.bindTexture(h.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof u||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=u},57183:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o){this.webGLUniformLocation=null,this.gl=h,this.program=l,this.name=o,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var u=this.gl;u.isContextLost()||(this.webGLUniformLocation=u.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=g},9503:(n,x,s)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:s(93567),WebGLBufferWrapper:s(26128),WebGLProgramWrapper:s(1482),WebGLTextureWrapper:s(82751),WebGLFramebufferWrapper:s(84387),WebGLUniformLocationWrapper:s(57183)};n.exports=a},76531:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(13560),g=s(83419),u=s(50792),h=s(97480),l=s(8443),o=s(57811),d=s(74403),v=s(45818),c=s(29747),p=s(87841),y=s(86555),m=s(56583),C=s(26099),T=s(38058),E=new g({Extends:u,initialize:function(P){u.call(this),this.game=P,this.canvas,this.canvasBounds=new p,this.parent=null,this.parentIsWindow=!1,this.parentSize=new y,this.gameSize=new y,this.baseSize=new y,this.displaySize=new y,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new C(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:c,windowResize:c,fullScreenChange:c,fullScreenError:c}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},boot:function(){var w=this.game;this.canvas=w.canvas,this.fullscreen=w.device.fullscreen,this.scaleMode!==a.SCALE_MODE.RESIZE&&this.scaleMode!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),w.events.on(l.PRE_STEP,this.step,this),w.events.once(l.READY,this.refresh,this),w.events.once(l.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(w){this.getParent(w),this.getParentBounds();var P=w.width,b=w.height,M=w.scaleMode,A=w.zoom,R=w.autoRound;if(typeof P=="string")if(P.substr(-1)!=="%")P=parseInt(P,10);else{var L=this.parentSize.width;L===0&&(L=window.innerWidth);var O=parseInt(P,10)/100;P=Math.floor(L*O)}if(typeof b=="string")if(b.substr(-1)!=="%")b=parseInt(b,10);else{var D=this.parentSize.height;D===0&&(D=window.innerHeight);var I=parseInt(b,10)/100;b=Math.floor(D*I)}this.scaleMode=M,this.autoRound=R,this.autoCenter=w.autoCenter,this.resizeInterval=w.resizeInterval,R&&(P=Math.floor(P),b=Math.floor(b)),this.gameSize.setSize(P,b),A===a.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(P,b),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),w.minWidth>0&&this.displaySize.setMin(w.minWidth*A,w.minHeight*A),w.maxWidth>0&&this.displaySize.setMax(w.maxWidth*A,w.maxHeight*A),this.displaySize.setSize(P,b),(w.snapWidth>0||w.snapHeight>0)&&this.displaySize.setSnap(w.snapWidth,w.snapHeight),this.orientation=v(P,b)},getParent:function(w){var P=w.parent;if(P!==null){if(this.parent=d(P),this.parentIsWindow=this.parent===document.body,w.expandParent&&w.scaleMode!==a.SCALE_MODE.NONE){var b=this.parent.getBoundingClientRect();(this.parentIsWindow||b.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",b=this.parent.getBoundingClientRect(),!this.parentIsWindow&&b.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}w.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=d(w.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var w=this.parentSize,P=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(P.height=o(!0));var b=P.width,M=P.height;if(w.width!==b||w.height!==M)return w.setSize(b,M),!0;if(this.canvas){var A=this.canvasBounds,R=this.canvas.getBoundingClientRect();if(R.x!==A.x||R.y!==A.y)return!0}return!1},lockOrientation:function(w){var P=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return P?P.call(screen,w):!1},setParentSize:function(w,P){return this.parentSize.setSize(w,P),this.refresh()},setGameSize:function(w,P){var b=this.autoRound;b&&(w=Math.floor(w),P=Math.floor(P));var M=this.width,A=this.height;return this.gameSize.resize(w,P),this.baseSize.resize(w,P),b&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(w/P),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(M,A)},resize:function(w,P){var b=this.zoom,M=this.autoRound;M&&(w=Math.floor(w),P=Math.floor(P));var A=this.width,R=this.height;this.gameSize.resize(w,P),this.baseSize.resize(w,P),M&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(w*b,P*b),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var L=this.canvas.style,O=w*b,D=P*b;return M&&(O=Math.floor(O),D=Math.floor(D)),(O!==w||D!==P)&&(L.width=O+"px",L.height=D+"px"),this.refresh(A,R)},setZoom:function(w){return this.zoom=w,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(w,P){return w===void 0&&(w=0),P===void 0&&(P=w),this.displaySize.setSnap(w,P),this.refresh()},refresh:function(w,P){w===void 0&&(w=this.width),P===void 0&&(P=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var b=this.game.domContainer;if(b){this.baseSize.setCSS(b);var M=this.canvas.style,A=b.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=M.marginLeft,A.marginTop=M.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,w,P),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var w=v(this.width,this.height);w!==this.orientation&&(this.orientation=w,this.emit(h.ORIENTATION_CHANGE,w))}},updateScale:function(){var w=this.canvas.style,P=this.gameSize.width,b=this.gameSize.height,M,A,R=this.zoom,L=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(P*R,b*R),M=this.displaySize.width,A=this.displaySize.height,L&&(M=Math.floor(M),A=Math.floor(A)),this._resetZoom&&(w.width=M+"px",w.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),M=this.displaySize.width,A=this.displaySize.height,L&&(M=Math.floor(M),A=Math.floor(A)),this.canvas.width=M,this.canvas.height=A;else if(this.scaleMode===a.SCALE_MODE.EXPAND){this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,A=this.displaySize.height,L&&(M=Math.floor(M),A=Math.floor(A)),w.width=M+"px",w.height=A+"px";var O=this.parentSize.width/this.gameSize.width,D=this.parentSize.height/this.gameSize.height;O<D?this.baseSize.setSize(this.gameSize.width,this.parentSize.height/O):this.baseSize.setSize(this.displaySize.width/D,this.gameSize.height),M=this.baseSize.width,A=this.baseSize.height,L&&(M=Math.floor(M),A=Math.floor(A)),this.canvas.width=M,this.canvas.height=A}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),M=this.displaySize.width,A=this.displaySize.height,L&&(M=Math.floor(M),A=Math.floor(A)),w.width=M+"px",w.height=A+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var w=m(this.parentSize.width,this.gameSize.width,0,!0),P=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(w,P),1)},updateCenter:function(){var w=this.autoCenter;if(w!==a.CENTER.NO_CENTER){var P=this.canvas,b=P.style,M=P.getBoundingClientRect(),A=M.width,R=M.height,L=Math.floor((this.parentSize.width-A)/2),O=Math.floor((this.parentSize.height-R)/2);w===a.CENTER.CENTER_HORIZONTALLY?O=0:w===a.CENTER.CENTER_VERTICALLY&&(L=0),b.marginLeft=L+"px",b.marginTop=O+"px"}},updateBounds:function(){var w=this.canvasBounds,P=this.canvas.getBoundingClientRect();w.x=P.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),w.y=P.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),w.width=P.width,w.height=P.height},transformX:function(w){return(w-this.canvasBounds.left)*this.displayScale.x},transformY:function(w){return(w-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(w){w===void 0&&(w={navigationUI:"hide"});var P=this.fullscreen;if(!P.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!P.active){var b=this.getFullscreenTarget();P.keyboard?b[P.request](Element.ALLOW_KEYBOARD_INPUT):b[P.request](w)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(w){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,w)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var w=document.createElement("div");w.style.margin="0",w.style.padding="0",w.style.width="100%",w.style.height="100%",this.fullscreenTarget=w,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var P=this.canvas.parentNode;P.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var w=this.fullscreenTarget;if(w&&w.parentNode){var P=w.parentNode;P.insertBefore(this.canvas,w),P.removeChild(w)}}},stopFullscreen:function(){var w=this.fullscreen;if(!w.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;w.active&&document[w.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(w){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(w)},startListeners:function(){var w=this,P=this.domlisteners;if(P.orientationChange=function(){w.updateBounds(),w._checkOrientation=!0,w.dirty=!0,w.refresh()},P.windowResize=function(){w.updateBounds(),w.dirty=!0},window.addEventListener("orientationchange",P.orientationChange,!1),window.addEventListener("resize",P.windowResize,!1),this.fullscreen.available){P.fullScreenChange=function(M){return w.onFullScreenChange(M)},P.fullScreenError=function(M){return w.onFullScreenError(M)};var b=["webkit","moz",""];b.forEach(function(M){document.addEventListener(M+"fullscreenchange",P.fullScreenChange,!1),document.addEventListener(M+"fullscreenerror",P.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",P.fullScreenChange,!1),document.addEventListener("MSFullscreenError",P.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(w,P){w instanceof T||(P=w,w=void 0),P===void 0&&(P=new p);var b=this.baseSize,M=this.parentSize,A=this.canvasBounds,R=this.displayScale,L=A.x>=0?0:-(A.x*R.x),O=A.y>=0?0:-(A.y*R.y),D;M.width>=A.width?D=b.width:D=b.width-(A.width-M.width)*R.x;var I;return M.height>=A.height?I=b.height:I=b.height-(A.height-M.height)*R.y,P.setTo(L,O,D,I),w&&(P.width/=w.zoomX,P.height/=w.zoomY,P.centerX=w.centerX+w.scrollX,P.centerY=w.centerY+w.scrollY),P},step:function(w,P){this.parent&&(this._lastCheck+=P,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var w=this.domlisteners;window.removeEventListener("orientationchange",w.orientationChange,!1),window.removeEventListener("resize",w.windowResize,!1);var P=["webkit","moz",""];P.forEach(function(b){document.removeEventListener(b+"fullscreenchange",w.fullScreenChange,!1),document.removeEventListener(b+"fullscreenerror",w.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",w.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=E},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:s(64743),ORIENTATION:s(39218),SCALE_MODE:s(81050),ZOOM:s(80805)};n.exports=a},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:s(56139),FULLSCREEN_FAILED:s(2336),FULLSCREEN_UNSUPPORTED:s(47412),LEAVE_FULLSCREEN:s(51452),ORIENTATION_CHANGE:s(20666),RESIZE:s(47945)}},93364:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(13560),u={Center:s(64743),Events:s(97480),Orientation:s(39218),ScaleManager:s(76531),ScaleModes:s(81050),Zoom:s(80805)};u=a(!1,u,g.CENTER),u=a(!1,u,g.ORIENTATION),u=a(!1,u,g.SCALE_MODE),u=a(!1,u,g.ZOOM),n.exports=u},27397:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=s(35355),u=function(h){var l=h.game.config.defaultPhysicsSystem,o=a(h.settings,"physics",!1);if(!(!l&&!o)){var d=[];if(l&&d.push(g(l+"Physics")),o)for(var v in o)v=g(v.concat("Physics")),d.indexOf(v)===-1&&d.push(v);return d}};n.exports=u},52106:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(u){var h=u.plugins.getDefaultScenePlugins(),l=a(u.settings,"plugins",!1);return Array.isArray(l)?l:h||[]};n.exports=g},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=x},97482:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(2368),u=new a({initialize:function(l){this.sys=new g(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=u},60903:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89993),u=s(44594),h=s(8443),l=s(35154),o=s(54899),d=s(29747),v=s(97482),c=s(2368),p=new a({initialize:function(m,C){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,C){Array.isArray(C)||(C=[C]);for(var T=0;T<C.length;T++)this._pending.push({key:"default",scene:C[T],autoStart:T===0,data:{}})}m.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new v),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this);var y,m,C,T;for(y=0;y<this._pending.length;y++){m=this._pending[y],C=m.key,T=m.scene;var E;T instanceof v?E=this.createSceneFromInstance(C,T):typeof T=="object"?E=this.createSceneFromObject(C,T):typeof T=="function"&&(E=this.createSceneFromFunction(C,T)),C=E.sys.settings.key,this.keys[C]=E,this.scenes.push(E),this._data[C]&&(E.sys.settings.data=this._data[C].data,this._data[C].autoStart&&(m.autoStart=!0)),(m.autoStart||E.sys.settings.active)&&this._start.push(C)}for(this._pending.length=0,this._data={},this.isBooted=!0,y=0;y<this._start.length;y++)m=this._start[y],this.start(m);this._start.length=0}},processQueue:function(){var y=this._pending.length,m=this._queue.length;if(!(y===0&&m===0)){var C,T;if(y){for(C=0;C<y;C++)T=this._pending[C],this.add(T.key,T.scene,T.autoStart,T.data);for(C=0;C<this._start.length;C++)T=this._start[C],this.start(T);this._start.length=0,this._pending.length=0}for(C=0;C<this._queue.length;C++)T=this._queue[C],this[T.op](T.keyA,T.keyB);this._queue.length=0}},add:function(y,m,C,T){if(C===void 0&&(C=!1),T===void 0&&(T={}),this.isProcessing||!this.isBooted)return this._pending.push({key:y,scene:m,autoStart:C,data:T}),this.isBooted||(this._data[y]={data:T}),null;y=this.getKey(y,m);var E;return m instanceof v?E=this.createSceneFromInstance(y,m):typeof m=="object"?(m.key=y,E=this.createSceneFromObject(y,m)):typeof m=="function"&&(E=this.createSceneFromFunction(y,m)),E.sys.settings.data=T,y=E.sys.settings.key,this.keys[y]=E,this.scenes.push(E),(C||E.sys.settings.active)&&(this._pending.length?this._start.push(y):this.start(y)),E},remove:function(y){if(this.isProcessing)this._queue.push({op:"remove",keyA:y,keyB:null});else{var m=this.getScene(y);if(!m||m.sys.isTransitioning())return this;var C=this.scenes.indexOf(m),T=m.sys.settings.key;C>-1&&(delete this.keys[T],this.scenes.splice(C,1),this._start.indexOf(T)>-1&&(C=this._start.indexOf(T),this._start.splice(C,1)),m.sys.destroy())}return this},bootScene:function(y){var m=y.sys,C=m.settings;m.sceneUpdate=d,y.init&&(y.init.call(y,C.data),C.status=g.INIT,C.isTransition&&m.events.emit(u.TRANSITION_INIT,C.transitionFrom,C.transitionDuration));var T;m.load&&(T=m.load,T.reset()),T&&y.preload?(y.preload.call(y),C.status=g.LOADING,T.once(o.COMPLETE,this.loadComplete,this),T.start()):this.create(y)},loadComplete:function(y){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(y.scene)},payloadComplete:function(y){this.bootScene(y.scene)},update:function(y,m){this.processQueue(),this.isProcessing=!0;for(var C=this.scenes.length-1;C>=0;C--){var T=this.scenes[C].sys;T.settings.status>g.START&&T.settings.status<=g.RUNNING&&T.step(y,m),T.scenePlugin&&T.scenePlugin._target&&T.scenePlugin.step(y,m)}},render:function(y){for(var m=0;m<this.scenes.length;m++){var C=this.scenes[m].sys;C.settings.visible&&C.settings.status>=g.LOADING&&C.settings.status<g.SLEEPING&&C.render(y)}this.isProcessing=!1},create:function(y){var m=y.sys,C=m.settings;y.create&&(C.status=g.CREATING,y.create.call(y,C.data),C.status===g.DESTROYED)||(C.isTransition&&m.events.emit(u.TRANSITION_START,C.transitionFrom,C.transitionDuration),y.update&&(m.sceneUpdate=y.update),C.status=g.RUNNING,m.events.emit(u.CREATE,y))},createSceneFromFunction:function(y,m){var C=new m;if(C instanceof v){var T=C.sys.settings.key;if(T!==""&&(y=T),this.keys.hasOwnProperty(y))throw new Error("Cannot add a Scene with duplicate key: "+y);return this.createSceneFromInstance(y,C)}else return C.sys=new c(C),C.sys.settings.key=y,C.sys.init(this.game),C},createSceneFromInstance:function(y,m){var C=m.sys.settings.key;return C===""&&(m.sys.settings.key=y),m.sys.init(this.game),m},createSceneFromObject:function(y,m){var C=new v(m),T=C.sys.settings.key;T!==""?y=T:C.sys.settings.key=y,C.sys.init(this.game);for(var E=["init","preload","create","update","render"],w=0;w<E.length;w++){var P=l(m,E[w],null);P&&(C[E[w]]=P)}if(m.hasOwnProperty("extend")){for(var b in m.extend)if(m.extend.hasOwnProperty(b)){var M=m.extend[b];b==="data"&&C.hasOwnProperty("data")&&typeof M=="object"?C.data.merge(M):b!=="sys"&&(C[b]=M)}}return C},getKey:function(y,m){if(y||(y="default"),typeof m=="function")return y;if(m instanceof v?y=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(y=m.key),this.keys.hasOwnProperty(y))throw new Error("Cannot add a Scene with duplicate key: "+y);return y},getScenes:function(y,m){y===void 0&&(y=!0),m===void 0&&(m=!1);for(var C=[],T=this.scenes,E=0;E<T.length;E++){var w=T[E];w&&(!y||y&&w.sys.isActive())&&C.push(w)}return m?C.reverse():C},getScene:function(y){if(typeof y=="string"){if(this.keys[y])return this.keys[y]}else for(var m=0;m<this.scenes.length;m++)if(y===this.scenes[m])return y;return null},isActive:function(y){var m=this.getScene(y);return m?m.sys.isActive():null},isPaused:function(y){var m=this.getScene(y);return m?m.sys.isPaused():null},isVisible:function(y){var m=this.getScene(y);return m?m.sys.isVisible():null},isSleeping:function(y){var m=this.getScene(y);return m?m.sys.isSleeping():null},pause:function(y,m){var C=this.getScene(y);return C&&C.sys.pause(m),this},resume:function(y,m){var C=this.getScene(y);return C&&C.sys.resume(m),this},sleep:function(y,m){var C=this.getScene(y);return C&&!C.sys.isTransitioning()&&C.sys.sleep(m),this},wake:function(y,m){var C=this.getScene(y);return C&&C.sys.wake(m),this},run:function(y,m){var C=this.getScene(y);if(!C){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===y){this.queueOp("start",y,m);break}return this}C.sys.isSleeping()?C.sys.wake(m):C.sys.isPaused()?C.sys.resume(m):this.start(y,m)},start:function(y,m){if(!this.isBooted)return this._data[y]={autoStart:!0,data:m},this;var C=this.getScene(y);if(!C)return console.warn("Scene not found for key: "+y),this;var T=C.sys,E=T.settings.status;if(E>=g.START&&E<=g.CREATING)return this;if(E>=g.RUNNING&&E<=g.SLEEPING)T.shutdown(),T.sceneUpdate=d,T.start(m);else{T.sceneUpdate=d,T.start(m);var w;if(T.load&&(w=T.load),w&&T.settings.hasOwnProperty("pack")&&(w.reset(),w.addPack({payload:T.settings.pack})))return T.settings.status=g.LOADING,w.once(o.COMPLETE,this.payloadComplete,this),w.start(),this}return this.bootScene(C),this},stop:function(y,m){var C=this.getScene(y);if(C&&!C.sys.isTransitioning()&&C.sys.settings.status!==g.SHUTDOWN){var T=C.sys.load;T&&(T.off(o.COMPLETE,this.loadComplete,this),T.off(o.COMPLETE,this.payloadComplete,this)),C.sys.shutdown(m)}return this},switch:function(y,m){var C=this.getScene(y),T=this.getScene(m);return C&&T&&C!==T&&(this.sleep(y),this.isSleeping(m)?this.wake(m):this.start(m)),this},getAt:function(y){return this.scenes[y]},getIndex:function(y){var m=this.getScene(y);return this.scenes.indexOf(m)},bringToTop:function(y){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:y,keyB:null});else{var m=this.getIndex(y);if(m!==-1&&m<this.scenes.length){var C=this.getScene(y);this.scenes.splice(m,1),this.scenes.push(C)}}return this},sendToBack:function(y){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:y,keyB:null});else{var m=this.getIndex(y);if(m!==-1&&m>0){var C=this.getScene(y);this.scenes.splice(m,1),this.scenes.unshift(C)}}return this},moveDown:function(y){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:y,keyB:null});else{var m=this.getIndex(y);if(m>0){var C=m-1,T=this.getScene(y),E=this.getAt(C);this.scenes[m]=E,this.scenes[C]=T}}return this},moveUp:function(y){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:y,keyB:null});else{var m=this.getIndex(y);if(m<this.scenes.length-1){var C=m+1,T=this.getScene(y),E=this.getAt(C);this.scenes[m]=E,this.scenes[C]=T}}return this},moveAbove:function(y,m){if(y===m)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:y,keyB:m});else{var C=this.getIndex(y),T=this.getIndex(m);if(C!==-1&&T!==-1&&T<C){var E=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(C+(T>C),0,E)}}return this},moveBelow:function(y,m){if(y===m)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:y,keyB:m});else{var C=this.getIndex(y),T=this.getIndex(m);if(C!==-1&&T!==-1&&T>C){var E=this.getAt(T);this.scenes.splice(T,1),C===0?this.scenes.unshift(E):this.scenes.splice(C-(T<C),0,E)}}return this},queueOp:function(y,m,C){return this._queue.push({op:y,keyA:m,keyB:C}),this},swapPosition:function(y,m){if(y===m)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:y,keyB:m});else{var C=this.getIndex(y),T=this.getIndex(m);if(C!==T&&C!==-1&&T!==-1){var E=this.getAt(C);this.scenes[C]=this.scenes[T],this.scenes[T]=E}}return this},dump:function(){for(var y=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],C=0;C<this.scenes.length;C++){var T=this.scenes[C].sys,E=T.settings.visible&&(T.settings.status===g.RUNNING||T.settings.status===g.PAUSED)?"[*] ":"[-] ";E+=T.settings.key+" ("+m[T.settings.status]+")",y.push(E)}console.log(y.join(`
`))},destroy:function(){for(var y=0;y<this.scenes.length;y++){var m=this.scenes[y].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=p},52209:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(44594),h=s(95540),l=s(37277),o=new g({initialize:function(v){this.scene=v,this.systems=v.sys,this.settings=v.sys.settings,this.key=v.sys.settings.key,this.manager=v.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,v.sys.events.once(u.BOOT,this.boot,this),v.sys.events.on(u.START,this.pluginStart,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(u.SHUTDOWN,this.shutdown,this)},start:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,v),this},restart:function(d){var v=this.key;return this.manager.queueOp("stop",v),this.manager.queueOp("start",v,d),this},transition:function(d){d===void 0&&(d={});var v=h(d,"target",!1),c=this.manager.getScene(v);if(!v||!this.checkValidTransition(c))return!1;var p=h(d,"duration",1e3);this._elapsed=0,this._target=c,this._duration=p,this._willSleep=h(d,"sleep",!1),this._willRemove=h(d,"remove",!1);var y=h(d,"onUpdate",null);y&&(this._onUpdate=y,this._onUpdateScope=h(d,"onUpdateScope",this.scene));var m=h(d,"allowInput",!1);this.settings.transitionAllowInput=m;var C=c.sys.settings;C.isTransition=!0,C.transitionFrom=this.scene,C.transitionDuration=p,C.transitionAllowInput=m,h(d,"moveAbove",!1)?this.manager.moveAbove(this.key,v):h(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,v),c.sys.isSleeping()?c.sys.wake(h(d,"data")):this.manager.start(v,h(d,"data"));var T=h(d,"onStart",null),E=h(d,"onStartScope",this.scene);return T&&T.call(E,this.scene,c,p),this.systems.events.emit(u.TRANSITION_OUT,c,p),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,v){this._elapsed+=v,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,v=this._target.sys.settings;d.events.emit(u.TRANSITION_COMPLETE,this.scene),v.isTransition=!1,v.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,v,c,p){return this.manager.add(d,v,c,p)},launch:function(d,v){return d&&d!==this.key&&this.manager.queueOp("start",d,v),this},run:function(d,v){return d&&d!==this.key&&this.manager.queueOp("run",d,v),this},pause:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,v),this},resume:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,v),this},sleep:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,v),this},wake:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,v),this},switch:function(d){return d!==this.key&&this.manager.queueOp("switch",this.key,d),this},stop:function(d,v){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,v),this},setActive:function(d,v,c){v===void 0&&(v=this.key);var p=this.manager.getScene(v);return p&&p.sys.setActive(d,c),this},setVisible:function(d,v){v===void 0&&(v=this.key);var c=this.manager.getScene(v);return c&&c.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.swapPosition(d,v),this},moveAbove:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveAbove(d,v),this},moveBelow:function(d,v){return v===void 0&&(v=this.key),d!==v&&this.manager.moveBelow(d,v),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var v=this.manager.getScene(d);if(v)return v.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(u.SHUTDOWN,this.shutdown,this),d.off(u.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",o,"scenePlugin"),n.exports=o},55681:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89993),g=s(35154),u=s(46975),h=s(87033),l={create:function(o){return typeof o=="string"?o={key:o}:o===void 0&&(o={}),{status:a.PENDING,key:g(o,"key",""),active:g(o,"active",!1),visible:g(o,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:g(o,"pack",!1),cameras:g(o,"cameras",null),map:g(o,"map",u(h,g(o,"mapAdd",{}))),physics:g(o,"physics",{}),loader:g(o,"loader",{}),plugins:g(o,"plugins",!1),input:g(o,"input",{})}}};n.exports=l},2368:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(89993),u=s(42363),h=s(44594),l=s(27397),o=s(52106),d=s(29747),v=s(55681),c=new a({initialize:function(y,m){this.scene=y,this.game,this.renderer,this.config=m,this.settings=v.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(p){this.settings.status=g.INIT,this.sceneUpdate=d,this.game=p,this.renderer=p.renderer,this.canvas=p.canvas,this.context=p.context;var y=p.plugins;this.plugins=y,y.addToScene(this,u.Global,[u.CoreScene,o(this),l(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(p,y){var m=this.events;m.emit(h.PRE_UPDATE,p,y),m.emit(h.UPDATE,p,y),this.sceneUpdate.call(this.scene,p,y),m.emit(h.POST_UPDATE,p,y)},render:function(p){var y=this.displayList;y.depthSort(),this.events.emit(h.PRE_RENDER,p),this.cameras.render(p,y),this.events.emit(h.RENDER,p)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(p){var y=this.settings,m=this.getStatus();return m!==g.CREATING&&m!==g.RUNNING?console.warn("Cannot pause non-running Scene",y.key):this.settings.active&&(y.status=g.PAUSED,y.active=!1,this.events.emit(h.PAUSE,this,p)),this},resume:function(p){var y=this.events,m=this.settings;return this.settings.active||(m.status=g.RUNNING,m.active=!0,y.emit(h.RESUME,this,p)),this},sleep:function(p){var y=this.settings,m=this.getStatus();return m!==g.CREATING&&m!==g.RUNNING?console.warn("Cannot sleep non-running Scene",y.key):(y.status=g.SLEEPING,y.active=!1,y.visible=!1,this.events.emit(h.SLEEP,this,p)),this},wake:function(p){var y=this.events,m=this.settings;return m.status=g.RUNNING,m.active=!0,m.visible=!0,y.emit(h.WAKE,this,p),m.isTransition&&y.emit(h.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var p=this.settings.status;return p>g.PENDING&&p<=g.RUNNING},isSleeping:function(){return this.settings.status===g.SLEEPING},isActive:function(){return this.settings.status===g.RUNNING},isPaused:function(){return this.settings.status===g.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(p){return this.settings.visible=p,this},setActive:function(p,y){return p?this.resume(y):this.pause(y)},start:function(p){var y=this.events,m=this.settings;p&&(m.data=p),m.status=g.START,m.active=!0,m.visible=!0,y.emit(h.START,this),y.emit(h.READY,this,p)},shutdown:function(p){var y=this.events,m=this.settings;y.off(h.TRANSITION_INIT),y.off(h.TRANSITION_START),y.off(h.TRANSITION_COMPLETE),y.off(h.TRANSITION_OUT),m.status=g.SHUTDOWN,m.active=!1,m.visible=!1,y.emit(h.SHUTDOWN,this,p)},destroy:function(){var p=this.events,y=this.settings;y.status=g.DESTROYED,y.active=!1,y.visible=!1,p.emit(h.DESTROY,this),p.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],C=0;C<m.length;C++)this[m[C]]=null}});n.exports=c},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=x},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:s(69830),BOOT:s(7919),CREATE:s(46763),DESTROY:s(11763),PAUSE:s(71555),POST_UPDATE:s(36735),PRE_RENDER:s(3809),PRE_UPDATE:s(90716),READY:s(58262),REMOVED_FROM_SCENE:s(91633),RENDER:s(10319),RESUME:s(87132),SHUTDOWN:s(81961),SLEEP:s(90194),START:s(6265),TRANSITION_COMPLETE:s(33178),TRANSITION_INIT:s(43063),TRANSITION_OUT:s(11259),TRANSITION_START:s(61611),TRANSITION_WAKE:s(45209),UPDATE:s(22966),WAKE:s(21747)}},62194:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89993),g=s(79291),u={Events:s(44594),GetPhysicsPlugins:s(27397),GetScenePlugins:s(52106),SceneManager:s(60903),ScenePlugin:s(52209),Settings:s(55681),Systems:s(2368)};u=g(!1,u,a),n.exports=u},30341:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(14463),h=s(79291),l=s(29747),o=new a({Extends:g,initialize:function(v,c,p){g.call(this),this.manager=v,this.key=c,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,p),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=h(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=h(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var v=this.markers[d];return v?(this.markers[d]=null,v):null},play:function(d,v){if(d===void 0&&(d=""),typeof d=="object"&&(v=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=h(this.currentConfig,v),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var d=1.0005777895065548,v=this.currentConfig.detune+this.manager.detune,c=Math.pow(d,v);this.totalRate=this.currentConfig.rate*this.manager.rate*c},destroy:function(){this.pendingRemove||(this.stop(),this.emit(u.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=o},85034:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(41786),u=s(50792),h=s(14463),l=s(8443),o=s(46710),d=s(58731),v=s(29747),c=s(26099),p=new a({Extends:u,initialize:function(m){u.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new c,m.events.on(l.BLUR,this.onGameBlur,this),m.events.on(l.FOCUS,this.onGameFocus,this),m.events.on(l.PRE_STEP,this.update,this),m.events.once(l.DESTROY,this.destroy,this)},add:v,addAudioSprite:function(y,m){m===void 0&&(m={});var C=this.add(y,m);C.spritemap=this.jsonCache.get(y).spritemap;for(var T in C.spritemap)if(C.spritemap.hasOwnProperty(T)){var E=g(m),w=C.spritemap[T];E.loop=w.hasOwnProperty("loop")?w.loop:!1,C.addMarker({name:T,start:w.start,duration:w.end-w.start,config:E})}return C},get:function(y){return d(this.sounds,"key",y)},getAll:function(y){return y?o(this.sounds,"key",y):o(this.sounds)},getAllPlaying:function(){return o(this.sounds,"isPlaying",!0)},play:function(y,m){var C=this.add(y);return C.once(h.COMPLETE,C.destroy,C),m?m.name?(C.addMarker(m),C.play(m.name)):C.play(m):C.play()},playAudioSprite:function(y,m,C){var T=this.addAudioSprite(y);return T.once(h.COMPLETE,T.destroy,T),T.play(m,C)},remove:function(y){var m=this.sounds.indexOf(y);return m!==-1?(y.destroy(),this.sounds.splice(m,1),!0):!1},removeAll:function(){this.sounds.forEach(function(y){y.destroy()}),this.sounds.length=0},removeByKey:function(y){for(var m=0,C=this.sounds.length-1;C>=0;C--){var T=this.sounds[C];T.key===y&&(T.destroy(),this.sounds.splice(C,1),m++)}return m},pauseAll:function(){this.forEachActiveSound(function(y){y.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(y){y.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:v,stopAll:function(){this.forEachActiveSound(function(y){y.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(y){var m=0;return this.getAll(y).forEach(function(C){C.stop()&&m++}),m},unlock:v,onBlur:v,onFocus:v,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(y,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var C=this.sounds.length-1;C>=0;C--)this.sounds[C].pendingRemove&&this.sounds.splice(C,1);this.sounds.forEach(function(T){T.update(y,m)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(y,m){var C=this;this.sounds.forEach(function(T,E){T&&!T.pendingRemove&&y.call(m||C,T,E,C.sounds)})},setRate:function(y){return this.rate=y,this},rate:{get:function(){return this._rate},set:function(y){this._rate=y,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_RATE,this,y)}},setDetune:function(y){return this.detune=y,this},detune:{get:function(){return this._detune},set:function(y){this._detune=y,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,y)}}});n.exports=p},14747:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33684),g=s(25960),u=s(57490),h={create:function(l){var o=l.config.audio,d=l.device.audio;return o.noAudio||!d.webAudio&&!d.audioData?new g(l):d.webAudio&&!o.disableWebAudio?new u(l):new a(l)}};n.exports=h},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(19723),DECODED:s(57506),DECODED_ALL:s(98882),DESTROY:s(73146),DETUNE:s(11305),GLOBAL_DETUNE:s(40577),GLOBAL_MUTE:s(30333),GLOBAL_RATE:s(20394),GLOBAL_VOLUME:s(21802),LOOP:s(99190),LOOPED:s(1299),MUTE:s(97125),PAN:s(89259),PAUSE_ALL:s(79986),PAUSE:s(17586),PLAY:s(19618),RATE:s(42306),RESUME_ALL:s(10387),RESUME:s(48959),SEEK:s(9960),STOP_ALL:s(19180),STOP:s(98328),UNLOCKED:s(50401),VOLUME:s(52498)}},64895:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30341),g=s(83419),u=s(14463),h=s(45319),l=new g({Extends:a,initialize:function(d,v,c){if(c===void 0&&(c={}),this.tags=d.game.cache.audio.get(v),!this.tags)throw new Error('No cached audio asset with key "'+v);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,d,v,c)},play:function(o,d){return this.manager.isLocked(this,"play",[o,d])||!a.prototype.play.call(this,o,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(u.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(u.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(u.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(u.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var o=this.currentConfig.seek,d=this.currentConfig.delay,v=(this.currentMarker?this.currentMarker.start:0)+o;return this.previousTime=v,this.audio.currentTime=v,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var o=0;o<this.tags.length;o++){var d=this.tags[o];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var v=[];this.manager.forEachActiveSound(function(p){p.key===this.key&&p.audio&&v.push(p)},this),v.sort(function(p,y){return p.loop===y.loop?y.seek/y.duration-p.seek/p.duration:p.loop?1:-1});var c=v[0];return this.audio=c.audio,c.reset(),c.audio=null,c.startTime=0,c.previousTime=0,!0},playCatchPromise:function(){var o=this.audio.play();o&&o.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(o){if(this.isPlaying){if(this.startTime>0){this.startTime<o-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,o-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,v=d+this.duration,c=this.audio.currentTime;if(this.currentConfig.loop)c>=v-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,c-v),c=this.audio.currentTime):c<d&&(this.audio.currentTime+=d,c=this.audio.currentTime),c<this.previousTime&&this.emit(u.LOOPED,this);else if(c>=v){this.reset(),this.stopAndReleaseAudioTag(),this.emit(u.COMPLETE,this);return}this.previousTime=c}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(o){this.currentConfig.mute=o,!this.manager.isLocked(this,"mute",o)&&(this.updateMute(),this.emit(u.MUTE,this,o))}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.currentConfig.volume},set:function(o){this.currentConfig.volume=o,!this.manager.isLocked(this,"volume",o)&&(this.updateVolume(),this.emit(u.VOLUME,this,o))}},setVolume:function(o){return this.volume=o,this},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,!this.manager.isLocked(this,u.RATE,o)&&(this.calculateRate(),this.emit(u.RATE,this,o))}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,!this.manager.isLocked(this,u.DETUNE,o)&&(this.calculateRate(),this.emit(u.DETUNE,this,o))}},setDetune:function(o){return this.detune=o,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.isLocked(this,"seek",o)||this.startTime>0||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.isPlaying?(this.previousTime=o,this.audio.currentTime=o):this.isPaused&&(this.currentConfig.seek=o),this.emit(u.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,!this.manager.isLocked(this,"loop",o)&&(this.audio&&(this.audio.loop=o),this.emit(u.LOOP,this,o))}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.currentConfig.pan},set:function(o){this.currentConfig.pan=o,this.emit(u.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});n.exports=l},33684:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85034),g=s(83419),u=s(14463),h=s(64895),l=new g({Extends:a,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,d)},add:function(o,d){var v=new h(this,o,d);return this.sounds.push(v),v},unlock:function(){this.locked=!1;var o=this;if(this.game.cache.audio.entries.each(function(p,y){for(var m=0;m<y.length;m++)if(y[m].dataset.locked==="true")return o.locked=!0,!1;return!0}),!!this.locked){var d=!1,v=function(){d=!0},c=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",v),document.body.removeEventListener("touchend",c);var p=[];if(o.game.cache.audio.entries.each(function(m,C){for(var T=0;T<C.length;T++){var E=C[T];E.dataset.locked==="true"&&p.push(E)}return!0}),p.length!==0){var y=p[p.length-1];y.oncanplaythrough=function(){y.oncanplaythrough=null,p.forEach(function(m){m.dataset.locked="false"}),o.unlocked=!0},p.forEach(function(m){m.load()})}};this.once(u.UNLOCKED,function(){for(this.forEachActiveSound(function(y){y.currentMarker===null&&y.duration===0&&(y.duration=y.tags[0].duration),y.totalDuration=y.tags[0].duration});this.lockedActionsQueue.length;){var p=this.lockedActionsQueue.shift();p.sound[p.prop].apply?p.sound[p.prop].apply(p.sound,p.value||[]):p.sound[p.prop]=p.value}},this),document.body.addEventListener("touchmove",v,!1),document.body.addEventListener("touchend",c,!1)}},onBlur:function(){this.forEachActiveSound(function(o){o.isPlaying&&(this.onBlurPausedSounds.push(o),o.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(o){o.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(o,d,v){return o.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:o,prop:d,value:v}),!0):!1},setMute:function(o){return this.mute=o,this},mute:{get:function(){return this._mute},set:function(o){this._mute=o,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(u.GLOBAL_MUTE,this,o)}},setVolume:function(o){return this.volume=o,this},volume:{get:function(){return this._volume},set:function(o){this._volume=o,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(u.GLOBAL_VOLUME,this,o)}}});n.exports=l},23717:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:s(14747),Events:s(14463),BaseSound:s(30341),BaseSoundManager:s(85034),WebAudioSound:s(71741),WebAudioSoundManager:s(57490),HTML5AudioSound:s(64895),HTML5AudioSoundManager:s(33684),NoAudioSound:s(4603),NoAudioSoundManager:s(25960)}},4603:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30341),g=s(83419),u=s(50792),h=s(79291),l=s(29747),o=function(){return!1},d=function(){return null},v=function(){return this},c=new g({Extends:u,initialize:function(y,m,C){C===void 0&&(C={}),u.call(this),this.manager=y,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},C),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:o,updateMarker:o,removeMarker:d,play:o,pause:o,resume:o,stop:o,setMute:v,setVolume:v,setRate:v,setDetune:v,setSeek:v,setLoop:v,setPan:v,applyConfig:d,resetConfig:d,update:l,calculateRate:d,destroy:function(){a.prototype.destroy.call(this)}});n.exports=c},25960:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85034),g=s(83419),u=s(50792),h=s(4603),l=s(29747),o=new g({Extends:u,initialize:function(v){u.call(this),this.game=v,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,v){var c=new h(this,d,v);return this.sounds.push(c),c},addAudioSprite:function(d,v){var c=this.add(d,v);return c.spritemap={},c},get:function(d){return a.prototype.get.call(this,d)},getAll:function(d){return a.prototype.getAll.call(this,d)},play:function(d,v){return!1},playAudioSprite:function(d,v,c){return!1},remove:function(d){return a.prototype.remove.call(this,d)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(d){return a.prototype.removeByKey.call(this,d)},stopByKey:function(d){return a.prototype.stopByKey.call(this,d)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(d,v){a.prototype.forEachActiveSound.call(this,d,v)},destroy:function(){a.prototype.destroy.call(this)}});n.exports=o},71741:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30341),g=s(83419),u=s(14463),h=s(95540),l=new g({Extends:a,initialize:function(d,v,c){if(c===void 0&&(c={}),this.audioBuffer=d.game.cache.audio.get(v),!this.audioBuffer)throw new Error('Audio key "'+v+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,d,v,c)},play:function(o,d){return a.prototype.play.call(this,o,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(u.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(u.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(u.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(u.STOP,this),!0):!1},createAndStartBufferSource:function(){var o=this.currentConfig.seek,d=this.currentConfig.delay,v=this.manager.context.currentTime+d,c=(this.currentMarker?this.currentMarker.start:0)+o,p=this.duration-o;this.playTime=v-o,this.startTime=v,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,v),Math.max(0,c),Math.max(0,p)),this.resetConfig()},createAndStartLoopBufferSource:function(){var o=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,v=this.duration;this.loopTime=o,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,o),Math.max(0,d),Math.max(0,v))},createBufferSource:function(){var o=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(v){v.target===o.source&&(o.currentConfig.loop?o.hasLooped=!0:o.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var o=this.source;this.source=null,o.stop(),o.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var o=this.currentConfig.source;if(o&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=h(o,"panningModel","equalpower"),d.distanceModel=h(o,"distanceModel","inverse"),d.orientationX.value=h(o,"orientationX",0),d.orientationY.value=h(o,"orientationY",0),d.orientationZ.value=h(o,"orientationZ",-1),d.refDistance=h(o,"refDistance",1),d.maxDistance=h(o,"maxDistance",1e4),d.rolloffFactor=h(o,"rolloffFactor",1),d.coneInnerAngle=h(o,"coneInnerAngle",360),d.coneOuterAngle=h(o,"coneOuterAngle",0),d.coneOuterGain=h(o,"coneOuterGain",0),this.spatialSource=h(o,"follow",null),this.spatialSource||(d.positionX.value=h(o,"x",0),d.positionY.value=h(o,"y",0),d.positionZ.value=h(o,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(o){this.spatialNode&&(this.spatialNode.positionX.value=o)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(o){this.spatialNode&&(this.spatialNode.positionY.value=o)}},update:function(){if(this.isPlaying&&this.spatialSource){var o=h(this.spatialSource,"x",null),d=h(this.spatialSource,"y",null);o&&o!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=o),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(u.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(u.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var o=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,o),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,o)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var o=0,d=0;d<this.rateUpdates.length;d++){var v=0;d<this.rateUpdates.length-1?v=this.rateUpdates[d+1].time:v=this.manager.context.currentTime-this.playTime,o+=(v-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return o},getLoopTime:function(){for(var o=0,d=0;d<this.rateUpdates.length-1;d++)o+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var v=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+v.time+(this.duration-o)/v.rate},rate:{get:function(){return this.currentConfig.rate},set:function(o){this.currentConfig.rate=o,this.calculateRate(),this.emit(u.RATE,this,o)}},setRate:function(o){return this.rate=o,this},detune:{get:function(){return this.currentConfig.detune},set:function(o){this.currentConfig.detune=o,this.calculateRate(),this.emit(u.DETUNE,this,o)}},setDetune:function(o){return this.detune=o,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(o){this.currentConfig.mute=o,this.muteNode.gain.setValueAtTime(o?0:1,0),this.emit(u.MUTE,this,o)}},setMute:function(o){return this.mute=o,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(o){this.currentConfig.volume=o,this.volumeNode.gain.setValueAtTime(o,0),this.emit(u.VOLUME,this,o)}},setVolume:function(o){return this.volume=o,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(o){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(o=Math.min(Math.max(0,o),this.duration),this.currentConfig.seek=o,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(u.SEEK,this,o))}},setSeek:function(o){return this.seek=o,this},loop:{get:function(){return this.currentConfig.loop},set:function(o){this.currentConfig.loop=o,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),o&&this.createAndStartLoopBufferSource()),this.emit(u.LOOP,this,o)}},setLoop:function(o){return this.loop=o,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(o){this.currentConfig.pan=o,this.pannerNode&&this.pannerNode.pan.setValueAtTime(o,this.manager.context.currentTime),this.emit(u.PAN,this,o)}},setPan:function(o){return this.pan=o,this}});n.exports=l},57490:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(53134),g=s(85034),u=s(83419),h=s(14463),l=s(8443),o=s(71741),d=s(95540),v=new u({Extends:g,initialize:function(p){this.context=this.createAudioContext(p),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),g.call(this,p),this.locked&&p.isBooted?this.unlock():p.events.once(l.BOOT,this.unlock,this)},createAudioContext:function(c){var p=c.config.audio;if(p.context)return p.context.resume(),p.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(c){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=c,this.masterMuteNode=c.createGain(),this.masterVolumeNode=c.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(c.destination),this.destination=this.masterMuteNode,this},add:function(c,p){var y=new o(this,c,p);return this.sounds.push(y),y},decodeAudio:function(c,p){var y;Array.isArray(c)?y=c:y=[{key:c,data:p}];for(var m=this.game.cache.audio,C=y.length,T=0;T<y.length;T++){var E=y[T],w=E.key,P=E.data;typeof P=="string"&&(P=a(P));var b=(function(A,R){m.add(A,R),this.emit(h.DECODED,A),C--,C===0&&this.emit(h.DECODED_ALL)}).bind(this,w),M=(function(A,R){console.error("Error decoding audio: "+A+" - ",R?R.message:""),C--,C===0&&this.emit(h.DECODED_ALL)}).bind(this,w);this.context.decodeAudioData(P,b,M)}},setListenerPosition:function(c,p){return c===void 0&&(c=this.game.scale.width/2),p===void 0&&(p=this.game.scale.height/2),this.listenerPosition.set(c,p),this},unlock:function(){var c=this,p=document.body,y=function m(){if(c.context&&p){var C=p.removeEventListener.bind(p);c.context.resume().then(function(){C("touchstart",m),C("touchend",m),C("click",m),C("keydown",m),c.unlocked=!0},function(){C("touchstart",m),C("touchend",m),C("click",m),C("keydown",m)})}};p&&(p.addEventListener("touchstart",y,!1),p.addEventListener("touchend",y,!1),p.addEventListener("click",y,!1),p.addEventListener("keydown",y,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var c=this.context;c&&!this.locked&&(c.state==="suspended"||c.state==="interrupted")&&c.resume()},update:function(c,p){var y=this.context.listener;if(y&&y.positionX!==void 0){var m=d(this.listenerPosition,"x",null),C=d(this.listenerPosition,"y",null);m&&m!==this._spatialx&&(this._spatialx=y.positionX.value=m),C&&C!==this._spatialy&&(this._spatialy=y.positionY.value=C)}g.prototype.update.call(this,c,p),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var c=this;this.context.close().then(function(){c.context=null})}g.prototype.destroy.call(this)},setMute:function(c){return this.mute=c,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(c){this.masterMuteNode.gain.setValueAtTime(c?0:1,0),this.emit(h.GLOBAL_MUTE,this,c)}},setVolume:function(c){return this.volume=c,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(c){this.masterVolumeNode.gain.setValueAtTime(c,0),this.emit(h.GLOBAL_VOLUME,this,c)}}});n.exports=v},73162:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37105),g=s(83419),u=s(29747),h=s(19186),l=new g({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=u,this.removeCallback=u,this._sortKey=""},add:function(o,d){return d?a.Add(this.list,o):a.Add(this.list,o,0,this.addCallback,this)},addAt:function(o,d,v){return v?a.AddAt(this.list,o,d):a.AddAt(this.list,o,d,0,this.addCallback,this)},getAt:function(o){return this.list[o]},getIndex:function(o){return this.list.indexOf(o)},sort:function(o,d){return o?(d===void 0&&(d=function(v,c){return v[o]-c[o]}),h(this.list,d),this):this},getByName:function(o){return a.GetFirst(this.list,"name",o)},getRandom:function(o,d){return a.GetRandom(this.list,o,d)},getFirst:function(o,d,v,c){return a.GetFirst(this.list,o,d,v,c)},getAll:function(o,d,v,c){return a.GetAll(this.list,o,d,v,c)},count:function(o,d){return a.CountAllMatching(this.list,o,d)},swap:function(o,d){a.Swap(this.list,o,d)},moveTo:function(o,d){return a.MoveTo(this.list,o,d)},moveAbove:function(o,d){return a.MoveAbove(this.list,o,d)},moveBelow:function(o,d){return a.MoveBelow(this.list,o,d)},remove:function(o,d){return d?a.Remove(this.list,o):a.Remove(this.list,o,this.removeCallback,this)},removeAt:function(o,d){return d?a.RemoveAt(this.list,o):a.RemoveAt(this.list,o,this.removeCallback,this)},removeBetween:function(o,d,v){return v?a.RemoveBetween(this.list,o,d):a.RemoveBetween(this.list,o,d,this.removeCallback,this)},removeAll:function(o){for(var d=this.list.length;d--;)this.remove(this.list[d],o);return this},bringToTop:function(o){return a.BringToTop(this.list,o)},sendToBack:function(o){return a.SendToBack(this.list,o)},moveUp:function(o){return a.MoveUp(this.list,o),o},moveDown:function(o){return a.MoveDown(this.list,o),o},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(o,d){return a.Replace(this.list,o,d)},exists:function(o){return this.list.indexOf(o)>-1},setAll:function(o,d,v,c){return a.SetAll(this.list,o,d,v,c),this},each:function(o,d){for(var v=[null],c=2;c<arguments.length;c++)v.push(arguments[c]);for(c=0;c<this.list.length;c++)v[0]=this.list[c],o.apply(d,v)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=l},90330:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(u){if(Array.isArray(u))for(var h=0;h<u.length;h++)this.set(u[h][0],u[h][1]);return this},set:function(u,h){return this.has(u)||this.size++,this.entries[u]=h,this},get:function(u){if(this.has(u))return this.entries[u]},getArray:function(){var u=[],h=this.entries;for(var l in h)u.push(h[l]);return u},has:function(u){return this.entries.hasOwnProperty(u)},delete:function(u){return this.has(u)&&(delete this.entries[u],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(u){delete this.entries[u]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var u=[],h=this.entries;for(var l in h)u.push(h[l]);return u},dump:function(){var u=this.entries;console.group("Map");for(var h in u)console.log(h,u[h]);console.groupEnd()},each:function(u){var h=this.entries;for(var l in h)if(u(l,h[l])===!1)break;return this},contains:function(u){var h=this.entries;for(var l in h)if(h[l]===u)return!0;return!1},merge:function(u,h){h===void 0&&(h=!1);var l=this.entries,o=u.entries;for(var d in o)l.hasOwnProperty(d)&&h?l[d]=o[d]:this.set(d,o[d]);return this}});n.exports=g},25774:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(82348),h=new a({Extends:g,initialize:function(){g.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var o=this._pending,d=o.indexOf(l);d!==-1&&o.splice(d,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,o=this._destroy,d=l.length;d--;)o.push(l[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,o=this._active,d,v;for(d=0;d<l.length;d++){v=l[d];var c=o.indexOf(v);c!==-1&&(o.splice(c,1),this.emit(u.PROCESS_QUEUE_REMOVE,v))}for(l.length=0,l=this._pending,d=0;d<l.length;d++)v=l[d],(!this.checkQueue||this.checkQueue&&o.indexOf(v)===-1)&&(o.push(v),this.emit(u.PROCESS_QUEUE_ADD,v));return l.length=0,this._toProcess=0,o},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=h},59542:(n,x,s)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(43886);function g(P){if(!(this instanceof g))return new g(P);this._maxEntries=Math.max(4,P||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}g.prototype={all:function(){return this._all(this.data,[])},search:function(P){var b=this.data,M=[],A=this.toBBox;if(!T(P,b))return M;for(var R=[],L,O,D,I;b;){for(L=0,O=b.children.length;L<O;L++)D=b.children[L],I=b.leaf?A(D):D,T(P,I)&&(b.leaf?M.push(D):C(P,I)?this._all(D,M):R.push(D));b=R.pop()}return M},collides:function(P){var b=this.data,M=this.toBBox;if(!T(P,b))return!1;for(var A=[],R,L,O,D;b;){for(R=0,L=b.children.length;R<L;R++)if(O=b.children[R],D=b.leaf?M(O):O,T(P,D)){if(b.leaf||C(P,D))return!0;A.push(O)}b=A.pop()}return!1},load:function(P){if(!(P&&P.length))return this;if(P.length<this._minEntries){for(var b=0,M=P.length;b<M;b++)this.insert(P[b]);return this}var A=this._build(P.slice(),0,P.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var R=this.data;this.data=A,A=R}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(P){return P&&this._insert(P,this.data.height-1),this},clear:function(){return this.data=E([]),this},remove:function(P,b){if(!P)return this;for(var M=this.data,A=this.toBBox(P),R=[],L=[],O,D,I,B;M||R.length;){if(M||(M=R.pop(),D=R[R.length-1],O=L.pop(),B=!0),M.leaf&&(I=u(P,M.children,b),I!==-1))return M.children.splice(I,1),R.push(M),this._condense(R),this;!B&&!M.leaf&&C(M,A)?(R.push(M),L.push(O),O=0,D=M,M=M.children[0]):D?(O++,M=D.children[O],B=!1):M=null}return this},toBBox:function(P){return P},compareMinX:d,compareMinY:v,toJSON:function(){return this.data},fromJSON:function(P){return this.data=P,this},_all:function(P,b){for(var M=[];P;)P.leaf?b.push.apply(b,P.children):M.push.apply(M,P.children),P=M.pop();return b},_build:function(P,b,M,A){var R=M-b+1,L=this._maxEntries,O;if(R<=L)return O=E(P.slice(b,M+1)),h(O,this.toBBox),O;A||(A=Math.ceil(Math.log(R)/Math.log(L)),L=Math.ceil(R/Math.pow(L,A-1))),O=E([]),O.leaf=!1,O.height=A;var D=Math.ceil(R/L),I=D*Math.ceil(Math.sqrt(L)),B,G,z,Y;for(w(P,b,M,I,this.compareMinX),B=b;B<=M;B+=I)for(z=Math.min(B+I-1,M),w(P,B,z,D,this.compareMinY),G=B;G<=z;G+=D)Y=Math.min(G+D-1,z),O.children.push(this._build(P,G,Y,A-1));return h(O,this.toBBox),O},_chooseSubtree:function(P,b,M,A){for(var R,L,O,D,I,B,G,z;A.push(b),!(b.leaf||A.length-1===M);){for(G=z=1/0,R=0,L=b.children.length;R<L;R++)O=b.children[R],I=c(O),B=y(P,O)-I,B<z?(z=B,G=I<G?I:G,D=O):B===z&&I<G&&(G=I,D=O);b=D||b.children[0]}return b},_insert:function(P,b,M){var A=this.toBBox,R=M?P:A(P),L=[],O=this._chooseSubtree(R,this.data,b,L);for(O.children.push(P),o(O,R);b>=0&&L[b].children.length>this._maxEntries;)this._split(L,b),b--;this._adjustParentBBoxes(R,L,b)},_split:function(P,b){var M=P[b],A=M.children.length,R=this._minEntries;this._chooseSplitAxis(M,R,A);var L=this._chooseSplitIndex(M,R,A),O=E(M.children.splice(L,M.children.length-L));O.height=M.height,O.leaf=M.leaf,h(M,this.toBBox),h(O,this.toBBox),b?P[b-1].children.push(O):this._splitRoot(M,O)},_splitRoot:function(P,b){this.data=E([P,b]),this.data.height=P.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(P,b,M){var A,R,L,O,D,I,B,G;for(I=B=1/0,A=b;A<=M-b;A++)R=l(P,0,A,this.toBBox),L=l(P,A,M,this.toBBox),O=m(R,L),D=c(R)+c(L),O<I?(I=O,G=A,B=D<B?D:B):O===I&&D<B&&(B=D,G=A);return G},_chooseSplitAxis:function(P,b,M){var A=P.leaf?this.compareMinX:d,R=P.leaf?this.compareMinY:v,L=this._allDistMargin(P,b,M,A),O=this._allDistMargin(P,b,M,R);L<O&&P.children.sort(A)},_allDistMargin:function(P,b,M,A){P.children.sort(A);var R=this.toBBox,L=l(P,0,b,R),O=l(P,M-b,M,R),D=p(L)+p(O),I,B;for(I=b;I<M-b;I++)B=P.children[I],o(L,P.leaf?R(B):B),D+=p(L);for(I=M-b-1;I>=b;I--)B=P.children[I],o(O,P.leaf?R(B):B),D+=p(O);return D},_adjustParentBBoxes:function(P,b,M){for(var A=M;A>=0;A--)o(b[A],P)},_condense:function(P){for(var b=P.length-1,M;b>=0;b--)P[b].children.length===0?b>0?(M=P[b-1].children,M.splice(M.indexOf(P[b]),1)):this.clear():h(P[b],this.toBBox)},compareMinX:function(P,b){return P.left-b.left},compareMinY:function(P,b){return P.top-b.top},toBBox:function(P){return{minX:P.left,minY:P.top,maxX:P.right,maxY:P.bottom}}};function u(P,b,M){if(!M)return b.indexOf(P);for(var A=0;A<b.length;A++)if(M(P,b[A]))return A;return-1}function h(P,b){l(P,0,P.children.length,b,P)}function l(P,b,M,A,R){R||(R=E(null)),R.minX=1/0,R.minY=1/0,R.maxX=-1/0,R.maxY=-1/0;for(var L=b,O;L<M;L++)O=P.children[L],o(R,P.leaf?A(O):O);return R}function o(P,b){return P.minX=Math.min(P.minX,b.minX),P.minY=Math.min(P.minY,b.minY),P.maxX=Math.max(P.maxX,b.maxX),P.maxY=Math.max(P.maxY,b.maxY),P}function d(P,b){return P.minX-b.minX}function v(P,b){return P.minY-b.minY}function c(P){return(P.maxX-P.minX)*(P.maxY-P.minY)}function p(P){return P.maxX-P.minX+(P.maxY-P.minY)}function y(P,b){return(Math.max(b.maxX,P.maxX)-Math.min(b.minX,P.minX))*(Math.max(b.maxY,P.maxY)-Math.min(b.minY,P.minY))}function m(P,b){var M=Math.max(P.minX,b.minX),A=Math.max(P.minY,b.minY),R=Math.min(P.maxX,b.maxX),L=Math.min(P.maxY,b.maxY);return Math.max(0,R-M)*Math.max(0,L-A)}function C(P,b){return P.minX<=b.minX&&P.minY<=b.minY&&b.maxX<=P.maxX&&b.maxY<=P.maxY}function T(P,b){return b.minX<=P.maxX&&b.minY<=P.maxY&&b.maxX>=P.minX&&b.maxY>=P.minY}function E(P){return{children:P,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(P,b,M,A,R){for(var L=[b,M],O;L.length;)M=L.pop(),b=L.pop(),!(M-b<=A)&&(O=b+Math.ceil((M-b)/A/2)*A,a(P,O,b,M,R),L.push(b,O,O,M))}n.exports=g},35072:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var l=0;l<h.length;l++)this.set(h[l])},set:function(u){return this.entries.indexOf(u)===-1&&this.entries.push(u),this},get:function(u,h){for(var l=0;l<this.entries.length;l++){var o=this.entries[l];if(o[u]===h)return o}},getArray:function(){return this.entries.slice(0)},delete:function(u){var h=this.entries.indexOf(u);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var u=0;u<this.entries.length;u++){var h=this.entries[u];console.log(h)}console.groupEnd()},each:function(u,h){var l,o=this.entries.slice(),d=o.length;if(h)for(l=0;l<d&&u.call(h,o[l],l)!==!1;l++);else for(l=0;l<d&&u(o[l],l)!==!1;l++);return this},iterate:function(u,h){var l,o=this.entries.length;if(h)for(l=0;l<o&&u.call(h,this.entries[l],l)!==!1;l++);else for(l=0;l<o&&u(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(u){var h,l=[];for(h=1;h<arguments.length;h++)l.push(arguments[h]);var o=this.entries.length;for(h=0;h<o;h++){var d=this.entries[h];d[u].apply(d,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(u){return this.entries.indexOf(u)>-1},union:function(u){var h=new g;return u.entries.forEach(function(l){h.set(l)}),this.entries.forEach(function(l){h.set(l)}),h},intersect:function(u){var h=new g;return this.entries.forEach(function(l){u.contains(l)&&h.set(l)}),h},difference:function(u){var h=new g;return this.entries.forEach(function(l){u.contains(l)||h.set(l)}),h},size:{get:function(){return this.entries.length},set:function(u){return u<this.entries.length?this.entries.length=u:this.entries.length}}});n.exports=g},86555:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45319),g=s(83419),u=s(56583),h=s(26099),l=new g({initialize:function(d,v,c,p){d===void 0&&(d=0),v===void 0&&(v=d),c===void 0&&(c=0),p===void 0&&(p=null),this._width=d,this._height=v,this._parent=p,this.aspectMode=c,this.aspectRatio=v===0?1:d/v,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(o){return o===void 0&&(o=0),this.aspectMode=o,this.setSize(this._width,this._height)},setSnap:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.snapTo.set(o,d),this.setSize(this._width,this._height)},setParent:function(o){return this._parent=o,this.setSize(this._width,this._height)},setMin:function(o,d){return o===void 0&&(o=0),d===void 0&&(d=o),this.minWidth=a(o,0,this.maxWidth),this.minHeight=a(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(o,d){return o===void 0&&(o=Number.MAX_VALUE),d===void 0&&(d=o),this.maxWidth=a(o,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(o,d){switch(o===void 0&&(o=0),d===void 0&&(d=o),this.aspectMode){case l.NONE:this._width=this.getNewWidth(u(o,this.snapTo.x)),this._height=this.getNewHeight(u(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(u(o,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(u(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(o,d,!0);break;case l.ENVELOP:this.constrain(o,d,!1);break}return this},setAspectRatio:function(o){return this.aspectRatio=o,this.setSize(this._width,this._height)},resize:function(o,d){return this._width=this.getNewWidth(u(o,this.snapTo.x)),this._height=this.getNewHeight(u(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(o,d){return d===void 0&&(d=!0),o=a(o,this.minWidth,this.maxWidth),d&&this._parent&&o>this._parent.width&&(o=Math.max(this.minWidth,this._parent.width)),o},getNewHeight:function(o,d){return d===void 0&&(d=!0),o=a(o,this.minHeight,this.maxHeight),d&&this._parent&&o>this._parent.height&&(o=Math.max(this.minHeight,this._parent.height)),o},constrain:function(o,d,v){o===void 0&&(o=0),d===void 0&&(d=o),v===void 0&&(v=!0),o=this.getNewWidth(o),d=this.getNewHeight(d);var c=this.snapTo,p=d===0?1:o/d;return v&&this.aspectRatio>p||!v&&this.aspectRatio<p?(o=u(o,c.x),d=o/this.aspectRatio,c.y>0&&(d=u(d,c.y),o=d*this.aspectRatio)):(v&&this.aspectRatio<p||!v&&this.aspectRatio>p)&&(d=u(d,c.y),o=d*this.aspectRatio,c.x>0&&(o=u(o,c.x),d=o*(1/this.aspectRatio))),this._width=o,this._height=d,this},fitTo:function(o,d){return this.constrain(o,d,!0)},envelop:function(o,d){return this.constrain(o,d,!1)},setWidth:function(o){return this.setSize(o,this._height)},setHeight:function(o){return this.setSize(this._width,o)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(o){o&&o.style&&(o.style.width=this._width+"px",o.style.height=this._height+"px")},copy:function(o){return o.setAspectMode(this.aspectMode),o.aspectRatio=this.aspectRatio,o.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(o){this.setSize(o,this._height)}},height:{get:function(){return this._height},set:function(o){this.setSize(this._width,o)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:s(15238),PROCESS_QUEUE_REMOVE:s(56187)}},41392:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:s(82348),List:s(73162),Map:s(90330),ProcessQueue:s(25774),RTree:s(59542),Set:s(35072),Size:s(86555)}},57382:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45319),u=s(40987),h=s(8054),l=s(50030),o=s(79237),d=new a({Extends:o,initialize:function(c,p,y,m,C){o.call(this,c,p,y,m,C),this.add("__BASE",0,0,0,m,C),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=C,this.imageData=this.context.getImageData(0,0,m,C),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(v,c,p,y){return y===void 0&&(y=!0),this.context.drawImage(p,v,c),y&&this.update(),this},drawFrame:function(v,c,p,y,m){p===void 0&&(p=0),y===void 0&&(y=0),m===void 0&&(m=!0);var C=this.manager.getFrame(v,c);if(C){var T=C.canvasData,E=C.cutWidth,w=C.cutHeight,P=C.source.resolution;this.context.drawImage(C.source.image,T.x,T.y,E,w,p,y,E/P,w/P),m&&this.update()}return this},setPixel:function(v,c,p,y,m,C){C===void 0&&(C=255),v=Math.abs(Math.floor(v)),c=Math.abs(Math.floor(c));var T=this.getIndex(v,c);if(T>-1){var E=this.context.getImageData(v,c,1,1);E.data[0]=p,E.data[1]=y,E.data[2]=m,E.data[3]=C,this.context.putImageData(E,v,c)}return this},putData:function(v,c,p,y,m,C,T){return y===void 0&&(y=0),m===void 0&&(m=0),C===void 0&&(C=v.width),T===void 0&&(T=v.height),this.context.putImageData(v,c,p,y,m,C,T),this},getData:function(v,c,p,y){v=g(Math.floor(v),0,this.width-1),c=g(Math.floor(c),0,this.height-1),p=g(p,1,this.width-v),y=g(y,1,this.height-c);var m=this.context.getImageData(v,c,p,y);return m},getPixel:function(v,c,p){p||(p=new u);var y=this.getIndex(v,c);if(y>-1){var m=this.data,C=m[y+0],T=m[y+1],E=m[y+2],w=m[y+3];p.setTo(C,T,E,w)}return p},getPixels:function(v,c,p,y){v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=this.width),y===void 0&&(y=p),v=Math.abs(Math.round(v)),c=Math.abs(Math.round(c));for(var m=g(v,0,this.width),C=g(v+p,0,this.width),T=g(c,0,this.height),E=g(c+y,0,this.height),w=new u,P=[],b=T;b<E;b++){for(var M=[],A=m;A<C;A++)w=this.getPixel(A,b,w),M.push({x:A,y:b,color:w.color,alpha:w.alphaGL});P.push(M)}return P},getIndex:function(v,c){return v=Math.abs(Math.round(v)),c=Math.abs(Math.round(c)),v<this.width&&c<this.height?(v+c*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(v,c,p,y,m){return v===void 0&&(v=0),c===void 0&&(c=0),p===void 0&&(p=this.width),y===void 0&&(y=this.height),m===void 0&&(m=!0),this.context.clearRect(v,c,p,y),m&&this.update(),this},setSize:function(v,c){return c===void 0&&(c=v),(v!==this.width||c!==this.height)&&(this.canvas.width=v,this.canvas.height=c,this._source.width=v,this._source.height=c,this._source.isPowerOf2=l(v,c),this.frames.__BASE.setSize(v,c,0,0),this.width=v,this.height=c,this.refresh()),this},destroy:function(){o.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=d},81320:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(10312),g=s(71911),u=s(27919),h=s(83419),l=s(8054),o=s(4327),d=s(95540),v=s(36060),c=s(32302),p=s(79237),y=s(70554),m=new h({Extends:p,initialize:function(T,E,w,P){w===void 0&&(w=256),P===void 0&&(P=256),this.type="DynamicTexture";var b=T.game.renderer,M=b&&b.type===l.CANVAS,A=M?u.create2D(this,w,P):[this];p.call(this,T,E,A,w,P),this.add("__BASE",0,0,0,w,P),this.renderer=b,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=M?A:null,this.context=M?A.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new g(0,0,w,P).setScene(T.game.scene.systemScene,!1),this.renderTarget=M?null:new c(b,w,P,1,0,!1,!0,!0,!1),this.pipeline=M?null:b.pipelines.get(v.SINGLE_PIPELINE),this.setSize(w,P)},setSize:function(C,T){T===void 0&&(T=C);var E=this.get(),w=E.source;if(C!==this.width||T!==this.height){this.canvas&&(this.canvas.width=C,this.canvas.height=T);var P=this.renderTarget;P&&(P.willResize(C,T)&&P.resize(C,T),P.texture!==w.glTexture&&this.renderer.deleteTexture(w.glTexture),this.setFromRenderTarget()),this.camera.setSize(C,T),w.width=C,w.height=T,E.setSize(C,T),this.width=C,this.height=T}else{var b=this.getSourceImage();E.cutX+C>b.width&&(C=b.width-E.cutX),E.cutY+T>b.height&&(T=b.height-E.cutY),E.setSize(C,T,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var C=this.get(),T=C.source,E=this.renderTarget;return T.isRenderTexture=!0,T.isGLTexture=!0,T.glTexture=E.texture,this},setIsSpriteTexture:function(C){return this.isSpriteTexture=C,this},fill:function(C,T,E,w,P,b){var M=this.camera,A=this.renderer;T===void 0&&(T=1),E===void 0&&(E=0),w===void 0&&(w=0),P===void 0&&(P=this.width),b===void 0&&(b=this.height);var R=C>>16&255,L=C>>8&255,O=C&255,D=this.renderTarget;if(M.preRender(),D){D.bind(!0);var I=this.pipeline.manager.set(this.pipeline),B=A.width/D.width,G=A.height/D.height,z=D.height-(w+b);I.drawFillRect(E*B,z*G,P*B,b*G,y.getTintFromFloats(O/255,L/255,R/255,1),T),D.unbind(!0)}else{var Y=this.context;A.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+R+","+L+","+O+","+T+")",Y.fillRect(E,w,P,b),A.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var C=this.context,T=this.renderTarget;T?T.clear():C&&(C.save(),C.setTransform(1,0,0,1,0,0),C.clearRect(0,0,this.width,this.height),C.restore()),this.dirty=!1}return this},stamp:function(C,T,E,w,P){E===void 0&&(E=0),w===void 0&&(w=0);var b=d(P,"alpha",1),M=d(P,"tint",16777215),A=d(P,"angle",0),R=d(P,"rotation",0),L=d(P,"scale",1),O=d(P,"scaleX",L),D=d(P,"scaleY",L),I=d(P,"originX",.5),B=d(P,"originY",.5),G=d(P,"blendMode",0),z=d(P,"erase",!1),Y=d(P,"skipBatch",!1),H=this.manager.resetStamp(b,M);return H.setAngle(0),A!==0?H.setAngle(A):R!==0&&H.setRotation(R),H.setScale(O,D),H.setTexture(C,T),H.setOrigin(I,B),H.setBlendMode(G),z&&(this._eraseMode=!0),Y?this.batchGameObject(H,E,w):this.draw(H,E,w),z&&(this._eraseMode=!1),this},erase:function(C,T,E){return this._eraseMode=!0,this.draw(C,T,E),this._eraseMode=!1,this},draw:function(C,T,E,w,P){return this.beginDraw(),this.batchDraw(C,T,E,w,P),this.endDraw(),this},drawFrame:function(C,T,E,w,P,b){return this.beginDraw(),this.batchDrawFrame(C,T,E,w,P,b),this.endDraw(),this},repeat:function(C,T,E,w,P,b,M,A,R){if(E===void 0&&(E=0),w===void 0&&(w=0),P===void 0&&(P=this.width),b===void 0&&(b=this.height),M===void 0&&(M=1),A===void 0&&(A=16777215),R===void 0&&(R=!1),C instanceof o?T=C:T=this.manager.getFrame(C,T),!T)return this;var L=this.manager.resetStamp(M,A);L.setFrame(T),L.setOrigin(0);var O=T.width,D=T.height;P=Math.floor(P),b=Math.floor(b);var I=Math.ceil(P/O),B=Math.ceil(b/D),G=I*O-P,z=B*D-b;G>0&&(G=O-G),z>0&&(z=D-z),E<0&&(I+=Math.ceil(Math.abs(E)/O)),w<0&&(B+=Math.ceil(Math.abs(w)/D));var Y=E,H=w,k=!1,U=this.manager.stampCrop.setTo(0,0,O,D);R||this.beginDraw();for(var F=0;F<B;F++){if(H+D<0){H+=D;continue}for(var N=0;N<I;N++){if(k=!1,Y+O<0){Y+=O;continue}else Y<0&&(k=!0,U.width=O+Y,U.x=O-U.width);H<0&&(k=!0,U.height=D+H,U.y=D-U.height),G>0&&N===I-1&&(k=!0,U.width=G),z>0&&F===B-1&&(k=!0,U.height=z),k&&L.setCrop(U),this.batchGameObject(L,Y,H),L.isCropped=!1,U.setTo(0,0,O,D),Y+=O}Y=E,H+=D}return R||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var C=this.camera,T=this.renderer,E=this.renderTarget;C.preRender(),E?T.beginCapture(E.width,E.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(C,T,E,w,P){return Array.isArray(C)||(C=[C]),this.batchList(C,T,E,w,P),this},batchDrawFrame:function(C,T,E,w,P,b){E===void 0&&(E=0),w===void 0&&(w=0),P===void 0&&(P=1),b===void 0&&(b=16777215);var M=this.manager.getFrame(C,T);return M&&(this.renderTarget?this.pipeline.batchTextureFrame(M,E,w,b,P,this.camera.matrix,null):this.batchTextureFrame(M,E,w,P,b)),this},endDraw:function(C){if(C===void 0&&(C=this._eraseMode),this.isDrawing){var T=this.renderer,E=this.renderTarget;if(E){var w=T.endCapture(),P=T.pipelines.setUtility();P.blitFrame(w,E,1,!1,!1,C,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(C,T,E,w,P){var b=C.length;if(b!==0)for(var M=0;M<b;M++){var A=C[M];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,T,E):A.isParent||A.list?this.batchGroup(A.getChildren(),T,E):typeof A=="string"?this.batchTextureFrameKey(A,null,T,E,w,P):A instanceof o?this.batchTextureFrame(A,T,E,w,P):Array.isArray(A)&&this.batchList(A,T,E,w,P))}},batchGroup:function(C,T,E){T===void 0&&(T=0),E===void 0&&(E=0);for(var w=0;w<C.length;w++){var P=C[w];P.willRender(this.camera)&&this.batchGameObject(P,P.x+T,P.y+E)}},batchGameObject:function(C,T,E){T===void 0&&(T=C.x),E===void 0&&(E=C.y);var w=C.x,P=C.y,b=this.camera,M=this.renderer,A=this._eraseMode,R=C.mask;if(C.setPosition(T,E),this.canvas){if(A){var L=C.blendMode;C.blendMode=a.ERASE}R&&R.preRenderCanvas(M,C,b),C.renderCanvas(M,C,b,null),R&&R.postRenderCanvas(M,C,b),A&&(C.blendMode=L)}else M&&(R&&R.preRenderWebGL(M,C,b),A||M.setBlendMode(C.blendMode),C.renderWebGL(M,C,b),R&&R.postRenderWebGL(M,b,this.renderTarget));C.setPosition(w,P)},batchTextureFrameKey:function(C,T,E,w,P,b){var M=this.manager.getFrame(C,T);M&&this.batchTextureFrame(M,E,w,P,b)},batchTextureFrame:function(C,T,E,w,P){T===void 0&&(T=0),E===void 0&&(E=0),w===void 0&&(w=1),P===void 0&&(P=16777215);var b=this.camera.matrix,M=this.renderTarget;if(M)this.pipeline.batchTextureFrame(C,T,E,P,w,b,null);else{var A=this.context,R=C.canvasData,L=C.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=w,b.setToContext(A),R.width>0&&R.height>0&&A.drawImage(L,R.x,R.y,R.width,R.height,T,E,R.width,R.height),A.restore()}},snapshotArea:function(C,T,E,w,P,b,M){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,P,!1,C,T,E,w,b,M):this.renderer.snapshotCanvas(this.canvas,P,!1,C,T,E,w,b,M),this},snapshot:function(C,T,E){return this.snapshotArea(0,0,this.width,this.height,C,T,E)},snapshotPixel:function(C,T,E){return this.snapshotArea(C,T,1,1,E,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(C,T,E,w){var P=this.manager.resetStamp();P.setTexture(this),P.setOrigin(0),P.renderWebGL(C,P,E,w)},renderCanvas:function(){},destroy:function(){var C=this.manager.stamp;C&&C.texture===this&&this.manager.resetStamp(),p.prototype.destroy.call(this),u.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=m},4327:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(45319),u=s(79291),h=new a({initialize:function(o,d,v,c,p,y,m){this.texture=o,this.name=d,this.source=o.source[v],this.sourceIndex=v,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(y,m,c,p)},setSize:function(l,o,d,v){d===void 0&&(d=0),v===void 0&&(v=0),this.cutX=d,this.cutY=v,this.cutWidth=l,this.cutHeight=o,this.width=l,this.height=o,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(o*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(o/2);var c=this.data,p=c.cut;p.x=d,p.y=v,p.w=l,p.h=o,p.r=d+l,p.b=v+o,c.sourceSize.w=l,c.sourceSize.h=o,c.spriteSourceSize.w=l,c.spriteSourceSize.h=o,c.radius=.5*Math.sqrt(l*l+o*o);var y=c.drawImage;return y.x=d,y.y=v,y.width=l,y.height=o,this.updateUVs()},setTrim:function(l,o,d,v,c,p){var y=this.data,m=y.spriteSourceSize;return y.trim=!0,y.sourceSize.w=l,y.sourceSize.h=o,m.x=d,m.y=v,m.w=c,m.h=p,m.r=d+c,m.b=v+p,this.x=d,this.y=v,this.width=c,this.height=p,this.halfWidth=c*.5,this.halfHeight=p*.5,this.centerX=Math.floor(c/2),this.centerY=Math.floor(p/2),this.updateUVs()},setScale9:function(l,o,d,v){var c=this.data;return c.scale9=!0,c.is3Slice=o===0&&v===this.height,c.scale9Borders.x=l,c.scale9Borders.y=o,c.scale9Borders.w=d,c.scale9Borders.h=v,this},setCropUVs:function(l,o,d,v,c,p,y){var m=this.cutX,C=this.cutY,T=this.cutWidth,E=this.cutHeight,w=this.realWidth,P=this.realHeight;o=g(o,0,w),d=g(d,0,P),v=g(v,0,w-o),c=g(c,0,P-d);var b=m+o,M=C+d,A=v,R=c,L=this.data;if(L.trim){var O=L.spriteSourceSize;v=g(v,0,T-o),c=g(c,0,E-d);var D=o+v,I=d+c,B=!(O.r<o||O.b<d||O.x>D||O.y>I);if(B){var G=Math.max(O.x,o),z=Math.max(O.y,d),Y=Math.min(O.r,D)-G,H=Math.min(O.b,I)-z;A=Y,R=H,p?b=m+(T-(G-O.x)-Y):b=m+(G-O.x),y?M=C+(E-(z-O.y)-H):M=C+(z-O.y),o=G,d=z,v=Y,c=H}else b=0,M=0,A=0,R=0}else p&&(b=m+(T-o-v)),y&&(M=C+(E-d-c));var k=this.source.width,U=this.source.height;return l.u0=Math.max(0,b/k),l.v0=Math.max(0,M/U),l.u1=Math.min(1,(b+A)/k),l.v1=Math.min(1,(M+R)/U),l.x=o,l.y=d,l.cx=b,l.cy=M,l.cw=A,l.ch=R,l.width=v,l.height=c,l.flipX=p,l.flipY=y,l},updateCropUVs:function(l,o,d){return this.setCropUVs(l,l.x,l.y,l.width,l.height,o,d)},setUVs:function(l,o,d,v,c,p){var y=this.data.drawImage;return y.width=l,y.height=o,this.u0=d,this.v0=v,this.u1=c,this.v1=p,this},updateUVs:function(){var l=this.cutX,o=this.cutY,d=this.cutWidth,v=this.cutHeight,c=this.data.drawImage;c.width=d,c.height=v;var p=this.source.width,y=this.source.height;return this.u0=l/p,this.v0=o/y,this.u1=(l+d)/p,this.v1=(o+v)/y,this},updateUVsInverted:function(){var l=this.source.width,o=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/o,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/o,this},clone:function(){var l=new h(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=u(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=h},79237:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(4327),u=s(11876),h='Texture "%s" has no frame "%s"',l=new a({initialize:function(d,v,c,p,y){Array.isArray(c)||(c=[c]),this.manager=d,this.key=v,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<c.length;m++)this.source.push(new u(this,c[m],p,y))},add:function(o,d,v,c,p,y){if(this.has(o))return null;var m=new g(this,o,d,v,c,p,y);return this.frames[o]=m,this.firstFrame==="__BASE"&&(this.firstFrame=o),this.frameTotal++,m},remove:function(o){if(this.has(o)){var d=this.get(o);return d.destroy(),delete this.frames[o],!0}return!1},has:function(o){return this.frames.hasOwnProperty(o)},get:function(o){o||(o=this.firstFrame);var d=this.frames[o];return d||(console.warn(h,this.key,o),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(o){for(var d=0;d<this.source.length;d++)if(this.source[d]===o)return d;return-1},getFramesFromTextureSource:function(o,d){d===void 0&&(d=!1);var v=[];for(var c in this.frames)if(!(c==="__BASE"&&!d)){var p=this.frames[c];p.sourceIndex===o&&v.push(p)}return v},getFrameBounds:function(o){o===void 0&&(o=0);for(var d=this.getFramesFromTextureSource(o),v=1/0,c=1/0,p=0,y=0,m=0;m<d.length;m++){var C=d[m];C.cutX<v&&(v=C.cutX),C.cutY<c&&(c=C.cutY),C.cutX+C.cutWidth>p&&(p=C.cutX+C.cutWidth),C.cutY+C.cutHeight>y&&(y=C.cutY+C.cutHeight)}return{x:v,y:c,width:p-v,height:y-c}},getFrameNames:function(o){o===void 0&&(o=!1);var d=Object.keys(this.frames);if(!o){var v=d.indexOf("__BASE");v!==-1&&d.splice(v,1)}return d},getSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o];return d?d.source.image:(console.warn(h,this.key,o),this.frames.__BASE.source.image)},getDataSourceImage:function(o){(o==null||this.frameTotal===1)&&(o="__BASE");var d=this.frames[o],v;return d?v=d.sourceIndex:(console.warn(h,this.key,o),v=this.frames.__BASE.sourceIndex),this.dataSource[v].image},setDataSource:function(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++){var v=this.source[d];this.dataSource.push(new u(this,o[d],v.width,v.height))}},setFilter:function(o){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(o);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(o)},destroy:function(){var o,d=this.source,v=this.dataSource;for(o=0;o<d.length;o++)d[o]&&d[o].destroy();for(o=0;o<v.length;o++)v[o]&&v[o].destroy();for(var c in this.frames){var p=this.frames[c];p&&p.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=l},17130:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(57382),u=s(83419),h=s(40987),l=s(8054),o=s(81320),d=s(50792),v=s(69442),c=s(4327),p=s(8443),y=s(99584),m=s(35154),C=s(88571),T=s(41212),E=s(61309),w=s(87841),P=s(79237),b=new u({Extends:d,initialize:function(A){d.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new w,this.silentWarnings=!1,A.events.once(p.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(v.LOAD,this.updatePending,this),this.on(v.ERROR,this.updatePending,this);var M=this.game.config;this.addBase64("__DEFAULT",M.defaultImage),this.addBase64("__MISSING",M.missingImage),this.addBase64("__WHITE",M.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(p.DESTROY,this.destroy,this),this.game.events.once(p.SYSTEM_READY,function(A){this.stamp=new C(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(v.LOAD),this.off(v.ERROR),this.emit(v.READY))},checkKey:function(M){return this.exists(M)?(this.silentWarnings||console.error("Texture key already in use: "+M),!1):!0},remove:function(M){if(typeof M=="string")if(this.exists(M))M=this.get(M);else return this.silentWarnings||console.warn("No texture found matching key: "+M),this;var A=M.key;return this.list.hasOwnProperty(A)&&(M.destroy(),this.emit(v.REMOVE,A),this.emit(v.REMOVE_KEY+A)),this},removeKey:function(M){return this.list.hasOwnProperty(M)&&delete this.list[M],this},addBase64:function(M,A){if(this.checkKey(M)){var R=this,L=new Image;L.onerror=function(){R.emit(v.ERROR,M)},L.onload=function(){var O=R.create(M,L);E.Image(O,0),R.emit(v.ADD,M,O),R.emit(v.ADD_KEY+M,O),R.emit(v.LOAD,M,O)},L.src=A}return this},getBase64:function(M,A,R,L){R===void 0&&(R="image/png"),L===void 0&&(L=.92);var O="",D=this.getFrame(M,A);if(D&&(D.source.isRenderTexture||D.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(D){var I=D.canvasData,B=a.create2D(this,I.width,I.height),G=B.getContext("2d",{willReadFrequently:!0});I.width>0&&I.height>0&&G.drawImage(D.source.image,I.x,I.y,I.width,I.height,0,0,I.width,I.height),O=B.toDataURL(R,L),a.remove(B)}return O},addImage:function(M,A,R){var L=null;return this.checkKey(M)&&(L=this.create(M,A),E.Image(L,0),R&&L.setDataSource(R),this.emit(v.ADD,M,L),this.emit(v.ADD_KEY+M,L)),L},addGLTexture:function(M,A){var R=null;if(this.checkKey(M)){var L=A.width,O=A.height;R=this.create(M,A,L,O),R.add("__BASE",0,0,0,L,O),this.emit(v.ADD,M,R),this.emit(v.ADD_KEY+M,R)}return R},addCompressedTexture:function(M,A,R){var L=null;if(this.checkKey(M)){if(L=this.create(M,A),L.add("__BASE",0,0,0,A.width,A.height),R){var O=function(I,B,G){Array.isArray(G.textures)||Array.isArray(G.frames)?E.JSONArray(I,B,G):E.JSONHash(I,B,G)};if(Array.isArray(R))for(var D=0;D<R.length;D++)O(L,D,R[D]);else O(L,0,R)}this.emit(v.ADD,M,L),this.emit(v.ADD_KEY+M,L)}return L},addRenderTexture:function(M,A){var R=null;return this.checkKey(M)&&(R=this.create(M,A),R.add("__BASE",0,0,0,A.width,A.height),this.emit(v.ADD,M,R),this.emit(v.ADD_KEY+M,R)),R},generate:function(M,A){if(this.checkKey(M)){var R=a.create(this,1,1);return A.canvas=R,y(A),this.addCanvas(M,R)}else return null},createCanvas:function(M,A,R){if(A===void 0&&(A=256),R===void 0&&(R=256),this.checkKey(M)){var L=a.create(this,A,R,l.CANVAS,!0);return this.addCanvas(M,L)}return null},addCanvas:function(M,A,R){R===void 0&&(R=!1);var L=null;return R?L=new g(this,M,A,A.width,A.height):this.checkKey(M)&&(L=new g(this,M,A,A.width,A.height),this.list[M]=L,this.emit(v.ADD,M,L),this.emit(v.ADD_KEY+M,L)),L},addDynamicTexture:function(M,A,R){var L=null;return typeof M=="string"&&!this.exists(M)?L=new o(this,M,A,R):(L=M,M=L.key),this.checkKey(M)?(this.list[M]=L,this.emit(v.ADD,M,L),this.emit(v.ADD_KEY+M,L)):L=null,L},addAtlas:function(M,A,R,L){return Array.isArray(R.textures)||Array.isArray(R.frames)?this.addAtlasJSONArray(M,A,R,L):this.addAtlasJSONHash(M,A,R,L)},addAtlasJSONArray:function(M,A,R,L){var O=null;if(A instanceof P?(M=A.key,O=A):this.checkKey(M)&&(O=this.create(M,A)),O){if(Array.isArray(R))for(var D=R.length===1,I=0;I<O.source.length;I++){var B=D?R[0]:R[I];E.JSONArray(O,I,B)}else E.JSONArray(O,0,R);L&&O.setDataSource(L),this.emit(v.ADD,M,O),this.emit(v.ADD_KEY+M,O)}return O},addAtlasJSONHash:function(M,A,R,L){var O=null;if(A instanceof P?(M=A.key,O=A):this.checkKey(M)&&(O=this.create(M,A)),O){if(Array.isArray(R))for(var D=0;D<R.length;D++)E.JSONHash(O,D,R[D]);else E.JSONHash(O,0,R);L&&O.setDataSource(L),this.emit(v.ADD,M,O),this.emit(v.ADD_KEY+M,O)}return O},addAtlasXML:function(M,A,R,L){var O=null;return A instanceof P?(M=A.key,O=A):this.checkKey(M)&&(O=this.create(M,A)),O&&(E.AtlasXML(O,0,R),L&&O.setDataSource(L),this.emit(v.ADD,M,O),this.emit(v.ADD_KEY+M,O)),O},addUnityAtlas:function(M,A,R,L){var O=null;return A instanceof P?(M=A.key,O=A):this.checkKey(M)&&(O=this.create(M,A)),O&&(E.UnityYAML(O,0,R),L&&O.setDataSource(L),this.emit(v.ADD,M,O),this.emit(v.ADD_KEY+M,O)),O},addSpriteSheet:function(M,A,R,L){var O=null;if(A instanceof P?(M=A.key,O=A):this.checkKey(M)&&(O=this.create(M,A)),O){var D=O.source[0].width,I=O.source[0].height;E.SpriteSheet(O,0,0,0,D,I,R),L&&O.setDataSource(L),this.emit(v.ADD,M,O),this.emit(v.ADD_KEY+M,O)}return O},addSpriteSheetFromAtlas:function(M,A){if(!this.checkKey(M))return null;var R=m(A,"atlas",null),L=m(A,"frame",null);if(!(!R||!L)){var O=this.get(R),D=O.get(L);if(D){var I=D.source.image;I||(I=D.source.glTexture);var B=this.create(M,I);return D.trimmed?E.SpriteSheetFromAtlas(B,D,A):E.SpriteSheet(B,0,D.cutX,D.cutY,D.cutWidth,D.cutHeight,A),this.emit(v.ADD,M,B),this.emit(v.ADD_KEY+M,B),B}}},addUint8Array:function(M,A,R,L){if(!this.checkKey(M)||A.length/4!==R*L)return null;var O=this.create(M,A,R,L);return O.add("__BASE",0,0,0,R,L),this.emit(v.ADD,M,O),this.emit(v.ADD_KEY+M,O),O},create:function(M,A,R,L){var O=null;return this.checkKey(M)&&(O=new P(this,M,A,R,L),this.list[M]=O),O},exists:function(M){return this.list.hasOwnProperty(M)},get:function(M){return M===void 0&&(M="__DEFAULT"),this.list[M]?this.list[M]:M instanceof P?M:M instanceof c?M.texture:this.list.__MISSING},cloneFrame:function(M,A){if(this.list[M])return this.list[M].get(A).clone()},getFrame:function(M,A){if(this.list[M])return this.list[M].get(A)},parseFrame:function(M){if(M){if(typeof M=="string")return this.getFrame(M);if(Array.isArray(M)&&M.length===2)return this.getFrame(M[0],M[1]);if(T(M))return this.getFrame(M.key,M.frame);if(M instanceof P)return M.get();if(M instanceof c)return M}else return},getTextureKeys:function(){var M=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&M.push(A);return M},getPixel:function(M,A,R,L){var O=this.getFrame(R,L);if(O){M-=O.x,A-=O.y;var D=O.data.cut;if(M+=D.x,A+=D.y,M>=D.x&&M<D.r&&A>=D.y&&A<D.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(O.source.image,M,A,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return new h(B.data[0],B.data[1],B.data[2],B.data[3])}}return null},getPixelAlpha:function(M,A,R,L){var O=this.getFrame(R,L);if(O){M-=O.x,A-=O.y;var D=O.data.cut;if(M+=D.x,A+=D.y,M>=D.x&&M<D.r&&A>=D.y&&A<D.b){var I=this._tempContext;I.clearRect(0,0,1,1),I.drawImage(O.source.image,M,A,1,1,0,0,1,1);var B=I.getImageData(0,0,1,1);return B.data[3]}}return null},setTexture:function(M,A,R){return this.list[A]&&(M.texture=this.list[A],M.frame=M.texture.get(R)),M},renameTexture:function(M,A){var R=this.get(M);return R&&M!==A?(R.key=A,this.list[A]=R,delete this.list[M],!0):!1},each:function(M,A){for(var R=[null],L=1;L<arguments.length;L++)R.push(arguments[L]);for(var O in this.list)R[0]=this.list[O],M.apply(A,R)},resetStamp:function(M,A){M===void 0&&(M=1),A===void 0&&(A=16777215);var R=this.stamp;return R.setCrop(),R.setPosition(0),R.setAngle(0),R.setScale(1),R.setAlpha(M),R.setTint(A),R.setTexture("__WHITE"),R},destroy:function(){for(var M in this.list)this.list[M].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});n.exports=b},11876:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(27919),g=s(83419),u=s(50030),h=s(29795),l=s(82751),o=new g({initialize:function(v,c,p,y,m){m===void 0&&(m=!1);var C=v.manager.game;this.renderer=C.renderer,this.texture=v,this.source=c,this.image=c.compressed?null:c,this.compressionAlgorithm=c.compressed?c.format:null,this.resolution=1,this.width=p||c.naturalWidth||c.videoWidth||c.width||0,this.height=y||c.naturalHeight||c.videoHeight||c.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=c instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&c instanceof HTMLVideoElement,this.isRenderTexture=c.type==="RenderTexture"||c.type==="DynamicTexture",this.isGLTexture=c instanceof l,this.isPowerOf2=u(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(C)},init:function(d){var v=this.renderer;if(v){var c=this.source;if(v.gl){var p=this.image,y=this.flipY,m=this.width,C=this.height,T=this.scaleMode;this.isCanvas?this.glTexture=v.createCanvasTexture(p,!1,y):this.isVideo?this.glTexture=v.createVideoTexture(p,!1,y):this.isRenderTexture?this.glTexture=v.createTextureFromSource(null,m,C,T):this.isGLTexture?this.glTexture=c:this.compressionAlgorithm?this.glTexture=v.createTextureFromSource(c,void 0,void 0,T):c instanceof Uint8Array?this.glTexture=v.createUint8ArrayTexture(c,m,C,T):this.glTexture=v.createTextureFromSource(p,m,C,T)}else this.isRenderTexture&&(this.image=c.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,v=this.image,c=this.flipY,p=d.gl;p&&this.isCanvas?d.updateCanvasTexture(v,this.glTexture,c):p&&this.isVideo&&d.updateVideoTexture(v,this.glTexture,c)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=o},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={LINEAR:0,NEAREST:1};n.exports=x},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:s(44538),ADD_KEY:s(63486),ERROR:s(94851),LOAD:s(29099),READY:s(8678),REMOVE:s(86415),REMOVE_KEY:s(30879)}},27458:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(19673),u={CanvasTexture:s(57382),DynamicTexture:s(81320),Events:s(69442),FilterMode:g,Frame:s(4327),Parsers:s(61309),Texture:s(79237),TextureManager:s(17130),TextureSource:s(11876)};u=a(!1,u,g),n.exports=u},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(!g.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var u=s.source[a];s.add("__BASE",a,0,0,u.width,u.height);for(var h=g.getElementsByTagName("SubTexture"),l,o=0;o<h.length;o++){var d=h[o].attributes,v=d.name.value,c=parseInt(d.x.value,10),p=parseInt(d.y.value,10),y=parseInt(d.width.value,10),m=parseInt(d.height.value,10);if(l=s.add(v,a,c,p,y,m),d.frameX){var C=Math.abs(parseInt(d.frameX.value,10)),T=Math.abs(parseInt(d.frameY.value,10)),E=parseInt(d.frameWidth.value,10),w=parseInt(d.frameHeight.value,10);l.setTrim(y,m,C,T,E,w)}}return s};n.exports=x},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.source[a];return s.add("__BASE",a,0,0,g.width,g.height),s};n.exports=x},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.source[a];return s.add("__BASE",a,0,0,g.width,g.height),s};n.exports=x},78566:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(u,h,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var o=u.source[h];u.add("__BASE",h,0,0,o.width,o.height);for(var d=Array.isArray(l.textures)?l.textures[h].frames:l.frames,v,c=0;c<d.length;c++){var p=d[c];if(v=u.add(p.filename,h,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+p.filename);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var y=p.anchor||p.pivot;y&&(v.customPivot=!0,v.pivotX=y.x,v.pivotY=y.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=a(p)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?u.customData[m]=l[m].slice(0):u.customData[m]=l[m]);return u};n.exports=g},39711:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(u,h,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var o=u.source[h];u.add("__BASE",h,0,0,o.width,o.height);var d=l.frames,v;for(var c in d)if(d.hasOwnProperty(c)){var p=d[c];if(v=u.add(c,h,p.frame.x,p.frame.y,p.frame.w,p.frame.h),!v){console.warn("Invalid atlas json, frame already exists: "+c);continue}p.trimmed&&v.setTrim(p.sourceSize.w,p.sourceSize.h,p.spriteSourceSize.x,p.spriteSourceSize.y,p.spriteSourceSize.w,p.spriteSourceSize.h),p.rotated&&(v.rotated=!0,v.updateUVsInverted());var y=p.anchor||p.pivot;y&&(v.customPivot=!0,v.pivotX=y.x,v.pivotY=y.y),p.scale9Borders&&v.setScale9(p.scale9Borders.x,p.scale9Borders.y,p.scale9Borders.w,p.scale9Borders.h),v.customData=a(p)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?u.customData[m]=l[m].slice(0):u.customData[m]=l[m]);return u};n.exports=g},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=[171,75,84,88,32,49,49,187,13,10,26,10],g,u=new Uint8Array(s,0,12);for(g=0;g<u.length;g++)if(u[g]!==a[g]){console.warn("KTXParser - Invalid file format");return}var h=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(s,12,13*h),o=l.getUint32(0,!0)===67305985,d=l.getUint32(1*h,o);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var v=l.getUint32(4*h,o),c=l.getUint32(6*h,o),p=l.getUint32(7*h,o),y=Math.max(1,l.getUint32(11*h,o)),m=l.getUint32(12*h,o),C=new Array(y),T=12+13*4+m,E=c,w=p;for(g=0;g<y;g++){var P=new Int32Array(s,T,1)[0];T+=4,C[g]={data:new Uint8Array(s,T,P),width:E,height:w},E=Math.max(1,E>>1),w=Math.max(1,w>>1),T+=P}return{mipmaps:C,width:c,height:p,internalFormat:v,compressed:!0,generateMipmap:!1}};n.exports=x},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(A,R,L,O,D,I,B){return B===void 0&&(B=16),Math.floor((A+L)/D)*Math.floor((R+O)/I)*B}function s(A,R){return A=Math.max(A,16),R=Math.max(R,8),A*R/4}function a(A,R){return A=Math.max(A,8),R=Math.max(R,8),A*R/2}function g(A,R){return Math.ceil(A/4)*Math.ceil(R/4)*16}function u(A,R){return x(A,R,3,3,4,4,8)}function h(A,R){return x(A,R,3,3,4,4)}function l(A,R){return x(A,R,4,3,5,4)}function o(A,R){return x(A,R,4,4,5,5)}function d(A,R){return x(A,R,5,4,6,5)}function v(A,R){return x(A,R,5,5,6,6)}function c(A,R){return x(A,R,7,4,8,5)}function p(A,R){return x(A,R,7,5,8,6)}function y(A,R){return x(A,R,7,7,8,8)}function m(A,R){return x(A,R,9,4,10,5)}function C(A,R){return x(A,R,9,5,10,6)}function T(A,R){return x(A,R,9,7,10,8)}function E(A,R){return x(A,R,9,9,10,10)}function w(A,R){return x(A,R,11,9,12,10)}function P(A,R){return x(A,R,11,11,12,12)}var b={0:{sizeFunc:s,glFormat:[35841]},1:{sizeFunc:s,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:u,glFormat:[36196]},7:{sizeFunc:u,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:g,glFormat:[36494,36495]},15:{sizeFunc:g,glFormat:[36492,36493]},22:{sizeFunc:u,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:u,glFormat:[37494,37495]},25:{sizeFunc:u,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:o,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:v,glFormat:[37812,37844]},32:{sizeFunc:c,glFormat:[37813,37845]},33:{sizeFunc:p,glFormat:[37814,37846]},34:{sizeFunc:y,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:C,glFormat:[37817,37849]},37:{sizeFunc:T,glFormat:[37818,37850]},38:{sizeFunc:E,glFormat:[37819,37851]},39:{sizeFunc:w,glFormat:[37820,37852]},40:{sizeFunc:P,glFormat:[37821,37853]}},M=function(A){for(var R=new Uint32Array(A,0,13),L=R[0],O=L===55727696,D=O?R[2]:R[3],I=R[4],B=b[D].glFormat[I],G=b[D].sizeFunc,z=R[11],Y=R[7],H=R[6],k=52+R[12],U=new Uint8Array(A,k),F=new Array(z),N=0,V=Y,$=H,X=0;X<z;X++){var j=G(V,$);F[X]={data:new Uint8Array(U.buffer,U.byteOffset+N,j),width:V,height:$},V=Math.max(1,V>>1),$=Math.max(1,$>>1),N+=j}return{mipmaps:F,width:Y,height:H,internalFormat:B,compressed:!0,generateMipmap:!1}};n.exports=M},75549:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(u,h,l,o,d,v,c){var p=a(c,"frameWidth",null),y=a(c,"frameHeight",p);if(p===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=u.source[h];u.add("__BASE",h,0,0,m.width,m.height);var C=a(c,"startFrame",0),T=a(c,"endFrame",-1),E=a(c,"margin",0),w=a(c,"spacing",0),P=Math.floor((d-E+w)/(p+w)),b=Math.floor((v-E+w)/(y+w)),M=P*b;M===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",u.key),(C>M||C<-M)&&(C=0),C<0&&(C=M+C),(T===-1||T>M||T<C)&&(T=M);for(var A=E,R=E,L=0,O=0,D=0,I=0;I<M;I++){L=0,O=0;var B=A+p,G=R+y;B>d&&(L=B-d),G>v&&(O=G-v),I>=C&&I<=T&&(u.add(D,h,l+A,o+R,p-L,y-O),D++),A+=p+w,A+p>d&&(A=E,R+=y+w)}return u};n.exports=g},47534:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(u,h,l){var o=a(l,"frameWidth",null),d=a(l,"frameHeight",o);if(!o)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var v=u.source[0];u.add("__BASE",0,0,0,v.width,v.height),a(l,"startFrame",0),a(l,"endFrame",-1);for(var c=a(l,"margin",0),p=a(l,"spacing",0),y=h.cutX,m=h.cutY,C=h.cutWidth,T=h.cutHeight,E=h.realWidth,w=h.realHeight,P=Math.floor((E-c+p)/(o+p)),b=Math.floor((w-c+p)/(d+p)),M=h.x,A=o-M,R=o-(E-C-M),L=h.y,O=d-L,D=d-(w-T-L),I,B=c,G=c,z=0,Y=0,H=0;H<b;H++){for(var k=H===0,U=H===b-1,F=0;F<P;F++){var N=F===0,V=F===P-1;if(I=u.add(z,Y,y+B,m+G,o,d),N||k||V||U){var $=N?M:0,X=k?L:0,j=0,Q=0;N&&(j+=o-A),V&&(j+=o-R),k&&(Q+=d-O),U&&(Q+=d-D);var K=o-j,q=d-Q;I.cutWidth=K,I.cutHeight=q,I.setTrim(o,d,$,X,K,q)}B+=p,N?B+=A:V?B+=R:B+=o,z++}B=c,G+=p,k?G+=O:U?G+=D:G+=d}return u};n.exports=g},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=0,s=function(g,u,h,l){var o=x-l.y-l.height;g.add(h,u,l.x,o,l.width,l.height)},a=function(g,u,h){var l=g.source[u];g.add("__BASE",u,0,0,l.width,l.height),x=l.height;for(var o=h.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,v="",c="",p={x:0,y:0,width:0,height:0},y=0;y<o.length;y++){var m=o[y].match(d);if(m){var C=m[1]==="- ",T=m[2],E=m[3];if(C&&(c!==v&&(s(g,u,c,p),v=c),p={x:0,y:0,width:0,height:0}),T==="name"){c=E;continue}switch(T){case"x":case"y":case"width":case"height":p[T]=parseInt(E,10);break}}}return c!==v&&s(g,u,c,p),g};n.exports=a},55222:(n,x,s)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(50030),g=function(v){for(var c=v.mipmaps,p=1;p<c.length;p++){var y=c[p].width,m=c[p].height;if(!a(y,m))return console.warn("Mip level "+p+" is not a power-of-two size: "+y+"x"+m),!1}var C=d[v.internalFormat];return C?C(v):(console.warn("No format checker found for internal format "+v.internalFormat+". Assuming valid."),!0)};function u(v){for(var c=v.mipmaps,p=0;p<c.length;p++){var y=c[p].width,m=c[p].height;if((y<<p)%4!==0||(m<<p)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+p+" is "+y+"x"+m),!1}return!0}function h(){return!0}function l(v){var c=v.mipmaps,p=c[0];return a(p.width,p.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+p.width+"x"+p.height),!1)}function o(v){var c=v.mipmaps,p=c[0];return p.width%4!==0||p.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+p.width+"x"+p.height+" pixels"),!1):!0}var d={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:u,36493:u,36494:u,36495:u,36283:u,36284:u,36285:u,36286:u,35840:l,35841:l,35842:l,35843:l,33776:u,33777:u,33778:u,33779:u,35916:o,35917:o,35918:o,35919:o};n.exports=g},61309:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:s(89905),Canvas:s(72893),Image:s(4832),JSONArray:s(78566),JSONHash:s(39711),KTXParser:s(31403),PVRParser:s(82038),SpriteSheet:s(75549),SpriteSheetFromAtlas:s(47534),UnityYAML:s(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h,l,o,d,v,c,p){(o===void 0||o<=0)&&(o=32),(d===void 0||d<=0)&&(d=32),v===void 0&&(v=0),c===void 0&&(c=0),this.name=h,this.firstgid=l|0,this.imageWidth=o|0,this.imageHeight=d|0,this.imageMargin=v|0,this.imageSpacing=c|0,this.properties=p||{},this.images=[],this.total=0},containsImageIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},addImage:function(u,h){return this.images.push({gid:u,image:h}),this.total++,this}});n.exports=g},27462:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=new a({initialize:function(h){if(this.gids=[],h!==void 0)for(var l=0;l<h.length;++l)for(var o=h[l],d=0;d<o.total;++d)this.gids[o.firstgid+d]=o;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(u){this.gids=u?this._gids:void 0}},getTypeIncludingTile:function(u){if(u.type!==void 0&&u.type!=="")return u.type;if(!(!this.gids||u.gid===void 0)){var h=this.gids[u.gid];if(h){var l=h.getTileData(u.gid);if(l)return l.type}}},setTextureAndFrame:function(u,h,l,o){if(h===null&&this.gids&&o.gid!==void 0){var d=this.gids[o.gid];d&&(h===null&&d.image!==void 0&&(h=d.image.key),l===null&&(l=o.gid-d.firstgid),u.scene.textures.getFrame(h,l)||(h=null,l=null))}u.setTexture(h,l)},setPropertiesFromTiledObject:function(u,h){if(this.gids!==void 0&&h.gid!==void 0){var l=this.gids[h.gid];l!==void 0&&this.setFromJSON(u,l.getTileProperties(h.gid))}this.setFromJSON(u,h.properties)},setFromJSON:function(u,h){if(h){if(Array.isArray(h)){for(var l=0;l<h.length;l++){var o=h[l];u[o.name]!==void 0?u[o.name]=o.value:u.setData(o.name,o.value)}return}for(var d in h)u[d]!==void 0?u[d]=h[d]:u.setData(d,h[d])}}});n.exports=g},31989:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(87010),u=s(46177),h=s(49075),l=function(o,d,v,c,p,y,m,C){v===void 0&&(v=32),c===void 0&&(c=32),p===void 0&&(p=10),y===void 0&&(y=10),C===void 0&&(C=!1);var T=null;if(Array.isArray(m)){var E=d!==void 0?d:"map";T=u(E,a.ARRAY_2D,m,v,c,C)}else if(d!==void 0){var w=o.cache.tilemap.get(d);w?T=u(d,w.format,w.data,v,c,C):console.warn("No map data found for key "+d)}return T===null&&(T=new g({tileWidth:v,tileHeight:c,width:p,height:y})),new h(o,T)};n.exports=l},23029:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(31401),u=s(91907),h=s(62644),l=s(93232),o=new a({Mixins:[g.AlphaSingle,g.Flip,g.Visible],initialize:function(v,c,p,y,m,C,T,E){this.layer=v,this.index=c,this.x=p,this.y=y,this.width=m,this.height=C,this.right,this.bottom,this.baseWidth=T!==void 0?T:m,this.baseHeight=E!==void 0?E:C,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,v){return!(d<this.pixelX||v<this.pixelY||d>this.right||v>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=h(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var v=this.tilemapLayer;if(v){var c=v.tileToWorldXY(this.x,this.y,void 0,d);return c.x}return this.x*this.baseWidth},getRight:function(d){var v=this.tilemapLayer;return v?this.getLeft(d)+this.width*v.scaleX:this.getLeft(d)+this.width},getTop:function(d){var v=this.tilemapLayer;if(v){var c=v.tileToWorldXY(this.x,this.y,void 0,d);return c.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var v=this.tilemapLayer;return v?this.getTop(d)+this.height*v.scaleY:this.getTop(d)+this.height},getBounds:function(d,v){return v===void 0&&(v=new l),v.x=this.getLeft(d),v.y=this.getTop(d),v.width=this.getRight(d)-v.x,v.height=this.getBottom(d)-v.y,v},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,v,c,p){return!(c<=this.pixelX||p<=this.pixelY||d>=this.right||v>=this.bottom)},isInteresting:function(d,v){return d&&v?this.canCollide||this.hasInterestingFace:d?this.collides:v?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var v=this.tilemapLayer;v&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,v,c,p,y){if(v===void 0&&(v=d),c===void 0&&(c=d),p===void 0&&(p=d),y===void 0&&(y=!0),this.collideLeft=d,this.collideRight=v,this.collideUp=c,this.collideDown=p,this.faceLeft=d,this.faceRight=v,this.faceTop=c,this.faceBottom=p,y){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,v){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=v),this},setSize:function(d,v,c,p){return d!==void 0&&(this.width=d),v!==void 0&&(this.height=v),c!==void 0&&(this.baseWidth=c),p!==void 0&&(this.baseHeight=p),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===u.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===u.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===u.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===u.HEXAGONAL){var v=this.layer.staggerAxis,c=this.layer.staggerIndex,p=this.layer.hexSideLength,y,m;v==="y"?(m=(this.baseHeight-p)/2+p,c==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):v==="x"&&(y=(this.baseWidth-p)/2+p,this.pixelX=this.x*y,c==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var v=d.gidMap[this.index];if(v)return v}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});n.exports=o},49075:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(84101),g=s(83419),u=s(39506),h=s(80341),l=s(95540),o=s(14977),d=s(27462),v=s(91907),c=s(36305),p=s(19133),y=s(68287),m=s(23029),C=s(81086),T=s(20442),E=s(33629),w=new g({initialize:function(b,M){this.scene=b,this.tileWidth=M.tileWidth,this.tileHeight=M.tileHeight,this.width=M.width,this.height=M.height,this.orientation=M.orientation,this.renderOrder=M.renderOrder,this.format=M.format,this.version=M.version,this.properties=M.properties,this.widthInPixels=M.widthInPixels,this.heightInPixels=M.heightInPixels,this.imageCollections=M.imageCollections,this.images=M.images,this.layers=M.layers,this.tiles=M.tiles,this.tilesets=M.tilesets,this.objects=M.objects,this.currentLayerIndex=0,this.hexSideLength=M.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:C.GetWorldToTileXYFunction(A),WorldToTileX:C.GetWorldToTileXFunction(A),WorldToTileY:C.GetWorldToTileYFunction(A),TileToWorldXY:C.GetTileToWorldXYFunction(A),TileToWorldX:C.GetTileToWorldXFunction(A),TileToWorldY:C.GetTileToWorldYFunction(A),GetTileCorners:C.GetTileCornersFunction(A)}},setRenderOrder:function(P){var b=["right-down","left-down","right-up","left-up"];return typeof P=="number"&&(P=b[P]),b.indexOf(P)>-1&&(this.renderOrder=P),this},addTilesetImage:function(P,b,M,A,R,L,O,D){if(P===void 0)return null;b==null&&(b=P);var I=this.scene.sys.textures;if(!I.exists(b))return console.warn('Texture key "%s" not found',b),null;var B=I.get(b),G=this.getTilesetIndex(P);if(G===null&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',P,this.tilesets),null;var z=this.tilesets[G];return z?(z.setTileSize(M,A),z.setSpacing(R,L),z.setImage(B),z):(M===void 0&&(M=this.tileWidth),A===void 0&&(A=this.tileHeight),R===void 0&&(R=0),L===void 0&&(L=0),O===void 0&&(O=0),D===void 0&&(D={x:0,y:0}),z=new E(P,O,M,A,R,L,void 0,void 0,D),z.setImage(B),this.tilesets.push(z),this.tiles=a(this),z)},copy:function(P,b,M,A,R,L,O,D){return D=this.getLayer(D),D!==null?(C.Copy(P,b,M,A,R,L,O,D),this):null},createBlankLayer:function(P,b,M,A,R,L,O,D){M===void 0&&(M=0),A===void 0&&(A=0),R===void 0&&(R=this.width),L===void 0&&(L=this.height),O===void 0&&(O=this.tileWidth),D===void 0&&(D=this.tileHeight);var I=this.getLayerIndex(P);if(I!==null)return console.warn("Invalid Tilemap Layer ID: "+P),null;for(var B=new o({name:P,tileWidth:O,tileHeight:D,width:R,height:L,orientation:this.orientation}),G,z=0;z<L;z++){G=[];for(var Y=0;Y<R;Y++)G.push(new m(B,-1,Y,z,O,D,this.tileWidth,this.tileHeight));B.data.push(G)}this.layers.push(B),this.currentLayerIndex=this.layers.length-1;var H=new T(this.scene,this,this.currentLayerIndex,b,M,A);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(P,b,M,A){var R=this.getLayerIndex(P);if(R===null)return console.warn("Invalid Tilemap Layer ID: "+P),typeof P=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var L=this.layers[R];if(L.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+P),null;this.currentLayerIndex=R,M===void 0&&(M=L.x),A===void 0&&(A=L.y);var O=new T(this.scene,this,R,b,M,A);return O.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(O),O},createFromObjects:function(P,b,M){M===void 0&&(M=!0);var A=[],R=this.getObjectLayer(P);if(!R)return console.warn("createFromObjects: Invalid objectLayerName given: "+P),A;var L=new d(M?this.tilesets:void 0);Array.isArray(b)||(b=[b]);for(var O=R.objects,D=0;D<b.length;D++){var I=b[D],B=l(I,"id",null),G=l(I,"gid",null),z=l(I,"name",null),Y=l(I,"type",null);L.enabled=!l(I,"ignoreTileset",null);for(var H,k=[],U=0;U<O.length;U++)H=O[U],(B===null&&G===null&&z===null&&Y===null||B!==null&&H.id===B||G!==null&&H.gid===G||z!==null&&H.name===z||Y!==null&&L.getTypeIncludingTile(H)===Y)&&k.push(H);for(var F=l(I,"classType",y),N=l(I,"scene",this.scene),V=l(I,"container",null),$=l(I,"key",null),X=l(I,"frame",null),j=0;j<k.length;j++){H=k[j];var Q=new F(N);if(Q.setName(H.name),Q.setPosition(H.x,H.y),L.setTextureAndFrame(Q,$,X,H),H.width&&(Q.displayWidth=H.width),H.height&&(Q.displayHeight=H.height),this.orientation===v.ISOMETRIC){var K=this.tileWidth/this.tileHeight,q={x:Q.x-Q.y,y:(Q.x+Q.y)/K};Q.x=q.x,Q.y=q.y}var tt={x:Q.originX*H.width,y:(Q.originY-(H.gid?1:0))*H.height};if(H.rotation){var st=u(H.rotation);c(tt,st),Q.rotation=st}Q.x+=tt.x,Q.y+=tt.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&Q.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(Q.visible=!1),L.setPropertiesFromTiledObject(Q,H),V?V.add(Q):N.add.existing(Q),A.push(Q)}}return A},createFromTiles:function(P,b,M,A,R,L){return L=this.getLayer(L),L===null?null:C.CreateFromTiles(P,b,M,A,R,L)},fill:function(P,b,M,A,R,L,O){return L===void 0&&(L=!0),O=this.getLayer(O),O===null?null:(C.Fill(P,b,M,A,R,L,O),this)},filterObjects:function(P,b,M){if(typeof P=="string"){var A=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+A),null}return P.objects.filter(b,M)},filterTiles:function(P,b,M,A,R,L,O,D){return D=this.getLayer(D),D===null?null:C.FilterTiles(P,b,M,A,R,L,O,D)},findByIndex:function(P,b,M,A){return A=this.getLayer(A),A===null?null:C.FindByIndex(P,b,M,A)},findObject:function(P,b,M){if(typeof P=="string"){var A=P;if(P=this.getObjectLayer(P),!P)return console.warn("No object layer found with the name: "+A),null}return P.objects.find(b,M)||null},findTile:function(P,b,M,A,R,L,O,D){return D=this.getLayer(D),D===null?null:C.FindTile(P,b,M,A,R,L,O,D)},forEachTile:function(P,b,M,A,R,L,O,D){return D=this.getLayer(D),D===null?null:(C.ForEachTile(P,b,M,A,R,L,O,D),this)},getImageIndex:function(P){return this.getIndex(this.images,P)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(P){return P.name})},getIndex:function(P,b){for(var M=0;M<P.length;M++)if(P[M].name===b)return M;return null},getLayer:function(P){var b=this.getLayerIndex(P);return b!==null?this.layers[b]:null},getObjectLayer:function(P){var b=this.getIndex(this.objects,P);return b!==null?this.objects[b]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(P){return P.name})},getLayerIndex:function(P){return P===void 0?this.currentLayerIndex:typeof P=="string"?this.getLayerIndexByName(P):typeof P=="number"&&P<this.layers.length?P:P instanceof T&&P.tilemap===this?P.layerIndex:null},getLayerIndexByName:function(P){return this.getIndex(this.layers,P)},getTileAt:function(P,b,M,A){return A=this.getLayer(A),A===null?null:C.GetTileAt(P,b,M,A)},getTileAtWorldXY:function(P,b,M,A,R){return R=this.getLayer(R),R===null?null:C.GetTileAtWorldXY(P,b,M,A,R)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(P){return P.name})},getTilesWithin:function(P,b,M,A,R,L){return L=this.getLayer(L),L===null?null:C.GetTilesWithin(P,b,M,A,R,L)},getTilesWithinShape:function(P,b,M,A){return A=this.getLayer(A),A===null?null:C.GetTilesWithinShape(P,b,M,A)},getTilesWithinWorldXY:function(P,b,M,A,R,L,O){return O=this.getLayer(O),O===null?null:C.GetTilesWithinWorldXY(P,b,M,A,R,L,O)},getTileset:function(P){var b=this.getIndex(this.tilesets,P);return b!==null?this.tilesets[b]:null},getTilesetIndex:function(P){return this.getIndex(this.tilesets,P)},hasTileAt:function(P,b,M){return M=this.getLayer(M),M===null?null:C.HasTileAt(P,b,M)},hasTileAtWorldXY:function(P,b,M,A){return A=this.getLayer(A),A===null?null:C.HasTileAtWorldXY(P,b,M,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(P){this.setLayer(P)}},putTileAt:function(P,b,M,A,R){return A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:C.PutTileAt(P,b,M,A,R)},putTileAtWorldXY:function(P,b,M,A,R,L){return A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:C.PutTileAtWorldXY(P,b,M,A,R,L)},putTilesAt:function(P,b,M,A,R){return A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(C.PutTilesAt(P,b,M,A,R),this)},randomize:function(P,b,M,A,R,L){return L=this.getLayer(L),L===null?null:(C.Randomize(P,b,M,A,R,L),this)},calculateFacesAt:function(P,b,M){return M=this.getLayer(M),M===null?null:(C.CalculateFacesAt(P,b,M),this)},calculateFacesWithin:function(P,b,M,A,R){return R=this.getLayer(R),R===null?null:(C.CalculateFacesWithin(P,b,M,A,R),this)},removeLayer:function(P){var b=this.getLayerIndex(P);if(b!==null){p(this.layers,b);for(var M=b;M<this.layers.length;M++)this.layers[M].tilemapLayer&&this.layers[M].tilemapLayer.layerIndex--;return this.currentLayerIndex===b&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(P){var b=this.getLayerIndex(P);return b!==null?(P=this.layers[b],P.tilemapLayer.destroy(),p(this.layers,b),this.currentLayerIndex===b&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var P=this.layers,b=0;b<P.length;b++)P[b].tilemapLayer&&P[b].tilemapLayer.destroy(!1);return P.length=0,this.currentLayerIndex=0,this},removeTile:function(P,b,M){b===void 0&&(b=-1),M===void 0&&(M=!0);var A=[];Array.isArray(P)||(P=[P]);for(var R=0;R<P.length;R++){var L=P[R];A.push(this.removeTileAt(L.x,L.y,!0,M,L.tilemapLayer)),b>-1&&this.putTileAt(b,L.x,L.y,M,L.tilemapLayer)}return A},removeTileAt:function(P,b,M,A,R){return M===void 0&&(M=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:C.RemoveTileAt(P,b,M,A,R)},removeTileAtWorldXY:function(P,b,M,A,R,L){return M===void 0&&(M=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:C.RemoveTileAtWorldXY(P,b,M,A,R,L)},renderDebug:function(P,b,M){return M=this.getLayer(M),M===null?null:(this.orientation===v.ORTHOGONAL&&C.RenderDebug(P,b,M),this)},renderDebugFull:function(P,b){for(var M=this.layers,A=0;A<M.length;A++)C.RenderDebug(P,b,M[A]);return this},replaceByIndex:function(P,b,M,A,R,L,O){return O=this.getLayer(O),O===null?null:(C.ReplaceByIndex(P,b,M,A,R,L,O),this)},setCollision:function(P,b,M,A,R){return b===void 0&&(b=!0),M===void 0&&(M=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(C.SetCollision(P,b,M,A,R),this)},setCollisionBetween:function(P,b,M,A,R){return M===void 0&&(M=!0),A===void 0&&(A=!0),R=this.getLayer(R),R===null?null:(C.SetCollisionBetween(P,b,M,A,R),this)},setCollisionByProperty:function(P,b,M,A){return b===void 0&&(b=!0),M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:(C.SetCollisionByProperty(P,b,M,A),this)},setCollisionByExclusion:function(P,b,M,A){return b===void 0&&(b=!0),M===void 0&&(M=!0),A=this.getLayer(A),A===null?null:(C.SetCollisionByExclusion(P,b,M,A),this)},setCollisionFromCollisionGroup:function(P,b,M){return P===void 0&&(P=!0),b===void 0&&(b=!0),M=this.getLayer(M),M===null?null:(C.SetCollisionFromCollisionGroup(P,b,M),this)},setTileIndexCallback:function(P,b,M,A){return A=this.getLayer(A),A===null?null:(C.SetTileIndexCallback(P,b,M,A),this)},setTileLocationCallback:function(P,b,M,A,R,L,O){return O=this.getLayer(O),O===null?null:(C.SetTileLocationCallback(P,b,M,A,R,L,O),this)},setLayer:function(P){var b=this.getLayerIndex(P);return b!==null&&(this.currentLayerIndex=b),this},setBaseTileSize:function(P,b){this.tileWidth=P,this.tileHeight=b,this.widthInPixels=this.width*P,this.heightInPixels=this.height*b;for(var M=0;M<this.layers.length;M++){this.layers[M].baseTileWidth=P,this.layers[M].baseTileHeight=b;for(var A=this.layers[M].data,R=this.layers[M].width,L=this.layers[M].height,O=0;O<L;O++)for(var D=0;D<R;D++){var I=A[O][D];I!==null&&I.setSize(void 0,void 0,P,b)}}return this},setLayerTileSize:function(P,b,M){if(M=this.getLayer(M),M===null)return this;M.tileWidth=P,M.tileHeight=b;for(var A=M.data,R=M.width,L=M.height,O=0;O<L;O++)for(var D=0;D<R;D++){var I=A[O][D];I!==null&&I.setSize(P,b)}return this},shuffle:function(P,b,M,A,R){return R=this.getLayer(R),R===null?null:(C.Shuffle(P,b,M,A,R),this)},swapByIndex:function(P,b,M,A,R,L,O){return O=this.getLayer(O),O===null?null:(C.SwapByIndex(P,b,M,A,R,L,O),this)},tileToWorldX:function(P,b,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldX(P,b,M)},tileToWorldY:function(P,b,M){return M=this.getLayer(M),M===null?null:this._convert.TileToWorldY(P,b,M)},tileToWorldXY:function(P,b,M,A,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldXY(P,b,M,A,R)},getTileCorners:function(P,b,M,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(P,b,M,A)},weightedRandomize:function(P,b,M,A,R,L){return L=this.getLayer(L),L===null?null:(C.WeightedRandomize(b,M,A,R,P,L),this)},worldToTileX:function(P,b,M,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(P,b,M,A)},worldToTileY:function(P,b,M,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(P,b,M,A)},worldToTileXY:function(P,b,M,A,R,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileXY(P,b,M,A,R,L)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=w},45939:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(44603),g=s(31989);a.register("tilemap",function(u){var h=u!==void 0?u:{};return g(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})},46029:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(39429),g=s(31989);a.register("tilemap",function(u,h,l,o,d,v,c){return u===null&&(u=void 0),h===null&&(h=void 0),l===null&&(l=void 0),o===null&&(o=void 0),d===null&&(d=void 0),g(this.scene,u,h,l,o,d,v,c)})},20442:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(78389),u=s(31401),h=s(95643),l=s(81086),o=s(19218),d=s(26099),v=new a({Extends:h,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,g,o],initialize:function(p,y,m,C,T,E){h.call(this,p,"TilemapLayer"),this.isTilemap=!0,this.tilemap=y,this.layerIndex=m,this.layer=y.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(C),this.setAlpha(this.layer.alpha),this.setPosition(T,E),this.setOrigin(0,0),this.setSize(y.tileWidth*this.layer.width,y.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(c){var p=[],y=[],m=this.tilemap;Array.isArray(c)||(c=[c]);for(var C=0;C<c.length;C++){var T=c[C];if(typeof T=="string"&&(T=m.getTileset(T)),T){y.push(T);for(var E=T.firstgid,w=0;w<T.total;w++)p[E+w]=T}}this.gidMap=p,this.tileset=y},setRenderOrder:function(c){var p=["right-down","left-down","right-up","left-up"];return typeof c=="string"&&(c=p.indexOf(c)),c>=0&&c<4&&(this._renderOrder=c),this},calculateFacesAt:function(c,p){return l.CalculateFacesAt(c,p,this.layer),this},calculateFacesWithin:function(c,p,y,m){return l.CalculateFacesWithin(c,p,y,m,this.layer),this},createFromTiles:function(c,p,y,m,C){return l.CreateFromTiles(c,p,y,m,C,this.layer)},cull:function(c){return this.cullCallback(this.layer,c,this.culledTiles,this._renderOrder)},copy:function(c,p,y,m,C,T,E){return l.Copy(c,p,y,m,C,T,E,this.layer),this},fill:function(c,p,y,m,C,T){return l.Fill(c,p,y,m,C,T,this.layer),this},filterTiles:function(c,p,y,m,C,T,E){return l.FilterTiles(c,p,y,m,C,T,E,this.layer)},findByIndex:function(c,p,y){return l.FindByIndex(c,p,y,this.layer)},findTile:function(c,p,y,m,C,T,E){return l.FindTile(c,p,y,m,C,T,E,this.layer)},forEachTile:function(c,p,y,m,C,T,E){return l.ForEachTile(c,p,y,m,C,T,E,this.layer),this},setTint:function(c,p,y,m,C,T){c===void 0&&(c=16777215);var E=function(w){w.tint=c,w.tintFill=!1};return this.forEachTile(E,this,p,y,m,C,T)},setTintFill:function(c,p,y,m,C,T){c===void 0&&(c=16777215);var E=function(w){w.tint=c,w.tintFill=!0};return this.forEachTile(E,this,p,y,m,C,T)},getTileAt:function(c,p,y){return l.GetTileAt(c,p,y,this.layer)},getTileAtWorldXY:function(c,p,y,m){return l.GetTileAtWorldXY(c,p,y,m,this.layer)},getIsoTileAtWorldXY:function(c,p,y,m,C){y===void 0&&(y=!0);var T=this.tempVec;return l.IsometricWorldToTileXY(c,p,!0,T,C,this.layer,y),this.getTileAt(T.x,T.y,m)},getTilesWithin:function(c,p,y,m,C){return l.GetTilesWithin(c,p,y,m,C,this.layer)},getTilesWithinShape:function(c,p,y){return l.GetTilesWithinShape(c,p,y,this.layer)},getTilesWithinWorldXY:function(c,p,y,m,C,T){return l.GetTilesWithinWorldXY(c,p,y,m,C,T,this.layer)},hasTileAt:function(c,p){return l.HasTileAt(c,p,this.layer)},hasTileAtWorldXY:function(c,p,y){return l.HasTileAtWorldXY(c,p,y,this.layer)},putTileAt:function(c,p,y,m){return l.PutTileAt(c,p,y,m,this.layer)},putTileAtWorldXY:function(c,p,y,m,C){return l.PutTileAtWorldXY(c,p,y,m,C,this.layer)},putTilesAt:function(c,p,y,m){return l.PutTilesAt(c,p,y,m,this.layer),this},randomize:function(c,p,y,m,C){return l.Randomize(c,p,y,m,C,this.layer),this},removeTileAt:function(c,p,y,m){return l.RemoveTileAt(c,p,y,m,this.layer)},removeTileAtWorldXY:function(c,p,y,m,C){return l.RemoveTileAtWorldXY(c,p,y,m,C,this.layer)},renderDebug:function(c,p){return l.RenderDebug(c,p,this.layer),this},replaceByIndex:function(c,p,y,m,C,T){return l.ReplaceByIndex(c,p,y,m,C,T,this.layer),this},setSkipCull:function(c){return c===void 0&&(c=!0),this.skipCull=c,this},setCullPadding:function(c,p){return c===void 0&&(c=1),p===void 0&&(p=1),this.cullPaddingX=c,this.cullPaddingY=p,this},setCollision:function(c,p,y,m){return l.SetCollision(c,p,y,this.layer,m),this},setCollisionBetween:function(c,p,y,m){return l.SetCollisionBetween(c,p,y,m,this.layer),this},setCollisionByProperty:function(c,p,y){return l.SetCollisionByProperty(c,p,y,this.layer),this},setCollisionByExclusion:function(c,p,y){return l.SetCollisionByExclusion(c,p,y,this.layer),this},setCollisionFromCollisionGroup:function(c,p){return l.SetCollisionFromCollisionGroup(c,p,this.layer),this},setTileIndexCallback:function(c,p,y){return l.SetTileIndexCallback(c,p,y,this.layer),this},setTileLocationCallback:function(c,p,y,m,C,T){return l.SetTileLocationCallback(c,p,y,m,C,T,this.layer),this},shuffle:function(c,p,y,m){return l.Shuffle(c,p,y,m,this.layer),this},swapByIndex:function(c,p,y,m,C,T){return l.SwapByIndex(c,p,y,m,C,T,this.layer),this},tileToWorldX:function(c,p){return this.tilemap.tileToWorldX(c,p,this)},tileToWorldY:function(c,p){return this.tilemap.tileToWorldY(c,p,this)},tileToWorldXY:function(c,p,y,m){return this.tilemap.tileToWorldXY(c,p,y,m,this)},getTileCorners:function(c,p,y){return this.tilemap.getTileCorners(c,p,y,this)},weightedRandomize:function(c,p,y,m,C){return l.WeightedRandomize(p,y,m,C,c,this.layer),this},worldToTileX:function(c,p,y){return this.tilemap.worldToTileX(c,p,y,this)},worldToTileY:function(c,p,y){return this.tilemap.worldToTileY(c,p,y,this)},worldToTileXY:function(c,p,y,m,C){return this.tilemap.worldToTileXY(c,p,y,m,C,this)},destroy:function(c){c===void 0&&(c=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),c&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});n.exports=v},16153:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61340),g=new a,u=new a,h=new a,l=function(o,d,v,c){var p=d.cull(v),y=p.length,m=v.alpha*d.alpha;if(!(y===0||m<=0)){var C=g,T=u,E=h;T.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),C.copyFrom(v.matrix);var w=o.currentContext,P=d.gidMap;w.save(),c?(C.multiplyWithOffset(c,-v.scrollX*d.scrollFactorX,-v.scrollY*d.scrollFactorY),T.e=d.x,T.f=d.y,C.multiply(T,E),E.copyToContext(w)):(T.e-=v.scrollX*d.scrollFactorX,T.f-=v.scrollY*d.scrollFactorY,T.copyToContext(w)),(!o.antialias||d.scaleX>1||d.scaleY>1)&&(w.imageSmoothingEnabled=!1);for(var b=0;b<y;b++){var M=p[b],A=P[M.index];if(A){var R=A.image.getSourceImage(),L=A.getTileTextureCoordinates(M.index),O=A.tileWidth,D=A.tileHeight;if(!(L===null||O===0||D===0)){var I=O*.5,B=D*.5;L.x+=A.tileOffset.x,L.y+=A.tileOffset.y,w.save(),w.translate(M.pixelX+I,M.pixelY+B),M.rotation!==0&&w.rotate(M.rotation),(M.flipX||M.flipY)&&w.scale(M.flipX?-1:1,M.flipY?-1:1),w.globalAlpha=m*M.alpha,w.drawImage(R,L.x,L.y,O,D,-I,-B,O,D),w.restore()}}}w.restore()}};n.exports=l},19218:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(29747),g=a,u=a;g=s(99558),u=s(16153),n.exports={renderWebGL:g,renderCanvas:u}},99558:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70554),g=function(u,h,l){var o=h.cull(l),d=o.length,v=l.alpha*h.alpha;if(!(d===0||v<=0)){var c=h.gidMap,p=u.pipelines.set(h.pipeline,h),y=a.getTintAppendFloatAlpha,m=h.scrollFactorX,C=h.scrollFactorY,T=h.x,E=h.y,w=h.scaleX,P=h.scaleY;u.pipelines.preBatch(h);for(var b=0;b<d;b++){var M=o[b],A=c[M.index];if(A){var R=A.getTileTextureCoordinates(M.index),L=A.tileWidth,O=A.tileHeight;if(!(!R||L===0||O===0)){var D=L*.5,I=O*.5,B=A.glTexture,G=p.setTexture2D(B,h),z=L,Y=O,H=R.x,k=R.y,U=A.tileOffset.x,F=A.tileOffset.y,N=y(M.tint,v*M.alpha);p.batchTexture(h,B,B.width,B.height,T+M.pixelX*w+(D*w-U),E+M.pixelY*P+(I*P-F),L,O,w,P,M.rotation,M.flipX,M.flipY,m,C,D,I,H,k,z,Y,N,N,N,N,M.tintFill,0,0,l,null,!0,G,!0)}}}u.pipelines.postBatch(h)}};n.exports=g},33629:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(26099),u=new a({initialize:function(l,o,d,v,c,p,y,m,C){(d===void 0||d<=0)&&(d=32),(v===void 0||v<=0)&&(v=32),c===void 0&&(c=0),p===void 0&&(p=0),y===void 0&&(y={}),m===void 0&&(m={}),this.name=l,this.firstgid=o,this.tileWidth=d,this.tileHeight=v,this.tileMargin=c,this.tileSpacing=p,this.tileProperties=y,this.tileData=m,this.tileOffset=new g,C!==void 0&&this.tileOffset.set(C.x,C.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var l=this.getTileData(h);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var l=h.get(),o=h.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>o.width||l.height>o.height?this.updateTileData(l.width,l.height):this.updateTileData(o.width,o.height,o.x,o.y),this},setTileSize:function(h,l){return h!==void 0&&(this.tileWidth=h),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,l){return h!==void 0&&(this.tileMargin=h),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,l,o,d){o===void 0&&(o=0),d===void 0&&(d=0);var v=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),c=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(v%1!==0||c%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),v=Math.floor(v),c=Math.floor(c),this.rows=v,this.columns=c,this.total=v*c,this.texCoordinates.length=0;for(var p=this.tileMargin+o,y=this.tileMargin+d,m=0;m<this.rows;m++){for(var C=0;C<this.columns;C++)this.texCoordinates.push({x:p,y}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin+o,y+=this.tileHeight+this.tileSpacing}return this}});n.exports=u},72023:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7423),g=function(u,h,l){var o=a(u,h,!0,l),d=a(u,h-1,!0,l),v=a(u,h+1,!0,l),c=a(u-1,h,!0,l),p=a(u+1,h,!0,l),y=o&&o.collides;return y&&(o.faceTop=!0,o.faceBottom=!0,o.faceLeft=!0,o.faceRight=!0),d&&d.collides&&(y&&(o.faceTop=!1),d.faceBottom=!y),v&&v.collides&&(y&&(o.faceBottom=!1),v.faceTop=!y),c&&c.collides&&(y&&(o.faceLeft=!1),c.faceRight=!y),p&&p.collides&&(y&&(o.faceRight=!1),p.faceLeft=!y),o&&!o.collides&&o.resetFaces(),o};n.exports=g},42573:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7423),g=s(7386),u=function(h,l,o,d,v){for(var c=null,p=null,y=null,m=null,C=g(h,l,o,d,null,v),T=0;T<C.length;T++){var E=C[T];E&&(E.collides?(c=a(E.x,E.y-1,!0,v),p=a(E.x,E.y+1,!0,v),y=a(E.x-1,E.y,!0,v),m=a(E.x+1,E.y,!0,v),E.faceTop=!(c&&c.collides),E.faceBottom=!(p&&p.collides),E.faceLeft=!(y&&y.collides),E.faceRight=!(m&&m.collides)):E.resetFaces())}};n.exports=u},33528:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=new a,u=function(h,l,o,d){var v=o.tilemapLayer,c=v.cullPaddingX,p=v.cullPaddingY,y=v.tilemap.tileToWorldXY(h,l,g,d,v);return y.x>d.worldView.x+v.scaleX*o.tileWidth*(-c-.5)&&y.x<d.worldView.right+v.scaleX*o.tileWidth*(c-.5)&&y.y>d.worldView.y+v.scaleY*o.tileHeight*(-p-1)&&y.y<d.worldView.bottom+v.scaleY*o.tileHeight*(p-.5)};n.exports=u},1785:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42573),g=s(7386),u=s(62991),h=s(23029),l=function(o,d,v,c,p,y,m,C){m===void 0&&(m=!0);var T=g(o,d,v,c,null,C),E=[];T.forEach(function(L){var O=new h(L.layer,L.index,L.x,L.y,L.width,L.height,L.baseWidth,L.baseHeight);O.copy(L),E.push(O)});for(var w=p-o,P=y-d,b=0;b<E.length;b++){var M=E[b],A=M.x+w,R=M.y+P;u(A,R,C)&&C.data[R][A]&&(M.x=A,M.y=R,M.updatePixelXY(),C.data[R][A]=M)}m&&a(p-1,y-1,v+2,c+2,C),T.length=0,E.length=0};n.exports=l},78419:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62644),g=s(7386),u=s(27987),h=function(l,o,d,v,c,p){d||(d={}),Array.isArray(l)||(l=[l]);var y=p.tilemapLayer;v||(v=y.scene),c||(c=v.cameras.main);var m=p.width,C=p.height,T=g(0,0,m,C,null,p),E=[],w,P=function(R,L,O){for(var D=0;D<O.length;D++){var I=O[D];R.hasOwnProperty(I)||(R[I]=L[I])}};for(w=0;w<T.length;w++){var b=T[w],M=a(d);if(l.indexOf(b.index)!==-1){var A=y.tileToWorldXY(b.x,b.y,void 0,c,p);M.x=A.x,M.y=A.y,P(M,b,["rotation","flipX","flipY","alpha","visible","tint"]),M.hasOwnProperty("origin")||(M.x+=b.width*.5,M.y+=b.height*.5),M.hasOwnProperty("useSpriteSheet")&&(M.key=b.tileset.image,M.frame=b.index-1),E.push(v.make.sprite(M))}}if(Array.isArray(o))for(w=0;w<l.length;w++)u(l[w],o[w],0,0,m,C,p);else if(o!==null)for(w=0;w<l.length;w++)u(l[w],o,0,0,m,C,p);return E};n.exports=h},19545:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(87841),g=s(63448),u=s(56583),h=new a,l=function(o,d){var v=o.tilemapLayer.tilemap,c=o.tilemapLayer,p=Math.floor(v.tileWidth*c.scaleX),y=Math.floor(v.tileHeight*c.scaleY),m=u(d.worldView.x-c.x,p,0,!0)-c.cullPaddingX,C=g(d.worldView.right-c.x,p,0,!0)+c.cullPaddingX,T=u(d.worldView.y-c.y,y,0,!0)-c.cullPaddingY,E=g(d.worldView.bottom-c.y,y,0,!0)+c.cullPaddingY;return h.setTo(m,T,C-m,E-T)};n.exports=l},30003:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19545),g=s(32483),u=function(h,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var v=h.tilemapLayer,c=a(h,l);return(v.skipCull||v.scrollFactorX!==1||v.scrollFactorY!==1)&&(c.left=0,c.right=h.width,c.top=0,c.bottom=h.height),g(h,c,d,o),o};n.exports=u},35137:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(42573),u=s(20576),h=function(l,o,d,v,c,p,y){for(var m=y.collideIndexes.indexOf(l)!==-1,C=a(o,d,v,c,null,y),T=0;T<C.length;T++)C[T].index=l,u(C[T],m);p&&g(o-1,d-1,v+2,c+2,y)};n.exports=h},40253:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(u,h,l,o,d,v,c,p){var y=a(l,o,d,v,c,p);return y.filter(u,h)};n.exports=g},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a===void 0&&(a=0),g===void 0&&(g=!1);var h=0,l,o,d;if(g){for(o=u.height-1;o>=0;o--)for(l=u.width-1;l>=0;l--)if(d=u.data[o][l],d&&d.index===s){if(h===a)return d;h+=1}}else for(o=0;o<u.height;o++)for(l=0;l<u.width;l++)if(d=u.data[o][l],d&&d.index===s){if(h===a)return d;h+=1}return null};n.exports=x},66151:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(u,h,l,o,d,v,c,p){var y=a(l,o,d,v,c,p);return y.find(u,h)||null};n.exports=g},97560:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(u,h,l,o,d,v,c,p){var y=a(l,o,d,v,c,p);y.forEach(u,h)};n.exports=g},43305:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(30003),u=s(9474),h=s(14018),l=s(29747),o=s(54503),d=function(v){return v===a.ORTHOGONAL?g:v===a.HEXAGONAL?u:v===a.STAGGERED?o:v===a.ISOMETRIC?h:l};n.exports=d},7423:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62991),g=function(u,h,l,o){if(l===void 0&&(l=!1),a(u,h,o)){var d=o.data[h][u]||null;return d?d.index===-1?l?d:null:d:null}else return null};n.exports=g},60540:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7423),g=s(26099),u=new g,h=function(l,o,d,v,c){return c.tilemapLayer.worldToTileXY(l,o,!0,u,v),a(u.x,u.y,d,c)};n.exports=h},55826:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o){var d=o.baseTileWidth,v=o.baseTileHeight,c=o.tilemapLayer,p=0,y=0;c&&(l||(l=c.scene.cameras.main),p=c.x+l.scrollX*(1-c.scrollFactorX),y=c.y+l.scrollY*(1-c.scrollFactorY),d*=c.scaleX,v*=c.scaleY);var m=p+u*d,C=y+h*v;return[new a(m,C),new a(m+d,C),new a(m+d,C+v),new a(m,C+v)]};n.exports=g},11758:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(27229),u=s(29747),h=s(55826),l=function(o){return o===a.ORTHOGONAL?h:o===a.ISOMETRIC?u:o===a.HEXAGONAL?g:(o===a.STAGGERED,u)};n.exports=l},39167:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(29747),u=s(97281),h=function(l){return l===a.ORTHOGONAL?u:g};n.exports=h},62e3:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(19951),u=s(14127),h=s(29747),l=s(97202),o=s(70326),d=function(v){return v===a.ORTHOGONAL?o:v===a.ISOMETRIC?u:v===a.HEXAGONAL?g:v===a.STAGGERED?l:h};n.exports=d},5984:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(29747),u=s(28054),h=s(29650),l=function(o){return o===a.ORTHOGONAL?h:o===a.STAGGERED?u:g};n.exports=l},7386:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(u,h,l,o,d,v){u===void 0&&(u=0),h===void 0&&(h=0),l===void 0&&(l=v.width),o===void 0&&(o=v.height),d||(d={});var c=a(d,"isNotEmpty",!1),p=a(d,"isColliding",!1),y=a(d,"hasInterestingFace",!1);u<0&&(l+=u,u=0),h<0&&(o+=h,h=0),u+l>v.width&&(l=Math.max(v.width-u,0)),h+o>v.height&&(o=Math.max(v.height-h,0));for(var m=[],C=h;C<h+o;C++)for(var T=u;T<u+l;T++){var E=v.data[C][T];if(E!==null){if(c&&E.index===-1||p&&!E.collides||y&&!E.hasInterestingFace)continue;m.push(E)}}return m};n.exports=g},91141:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(55738),g=s(7386),u=s(91865),h=s(29747),l=s(26099),o=function(y,m){return u.RectangleToTriangle(m,y)},d=new l,v=new l,c=new l,p=function(y,m,C,T){if(y===void 0)return[];var E=h;y instanceof a.Circle?E=u.CircleToRectangle:y instanceof a.Rectangle?E=u.RectangleToRectangle:y instanceof a.Triangle?E=o:y instanceof a.Line&&(E=u.LineToRectangle),T.tilemapLayer.worldToTileXY(y.left,y.top,!0,v,C);var w=v.x,P=v.y;T.tilemapLayer.worldToTileXY(y.right,y.bottom,!1,c,C);var b=Math.ceil(c.x),M=Math.ceil(c.y),A=Math.max(b-w,1),R=Math.max(M-P,1),L=g(w,P,A,R,m,T),O=T.tileWidth,D=T.tileHeight;T.tilemapLayer&&(O*=T.tilemapLayer.scaleX,D*=T.tilemapLayer.scaleY);for(var I=[],B=new a.Rectangle(0,0,O,D),G=0;G<L.length;G++){var z=L[G];T.tilemapLayer.tileToWorldXY(z.x,z.y,d,C),B.x=d.x,B.y=d.y,E(y,B)&&I.push(z)}return I};n.exports=p},96523:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(26099),u=new g,h=new g,l=function(o,d,v,c,p,y,m){var C=m.tilemapLayer.tilemap._convert.WorldToTileXY;C(o,d,!0,u,y,m);var T=u.x,E=u.y;C(o+v,d+c,!1,h,y,m);var w=Math.ceil(h.x),P=Math.ceil(h.y);return a(T,E,w-T,P-E,p,m)};n.exports=l},96113:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(20242),u=s(10095),h=function(l){return l===a.ORTHOGONAL?u:g};n.exports=h},16926:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(86625),u=s(96897),h=s(29747),l=s(15108),o=s(85896),d=function(v){return v===a.ORTHOGONAL?o:v===a.ISOMETRIC?u:v===a.HEXAGONAL?g:v===a.STAGGERED?l:h};n.exports=d},55762:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=s(20242),u=s(51900),h=s(63288),l=function(o){return o===a.ORTHOGONAL?h:o===a.STAGGERED?u:g};n.exports=l},45091:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62991),g=function(u,h,l){if(a(u,h,l)){var o=l.data[h][u];return o!==null&&o.index>-1}else return!1};n.exports=g},24152:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(45091),g=s(26099),u=new g,h=function(l,o,d,v){v.tilemapLayer.worldToTileXY(l,o,!0,u,d);var c=u.x,p=u.y;return a(c,p,v)};n.exports=h},90454:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63448),g=s(56583),u=function(h,l){var o=h.tilemapLayer.tilemap,d=h.tilemapLayer,v=Math.floor(o.tileWidth*d.scaleX),c=Math.floor(o.tileHeight*d.scaleY),p=h.hexSideLength,y,m,C,T;if(h.staggerAxis==="y"){var E=(c-p)/2+p;y=g(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,m=a(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,C=g(l.worldView.y-d.y,E,0,!0)-d.cullPaddingY,T=a(l.worldView.bottom-d.y,E,0,!0)+d.cullPaddingY}else{var w=(v-p)/2+p;y=g(l.worldView.x-d.x,w,0,!0)-d.cullPaddingX,m=a(l.worldView.right-d.x,w,0,!0)+d.cullPaddingX,C=g(l.worldView.y-d.y,c,0,!0)-d.cullPaddingY,T=a(l.worldView.bottom-d.y,c,0,!0)+d.cullPaddingY}return{left:y,right:m,top:C,bottom:T}};n.exports=u},9474:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(90454),g=s(32483),u=function(h,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var v=h.tilemapLayer,c=a(h,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(c.left=0,c.right=h.width,c.top=0,c.bottom=h.height),g(h,c,d,o),o};n.exports=u},27229:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19951),g=s(26099),u=new g,h=function(l,o,d,v){var c=v.baseTileWidth,p=v.baseTileHeight,y=v.tilemapLayer;y&&(c*=y.scaleX,p*=y.scaleY);var m=a(l,o,u,d,v),C=[],T=.5773502691896257,E,w;v.staggerAxis==="y"?(E=T*c,w=p/2):(E=c/2,w=T*p);for(var P=0;P<6;P++){var b=2*Math.PI*(.5-P)/6;C.push(new g(m.x+E*Math.cos(b),m.y+w*Math.sin(b)))}return C};n.exports=h},19951:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d){l||(l=new a);var v=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer,y=0,m=0;p&&(o||(o=p.scene.cameras.main),y=p.x+o.scrollX*(1-p.scrollFactorX),m=p.y+o.scrollY*(1-p.scrollFactorY),v*=p.scaleX,c*=p.scaleY);var C=v/2,T=c/2,E,w;return d.staggerAxis==="y"?(E=y+v*u+v,w=m+1.5*h*T+T,h%2===0&&(this.staggerIndex==="odd"?E-=C:E+=C)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(E=y+1.5*u*C+C,w=m+c*u+c,u%2===0&&(this.staggerIndex==="odd"?w-=T:w+=T)),l.set(E,w)};n.exports=g},86625:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d,v){o||(o=new a);var c=v.baseTileWidth,p=v.baseTileHeight,y=v.tilemapLayer;y&&(d||(d=y.scene.cameras.main),u=u-(y.x+d.scrollX*(1-y.scrollFactorX)),h=h-(y.y+d.scrollY*(1-y.scrollFactorY)),c*=y.scaleX,p*=y.scaleY);var m=.5773502691896257,C=-.3333333333333333,T=0,E=.6666666666666666,w=c/2,P=p/2,b,M,A,R,L;v.staggerAxis==="y"?(b=(u-w)/(m*c),M=(h-P)/P,A=m*b+C*M,R=T*b+E*M):(b=(u-w)/w,M=(h-P)/(m*p),A=C*b+m*M,R=E*b+T*M),L=-A-R;var O=Math.round(A),D=Math.round(R),I=Math.round(L),B=Math.abs(O-A),G=Math.abs(D-R),z=Math.abs(I-L);B>G&&B>z?O=-D-I:G>z&&(D=-O-I);var Y,H=D;return v.staggerIndex==="odd"?Y=H%2===0?D/2+O:D/2+O-.5:Y=H%2===0?D/2+O:D/2+O+.5,o.set(Y,H)};n.exports=g},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s>=0&&s<g.width&&a>=0&&a<g.height};n.exports=x},14018:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33528),g=function(u,h,l,o){l===void 0&&(l=[]),o===void 0&&(o=0),l.length=0;var d=u.tilemapLayer,v=u.data,c=u.width,p=u.height,y=d.skipCull,m=0,C=c,T=0,E=p,w,P,b;if(o===0)for(P=T;P<E;P++)for(w=m;w<C;w++)b=v[P][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!y&&!a(w,P,u,h)||l.push(b));else if(o===1)for(P=T;P<E;P++)for(w=C;w>=m;w--)b=v[P][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!y&&!a(w,P,u,h)||l.push(b));else if(o===2)for(P=E;P>=T;P--)for(w=m;w<C;w++)b=v[P][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!y&&!a(w,P,u,h)||l.push(b));else if(o===3)for(P=E;P>=T;P--)for(w=C;w>=m;w--)b=v[P][w],!(!b||b.index===-1||!b.visible||b.alpha===0)&&(!y&&!a(w,P,u,h)||l.push(b));return d.tilesDrawn=l.length,d.tilesTotal=c*p,l};n.exports=g},14127:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d){l||(l=new a);var v=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer,y=0,m=0;p&&(o||(o=p.scene.cameras.main),y=p.x+o.scrollX*(1-p.scrollFactorX),v*=p.scaleX,m=p.y+o.scrollY*(1-p.scrollFactorY),c*=p.scaleY);var C=y+(u-h)*(v/2),T=m+(u+h)*(c/2);return l.set(C,T)};n.exports=g},96897:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d,v,c){o||(o=new a);var p=v.baseTileWidth,y=v.baseTileHeight,m=v.tilemapLayer;m&&(d||(d=m.scene.cameras.main),h=h-(m.y+d.scrollY*(1-m.scrollFactorY)),y*=m.scaleY,u=u-(m.x+d.scrollX*(1-m.scrollFactorX)),p*=m.scaleX);var C=p/2,T=y/2;u=u-C,c||(h=h-y);var E=.5*(u/C+h/T),w=.5*(-u/C+h/T);return l&&(E=Math.floor(E),w=Math.floor(w)),o.set(E,w)};n.exports=g},71558:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23029),g=s(62991),u=s(72023),h=s(20576),l=function(o,d,v,c,p){if(c===void 0&&(c=!0),!g(d,v,p))return null;var y,m=p.data[v][d],C=m&&m.collides;o instanceof a?(p.data[v][d]===null&&(p.data[v][d]=new a(p,o.index,d,v,p.tileWidth,p.tileHeight)),p.data[v][d].copy(o)):(y=o,p.data[v][d]===null?p.data[v][d]=new a(p,y,d,v,p.tileWidth,p.tileHeight):p.data[v][d].index=y);var T=p.data[v][d],E=p.collideIndexes.indexOf(T.index)!==-1;if(y=o instanceof a?o.index:o,y===-1)T.width=p.tileWidth,T.height=p.tileHeight;else{var w=p.tilemapLayer.tilemap,P=w.tiles,b=P[y][2],M=w.tilesets[b];T.width=M.tileWidth,T.height=M.tileHeight}return h(T,E),c&&C!==T.collides&&u(d,v,p),T};n.exports=l},26303:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(71558),g=s(26099),u=new g,h=function(l,o,d,v,c,p){return p.tilemapLayer.worldToTileXY(o,d,!0,u,c,p),a(l,u.x,u.y,v,p)};n.exports=h},14051:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(42573),g=s(71558),u=function(h,l,o,d,v){if(d===void 0&&(d=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var c=h.length,p=h[0].length,y=0;y<c;y++)for(var m=0;m<p;m++){var C=h[y][m];g(C,l+m,o+y,!1,v)}d&&a(l-1,o-1,p+2,c+2,v)};n.exports=u},77389:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(26546),u=function(h,l,o,d,v,c){var p,y=a(h,l,o,d,{},c);if(!v)for(v=[],p=0;p<y.length;p++)v.indexOf(y[p].index)===-1&&v.push(y[p].index);for(p=0;p<y.length;p++)y[p].index=g(v)};n.exports=u},63557:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(23029),g=s(62991),u=s(72023),h=function(l,o,d,v,c){if(d===void 0&&(d=!0),v===void 0&&(v=!0),!g(l,o,c))return null;var p=c.data[o][l];if(p)c.data[o][l]=d?null:new a(c,-1,l,o,c.tileWidth,c.tileHeight);else return null;return v&&p&&p.collides&&u(l,o,c),p};n.exports=h},94178:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63557),g=s(26099),u=new g,h=function(l,o,d,v,c,p){return p.tilemapLayer.worldToTileXY(l,o,!0,u,c,p),a(u.x,u.y,d,v,p)};n.exports=h},15533:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(3956),u=new g(105,210,231,150),h=new g(243,134,48,200),l=new g(40,39,37,150),o=function(d,v,c){v===void 0&&(v={});var p=v.tileColor!==void 0?v.tileColor:u,y=v.collidingTileColor!==void 0?v.collidingTileColor:h,m=v.faceColor!==void 0?v.faceColor:l,C=a(0,0,c.width,c.height,null,c);d.translateCanvas(c.tilemapLayer.x,c.tilemapLayer.y),d.scaleCanvas(c.tilemapLayer.scaleX,c.tilemapLayer.scaleY);for(var T=0;T<C.length;T++){var E=C[T],w=E.width,P=E.height,b=E.pixelX,M=E.pixelY,A=E.collides?y:p;A!==null&&(d.fillStyle(A.color,A.alpha/255),d.fillRect(b,M,w,P)),b+=1,M+=1,w-=2,P-=2,m!==null&&(d.lineStyle(1,m.color,m.alpha/255),E.faceTop&&d.lineBetween(b,M,b+w,M),E.faceRight&&d.lineBetween(b+w,M,b+w,M+P),E.faceBottom&&d.lineBetween(b,M+P,b+w,M+P),E.faceLeft&&d.lineBetween(b,M,b,M+P))}};n.exports=o},27987:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(u,h,l,o,d,v,c){for(var p=a(l,o,d,v,null,c),y=0;y<p.length;y++)p[y]&&p[y].index===u&&(p[y].index=h)};n.exports=g},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=s.data,l=s.width,o=s.height,d=s.tilemapLayer,v=Math.max(0,a.left),c=Math.min(l,a.right),p=Math.max(0,a.top),y=Math.min(o,a.bottom),m,C,T;if(g===0)for(C=p;C<y;C++)for(m=v;h[C]&&m<c;m++)T=h[C][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&u.push(T);else if(g===1)for(C=p;C<y;C++)for(m=c;h[C]&&m>=v;m--)T=h[C][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&u.push(T);else if(g===2)for(C=y;C>=p;C--)for(m=v;h[C]&&m<c;m++)T=h[C][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&u.push(T);else if(g===3)for(C=y;C>=p;C--)for(m=c;h[C]&&m>=v;m--)T=h[C][m],!(!T||T.index===-1||!T.visible||T.alpha===0)&&u.push(T);return d.tilesDrawn=u.length,d.tilesTotal=l*o,u};n.exports=x},57068:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),u=s(9589),h=function(l,o,d,v,c){o===void 0&&(o=!0),d===void 0&&(d=!0),c===void 0&&(c=!0),Array.isArray(l)||(l=[l]);for(var p=0;p<l.length;p++)u(l[p],o,v);if(c)for(var y=0;y<v.height;y++)for(var m=0;m<v.width;m++){var C=v.data[y][m];C&&l.indexOf(C.index)!==-1&&a(C,o)}d&&g(0,0,v.width,v.height,v)};n.exports=h},37266:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),u=s(9589),h=function(l,o,d,v,c,p){if(d===void 0&&(d=!0),v===void 0&&(v=!0),p===void 0&&(p=!0),!(l>o)){for(var y=l;y<=o;y++)u(y,d,c);if(p)for(var m=0;m<c.height;m++)for(var C=0;C<c.width;C++){var T=c.data[m][C];T&&T.index>=l&&T.index<=o&&a(T,d)}v&&g(0,0,c.width,c.height,c)}};n.exports=h},75661:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),u=s(9589),h=function(l,o,d,v){o===void 0&&(o=!0),d===void 0&&(d=!0),Array.isArray(l)||(l=[l]);for(var c=0;c<v.height;c++)for(var p=0;p<v.width;p++){var y=v.data[c][p];y&&l.indexOf(y.index)===-1&&(a(y,o),u(y.index,o,v))}d&&g(0,0,v.width,v.height,v)};n.exports=h},64740:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),u=s(97022),h=function(l,o,d,v){o===void 0&&(o=!0),d===void 0&&(d=!0);for(var c=0;c<v.height;c++)for(var p=0;p<v.width;p++){var y=v.data[c][p];if(y){for(var m in l)if(u(y.properties,m)){var C=l[m];Array.isArray(C)||(C=[C]);for(var T=0;T<C.length;T++)y.properties[m]===C[T]&&a(y,o)}}}d&&g(0,0,v.width,v.height,v)};n.exports=h},63307:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(20576),g=s(42573),u=function(h,l,o){h===void 0&&(h=!0),l===void 0&&(l=!0);for(var d=0;d<o.height;d++)for(var v=0;v<o.width;v++){var c=o.data[d][v];if(c){var p=c.getCollisionGroup();p&&p.objects&&p.objects.length>0&&a(c,h)}}l&&g(0,0,o.width,o.height,o)};n.exports=u},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=g.collideIndexes.indexOf(s);a&&u===-1?g.collideIndexes.push(s):!a&&u!==-1&&g.collideIndexes.splice(u,1)};n.exports=x},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a?s.setCollision(!0,!0,!0,!0,!1):s.resetCollision(!1)};n.exports=x},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){if(typeof s=="number")u.callbacks[s]=a!==null?{callback:a,callbackContext:g}:void 0;else for(var h=0,l=s.length;h<l;h++)u.callbacks[s[h]]=a!==null?{callback:a,callbackContext:g}:void 0};n.exports=x},93254:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(u,h,l,o,d,v,c){for(var p=a(u,h,l,o,null,c),y=0;y<p.length;y++)p[y].setCollisionCallback(d,v)};n.exports=g},32903:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(33680),u=function(h,l,o,d,v){var c=a(h,l,o,d,null,v),p=c.map(function(m){return m.index});g(p);for(var y=0;y<c.length;y++)c[y].index=p[y]};n.exports=u},61325:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(63448),g=s(56583),u=function(h,l){var o=h.tilemapLayer.tilemap,d=h.tilemapLayer,v=Math.floor(o.tileWidth*d.scaleX),c=Math.floor(o.tileHeight*d.scaleY),p=g(l.worldView.x-d.x,v,0,!0)-d.cullPaddingX,y=a(l.worldView.right-d.x,v,0,!0)+d.cullPaddingX,m=g(l.worldView.y-d.y,c/2,0,!0)-d.cullPaddingY,C=a(l.worldView.bottom-d.y,c/2,0,!0)+d.cullPaddingY;return{left:p,right:y,top:m,bottom:C}};n.exports=u},54503:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(61325),g=s(32483),u=function(h,l,o,d){o===void 0&&(o=[]),d===void 0&&(d=0),o.length=0;var v=h.tilemapLayer,c=a(h,l);return v.skipCull&&v.scrollFactorX===1&&v.scrollFactorY===1&&(c.left=0,c.right=h.width,c.top=0,c.bottom=h.height),g(h,c,d,o),o};n.exports=u},97202:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d){l||(l=new a);var v=d.baseTileWidth,c=d.baseTileHeight,p=d.tilemapLayer,y=0,m=0;p&&(o||(o=p.scene.cameras.main),y=p.x+o.scrollX*(1-p.scrollFactorX),v*=p.scaleX,m=p.y+o.scrollY*(1-p.scrollFactorY),c*=p.scaleY);var C=y+u*v+h%2*(v/2),T=m+h*(c/2);return l.set(C,T)};n.exports=g},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=g.baseTileHeight,h=g.tilemapLayer,l=0;return h&&(a===void 0&&(a=h.scene.cameras.main),l=h.y+a.scrollY*(1-h.scrollFactorY),u*=h.scaleY),l+s*(u/2)+u};n.exports=x},15108:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d,v){o||(o=new a);var c=v.baseTileWidth,p=v.baseTileHeight,y=v.tilemapLayer;y&&(d||(d=y.scene.cameras.main),h=h-(y.y+d.scrollY*(1-y.scrollFactorY)),p*=y.scaleY,u=u-(y.x+d.scrollX*(1-y.scrollFactorX)),c*=y.scaleX);var m=l?Math.floor(h/(p/2)):h/(p/2),C=l?Math.floor((u+m%2*.5*c)/c):(u+m%2*.5*c)/c;return o.set(C,m)};n.exports=g},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=u.baseTileHeight,l=u.tilemapLayer;return l&&(g||(g=l.scene.cameras.main),s=s-(l.y+g.scrollY*(1-l.scrollFactorY)),h*=l.scaleY),a?Math.floor(s/(h/2)):s/(h/2)};n.exports=x},86560:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=function(u,h,l,o,d,v,c){for(var p=a(l,o,d,v,null,c),y=0;y<p.length;y++)p[y]&&(p[y].index===u?p[y].index=h:p[y].index===h&&(p[y].index=u))};n.exports=g},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=g.baseTileWidth,h=g.tilemapLayer,l=0;return h&&(a||(a=h.scene.cameras.main),l=h.x+a.scrollX*(1-h.scrollFactorX),u*=h.scaleX),l+s*u};n.exports=x},70326:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97281),g=s(29650),u=s(26099),h=function(l,o,d,v,c){return d||(d=new u(0,0)),d.x=a(l,v,c),d.y=g(o,v,c),d};n.exports=h},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=g.baseTileHeight,h=g.tilemapLayer,l=0;return h&&(a||(a=h.scene.cameras.main),l=h.y+a.scrollY*(1-h.scrollFactorY),u*=h.scaleY),l+s*u};n.exports=x},77366:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(7386),g=s(75508),u=function(h,l,o,d,v,c){if(v){var p,y=a(h,l,o,d,null,c),m=0;for(p=0;p<v.length;p++)m+=v[p].weight;if(!(m<=0))for(p=0;p<y.length;p++){for(var C=g.RND.frac()*m,T=0,E=-1,w=0;w<v.length;w++)if(T+=v[w].weight,C<=T){var P=v[w].index;E=Array.isArray(P)?P[Math.floor(g.RND.frac()*P.length)]:P;break}y[p].index=E}}};n.exports=u},10095:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85896),g=s(26099),u=new g,h=function(l,o,d,v){return a(l,0,o,u,d,v),u.x};n.exports=h},85896:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(26099),g=function(u,h,l,o,d,v){l===void 0&&(l=!0),o||(o=new a);var c=v.baseTileWidth,p=v.baseTileHeight,y=v.tilemapLayer;y&&(d||(d=y.scene.cameras.main),u=u-(y.x+d.scrollX*(1-y.scrollFactorX)),h=h-(y.y+d.scrollY*(1-y.scrollFactorY)),c*=y.scaleX,p*=y.scaleY);var m=u/c,C=h/p;return l&&(m=Math.floor(m),C=Math.floor(C)),o.set(m,C)};n.exports=g},63288:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(85896),g=s(26099),u=new g,h=function(l,o,d,v){return a(0,l,o,u,d,v),u.y};n.exports=h},81086:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:s(72023),CalculateFacesWithin:s(42573),CheckIsoBounds:s(33528),Copy:s(1785),CreateFromTiles:s(78419),CullBounds:s(19545),CullTiles:s(30003),Fill:s(35137),FilterTiles:s(40253),FindByIndex:s(52692),FindTile:s(66151),ForEachTile:s(97560),GetCullTilesFunction:s(43305),GetTileAt:s(7423),GetTileAtWorldXY:s(60540),GetTileCorners:s(55826),GetTileCornersFunction:s(11758),GetTilesWithin:s(7386),GetTilesWithinShape:s(91141),GetTilesWithinWorldXY:s(96523),GetTileToWorldXFunction:s(39167),GetTileToWorldXYFunction:s(62e3),GetTileToWorldYFunction:s(5984),GetWorldToTileXFunction:s(96113),GetWorldToTileXYFunction:s(16926),GetWorldToTileYFunction:s(55762),HasTileAt:s(45091),HasTileAtWorldXY:s(24152),HexagonalCullBounds:s(90454),HexagonalCullTiles:s(9474),HexagonalGetTileCorners:s(27229),HexagonalTileToWorldXY:s(19951),HexagonalWorldToTileXY:s(86625),IsInLayerBounds:s(62991),IsometricCullTiles:s(14018),IsometricTileToWorldXY:s(14127),IsometricWorldToTileXY:s(96897),PutTileAt:s(71558),PutTileAtWorldXY:s(26303),PutTilesAt:s(14051),Randomize:s(77389),RemoveTileAt:s(63557),RemoveTileAtWorldXY:s(94178),RenderDebug:s(15533),ReplaceByIndex:s(27987),RunCull:s(32483),SetCollision:s(57068),SetCollisionBetween:s(37266),SetCollisionByExclusion:s(75661),SetCollisionByProperty:s(64740),SetCollisionFromCollisionGroup:s(63307),SetLayerCollisionIndex:s(9589),SetTileCollision:s(20576),SetTileIndexCallback:s(79583),SetTileLocationCallback:s(93254),Shuffle:s(32903),StaggeredCullBounds:s(61325),StaggeredCullTiles:s(54503),StaggeredTileToWorldXY:s(97202),StaggeredTileToWorldY:s(28054),StaggeredWorldToTileXY:s(15108),StaggeredWorldToTileY:s(51900),SwapByIndex:s(86560),TileToWorldX:s(97281),TileToWorldXY:s(70326),TileToWorldY:s(29650),WeightedRandomize:s(77366),WorldToTileX:s(10095),WorldToTileXY:s(85896),WorldToTileY:s(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:s(91907)};n.exports=a},62501:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=s(21829),u={Components:s(81086),Parsers:s(57442),Formats:s(80341),ImageCollection:s(16536),ParseToTilemap:s(31989),Tile:s(23029),Tilemap:s(49075),TilemapCreator:s(45939),TilemapFactory:s(46029),Tileset:s(33629),TilemapLayer:s(20442),Orientation:s(91907),LayerData:s(14977),MapData:s(87010),ObjectLayer:s(48700)};u=a(!1,u,g.ORIENTATION),n.exports=u},14977:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(91907),u=s(95540),h=new a({initialize:function(o){o===void 0&&(o={}),this.name=u(o,"name","layer"),this.id=u(o,"id",0),this.x=u(o,"x",0),this.y=u(o,"y",0),this.width=u(o,"width",0),this.height=u(o,"height",0),this.tileWidth=u(o,"tileWidth",0),this.tileHeight=u(o,"tileHeight",0),this.baseTileWidth=u(o,"baseTileWidth",this.tileWidth),this.baseTileHeight=u(o,"baseTileHeight",this.tileHeight),this.orientation=u(o,"orientation",g.ORTHOGONAL),this.widthInPixels=u(o,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=u(o,"heightInPixels",this.height*this.baseTileHeight),this.alpha=u(o,"alpha",1),this.visible=u(o,"visible",!0),this.properties=u(o,"properties",[]),this.indexes=u(o,"indexes",[]),this.collideIndexes=u(o,"collideIndexes",[]),this.callbacks=u(o,"callbacks",[]),this.bodies=u(o,"bodies",[]),this.data=u(o,"data",[]),this.tilemapLayer=u(o,"tilemapLayer",null),this.hexSideLength=u(o,"hexSideLength",0),this.staggerAxis=u(o,"staggerAxis","y"),this.staggerIndex=u(o,"staggerIndex","odd")}});n.exports=h},87010:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(91907),u=s(95540),h=new a({initialize:function(o){o===void 0&&(o={}),this.name=u(o,"name","map"),this.width=u(o,"width",0),this.height=u(o,"height",0),this.infinite=u(o,"infinite",!1),this.tileWidth=u(o,"tileWidth",0),this.tileHeight=u(o,"tileHeight",0),this.widthInPixels=u(o,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=u(o,"heightInPixels",this.height*this.tileHeight),this.format=u(o,"format",null),this.orientation=u(o,"orientation",g.ORTHOGONAL),this.renderOrder=u(o,"renderOrder","right-down"),this.version=u(o,"version","1"),this.properties=u(o,"properties",{}),this.layers=u(o,"layers",[]),this.images=u(o,"images",[]),this.objects=u(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=u(o,"collision",{}),this.tilesets=u(o,"tilesets",[]),this.imageCollections=u(o,"imageCollections",[]),this.tiles=u(o,"tiles",[]),this.hexSideLength=u(o,"hexSideLength",0),this.staggerAxis=u(o,"staggerAxis","y"),this.staggerIndex=u(o,"staggerIndex","odd")}});n.exports=h},48700:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=new a({initialize:function(l){l===void 0&&(l={}),this.name=g(l,"name","object layer"),this.id=g(l,"id",0),this.opacity=g(l,"opacity",1),this.properties=g(l,"properties",{}),this.propertyTypes=g(l,"propertytypes",{}),this.type=g(l,"type","objectgroup"),this.visible=g(l,"visible",!0),this.objects=g(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=u},6641:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(91907),g=function(u){return u=u.toLowerCase(),u==="isometric"?a.ISOMETRIC:u==="staggered"?a.STAGGERED:u==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};n.exports=g},46177:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(2342),u=s(82593),h=s(46594),l=s(87021),o=function(d,v,c,p,y,m){var C;switch(v){case a.ARRAY_2D:C=g(d,c,p,y,m);break;case a.CSV:C=u(d,c,p,y,m);break;case a.TILED_JSON:C=h(d,c,m);break;case a.WELTMEISTER:C=l(d,c,m);break;default:console.warn("Unrecognized tilemap data format: "+v),C=null}return C};n.exports=o},2342:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(14977),u=s(87010),h=s(23029),l=function(o,d,v,c,p){for(var y=new g({tileWidth:v,tileHeight:c}),m=new u({name:o,tileWidth:v,tileHeight:c,format:a.ARRAY_2D,layers:[y]}),C=[],T=d.length,E=0,w=0;w<d.length;w++){C[w]=[];for(var P=d[w],b=0;b<P.length;b++){var M=parseInt(P[b],10);isNaN(M)||M===-1?C[w][b]=p?null:new h(y,-1,b,w,v,c):C[w][b]=new h(y,M,b,w,v,c)}E===0&&(E=P.length)}return m.width=y.width=E,m.height=y.height=T,m.widthInPixels=y.widthInPixels=E*v,m.heightInPixels=y.heightInPixels=T*c,y.data=C,m};n.exports=l},82593:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(2342),u=function(h,l,o,d,v){var c=l.trim().split(`
`).map(function(y){return y.split(",")}),p=g(h,c,o,d,v);return p.format=a.CSV,p};n.exports=u},6656:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(14977),g=s(23029),u=function(h,l){for(var o=[],d=0;d<h.layer.length;d++){for(var v=h.layer[d],c=new a({name:v.name,width:v.width,height:v.height,tileWidth:v.tilesize,tileHeight:v.tilesize,visible:v.visible===1}),p=[],y=[],m=0;m<v.data.length;m++){for(var C=0;C<v.data[m].length;C++){var T=v.data[m][C]-1,E;T>-1?E=new g(c,T,C,m,v.tilesize,v.tilesize):E=l?null:new g(c,-1,C,m,v.tilesize,v.tilesize),p.push(E)}y.push(p),p=[]}c.data=y,o.push(c)}return o};n.exports=u},96483:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33629),g=function(u){for(var h=[],l=[],o=0;o<u.layer.length;o++){var d=u.layer[o],v=d.tilesetName;v!==""&&l.indexOf(v)===-1&&(l.push(v),h.push(new a(v,0,d.tilesize,d.tilesize,0,0)))}return h};n.exports=g},87021:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(80341),g=s(87010),u=s(6656),h=s(96483),l=function(o,d,v){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+o),null;for(var c=0,p=0,y=0;y<d.layer.length;y++)d.layer[y].width>c&&(c=d.layer[y].width),d.layer[y].height>p&&(p=d.layer[y].height);var m=new g({width:c,height:p,name:o,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:a.WELTMEISTER});return m.layers=u(d,v),m.tilesets=h(d),m};n.exports=l},52833:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:s(6656),ParseTilesets:s(96483),ParseWeltmeister:s(87021)}},57442:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:s(6641),Parse:s(46177),Parse2DArray:s(2342),ParseCSV:s(82593),Impact:s(52833),Tiled:s(96761)}},51233:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(79291),g=function(u){for(var h,l,o,d,v,c=0;c<u.layers.length;c++){h=u.layers[c],d=null;for(var p=0;p<h.data.length;p++){v=h.data[p];for(var y=0;y<v.length;y++)l=v[y],!(l===null||l.index<0)&&(o=u.tiles[l.index][2],d=u.tilesets[o],l.width=d.tileWidth,l.height=d.tileHeight,d.tileProperties&&d.tileProperties[l.index-d.firstgid]&&(l.properties=a(l.properties,d.tileProperties[l.index-d.firstgid])))}}};n.exports=g},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=window.atob(s),g=a.length,u=new Array(g/4),h=0;h<g;h+=4)u[h/4]=(a.charCodeAt(h)|a.charCodeAt(h+1)<<8|a.charCodeAt(h+2)<<16|a.charCodeAt(h+3)<<24)>>>0;return u};n.exports=x},84101:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33629),g=function(u){var h,l,o=[];for(h=0;h<u.imageCollections.length;h++)for(var d=u.imageCollections[h],v=d.images,c=0;c<v.length;c++){var p=v[c];l=new a(p.image,p.gid,d.imageWidth,d.imageHeight,0,0),l.updateTileData(d.imageWidth,d.imageHeight),u.tilesets.push(l)}for(h=0;h<u.tilesets.length;h++){l=u.tilesets[h];for(var y=l.tileMargin,m=l.tileMargin,C=0,T=0,E=0,w=l.firstgid;w<l.firstgid+l.total&&(o[w]=[y,m,h],y+=l.tileWidth+l.tileSpacing,C++,!(C===l.total||(T++,T===l.columns&&(y=l.tileMargin,m+=l.tileHeight+l.tileSpacing,T=0,E++,E===l.rows))));w++);}return o};n.exports=g},79677:(n,x,s)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=function(u,h,l){if(!h)return{i:0,layers:u.layers,name:"",opacity:1,visible:!0,x:0,y:0};var o=h.x+a(h,"startx",0)*u.tilewidth+a(h,"offsetx",0),d=h.y+a(h,"starty",0)*u.tileheight+a(h,"offsety",0);return{i:0,layers:h.layers,name:l.name+h.name+"/",opacity:l.opacity*h.opacity,visible:l.visible&&h.visible,x:l.x+o,y:l.y+d}};n.exports=g},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=2147483648,s=1073741824,a=536870912,g=function(u){var h=!!(u&x),l=!!(u&s),o=!!(u&a);u=u&~(x|s|a);var d=0,v=!1;return h&&l&&o?(d=Math.PI/2,v=!0):h&&l&&!o?(d=Math.PI,v=!1):h&&!l&&o?(d=Math.PI/2,v=!1):h&&!l&&!o?(d=0,v=!0):!h&&l&&o?(d=3*Math.PI/2,v=!1):!h&&l&&!o?(d=Math.PI,v=!0):!h&&!l&&o?(d=3*Math.PI/2,v=!0):!h&&!l&&!o&&(d=0,v=!1),{gid:u,flippedHorizontal:h,flippedVertical:l,flippedAntiDiagonal:o,rotation:d,flipped:v}};n.exports=g},12635:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=s(79677),u=function(h){for(var l=[],o=[],d=g(h);d.i<d.layers.length||o.length>0;){if(d.i>=d.layers.length){if(o.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=o.pop();continue}var v=d.layers[d.i];if(d.i++,v.type!=="imagelayer"){if(v.type==="group"){var c=g(h,v,d);o.push(d),d=c}continue}var p=a(v,"offsetx",0)+a(v,"startx",0),y=a(v,"offsety",0)+a(v,"starty",0);l.push({name:d.name+v.name,image:v.image,x:d.x+p+v.x,y:d.y+y+v.y,alpha:d.opacity*v.opacity,visible:d.visible&&v.visible,properties:a(v,"properties",{})})}return l};n.exports=u},46594:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(51233),g=s(84101),u=s(91907),h=s(62644),l=s(80341),o=s(6641),d=s(87010),v=s(12635),c=s(22611),p=s(28200),y=s(24619),m=function(C,T,E){var w=h(T),P=new d({width:w.width,height:w.height,name:C,tileWidth:w.tilewidth,tileHeight:w.tileheight,orientation:o(w.orientation),format:l.TILED_JSON,version:w.version,properties:w.properties,renderOrder:w.renderorder,infinite:w.infinite});P.orientation===u.HEXAGONAL&&(P.hexSideLength=w.hexsidelength,P.staggerAxis=w.staggeraxis,P.staggerIndex=w.staggerindex),P.layers=p(w,E),P.images=v(w);var b=y(w);return P.tilesets=b.tilesets,P.imageCollections=b.imageCollections,P.objects=c(w),P.tiles=g(P),a(P),P};n.exports=m},52205:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(18254),g=s(29920),u=function(o){return{x:o.x,y:o.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(o,d,v){d===void 0&&(d=0),v===void 0&&(v=0);var c=a(o,h);if(c.x+=d,c.y+=v,o.gid){var p=g(o.gid);c.gid=p.gid,c.flippedHorizontal=p.flippedHorizontal,c.flippedVertical=p.flippedVertical,c.flippedAntiDiagonal=p.flippedAntiDiagonal}else o.polyline?c.polyline=o.polyline.map(u):o.polygon?c.polygon=o.polygon.map(u):o.ellipse?c.ellipse=o.ellipse:o.text?c.text=o.text:o.point?c.point=!0:c.rectangle=!0;return c};n.exports=l},22611:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95540),g=s(52205),u=s(48700),h=s(79677),l=function(o){for(var d=[],v=[],c=h(o);c.i<c.layers.length||v.length>0;){if(c.i>=c.layers.length){if(v.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}c=v.pop();continue}var p=c.layers[c.i];if(c.i++,p.opacity*=c.opacity,p.visible=c.visible&&p.visible,p.type!=="objectgroup"){if(p.type==="group"){var y=h(o,p,c);v.push(c),c=y}continue}p.name=c.name+p.name;for(var m=c.x+a(p,"startx",0)+a(p,"offsetx",0),C=c.y+a(p,"starty",0)+a(p,"offsety",0),T=[],E=0;E<p.objects.length;E++){var w=g(p.objects[E],m,C);T.push(w)}var P=new u(p);P.objects=T,d.push(P)}return d};n.exports=l},28200:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41868),g=s(91907),u=s(79677),h=s(6641),l=s(95540),o=s(14977),d=s(29920),v=s(23029),c=function(p,y){for(var m=l(p,"infinite",!1),C=[],T=[],E=u(p);E.i<E.layers.length||T.length>0;){if(E.i>=E.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}E=T.pop();continue}var w=E.layers[E.i];if(E.i++,w.type!=="tilelayer"){if(w.type==="group"){var P=u(p,w,E);T.push(E),E=P}continue}if(w.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+w.name+"'");continue}else if(w.encoding&&w.encoding==="base64"){if(w.chunks)for(var b=0;b<w.chunks.length;b++)w.chunks[b].data=a(w.chunks[b].data);w.data&&(w.data=a(w.data)),delete w.encoding}var M,A,R,L,O=[],D=0;if(m){var I=l(w,"startx",0)+w.x,B=l(w,"starty",0)+w.y;M=new o({name:E.name+w.name,id:w.id,x:E.x+l(w,"offsetx",0)+I*p.tilewidth,y:E.y+l(w,"offsety",0)+B*p.tileheight,width:w.width,height:w.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:E.opacity*w.opacity,visible:E.visible&&w.visible,properties:l(w,"properties",[]),orientation:h(p.orientation)}),M.orientation===g.HEXAGONAL&&(M.hexSideLength=p.hexsidelength,M.staggerAxis=p.staggeraxis,M.staggerIndex=p.staggerindex);for(var G=0;G<w.height;G++){O[G]=[null];for(var z=0;z<w.width;z++)O[G][z]=null}for(G=0,Q=w.chunks.length;G<Q;G++)for(var Y=w.chunks[G],H=Y.x-I,k=Y.y-B,U=0,F=0,N=Y.data.length;F<N;F++){var V=D+H,$=U+k;A=d(Y.data[F]),A.gid>0?(R=new v(M,A.gid,V,$,p.tilewidth,p.tileheight),R.rotation=A.rotation,R.flipX=A.flipped,O[$][V]=R):(L=y?null:new v(M,-1,V,$,p.tilewidth,p.tileheight),O[$][V]=L),D++,D===Y.width&&(U++,D=0)}}else{M=new o({name:E.name+w.name,id:w.id,x:E.x+l(w,"offsetx",0)+w.x,y:E.y+l(w,"offsety",0)+w.y,width:w.width,height:w.height,tileWidth:p.tilewidth,tileHeight:p.tileheight,alpha:E.opacity*w.opacity,visible:E.visible&&w.visible,properties:l(w,"properties",[]),orientation:h(p.orientation)}),M.orientation===g.HEXAGONAL&&(M.hexSideLength=p.hexsidelength,M.staggerAxis=p.staggeraxis,M.staggerIndex=p.staggerindex);for(var X=[],j=0,Q=w.data.length;j<Q;j++)A=d(w.data[j]),A.gid>0?(R=new v(M,A.gid,D,O.length,p.tilewidth,p.tileheight),R.rotation=A.rotation,R.flipX=A.flipped,X.push(R)):(L=y?null:new v(M,-1,D,O.length,p.tilewidth,p.tileheight),X.push(L)),D++,D===w.width&&(O.push(X),D=0,X=[])}M.data=O,C.push(M)}return C};n.exports=c},24619:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(33629),g=s(16536),u=s(52205),h=s(57880),l=function(o){for(var d=[],v=[],c=null,p,y=0;y<o.tilesets.length;y++){var m=o.tilesets[y];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var C=new a(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(o.version>1){var T=void 0,E=void 0;if(Array.isArray(m.tiles)){T=T||{},E=E||{};for(var w=0;w<m.tiles.length;w++){var P=m.tiles[w];if(P.properties){var b={};P.properties.forEach(function(G){b[G.name]=G.value}),E[P.id]=b}if(P.objectgroup&&((T[P.id]||(T[P.id]={})).objectgroup=P.objectgroup,P.objectgroup.objects)){var M=P.objectgroup.objects.map(function(G){return u(G)});T[P.id].objectgroup.objects=M}P.animation&&((T[P.id]||(T[P.id]={})).animation=P.animation),P.type&&((T[P.id]||(T[P.id]={})).type=P.type)}}Array.isArray(m.wangsets)&&(T=T||{},E=E||{},h(m.wangsets,T)),T&&(C.tileData=T,C.tileProperties=E)}else if(m.tileproperties&&(C.tileProperties=m.tileproperties),m.tiles){C.tileData=m.tiles;for(p in C.tileData){var A=C.tileData[p].objectgroup;if(A&&A.objects){var R=A.objects.map(function(G){return u(G)});C.tileData[p].objectgroup.objects=R}}}C.updateTileData(m.imagewidth,m.imageheight),d.push(C)}else{var L=new g(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),O=0;for(w=0;w<m.tiles.length;w++){P=m.tiles[w];var D=P.image,I=parseInt(P.id,10),B=m.firstgid+I;L.addImage(B,D),O=Math.max(I,O)}L.maxId=O,v.push(L)}c&&(c.lastgid=m.firstgid-1),c=m}return{tilesets:d,imageCollections:v}};n.exports=l},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=0;g<s.length;g++){var u=s[g],h=g;if(u.name&&u.name!==""&&(h=u.name),Array.isArray(u.wangtiles)&&u.wangtiles.length>0){var l={},o={},d,v,c;if(Array.isArray(u.edgecolors))for(d=0;d<u.edgecolors.length;d++)c=1+d,v=u.edgecolors[d],v.name!==""&&(l[c]=v.name);if(Array.isArray(u.cornercolors))for(d=0;d<u.cornercolors.length;d++)c=1+d,v=u.cornercolors[d],v.name!==""&&(o[c]=v.name);if(Array.isArray(u.colors))for(d=0;d<u.colors.length;d++)v=u.colors[d],c=1+d,v.name!==""&&(l[c]=o[c]=v.name);for(var p=[l,o,l,o,l,o,l,o],y=0;y<u.wangtiles.length;y++){var m=u.wangtiles[y],C=a[m.tileid]||(a[m.tileid]={});C=C.wangid||(C.wangid={});for(var T=[],E=0;E<Math.min(p.length,m.wangid.length);E++){if(v=m.wangid[E],v===0){T.push(void 0);continue}var w=p[E][v];if(w!==void 0){T.push(w);continue}T.push(v)}C[h]=T}}}};n.exports=x},96761:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:s(51233),Base64Decode:s(41868),BuildTilesetIndex:s(84101),CreateGroupLayer:s(79677),ParseGID:s(29920),ParseImageLayers:s(12635),ParseJSONTiled:s(46594),ParseObject:s(52205),ParseObjectLayers:s(22611),ParseTileLayers:s(28200),ParseTilesets:s(24619)}},33385:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(37277),u=s(44594),h=s(94880),l=s(72905),o=new a({initialize:function(v){this.scene=v,this.systems=v.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],v.sys.events.once(u.BOOT,this.boot,this),v.sys.events.on(u.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(u.PRE_UPDATE,this.preUpdate,this),d.on(u.UPDATE,this.update,this),d.once(u.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var v;return d instanceof h?(v=d,this.removeEvent(v),v.elapsed=v.startAt,v.hasDispatched=!1,v.repeatCount=v.repeat===-1||v.loop?999999999999:v.repeat):v=new h(d),this._pendingInsertion.push(v),v},delayedCall:function(d,v,c,p){return this.addEvent({delay:d,callback:v,args:c,callbackScope:p})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var v=0;v<d.length;v++){var c=d[v];l(this._pendingRemoval,c),l(this._pendingInsertion,c),l(this._active,c)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,v=this._pendingInsertion.length;if(!(d===0&&v===0)){var c,p;for(c=0;c<d;c++){p=this._pendingRemoval[c];var y=this._active.indexOf(p);y>-1&&this._active.splice(y,1),p.destroy()}for(c=0;c<v;c++)p=this._pendingInsertion[c],this._active.push(p);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,v){if(this.now=d,!this.paused){v*=this.timeScale;for(var c=0;c<this._active.length;c++){var p=this._active[c];if(!p.paused&&(p.elapsed+=v*p.timeScale,p.elapsed>=p.delay)){var y=p.elapsed-p.delay;if(p.elapsed=p.delay,!p.hasDispatched&&p.callback&&(p.hasDispatched=!0,p.callback.apply(p.callbackScope,p.args)),p.repeatCount>0){if(p.repeatCount--,y>=p.delay)for(;y>=p.delay&&p.repeatCount>0;)p.callback&&p.callback.apply(p.callbackScope,p.args),y-=p.delay,p.repeatCount--;p.elapsed=y,p.hasDispatched=!1}else p.hasDispatched&&this._pendingRemoval.push(p)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var v=this.systems.events;v.off(u.PRE_UPDATE,this.preUpdate,this),v.off(u.UPDATE,this.update,this),v.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});g.register("Clock",o,"time"),n.exports=o},96120:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(39429),h=s(95540),l=s(44594),o=s(89809),d=new a({Extends:g,initialize:function(c,p){g.call(this),this.scene=c,this.systems=c.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var y=this.systems.events;y.on(l.PRE_UPDATE,this.preUpdate,this),y.on(l.UPDATE,this.update,this),y.once(l.SHUTDOWN,this.destroy,this),p&&this.add(p)},preUpdate:function(v,c){this.paused||(this.elapsed+=c)},update:function(){if(!(this.paused||this.complete)){var v,c=this.events,p=!1,y=this.systems,m;for(v=0;v<c.length;v++){var C=c[v];if(!C.complete&&C.time<=this.elapsed){if(C.complete=!0,this.totalComplete++,m=C.target?C.target:this,C.if&&!C.if.call(m,C))continue;if(C.once&&(p=!0),C.set&&C.target)for(var T in C.set)C.target[T]=C.set[T];this.iteration&&C.repeat++,C.loop&&C.repeat&&C.loop.call(m),C.tween&&y.tweens.add(C.tween),C.sound&&(typeof C.sound=="string"?y.sound.play(C.sound):y.sound.play(C.sound.key,C.sound.config)),C.event&&this.emit(C.event,m),C.run&&C.run.call(m),C.stop&&this.stop()}}if(p)for(v=0;v<c.length;v++)c[v].complete&&c[v].once&&(c.splice(v,1),v--);this.totalComplete>=c.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(o.COMPLETE,this)}},play:function(v){return v===void 0&&(v=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,v&&this.reset(),this},pause:function(){return this.paused=!0,this},repeat:function(v){return(v===void 0||v===!0)&&(v=-1),v===!1&&(v=0),this.loop=v,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(v){v===void 0&&(v=!1),this.elapsed=0,v||(this.iteration=0);for(var c=0;c<this.events.length;c++)this.events[c].complete=!1,v||(this.events[c].repeat=0);return this.play(!1)},add:function(v){Array.isArray(v)||(v=[v]);var c=this.events,p=0;c.length>0&&(p=c[c.length-1].time);for(var y=0;y<v.length;y++){var m=v[y],C=h(m,"at",0),T=h(m,"in",null);T!==null&&(C=this.elapsed+T);var E=h(m,"from",null);E!==null&&(C=p+E),c.push({complete:!1,time:C,repeat:0,if:h(m,"if",null),run:h(m,"run",null),loop:h(m,"loop",null),event:h(m,"event",null),target:h(m,"target",null),set:h(m,"set",null),tween:h(m,"tween",null),sound:h(m,"sound",null),once:h(m,"once",!1),stop:h(m,"stop",!1)}),p=C}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var v=Math.min(this.totalComplete,this.events.length);return v/this.events.length},destroy:function(){var v=this.systems.events;v.off(l.PRE_UPDATE,this.preUpdate,this),v.off(l.UPDATE,this.update,this),v.off(l.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});u.register("timeline",function(v){return new d(this.scene,v)}),n.exports=d},94880:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(95540),u=new a({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(h){if(this.delay=g(h,"delay",0),this.repeat=g(h,"repeat",0),this.loop=g(h,"loop",!1),this.callback=g(h,"callback",void 0),this.callbackScope=g(h,"callbackScope",this),this.args=g(h,"args",[]),this.timeScale=g(h,"timeScale",1),this.startAt=g(h,"startAt",0),this.paused=g(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var h=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/h}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(h){h===void 0&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=u},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:s(35945)}},90291:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:s(33385),Events:s(89809),Timeline:s(96120),TimerEvent:s(94880)}},40382:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(72905),g=s(83419),u=s(43491),h=s(88032),l=s(37277),o=s(44594),d=s(93109),v=s(86081),c=s(8357),p=s(43960),y=s(26012),m=new g({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(o.UPDATE,this.update,this),this.events.once(o.SHUTDOWN,this.shutdown,this)},create:function(C){Array.isArray(C)||(C=[C]);for(var T=[],E=0;E<C.length;E++){var w=C[E];w instanceof v||w instanceof p?T.push(w):Array.isArray(w.tweens)?T.push(y(this,w)):T.push(c(this,w))}return T.length===1?T[0]:T},add:function(C){var T=C,E=this.tweens;return T instanceof v||T instanceof p||(Array.isArray(T.tweens)?T=y(this,T):T=c(this,T)),E.push(T.reset()),T},addMultiple:function(C){for(var T,E=[],w=this.tweens,P=0;P<C.length;P++)T=C[P],T instanceof v||T instanceof p||(Array.isArray(T.tweens)?T=y(this,T):T=c(this,T)),w.push(T.reset()),E.push(T);return E},chain:function(C){var T=y(this,C);return this.tweens.push(T.init()),T},getChainedTweens:function(C){return C.getChainedTweens()},has:function(C){return this.tweens.indexOf(C)>-1},existing:function(C){return this.has(C)||this.tweens.push(C.reset()),this},addCounter:function(C){var T=h(this,C);return this.tweens.push(T.reset()),T},stagger:function(C,T){return d(C,T)},setLagSmooth:function(C,T){return C===void 0&&(C=1/1e-8),T===void 0&&(T=0),this.maxLag=C,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(C){return C===void 0&&(C=240),this.gap=1e3/C,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(C){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var E=this.prevTime-this.startTime,w=E-this.nextTime,P=E-this.time*1e3;return w>0||C?(E/=1e3,this.time=E,this.nextTime+=w+(w>=this.gap?4:this.gap-w)):P=0,P},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(C){C===void 0&&(C=!1);var T=this.getDelta(C);if(!(T<=0)){this.processing=!0;var E,w,P=[],b=this.tweens;for(E=0;E<b.length;E++)w=b[E],w.update(T)&&P.push(w);var M=P.length;if(M&&b.length>0){for(E=0;E<M;E++){w=P[E];var A=b.indexOf(w);A>-1&&(w.isPendingRemove()||w.isDestroyed())&&(b.splice(A,1),w.destroy())}P.length=0}this.processing=!1}},remove:function(C){return this.processing?C.setPendingRemoveState():(a(this.tweens,C),C.setRemovedState()),this},reset:function(C){return this.existing(C),C.seek(),C.setActiveState(),this},makeActive:function(C){return this.existing(C),C.setActiveState(),this},each:function(C,T){var E,w=[null];for(E=1;E<arguments.length;E++)w.push(arguments[E]);return this.tweens.forEach(function(P){w[0]=P,C.apply(T,w)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(C){var T=[],E=this.tweens;Array.isArray(C)?C=u(C):C=[C];for(var w=C.length,P=0;P<E.length;P++)for(var b=E[P],M=0;M<w;M++)!b.isDestroyed()&&b.hasTarget(C[M])&&T.push(b);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(C){return this.timeScale=C,this},isTweening:function(C){for(var T=this.tweens,E,w=0;w<T.length;w++)if(E=T[w],E.isPlaying()&&E.hasTarget(C))return!0;return!1},killAll:function(){for(var C=this.processing?this.getTweens():this.tweens,T=0;T<C.length;T++)C[T].destroy();return this.processing||(C.length=0),this},killTweensOf:function(C){for(var T=this.getTweensOf(C),E=0;E<T.length;E++)T[E].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(o.UPDATE,this.update,this),this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){return s&&s.hasOwnProperty(a)?s[a]:g};n.exports=x},6113:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(62640),g=s(35355),u=function(h,l){var o=a.Power0;if(typeof h=="string")if(a.hasOwnProperty(h))o=a[h];else{var d="";if(h.indexOf(".")){d=h.substring(h.indexOf(".")+1);var v=d.toLowerCase();v==="in"?d="easeIn":v==="out"?d="easeOut":v==="inout"&&(d="easeInOut")}h=g(h.substring(0,h.indexOf(".")+1)+d),a.hasOwnProperty(h)&&(o=a[h])}else typeof h=="function"&&(o=h);if(!l)return o;var c=l.slice(0);return c.unshift(0),function(p){return c[0]=p,o.apply(this,c)}};n.exports=u},91389:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(89318),g=s(77259),u=s(28392),h={bezier:a,catmull:g,catmullrom:g,linear:u},l=function(o){if(o===null)return null;var d=h.linear;return typeof o=="string"?h.hasOwnProperty(o)&&(d=h[o]):typeof o=="function"&&(d=o),d};n.exports=l},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u;if(s.hasOwnProperty(a)){var h=typeof s[a];h==="function"?u=function(l,o,d,v,c,p){return s[a](l,o,d,v,c,p)}:u=function(){return s[a]}}else typeof g=="function"?u=g:u=function(){return g};return u};n.exports=x},82985:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(81076),g=function(u){var h,l=[];if(u.hasOwnProperty("props"))for(h in u.props)h.substring(0,1)!=="_"&&l.push({key:h,value:u.props[h]});else for(h in u)a.indexOf(h)===-1&&h.substring(0,1)!=="_"&&l.push({key:h,value:u[h]});return l};n.exports=g},62329:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=function(u){var h=a(u,"targets",null);return h===null||(typeof h=="function"&&(h=h.call()),Array.isArray(h)||(h=[h])),h};n.exports=g},17777:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(30976),g=s(99472);function u(v){return!!v.getActive&&typeof v.getActive=="function"}function h(v){return!!v.getStart&&typeof v.getStart=="function"}function l(v){return!!v.getEnd&&typeof v.getEnd=="function"}function o(v){return h(v)||l(v)||u(v)}var d=function(v,c){var p,y=function(Y,H,k){return k},m=function(Y,H,k){return k},C=null,T=typeof c;if(T==="number")y=function(){return c};else if(Array.isArray(c))m=function(){return c[0]},y=function(){return c[c.length-1]};else if(T==="string"){var E=c.toLowerCase(),w=E.substring(0,6)==="random",P=E.substring(0,3)==="int";if(w||P){var b=E.indexOf("("),M=E.indexOf(")"),A=E.indexOf(",");if(b&&M&&A){var R=parseFloat(E.substring(b+1,A)),L=parseFloat(E.substring(A+1,M));w?y=function(){return g(R,L)}:y=function(){return a(R,L)}}else throw new Error("invalid random() format")}else{E=E[0];var O=parseFloat(c.substr(2));switch(E){case"+":y=function(Y,H,k){return k+O};break;case"-":y=function(Y,H,k){return k-O};break;case"*":y=function(Y,H,k){return k*O};break;case"/":y=function(Y,H,k){return k/O};break;default:y=function(){return parseFloat(c)}}}}else if(T==="function")y=c;else if(T==="object")if(o(c))u(c)&&(C=c.getActive),l(c)&&(y=c.getEnd),h(c)&&(m=c.getStart);else if(c.hasOwnProperty("value"))p=d(v,c.value);else{var D=c.hasOwnProperty("to"),I=c.hasOwnProperty("from"),B=c.hasOwnProperty("start");if(D&&(I||B)){if(p=d(v,c.to),B){var G=d(v,c.start);p.getActive=G.getEnd}if(I){var z=d(v,c.from);p.getStart=z.getEnd}}}return p||(p={getActive:C,getEnd:y,getStart:m}),p};n.exports=d},88032:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(69902),u=s(23568),h=s(57355),l=s(6113),o=s(55292),d=s(35154),v=s(17777),c=s(269),p=s(86081),y=function(m,C,T){if(C instanceof p)return C.parent=m,C;T===void 0?T=g:T=c(g,T);var E=d(C,"from",0),w=d(C,"to",1),P=[{value:E}],b=d(C,"delay",T.delay),M=d(C,"easeParams",T.easeParams),A=d(C,"ease",T.ease),R=v("value",w),L=new p(m,P),O=L.add(0,"value",R.getEnd,R.getStart,R.getActive,l(d(C,"ease",A),d(C,"easeParams",M)),o(C,"delay",b),d(C,"duration",T.duration),h(C,"yoyo",T.yoyo),d(C,"hold",T.hold),d(C,"repeat",T.repeat),d(C,"repeatDelay",T.repeatDelay),!1,!1);O.start=E,O.current=E,L.completeDelay=u(C,"completeDelay",0),L.loop=Math.round(u(C,"loop",0)),L.loopDelay=Math.round(u(C,"loopDelay",0)),L.paused=h(C,"paused",!1),L.persist=h(C,"persist",!1),L.callbackScope=d(C,"callbackScope",L);for(var D=a.TYPES,I=0;I<D.length;I++){var B=D[I],G=d(C,B,!1);if(G){var z=d(C,B+"Params",[]);L.setCallback(B,G,z)}}return L};n.exports=y},93109:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(6113),g=s(35154),u=s(36383),h=function(l,o){o===void 0&&(o={});var d,v=g(o,"start",0),c=g(o,"ease",null),p=g(o,"grid",null),y=g(o,"from",0),m=y==="first",C=y==="center",T=y==="last",E=typeof y=="number",w=Array.isArray(l),P=parseFloat(w?l[0]:l),b=w?parseFloat(l[1]):0,M=Math.max(P,b);if(w&&(v+=P),p){var A=p[0],R=p[1],L=0,O=0,D=0,I=0,B=[];T?(L=A-1,O=R-1):E?(L=y%A,O=Math.floor(y/A)):C&&(L=(A-1)/2,O=(R-1)/2);for(var G=u.MIN_SAFE_INTEGER,z=0;z<R;z++){B[z]=[];for(var Y=0;Y<A;Y++){D=L-Y,I=O-z;var H=Math.sqrt(D*D+I*I);H>G&&(G=H),B[z][Y]=H}}}var k=c?a(c):null;return p?d=function(U,F,N,V){var $=0,X=V%A,j=Math.floor(V/A);X>=0&&X<A&&j>=0&&j<R&&($=B[j][X]);var Q;if(w){var K=b-P;k?Q=$/G*K*k($/G):Q=$/G*K}else k?Q=$*P*k($/G):Q=$*P;return Q+v}:d=function(U,F,N,V,$){$--;var X;m?X=V:C?X=Math.abs($/2-V):T?X=$-V:E&&(X=Math.abs(y-V));var j;if(w){var Q;C?Q=(b-P)/$*(X*2):Q=(b-P)/$*X,k?j=Q*k(X/$):j=Q}else k?j=$*M*k(X/$):j=X*P;return j+v},d};n.exports=h},8357:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(69902),u=s(23568),h=s(57355),l=s(6113),o=s(91389),d=s(55292),v=s(82985),c=s(62329),p=s(35154),y=s(17777),m=s(269),C=s(86081),T=function(E,w,P){if(w instanceof C)return w.parent=E,w;P===void 0?P=g:P=m(g,P);var b=c(w);!b&&P.targets&&(b=P.targets);for(var M=v(w),A=p(w,"delay",P.delay),R=p(w,"duration",P.duration),L=p(w,"easeParams",P.easeParams),O=p(w,"ease",P.ease),D=p(w,"hold",P.hold),I=p(w,"repeat",P.repeat),B=p(w,"repeatDelay",P.repeatDelay),G=h(w,"yoyo",P.yoyo),z=h(w,"flipX",P.flipX),Y=h(w,"flipY",P.flipY),H=p(w,"interpolation",P.interpolation),k=function(tt,st,nt,rt){if(nt==="texture"){var ut=rt,vt=void 0;Array.isArray(rt)?(ut=rt[0],vt=rt[1]):rt.hasOwnProperty("value")?(ut=rt.value,Array.isArray(rt.value)?(ut=rt.value[0],vt=rt.value[1]):typeof rt.value=="string"&&(ut=rt.value)):typeof rt=="string"&&(ut=rt),tt.addFrame(st,ut,vt,d(rt,"delay",A),p(rt,"duration",R),p(rt,"hold",D),p(rt,"repeat",I),p(rt,"repeatDelay",B),h(rt,"flipX",z),h(rt,"flipY",Y))}else{var pt=y(nt,rt),ft=o(p(rt,"interpolation",H));tt.add(st,nt,pt.getEnd,pt.getStart,pt.getActive,l(p(rt,"ease",O),p(rt,"easeParams",L)),d(rt,"delay",A),p(rt,"duration",R),h(rt,"yoyo",G),p(rt,"hold",D),p(rt,"repeat",I),p(rt,"repeatDelay",B),h(rt,"flipX",z),h(rt,"flipY",Y),ft,ft?rt:null)}},U=new C(E,b),F=0;F<M.length;F++)for(var N=M[F].key,V=M[F].value,$=0;$<b.length;$++)N==="scale"&&!b[$].hasOwnProperty("scale")?(k(U,$,"scaleX",V),k(U,$,"scaleY",V)):k(U,$,N,V);U.completeDelay=u(w,"completeDelay",0),U.loop=Math.round(u(w,"loop",0)),U.loopDelay=Math.round(u(w,"loopDelay",0)),U.paused=h(w,"paused",!1),U.persist=h(w,"persist",!1),U.callbackScope=p(w,"callbackScope",U);for(var X=a.TYPES,j=0;j<X.length;j++){var Q=X[j],K=p(w,Q,!1);if(K){var q=p(w,Q+"Params",[]);U.setCallback(Q,K,q)}}return U};n.exports=T},26012:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(23568),u=s(57355),h=s(62329),l=s(35154),o=s(8357),d=s(43960),v=function(c,p){if(p instanceof d)return p.parent=c,p;var y=new d(c);y.startDelay=l(p,"delay",0),y.completeDelay=g(p,"completeDelay",0),y.loop=Math.round(g(p,"loop",l(p,"repeat",0))),y.loopDelay=Math.round(g(p,"loopDelay",l(p,"repeatDelay",0))),y.paused=u(p,"paused",!1),y.persist=u(p,"persist",!1),y.callbackScope=l(p,"callbackScope",y);var m,C=a.TYPES;for(m=0;m<C.length;m++){var T=C[m],E=l(p,T,!1);if(E){var w=l(p,T+"Params",[]);y.setCallback(T,E,w)}}var P=l(p,"tweens",null);if(Array.isArray(P)){var b=[],M=h(p),A=void 0;for(M&&(A={targets:M}),m=0;m<P.length;m++)b.push(o(y,P[m],A));y.add(b)}return y};n.exports=v},30231:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:s(57355),GetEaseFunction:s(6113),GetInterpolationFunction:s(91389),GetNewValue:s(55292),GetProps:s(82985),GetTargets:s(62329),GetValueOp:s(17777),NumberTweenBuilder:s(88032),StaggerBuilder:s(93109),TweenBuilder:s(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:s(73685),TWEEN_COMPLETE:s(98540),TWEEN_LOOP:s(67233),TWEEN_PAUSE:s(2859),TWEEN_RESUME:s(25764),TWEEN_REPEAT:s(98336),TWEEN_START:s(32193),TWEEN_STOP:s(84371),TWEEN_UPDATE:s(70766),TWEEN_YOYO:s(55659)}},43066:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:s(86353),Builders:s(30231),Events:s(842),TweenManager:s(40382),Tween:s(86081),TweenData:s(48177),TweenFrameData:s(42220),BaseTween:s(70402),TweenChain:s(43960)};n.exports=a},70402:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(50792),u=s(842),h=s(86353),l=new a({Extends:g,initialize:function(d){g.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(o){return this.timeScale=o,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(u.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(u.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(u.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(u.TWEEN_COMPLETE,"onComplete")},complete:function(o){return o===void 0&&(o=0),o?(this.setCompleteDelayState(),this.countdown=o):this.onCompleteHandler(),this},completeAfterLoop:function(o){return o===void 0&&(o=0),this.loopCounter>o&&(this.loopCounter=o),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(u.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(o){this.countdown-=o,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(o){return this.countdown-=o,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(u.TWEEN_START,"onStart"),o=0),o},updateCompleteDelay:function(o){this.countdown-=o,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(o,d,v){return v===void 0&&(v=[]),this.callbacks.hasOwnProperty(o)&&(this.callbacks[o]={func:d,params:v}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(o){o.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l},95042:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(83419),g=s(842),u=s(86353),h=new a({initialize:function(o,d,v,c,p,y,m,C,T,E){this.tween=o,this.targetIndex=d,this.duration=c,this.totalDuration=0,this.delay=0,this.getDelay=v,this.yoyo=p,this.hold=y,this.repeat=m,this.repeatDelay=C,this.repeatCounter=0,this.flipX=T,this.flipY=E,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=u.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=u.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=u.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=u.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=u.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=u.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=u.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=u.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===u.CREATED},isDelayed:function(){return this.state===u.DELAY},isPendingRender:function(){return this.state===u.PENDING_RENDER},isPlayingForward:function(){return this.state===u.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===u.PLAYING_BACKWARD},isHolding:function(){return this.state===u.HOLD_DELAY},isRepeating:function(){return this.state===u.REPEAT_DELAY},isComplete:function(){return this.state===u.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,o=l.totalTargets,d=this.targetIndex,v=l.targets[d],c=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(v,c,0,d,o,l),this.repeatCounter=this.repeat===-1?u.MAX:this.repeat,this.setPendingRenderState();var p=this.duration+this.hold;this.yoyo&&(p+=this.duration);var y=p+this.repeatDelay;this.totalDuration=this.delay+p,this.repeat===-1?(this.totalDuration+=y*u.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=y*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,o,d){var v=this.tween,c=v.totalTargets,p=this.targetIndex,y=v.targets[p],m=this.key,C=m!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&y.toggleFlipX(),this.flipY&&y.toggleFlipY(),C&&(o||d)&&(this.start=this.getStartValue(y,m,this.start,p,c,v)),d){this.setPlayingBackwardState(),this.dispatchEvent(g.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,C&&(this.end=this.getEndValue(y,m,this.start,p,c,v)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,C&&(this.current=this.start,y[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(g.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=h},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=x},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(70402),g=s(83419),u=s(842),h=s(44603),l=s(39429),o=s(36383),d=s(86353),v=s(48177),c=s(42220),p=new g({Extends:a,initialize:function(m,C){a.call(this,m),this.targets=C,this.totalTargets=C.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(y,m,C,T,E,w,P,b,M,A,R,L,O,D,I,B){var G=new v(this,y,m,C,T,E,w,P,b,M,A,R,L,O,D,I,B);return this.totalData=this.data.push(G),G},addFrame:function(y,m,C,T,E,w,P,b,M,A){var R=new c(this,y,m,C,T,E,w,P,b,M,A);return this.totalData=this.data.push(R),R},getValue:function(y){y===void 0&&(y=0);var m=null;return this.data&&(m=this.data[y].current),m},hasTarget:function(y){return this.targets&&this.targets.indexOf(y)!==-1},updateTo:function(y,m,C){if(C===void 0&&(C=!1),y!=="texture")for(var T=0;T<this.totalData;T++){var E=this.data[T];E.key===y&&(E.isPlayingForward()||E.isPlayingBackward())&&(E.end=m,C&&(E.start=E.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(y,m,C){if(y===void 0&&(y=0),m===void 0&&(m=16.6),C===void 0&&(C=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;C||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(u.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,y>0){for(var E=Math.floor(y/m),w=y-E*m,P=0;P<E;P++)this.update(m);w>0&&this.update(w)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(y){y===void 0&&(y=!1),this.duration=0,this.startDelay=o.MAX_SAFE_INTEGER;for(var m=this.data,C=0;C<this.totalData;C++)m[C].reset(y);this.duration=Math.max(this.duration,.01);var T=this.duration,E=this.completeDelay,w=this.loopCounter,P=this.loopDelay;w>0?this.totalDuration=T+E+(T+P)*w:this.totalDuration=T+E},reset:function(y){return y===void 0&&(y=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),y||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(u.TWEEN_ACTIVE,"onActive")),this},update:function(y){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(y*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(y),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(y),!1;this.hasStarted||(this.startDelay-=y,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(u.TWEEN_START,"onStart"),y=0));var m=!1;if(this.isActive())for(var C=this.data,T=0;T<this.totalData;T++)C[T].update(y)&&(m=!0);this.elapsed+=y,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=y,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var E=this.isPendingRemove();return E&&this.persist&&(this.setFinishedState(),E=!1),E},forward:function(y){return this.update(y),this},rewind:function(y){return this.update(-y),this},dispatchEvent:function(y,m){if(!this.isSeeking){this.emit(y,this,this.targets);var C=this.callbacks[m];C&&C.func.apply(this.callbackScope,[this,this.targets].concat(C.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(y){return this.scene.sys.tweens.add(y)}),h.register("tween",function(y){return this.scene.sys.tweens.create(y)}),n.exports=p},43960:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(72905),g=s(70402),u=s(83419),h=s(842),l=s(44603),o=s(39429),d=s(86353),v=new u({Extends:g,initialize:function(p){g.call(this,p),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(h.TWEEN_ACTIVE,"onActive"),this},add:function(c){var p=this.parent.create(c);Array.isArray(p)||(p=[p]);for(var y=this.data,m=0;m<p.length;m++){var C=p[m];C.parent=this,y.push(C.reset())}return this.totalData=y.length,this},remove:function(c){return a(this.data,c),c.setRemovedState(),c===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(c){for(var p=this.data,y=0;y<this.totalData;y++)if(p[y].hasTarget(c))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(c){return c.seek(),c.setActiveState(),this},makeActive:function(c){return c.reset(),c.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var c=this.data,p=this.totalData,y=0;y<p;y++)c[y].reset(!1);this.currentIndex=0,this.currentTween=c[0]},update:function(c){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;c*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(c):this.isCompleteDelayed()?this.updateCompleteDelay(c):this.isStartDelayed()&&(c=this.updateStartCountdown(c));var p=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(c)&&this.nextTween()&&this.nextState(),p=this.isPendingRemove(),p&&this.persist&&(this.setFinishedState(),p=!1)),p},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(c){this.currentIndex=c,this.currentTween=this.data[c],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(h.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(c,p){this.emit(c,this);var y=this.callbacks[p];y&&y.func.apply(this.callbackScope,[this].concat(y.params))},destroy:function(){g.prototype.destroy.call(this),this.currentTween=null}});o.register("tweenchain",function(c){return this.scene.sys.tweens.chain(c)}),l.register("tweenchain",function(c){return this.scene.sys.tweens.create(c)}),n.exports=v},48177:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95042),g=s(45319),u=s(83419),h=s(842),l=new u({Extends:a,initialize:function(d,v,c,p,y,m,C,T,E,w,P,b,M,A,R,L,O){a.call(this,d,v,T,E,w,P,b,M,A,R),this.key=c,this.getActiveValue=m,this.getEndValue=p,this.getStartValue=y,this.ease=C,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=L,this.interpolationData=O},reset:function(o){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],v=this.key;o&&(d[v]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[v]=this.getActiveValue(d,v,0))},update:function(o){var d=this.tween,v=d.totalTargets,c=this.targetIndex,p=d.targets[c],y=this.key;if(!p)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(p,y,p[y],c,v,d),this.end=this.getEndValue(p,y,this.start,c,v,d),this.current=this.start,p[y]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),C=this.isPlayingBackward();if(m||C){var T=this.elapsed,E=this.duration,w=0,P=!1;T+=o,T>=E?(w=T-E,T=E,P=!0):T<0&&(T=0);var b=g(T/E,0,1);if(this.elapsed=T,this.progress=b,this.previous=this.current,P)m?(this.current=this.end,p[y]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(w)):(this.current=this.start,p[y]=this.start,this.setStateFromStart(w));else{m||(b=1-b);var M=this.ease(b);this.interpolation?this.current=this.interpolation(this.interpolationData,M):this.current=this.start+(this.end-this.start)*M,p[y]=this.current}this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,d){var v=this.tween;if(!v.isSeeking){var c=v.targets[this.targetIndex],p=this.key,y=this.current,m=this.previous;v.emit(o,v,p,c,y,m);var C=v.callbacks[d];C&&C.func.apply(v.callbackScope,[v,c,p,y,m].concat(C.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=l},42220:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(95042),g=s(45319),u=s(83419),h=s(842),l=new u({Extends:a,initialize:function(d,v,c,p,y,m,C,T,E,w,P){a.call(this,d,v,y,m,!1,C,T,E,w,P),this.key="texture",this.startTexture=null,this.endTexture=c,this.startFrame=null,this.endFrame=p,this.yoyo=T!==0},reset:function(o){a.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),o&&d.setTexture(this.startTexture,this.startFrame)},update:function(o){var d=this.tween,v=this.targetIndex,c=d.targets[v];if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=o,this.elapsed<=0&&(this.elapsed=0,o=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&c.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var p=this.isPlayingForward(),y=this.isPlayingBackward();if(p||y){var m=this.elapsed,C=this.duration,T=0,E=!1;m+=o,m>=C?(T=m-C,m=C,E=!0):m<0&&(m=0);var w=g(m/C,0,1);this.elapsed=m,this.progress=w,E&&(p?(c.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(c.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(o,d){var v=this.tween;if(!v.isSeeking){var c=v.targets[this.targetIndex],p=this.key;v.emit(o,v,p,c);var y=v.callbacks[d];y&&y.func.apply(v.callbackScope,[v,c,p].concat(y.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=l},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=x},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function s(l,o,d){var v=d?l[o]:Object.getOwnPropertyDescriptor(l,o);return!d&&v.value&&typeof v.value=="object"&&(v=v.value),v&&x(v)?(typeof v.enumerable>"u"&&(v.enumerable=!0),typeof v.configurable>"u"&&(v.configurable=!0),v):!1}function a(l,o){var d=Object.getOwnPropertyDescriptor(l,o);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function g(l,o,d,v){for(var c in o)if(o.hasOwnProperty(c)){var p=s(o,c,d);if(p!==!1){var y=v||l;if(a(y.prototype,c)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+c+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,c,p)}else l.prototype[c]=o[c]}}function u(l,o){if(o){Array.isArray(o)||(o=[o]);for(var d=0;d<o.length;d++)g(l,o[d].prototype||o[d])}}function h(l){l||(l={});var o,d;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");o=l.initialize,delete l.initialize}else if(l.Extends){var v=l.Extends;o=function(){v.apply(this,arguments)}}else o=function(){};l.Extends?(o.prototype=Object.create(l.Extends.prototype),o.prototype.constructor=o,d=l.Extends,delete l.Extends):o.prototype.constructor=o;var c=null;return l.Mixins&&(c=l.Mixins,delete l.Mixins),u(o,c),g(o,l,!0,d),o}h.extend=g,h.mixin=u,h.ignoreFinals=!1,n.exports=h},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){};n.exports=x},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return null};n.exports=x},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h){if(h===void 0&&(h=s),g>0){var l=g-s.length;if(l<=0)return null}if(!Array.isArray(a))return s.indexOf(a)===-1?(s.push(a),u&&u.call(h,a),a):null;for(var o=a.length-1;o>=0;)s.indexOf(a[o])!==-1&&a.splice(o,1),o--;if(o=a.length,o===0)return null;g>0&&o>l&&(a.splice(l),o=l);for(var d=0;d<o;d++){var v=a[d];s.push(v),u&&u.call(h,v)}return a};n.exports=x},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u,h,l){if(g===void 0&&(g=0),l===void 0&&(l=s),u>0){var o=u-s.length;if(o<=0)return null}if(!Array.isArray(a))return s.indexOf(a)===-1?(s.splice(g,0,a),h&&h.call(l,a),a):null;for(var d=a.length-1;d>=0;)s.indexOf(a[d])!==-1&&a.pop(),d--;if(d=a.length,d===0)return null;u>0&&d>o&&(a.splice(o),d=o);for(var v=d-1;v>=0;v--){var c=a[v];s.splice(g,0,c),h&&h.call(l,c)}return a};n.exports=x},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);return g!==-1&&g<s.length&&(s.splice(g,1),s.push(a)),a};n.exports=x},21612:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(u,h,l,o,d){o===void 0&&(o=0),d===void 0&&(d=u.length);var v=0;if(a(u,o,d))for(var c=o;c<d;c++){var p=u[c];p[h]===l&&v++}return v};n.exports=g},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u,h=[null];for(u=3;u<arguments.length;u++)h.push(arguments[u]);for(u=0;u<s.length;u++)h[0]=s[u],a.apply(g,h);return s};n.exports=x},36914:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(u,h,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=u.length),a(u,o,d)){var v,c=[null];for(v=5;v<arguments.length;v++)c.push(arguments[v]);for(v=o;v<d;v++)c[0]=u[v],h.apply(l,c)}return u};n.exports=g},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a.length){if(a.length===1)return a[0]}else return NaN;var u=1,h,l;if(g){if(s<a[0][g])return a[0];for(;a[u][g]<s;)u++}else for(;a[u]<s;)u++;return u>a.length&&(u=a.length),g?(h=a[u-1][g],l=a[u][g],l-s<=s-h?a[u]:a[u-1]):(h=a[u-1],l=a[u],l-s<=s-h?l:h)};n.exports=x},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=[]);for(var g=0;g<s.length;g++)Array.isArray(s[g])?x(s[g],a):a.push(s[g]);return a};n.exports=x},46710:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(u,h,l,o,d){o===void 0&&(o=0),d===void 0&&(d=u.length);var v=[];if(a(u,o,d))for(var c=o;c<d;c++){var p=u[c];(!h||h&&l===void 0&&p.hasOwnProperty(h)||h&&l!==void 0&&p[h]===l)&&v.push(p)}return v};n.exports=g},58731:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(u,h,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=u.length),a(u,o,d))for(var v=o;v<d;v++){var c=u[v];if(!h||h&&l===void 0&&c.hasOwnProperty(h)||h&&l!==void 0&&c[h]===l)return c}return null};n.exports=g},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){a===void 0&&(a=0),g===void 0&&(g=s.length);var u=a+Math.floor(Math.random()*g);return s[u]===void 0?null:s[u]};n.exports=x},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===g)return s;var u=s.indexOf(a),h=s.indexOf(g);if(u<0||h<0)throw new Error("Supplied items must be elements of the same array");return u>h||(s.splice(u,1),h===s.length-1?s.push(a):s.splice(h,0,a)),s};n.exports=x},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===g)return s;var u=s.indexOf(a),h=s.indexOf(g);if(u<0||h<0)throw new Error("Supplied items must be elements of the same array");return u<h||(s.splice(u,1),h===0?s.unshift(a):s.splice(h,0,a)),s};n.exports=x},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);if(g>0){var u=s[g-1],h=s.indexOf(u);s[g]=u,s[h]=a}return s};n.exports=x},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=s.indexOf(a);if(u===-1||g<0||g>=s.length)throw new Error("Supplied index out of bounds");return u!==g&&(s.splice(u,1),s.splice(g,0,a)),a};n.exports=x},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);if(g!==-1&&g<s.length-1){var u=s[g+1],h=s.indexOf(u);s[g]=u,s[h]=a}return s};n.exports=x},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=[],l,o=!1;if((g||u)&&(o=!0,g||(g=""),u||(u="")),a<s)for(l=s;l>=a;l--)o?h.push(g+l.toString()+u):h.push(l);else for(l=s;l<=a;l++)o?h.push(g+l.toString()+u):h.push(l);return h};n.exports=x},593:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(2284),g=function(u,h,l){u===void 0&&(u=0),h===void 0&&(h=null),l===void 0&&(l=1),h===null&&(h=u,u=0);for(var o=[],d=Math.max(a((h-u)/(l||1)),0),v=0;v<d;v++)o.push(u),u+=l;return o};n.exports=g},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function x(g,u,h){var l=g[u];g[u]=g[h],g[h]=l}function s(g,u){return g<u?-1:g>u?1:0}var a=function(g,u,h,l,o){for(h===void 0&&(h=0),l===void 0&&(l=g.length-1),o===void 0&&(o=s);l>h;){if(l-h>600){var d=l-h+1,v=u-h+1,c=Math.log(d),p=.5*Math.exp(2*c/3),y=.5*Math.sqrt(c*p*(d-p)/d)*(v-d/2<0?-1:1),m=Math.max(h,Math.floor(u-v*p/d+y)),C=Math.min(l,Math.floor(u+(d-v)*p/d+y));a(g,u,m,C,o)}var T=g[u],E=h,w=l;for(x(g,h,u),o(g[l],T)>0&&x(g,h,l);E<w;){for(x(g,E,w),E++,w--;o(g[E],T)<0;)E++;for(;o(g[w],T)>0;)w--}o(g[h],T)===0?x(g,h,w):(w++,x(g,w,l)),w<=u&&(h=w+1),u<=w&&(l=w-1)}};n.exports=a},88492:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=s(33680),u=function(l,o,d){for(var v=[],c=0;c<l.length;c++)for(var p=0;p<o.length;p++)for(var y=0;y<d;y++)v.push({a:l[c],b:o[p]});return v},h=function(l,o,d){var v=a(d,"max",0),c=a(d,"qty",1),p=a(d,"random",!1),y=a(d,"randomB",!1),m=a(d,"repeat",0),C=a(d,"yoyo",!1),T=[];if(y&&g(o),m===-1)if(v===0)m=0;else{var E=l.length*o.length*c;C&&(E*=2),m=Math.ceil(v/E)}for(var w=0;w<=m;w++){var P=u(l,o,c);p&&g(P),T=T.concat(P),C&&(P.reverse(),T=T.concat(P))}return v&&T.splice(v),T};n.exports=h},72905:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19133),g=function(u,h,l,o){o===void 0&&(o=u);var d;if(!Array.isArray(h))return d=u.indexOf(h),d!==-1?(a(u,d),l&&l.call(o,h),h):null;for(var v=h.length-1,c=[];v>=0;){var p=h[v];d=u.indexOf(p),d!==-1&&(a(u,d),c.push(p),l&&l.call(o,p)),v--}return c};n.exports=g},60248:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19133),g=function(u,h,l,o){if(o===void 0&&(o=u),h<0||h>u.length-1)throw new Error("Index out of bounds");var d=a(u,h);return l&&l.call(o,d),d};n.exports=g},81409:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(u,h,l,o,d){if(h===void 0&&(h=0),l===void 0&&(l=u.length),d===void 0&&(d=u),a(u,h,l)){var v=l-h,c=u.splice(h,v);if(o)for(var p=0;p<c.length;p++){var y=c[p];o.call(d,y)}return c}else return[]};n.exports=g},31856:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(19133),g=function(u,h,l){h===void 0&&(h=0),l===void 0&&(l=u.length);var o=h+Math.floor(Math.random()*l);return a(u,o)};n.exports=g},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=s.indexOf(a),h=s.indexOf(g);return u!==-1&&h===-1?(s[u]=g,!0):!1};n.exports=x},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);for(var g=null,u=0;u<a;u++)g=s.shift(),s.push(g);return g};n.exports=x},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){a===void 0&&(a=1);for(var g=null,u=0;u<a;u++)g=s.pop(),s.unshift(g);return g};n.exports=x},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){var h=s.length;if(a<0||a>h||a>=g||g>h){if(u)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=x},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){var g=s.indexOf(a);return g!==-1&&g>0&&(s.splice(g,1),s.unshift(a)),a};n.exports=x},17810:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82011),g=function(u,h,l,o,d){if(o===void 0&&(o=0),d===void 0&&(d=u.length),a(u,o,d))for(var v=o;v<d;v++){var c=u[v];c.hasOwnProperty(h)&&(c[h]=l)}return u};n.exports=g},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=s.length-1;a>0;a--){var g=Math.floor(Math.random()*(a+1)),u=s[a];s[a]=s[g],s[g]=u}return s};n.exports=x},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a=/\D/g;return s.sort(function(g,u){return parseInt(g.replace(a,""),10)-parseInt(u.replace(a,""),10)}),s};n.exports=x},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){if(!(a>=s.length)){for(var g=s.length-1,u=s[a],h=a;h<g;h++)s[h]=s[h+1];return s.length=g,u}};n.exports=x},19186:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(82264);function g(o,d){return String(o).localeCompare(d)}function u(o,d){var v=o.length;if(v<=1)return o;for(var c=new Array(v),p=1;p<v;p*=2){h(o,d,p,c);var y=o;o=c,c=y}return o}function h(o,d,v,c){var p=o.length,y=0,m=v*2,C,T,E,w,P;for(C=0;C<p;C+=m)for(T=C+v,E=T+v,T>p&&(T=p),E>p&&(E=p),w=C,P=T;;)if(w<T&&P<E)d(o[w],o[P])<=0?c[y++]=o[w++]:c[y++]=o[P++];else if(w<T)c[y++]=o[w++];else if(P<E)c[y++]=o[P++];else break}var l=function(o,d){if(d===void 0&&(d=g),!o||o.length<2)return o;if(a.features.stableSort)return o.sort(d);var v=u(o,d);return v!==o&&h(v,null,o.length,o),o};n.exports=l},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(a===g)return s;var u=s.indexOf(a),h=s.indexOf(g);if(u<0||h<0)throw new Error("Supplied items must be elements of the same array");return s[u]=g,s[h]=a,s};n.exports=x},37105:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:s(54915),Add:s(71146),AddAt:s(51067),BringToTop:s(66905),CountAllMatching:s(21612),Each:s(95428),EachInRange:s(36914),FindClosestInSorted:s(81957),Flatten:s(43491),GetAll:s(46710),GetFirst:s(58731),GetRandom:s(26546),MoveDown:s(70864),MoveTo:s(69693),MoveUp:s(40853),MoveAbove:s(85835),MoveBelow:s(83371),NumberArray:s(20283),NumberArrayStep:s(593),QuickSelect:s(43886),Range:s(88492),Remove:s(72905),RemoveAt:s(60248),RemoveBetween:s(81409),RemoveRandomElement:s(31856),Replace:s(42169),RotateLeft:s(86003),RotateRight:s(49498),SafeRange:s(82011),SendToBack:s(89545),SetAll:s(17810),Shuffle:s(33680),SortByDigits:s(90126),SpliceOne:s(19133),StableSort:s(19186),Swap:s(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(!Array.isArray(s)||!Array.isArray(s[0]))return!1;for(var a=s[0].length,g=1;g<s.length;g++)if(s[g].length!==a)return!1;return!0};n.exports=x},63362:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41836),g=s(86922),u=function(h){var l="";if(!g(h))return l;for(var o=0;o<h.length;o++){for(var d=0;d<h[o].length;d++){var v=h[o][d].toString();v!=="undefined"?l+=a(v,2):l+="?",d<h[o].length-1&&(l+=" |")}if(o<h.length-1){l+=`
`;for(var c=0;c<h[o].length;c++)l+="---",c<h[o].length-1&&(l+="+");l+=`
`}}return l};n.exports=u},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.reverse()};n.exports=x},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=0;a<s.length;a++)s[a].reverse();return s};n.exports=x},98717:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37829),g=function(u){return a(u,180)};n.exports=g},44657:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37829),g=function(u,h){h===void 0&&(h=1);for(var l=0;l<h;l++)u=a(u,90);return u};n.exports=g},37829:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(86922),g=s(2429),u=function(h,l){if(l===void 0&&(l=90),!a(h))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")h=g(h),h.reverse();else if(l===-90||l===270||l==="rotateRight")h.reverse(),h=g(h);else if(Math.abs(l)===180||l==="rotate180"){for(var o=0;o<h.length;o++)h[o].reverse();h.reverse()}return h};n.exports=u},92632:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(37829),g=function(u,h){h===void 0&&(h=1);for(var l=0;l<h;l++)u=a(u,-90);return u};n.exports=g},69512:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(86003),g=s(49498),u=function(h,l,o){if(l===void 0&&(l=0),o===void 0&&(o=0),o!==0&&(o<0?a(h,Math.abs(o)):g(h,o)),l!==0)for(var d=0;d<h.length;d++){var v=h[d];l<0?a(v,Math.abs(l)):g(v,l)}return h};n.exports=u},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){for(var a=s.length,g=s[0].length,u=new Array(g),h=0;h<g;h++){u[h]=new Array(a);for(var l=a-1;l>-1;l--)u[h][l]=s[l][h]}return u};n.exports=x},54915:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:s(86922),MatrixToString:s(63362),ReverseColumns:s(92598),ReverseRows:s(21224),Rotate180:s(98717),RotateLeft:s(44657),RotateMatrix:s(37829),RotateRight:s(92632),Translate:s(69512),TransposeMatrix:s(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(a,g){for(var u=new Uint8Array(a),h=u.length,l=g?"data:"+g+";base64,":"",o=0;o<h;o+=3)l+=x[u[o]>>2],l+=x[(u[o]&3)<<4|u[o+1]>>4],l+=x[(u[o+1]&15)<<2|u[o+2]>>6],l+=x[u[o+2]&63];return h%3===2?l=l.substring(0,l.length-1)+"=":h%3===1&&(l=l.substring(0,l.length-2)+"=="),l};n.exports=s},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=new Uint8Array(256),a=0;a<x.length;a++)s[x.charCodeAt(a)]=a;var g=function(u){u=u.substr(u.indexOf(",")+1);var h=u.length,l=h*.75,o=0,d,v,c,p;u[h-1]==="="&&(l--,u[h-2]==="="&&l--);for(var y=new ArrayBuffer(l),m=new Uint8Array(y),C=0;C<h;C+=4)d=s[u.charCodeAt(C)],v=s[u.charCodeAt(C+1)],c=s[u.charCodeAt(C+2)],p=s[u.charCodeAt(C+3)],m[o++]=d<<2|v>>4,m[o++]=(v&15)<<4|c>>2,m[o++]=(c&3)<<6|p&63;return y};n.exports=g},65839:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:s(71334),Base64ToArrayBuffer:s(53134)}},91799:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:s(37105),Base64:s(65839),Objects:s(1183),String:s(31749),NOOP:s(29747),NULL:s(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a={};for(var g in s)Array.isArray(s[g])?a[g]=s[g].slice(0):a[g]=s[g];return a};n.exports=x},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){var a,g,u;if(typeof s!="object"||s===null)return s;a=Array.isArray(s)?[]:{};for(u in s)g=s[u],a[u]=x(g);return a};n.exports=x},79291:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41212),g=function(){var u,h,l,o,d,v,c=arguments[0]||{},p=1,y=arguments.length,m=!1;for(typeof c=="boolean"&&(m=c,c=arguments[1]||{},p=2),y===p&&(c=this,--p);p<y;p++)if((u=arguments[p])!=null)for(h in u)l=c[h],o=u[h],c!==o&&(m&&o&&(a(o)||(d=Array.isArray(o)))?(d?(d=!1,v=l&&Array.isArray(l)?l:[]):v=l&&a(l)?l:{},c[h]=g(m,v,o)):o!==void 0&&(c[h]=o));return c};n.exports=g},23568:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(75508),g=s(35154),u=function(h,l,o){var d=g(h,l,null);if(d===null)return o;if(Array.isArray(d))return a.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return a.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return a.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(l);return d};n.exports=u},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){var u=typeof s;return!s||u==="number"||u==="string"?g:s.hasOwnProperty(a)&&s[a]!==void 0?s[a]:g};n.exports=x},82840:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(35154),g=s(45319),u=function(h,l,o,d,v){v===void 0&&(v=o);var c=a(h,l,v);return g(c,o,d)};n.exports=u},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){if(!s&&!u||typeof s=="number")return g;if(s&&s.hasOwnProperty(a))return s[a];if(u&&u.hasOwnProperty(a))return u[a];if(a.indexOf(".")!==-1){for(var h=a.split("."),l=s,o=u,d=g,v=g,c=!0,p=!0,y=0;y<h.length;y++)l&&l.hasOwnProperty(h[y])?(d=l[h[y]],l=l[h[y]]):c=!1,o&&o.hasOwnProperty(h[y])?(v=o[h[y]],o=o[h[y]]):p=!1;return c?d:p?v:g}else return g};n.exports=x},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=0;g<a.length;g++)if(!s.hasOwnProperty(a[g]))return!1;return!0};n.exports=x},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){for(var g=0;g<a.length;g++)if(s.hasOwnProperty(a[g]))return!0;return!1};n.exports=x},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.hasOwnProperty(a)};n.exports=x},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){if(!s||typeof s!="object"||s.nodeType||s===s.window)return!1;try{if(s.constructor&&!{}.hasOwnProperty.call(s.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=x},46975:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(u,h){var l=a(u);for(var o in h)l.hasOwnProperty(o)||(l[o]=h[o]);return l};n.exports=g},269:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(41786),g=function(u,h){var l=a(u);for(var o in h)l.hasOwnProperty(o)&&(l[o]=h[o]);return l};n.exports=g},18254:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=s(97022),g=function(u,h){for(var l={},o=0;o<h.length;o++){var d=h[o];a(u,d)&&(l[d]=u[d])}return l};n.exports=g},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g){if(!s||typeof s=="number")return!1;if(s.hasOwnProperty(a))return s[a]=g,!0;if(a.indexOf(".")!==-1){for(var u=a.split("."),h=s,l=s,o=0;o<u.length;o++)if(h.hasOwnProperty(u[o]))l=h,h=h[u[o]];else return!1;return l[u[u.length-1]]=g,!0}return!1};n.exports=x},1183:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:s(41786),DeepCopy:s(62644),Extend:s(79291),GetAdvancedValue:s(23568),GetFastValue:s(95540),GetMinMaxValue:s(82840),GetValue:s(35154),HasAll:s(69036),HasAny:s(1985),HasValue:s(97022),IsPlainObject:s(41212),Merge:s(46975),MergeRight:s(269),Pick:s(18254),SetValue:s(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return s.replace(/%([0-9]+)/g,function(g,u){return a[Number(u)-1]})};n.exports=x},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a,g,u){a===void 0&&(a=0),g===void 0&&(g=" "),u===void 0&&(u=3),s=s.toString();var h=0;if(a+1>=s.length)switch(u){case 1:s=new Array(a+1-s.length).join(g)+s;break;case 3:var l=Math.ceil((h=a-s.length)/2),o=h-l;s=new Array(o+1).join(g)+s+new Array(l+1).join(g);break;default:s=s+new Array(a+1-s.length).join(g);break}return s};n.exports=x},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s,a){return a===0?s.slice(1):s.slice(0,a-1)+s.slice(a)};n.exports=x},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s.split("").reverse().join("")};n.exports=x},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var a=Math.random()*16|0,g=s==="x"?a:a&3|8;return g.toString(16)})};n.exports=x},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var x=function(s){return s&&s[0].toUpperCase()+s.slice(1)};n.exports=x},31749:(n,x,s)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2024 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:s(27902),Pad:s(41836),RemoveAt:s(33628),Reverse:s(27671),UppercaseFirst:s(35355),UUID:s(45650)}}},r={};function f(n){var x=r[n];if(x!==void 0)return x.exports;var s=r[n]={exports:{}};return i[n](s,s.exports,f),s.exports}f.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=f(85454);return S})())})(AM);var ly=AM.exports;const ae=vv(ly);class uy{constructor(){this.jigs=he()}hydratePlayer(t){return this.jigs.playerStats=t.data[0].value.player,this.jigs.health=t.data[0].value.health,this.jigs.energy=t.data[0].value.energy,this.jigs.playerId=parseInt(t.data[0].value.player.id),this.jigs.profileId=parseInt(t.data[0].value.player.profileId),this.jigs.playerName=t.data[0].value.player.name,this.jigs.playerSwitches=t.data[0].value.player.flickedSwitches,this.jigs.userMapGrid=t.data[0].value.player.userMG,t}hydrateMap(t,i){this.jigs.tiled=parseInt(t.data[0].value.MapGrid.tiled),this.jigs.soundtrack=t.data[0].value.MapGrid.soundtrack,this.jigs.mapWidth=parseInt(t.data[0].value.MapGrid.mapWidth),this.jigs.mapHeight=parseInt(t.data[0].value.MapGrid.mapHeight),this.jigs.portalsArray=t.data[0].value.MapGrid.portalsArray,t.data[0].value.MapGrid.switchesArray&&(this.jigs.switchesArray=t.data[0].value.MapGrid.switchesArray),this.jigs.dialogueArray=t.data[0].value.MapGrid.dialogueArray,this.jigs.fireArray=t.data[0].value.MapGrid.fireArray,this.jigs.fireBarrelsArray=t.data[0].value.MapGrid.fireBarrelsArray,this.jigs.leverArray=t.data[0].value.MapGrid.leverArray,this.jigs.machineArray=t.data[0].value.MapGrid.machineArray,this.jigs.crystalArray=t.data[0].value.MapGrid.crystalArray,this.jigs.foliosArray=t.data[0].value.MapGrid.foliosArray,this.jigs.wallsArray=t.data[0].value.MapGrid.wallsArray,this.jigs.npcArray=t.data[0].value.MapGrid.npcArray,i&&(this.jigs.mobArray=t.data[0].value.MapGrid.mobArray),this.jigs.bossesArray=t.data[0].value.MapGrid.bossesArray,this.jigs.rewardsArray=t.data[0].value.MapGrid.rewardsArray,this.jigs.nodeTitle=t.data[0].value.MapGrid.name,this.jigs.tilesetArray_1=t.data[0].value.MapGrid.tileset.tilesetArray_1,this.jigs.tilesetArray_2=t.data[0].value.MapGrid.tileset.tilesetArray_2,this.jigs.tilesetArray_3=t.data[0].value.MapGrid.tileset.tilesetArray_3,this.jigs.tilesetArray_4=t.data[0].value.MapGrid.tileset.tilesetArray_4,this.jigs.city=t.data[0].value.City,this.jigs.debug=parseInt(t.data[0].value.gameConfig.Debug),this.jigs.content=t.data[0].value.gameConfig.Body.replaceAll("</p><p>",`
`).replaceAll(/(<([^>]+)>)/ig,""),this.jigs.missionSwitchesArray=t.data[0].value.missionSwitches,t.data[0].value.MapGrid.cutscene&&(this.jigs.cutscene=t.data[0].value.MapGrid.cutscene,this.jigs.cutscenePosition=0)}hydrateMission(t){this.jigs.title=t.data[0].value.title,this.jigs.missionHandlerDialog=t.data[0].value.handler_dialog;let i={text:"No I am not ready.",value:0},r={text:t.data[0].value.choice,value:t.data[0].value.value};this.jigs.choice=new Array,this.jigs.choice.push(r),this.jigs.choice.push(i)}hydrateSwitches(t,i){this.jigs.switchesArray.push(i)}hydrateCutscene(t){this.jigs.content=t.data[0].value.dialog,t.data[0].value.missionCompleteDialog&&(this.jigs.missionCompleteDialog=t.data[0].value.missionCompleteDialog)}}class mX extends ae.Scene{constructor(){super({key:"SceneSelector"}),this.jigs=he(),this.hydrater=new uy}preload(){this.cameras.main.setBackgroundColor(0),this.load.image("enter","/assets/images/game-home.png")}create(){this.updatePlayerData(),this.scene.launch("HudScene"),this.image=this.add.image(480,320,"enter").setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}).on("pointerdown",()=>{console.log("switch"),this.game.scene.switch("SceneSelector","MainScene")})}updatePlayerData(){ze.get("/states/myplayer?_wrapper_format=drupal_ajax").then(t=>{this.hydrater.hydratePlayer(t),ze.get("/states/mystate?_wrapper_format=drupal_ajax&mapGrid="+this.jigs.userMapGrid).then(i=>{console.log(i),this.hydrater.hydrateMap(i,1)})}).then(()=>{this.events.emit("content")})}}class dy extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f,S,n){super(t,i,r,"star"),this.path=new ae.Curves.Ellipse(i,r,f,S),this.pathIndex=0,this.pathSpeed=n,this.pathVector=new ae.Math.Vector2,this.setDepth(7),this.path.getPoint(0,this.pathVector),this.setPosition(this.pathVector.x,this.pathVector.y)}preUpdate(t,i){super.preUpdate(t,i),this.path.getPoint(this.pathIndex,this.pathVector),this.setPosition(this.pathVector.x,this.pathVector.y),this.pathIndex=ae.Math.Wrap(this.pathIndex+this.pathSpeed,0,1)}update(t,i){this.path.x=t,this.path.y=i}}class xX{constructor(t,i,r){this.dronesGroup=t.physics.add.group({allowGravity:!1}),this.dronesGroup.add(new dy(t,i,r,100,100,.005),!0),this.dronesGroup.add(new dy(t,i,r,40,100,.005),!0),this.dronesGroup.add(new dy(t,i,r,40,100,-.005),!0),t.events.on("position",this.handler,this)}handler(t,i){this.dronesGroup.children&&this.dronesGroup.children.each(function(r){r.update(t,i)},this)}}class yX extends ae.Physics.Arcade.Image{constructor(t){super(t,0,0,"bullet"),ae.Physics.Arcade.Image.call(this,t,0,0,"bullet"),t.physics.add.overlap(t.Mobs.MobContainerArray,this,this.killBullet,null,this),this.speed=400}fire(t){this.lifespan=3e3,this.setActive(!0),this.setVisible(!0),this.setDepth(7),this.setRotation(t.rotation);var i=new ae.Geom.Point(0,0);ae.Math.Rotate(i,t.rotation),this.setPosition(t.x+i.x,t.y+i.y),this.body.reset(t.x+i.y,t.y+i.y),this.body.world.scene.physics.velocityFromRotation(t.rotation,this.speed,this.body.velocity),this.body.velocity.x*=2,this.body.velocity.y*=2}killBullet(t,i){(i.bodyType="Bul")&&(console.log("kill Bullets"),i.destroy())}update(t,i){this.lifespan-=i,this.lifespan<=0&&(this.setActive(!1),this.setVisible(!1),this.body.stop())}}class CX extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f){super(t,i,r,f),this.x=i,this.y=r,this.jigs=he(),t.events.on("position",this.handler,this)}shoot(t,i){if(this.getAngle(i),this.bullets=t.physics.add.group({classType:yX,maxSize:10,runChildUpdate:!0,bodyType:"Bul"}),this.jigs.mobShoot!=0){let r=this.bullets.get();r&&(new ae.Geom.Point(0,-this.height/2),r.fire(this),this.jigs.mobShoot=0)}}getAngle(t){this.angle=Math.atan2(parseInt(t.worldY)-this.y,parseInt(t.worldX)-this.x)*180/Math.PI}loadGun(t){console.log("gun added"+t)}handler(t,i){this.setPosition(t,i)}}class SX extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f){super(t,i,r,f),this.scene=t,this.x=i,this.y=r,this.jigs=he()}strike(t){t.dir=="left"?(t.play("player-slashLeft-glowsword"),t.speed=="go"&&t.playAfterRepeat("player-walkLeft-glowsword")):t.dir=="right"?(t.play("player-slashLeft-glowsword"),t.speed=="go"&&t.playAfterRepeat("player-walkRight-glowsword")):t.dir=="up"?(t.play("player-slashUp-glowsword"),t.speed=="go"&&t.playAfterRepeat("player-walkUp-glowsword")):t.dir=="down"?(t.play("player-slashDown-glowsword"),t.speed=="go"&&t.playAfterRepeat("player-walkDown-glowsword")):t.play("player-slashDown-glowsword")}getAngle(t){this.angle=Math.atan2(parseInt(t.worldY)-this.y,parseInt(t.worldX)-this.x)*180/Math.PI}loadGun(t){console.log("gun added"+t)}}class TX{constructor(t,i,r,f){this.x=i,this.y=r,this.jigs=he(),this.torch=t.lights.addLight(i,r,200),t.events.on("position",this.handler,this.torch)}handler(t,i){this.x=t,this.y=i}}class EX{constructor(t){this.jigs=he(),this.scene=t}move(t,i,r){!this.scene.inputPayload.left&&!this.scene.inputPayload.right&&!this.scene.inputPayload.up&&!this.scene.inputPayload.down&&t.speed!="stopped"&&(t.anims.play("player-stop-glowsword"),t.speed="stopped",t.dir="stopped",t.setVelocityX(0),t.setVelocityY(0)),this.scene.inputPayload.down?(r.getTileAtWorldXY(t.x,t.y+16,!0)?t.setVelocityY(i):t.y+=i,t.dir!="down"&&(t.anims.play("player-walkDown-glowsword"),t.dir="down",t.speed="go")):this.scene.inputPayload.up?(r.getTileAtWorldXY(t.x,t.y-16,!0)?t.setVelocityY(-i):t.y-=i,t.dir!="up"&&(t.anims.play("player-walkUp-glowsword"),t.dir="up",t.speed="go")):this.scene.inputPayload.right?(r.getTileAtWorldXY(t.x+16,t.y,!0)?t.setVelocityX(i):t.x+=i,t.dir!="right"&&(t.anims.play("player-walkRight-glowsword"),t.dir="right",t.speed="go")):this.scene.inputPayload.left&&(r.getTileAtWorldXY(t.x-16,t.y,!0)?t.setVelocityX(-i):t.x-=i,t.dir!="left"&&(t.anims.play("player-walkLeft-glowsword"),t.dir="left",t.speed="go")),t.speed=="go"&&(this.scene.walkSound.isPlaying||this.scene.walkSound.play()),this.boundaryTest(t)}boundaryTest(t){t.x<=20&&(t.x=20),t.y<=20&&(t.y=20),t.x>=this.jigs.mapWidth*16&&(t.x=this.jigs.mapWidth*16),t.y>=this.jigs.mapHeight*16&&(t.y=this.jigs.mapHeight*16)}}let PX=class{constructor(t,i,r){this.scene=t,this.player=r,this.jigs=he(),this.playerMovement=new EX(t),this.staticNum=0,this.entity=t.physics.add.sprite(r.x,r.y,this.jigs.playerStats.sprite_sheet).setDepth(7).setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}).on("pointerdown",this.onPlayerDown.bind(t)).setScale(.85)}add(){this.x=this.player.x,this.y=this.player.y,this.light=new TX(this.scene,this.player.x,this.player.y,null),this.gun=new CX(this.scene,this.player.x,this.player.y,"gun"),this.sword=new SX(this.scene,this.player.x,this.player.y,null),this.drones=new xX(this.scene,this.player.x,this.player.y),this.scene.lights.enable().setAmbientColor(5592405),this.scene.physics.add.existing(this.entity),this.scene.physics.world.enable([this.entity]),this.scene.cameras.main.startFollow(this.entity),this.scene.currentPlayer=this.entity,this.jigs.debug&&(this.scene.localRef=this.scene.add.rectangle(0,0,32,40).setDepth(7),this.scene.localRef.setStrokeStyle(1,65280),this.scene.remoteRef=this.scene.add.rectangle(0,0,32,40).setDepth(8),this.scene.remoteRef.setStrokeStyle(1,16711680)),this.player.onChange(()=>{this.jigs.debug&&(this.scene.remoteRef.x=this.player.x,this.scene.remoteRef.y=this.player.y,this.scene.localRef.x=this.scene.currentPlayer.x,this.scene.localRef.y=this.scene.currentPlayer.y),this.lerp(this.player)});var t=this.scene.cameras.main;t.setBounds(0,0,this.jigs.mapWidth*16,this.jigs.mapHeight*16),this.scene.key_left=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.LEFT),this.scene.key_right=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.RIGHT),this.scene.key_up=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.UP),this.scene.key_down=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.DOWN),this.scene.keyW=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.W),this.scene.keyA=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.A),this.scene.keyS=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.S),this.scene.keyD=this.scene.input.keyboard.addKey(ae.Input.Keyboard.KeyCodes.D),this.scene.input.on("pointerdown",i=>{this.sword.strike(this.scene.currentPlayer),this.gun.shoot(this.scene,i),this.scene.inputPayload.inputX=parseInt(i.worldX),this.scene.inputPayload.inputY=parseInt(i.worldY)})}onPlayerDown(){this.jigs.playerState="dead",this.jigs.room.leave(),this.scene.switch("main","DeadScene")}updatePlayer(){this.jigs.leave==1&&(this.jigs.leave=0,this.jigs.room.leave());const t=80;this.scene.inputPayload.left=this.scene.cursorKeys.left.isDown||this.scene.keyA.isDown,this.scene.inputPayload.right=this.scene.cursorKeys.right.isDown||this.scene.keyD.isDown,this.scene.inputPayload.up=this.scene.cursorKeys.up.isDown||this.scene.keyW.isDown,this.scene.inputPayload.down=this.scene.cursorKeys.down.isDown||this.scene.keyS.isDown,this.scene.inputPayload.tick=this.scene.currentTick,this.scene.inputPayload.mobClick=this.jigs.mobClick,this.scene.jigs.room.send&&this.scene.jigs.room.send!==void 0&&this.jigs.playerState=="alive"&&this.scene.jigs.room.send(0,this.scene.inputPayload),!(!this.scene.currentPlayer.anims||this.jigs.playerState!="alive")&&(this.playerMovement.move(this.scene.currentPlayer,t,this.scene.colliderMap),this.jigs.mobClick=0,this.scene.events.emit("position",this.scene.currentPlayer.x,this.scene.currentPlayer.y))}async lerp(t){this.staticNum==0&&(this.staticNum=1,this.scene.currentPlayer.y>this.y&&this.scene.currentPlayer.setVelocityY((this.scene.currentPlayer.y-t.y)*-1.9),this.scene.currentPlayer.y<this.y&&this.scene.currentPlayer.setVelocityY((this.scene.currentPlayer.y-t.y)*-1.9),this.scene.currentPlayer.x>this.x&&this.scene.currentPlayer.setVelocityX((this.scene.currentPlayer.x-t.x)*-1.9),this.scene.currentPlayer.x<this.x&&this.scene.currentPlayer.setVelocityX((this.scene.currentPlayer.x-t.x)*-1.9),await this.skip(500),this.staticNum=0)}skip(t){return new Promise(i=>{setTimeout(()=>{i("resolved")},t)})}};class wX{constructor(t,i){this.scene=t,this.player=i,this.lastDirection=void 0}add(){const t=ae.Display.Color.HSVColorWheel(),i=ae.Math.Between(0,359);this.entity=this.scene.physics.add.sprite(this.player.x,this.player.y,"otherPlayer").setDepth(5).setScale(.85),this.entity.setTint(t[i].color),this.player.onChange(()=>{this.entity.setData("serverX",this.player.x),this.entity.setData("serverY",this.player.y),this.entity.setData("serverDirection",this.player.direction)})}update(){if(this.entity.data){const{serverX:t,serverY:i,serverDirection:r}=this.entity.data.values;this.entity.x=ae.Math.Linear(this.entity.x,t,.2),this.entity.y=ae.Math.Linear(this.entity.y,i,.2),this.updateDirection(r)}}updateDirection(t){t==this.lastDirection||t==null||(this.entity.anims.play("player-walk"+t+"-glowsword"),this.lastDirection=t)}}class RM{initMessages(t){t.jigs.room.onMessage("portal",i=>{Promise.resolve(t.jump()),t.jigs.tiled=i}),t.jigs.room.onMessage("collide",i=>{let r=0;for(;r<t.jigs.mobArray.length;)r++}),t.jigs.room.onMessage("dead",i=>{console.log("dead"),t.jigs.playerState!="dead"&&t.currentPlayer.anims.play("hurt_"+t.jigs.playerStats.sprite_sheet),t.jigs.playerState="dead"}),t.jigs.room.onMessage("reward",i=>{t.jigs.playerStats.credits++}),t.jigs.room.onMessage("player hit",i=>{}),t.jigs.room.onMessage("struck",i=>{console.log("struck:"+i),t.jigs.playerStats.health=i}),t.jigs.room.onMessage("zombie dead",i=>{let r=0;for(;r<t.jigs.mobArray.length;)t.jigs.mobArray[r][1]==i&&t.Mobs.SceneMobArray[r].play("Zombie-Green-hurt-default"),r++}),t.jigs.room.onMessage("remove-reward",i=>{let r=0;for(;r<t.rewardsArray.length;)t.rewardsArray[r].ref==i,r++}),t.jigs.room.onStateChange(i=>{}),t.jigs.room.onStateChange.once(i=>{}),t.jigs.room.state.mobResult.onChange((i,r)=>{let f=0;for(;f<t.jigs.mobArray.length;)t.jigs.mobArray[f][1]==r&&(t.jigs.mobArray[f][2]=parseInt(i.field_x_value),t.jigs.mobArray[f][3]=parseInt(i.field_y_value),t.jigs.mobArray[f][6]=parseInt(i.health),t.jigs.mobArray[f][7]=i.direction),f++}),t.jigs.room.state.bossResult.onChange((i,r)=>{let f=0;for(;f<t.jigs.bossesArray.length;)t.jigs.bossesArray[f].target==r&&(t.jigs.bossesArray[f].x=parseInt(i.x),t.jigs.bossesArray[f].y=parseInt(i.y),t.jigs.bossesArray[f].health=parseInt(i.health),t.jigs.bossesArray[f].direction=i.direction),f++})}}class bX extends ae.Physics.Arcade.Sprite{constructor(t,i){super(t,100,100,"reward"),this.ref=i.ref,this.jigs=he(),t.physics.add.sprite(parseInt(i.x),parseInt(i.y),"reward").setDepth(5).setScale(.75),this.setTexture("reward"),this.setDepth(5),this.setInteractive({cursor:"url(/assets/images/cursors/point.cur), pointer"}),this.setPosition(parseInt(i.x),parseInt(i.y)),this.loadReward(this.ref)}loadReward(t){console.log("reward added:"+t)}}class MX{constructor(){this.jigs=he()}add(t){this.rewardsGroup=t.physics.add.group({allowGravity:!1});let i=0;if(typeof this.jigs.rewardsArray<"u")for(;i<this.jigs.rewardsArray.length;)t.rewardsArray[i]=new bX(this,this.jigs.rewardsArray[i]),this.rewardsGroup.add(t.rewardsArray[i],!0),i++}}class AX{constructor(){this.jigs=he()}loadLayers(t){var i=t.make.tilemap({key:t.jigs.city+"_"+t.jigs.tiled,tileWidth:32,tileHeight:32});this.jigs.tilesetArray_1.forEach(function(f){i.addTilesetImage(f)},this),this.jigs.tilesetArray_2.forEach(function(f){i.addTilesetImage(f)},this),this.jigs.tilesetArray_3.forEach(function(f){i.addTilesetImage(f)},this),this.jigs.tilesetArray_4.forEach(function(f){i.addTilesetImage(f)},this),t.colliderMap=i.createLayer("Tile Layer 1",this.jigs.tilesetArray_1).setDepth(1),i.createLayer("Tile Layer 2",this.jigs.tilesetArray_2).setDepth(2).setPipeline("Light2D"),i.createLayer("Tile Layer 3",this.jigs.tilesetArray_3).setDepth(3).setPipeline("Light2D"),i.createLayer("Tile Layer 4",this.jigs.tilesetArray_4).setDepth(5).setPipeline("Light2D"),t.animatedTiles.init(i)}}const RX=(e,t)=>{i();function i(){console.log(t+"-walk"),e.create({key:t+"-walkDown",frames:e.generateFrameNumbers("boss_"+t,{frames:[0,1,2]}),frameRate:12,repeat:-1}),e.create({key:t+"-walkLeft",frames:e.generateFrameNumbers("boss_"+t,{frames:[3,4,5]}),frameRate:12,repeat:-1}),e.create({key:t+"-walkRight",frames:e.generateFrameNumbers("boss_"+t,{frames:[6,7,8]}),frameRate:12,repeat:-1}),e.create({key:t+"-walkUp",frames:e.generateFrameNumbers("boss_"+t,{frames:[9,10,11]}),frameRate:12,repeat:-1})}},Xv=(e,t,i)=>{const r=["Lizard-Green"],f=["Lizard-Bright-Green"],S=["Lizard-Topaz"];r.includes(t)&&(n("saber","saber"),a("saber","saber"),x("saber","saber"),s("default"),g("saber","slash-oversize")),f.includes(t)&&(n("scimitar","128-scimitar"),a("scimitar","default"),s("default"),g("scimitar","slash-128"),x("scimitar","128-scimitar")),S.includes(t)&&(n("flail","flail"),x("flail","flail"),a("flail","flail")),t=="npc"&&(t="npc"+i,console.log("define npc: "+t),x("default","default")),t=="player"&&(console.log("load player anims"),n("rapier","rapier"),n("glowsword","glowsword"),n("axe","axe"),a("rapier","rapier"),a("glowsword","default"),a("axe","axe"),s("default"),g("axe","slash-oversize"),g("rapier","slash-oversize"),g("glowsword","slash-oversize"),x("axe","axe"),x("rapier","rapier"),x("glowsword","glowsword")),t=="Zombie-Green"&&(console.log("define zombie: "+t),n("default","default"),x("default","default"),a("default","default"));function n(u,h){console.log("*************************"+t+"-walk-"+h),e.create({key:t+"-walkUp-"+u,frames:e.generateFrameNumbers(t+"-walk-"+h,{frames:[0,1,2,3,4,5,6,7,8]}),frameRate:12,repeat:-1}),e.create({key:t+"-walkLeft-"+u,frames:e.generateFrameNumbers(t+"-walk-"+h,{frames:[9,10,11,12,13,14,15,16,17]}),frameRate:12,repeat:-1}),e.create({key:t+"-walkDown-"+u,frames:e.generateFrameNumbers(t+"-walk-"+h,{frames:[18,19,20,21,22,23,24,25,26]}),frameRate:12,repeat:-1}),e.create({key:t+"-walkRight-"+u,frames:e.generateFrameNumbers(t+"-walk-"+h,{frames:[27,28,29,30,31,32,33,34,35]}),frameRate:12,repeat:-1})}function x(u,h){e.create({key:t+"-stop-"+u,frames:e.generateFrameNumbers(t+"-walk-"+h,{frames:[18,18,18,18]}),frameRate:12,repeat:-1})}function s(u){e.create({key:t+"-spellUp-"+u,frames:e.generateFrameNumbers(t+"-spell-"+u,{frames:[0,1,2,3,4,5,6]}),frameRate:12,repeat:-1}),e.create({key:t+"-spellLeft-"+u,frames:e.generateFrameNumbers(t+"-spell-"+u,{frames:[7,8,9,10,11,12,13]}),frameRate:12,repeat:-1}),e.create({key:t+"-spellDown-"+u,frames:e.generateFrameNumbers(t+"-spell-"+u,{frames:[14,15,16,17,18,19,20]}),frameRate:12,repeat:-1}),e.create({key:t+"-spellRight-"+u,frames:e.generateFrameNumbers(t+"-spell-"+u,{frames:[21,22,23,24,25,26,27]}),frameRate:12,repeat:-1})}function a(u,h){e.create({key:t+"-hurt-"+u,frames:e.generateFrameNumbers(t+"-hurt-"+h,{frames:[0,1,2,3,4,5]}),frameRate:12,repeat:0})}function g(u,h){console.log(t+"-slash-"+u),e.create({key:t+"-slashUp-"+u,frames:e.generateFrameNumbers(t+"-"+h+"-"+u,{frames:[0,1,2,3,4,5,0]}),frameRate:12,repeat:0}),e.create({key:t+"-slashLeft-"+u,frames:e.generateFrameNumbers(t+"-"+h+"-"+u,{frames:[6,7,8,9,10,11,6]}),frameRate:12,repeat:0}),e.create({key:t+"-slashDown-"+u,frames:e.generateFrameNumbers(t+"-"+h+"-"+u,{frames:[12,13,14,15,16,17,12]}),frameRate:12,repeat:0}),e.create({key:t+"-slashRight-"+u,frames:e.generateFrameNumbers(t+"-"+h+"-"+u,{frames:[18,19,20,21,22,23,18]}),frameRate:12,repeat:0})}},OM=(e,t,i,r)=>{let f=[],S=[];i==1&&(S=[0],f=[1]),i==2&&(S=[1,4,7,10],f=[1]),i==3&&(S=[11],f=[0,1,2,3,4,5,6,7,8]),i==4&&(S=[0,3,6,9],f=[0]),i==5&&(S=[3],f=[0,3,6,10]),i==6&&(S=[4],f=[0,1,2,3,4,5]),i==7&&(S=[6],f=[0,3,6]),i==8&&(S=[11],f=[0,1,2,3,4,5,6,7,8]),i==9&&(f=[0],S=[1,2]),e.create({key:t+"On",frames:e.generateFrameNumbers(t,{frames:f}),frameRate:12,repeat:0}),e.create({key:t+"Off",frames:e.generateFrameNumbers(t,{frames:S}),frameRate:12,repeat:0})};class OX{constructor(){this.jigs=he()}add(t){console.log("------------------------------------"),this.jigs.mobArray&&this.jigs.mobArray.forEach(function(r){t.load.spritesheet("Zombie-Green-walk-default","/assets/images/animator/Zombie-Green/walk-default.png",{frameWidth:64,frameHeight:64}),t.load.spritesheet("Zombie-Green-hurt-default","/assets/images/animator/Zombie-Green/hurt-default.png",{frameWidth:64,frameHeight:64})},this)}}class LX{constructor(){this.jigs=he()}add(t){console.log("---------------Boss Loader-------------"),this.jigs.bossesArray&&this.jigs.bossesArray.forEach(function(r){t.load.spritesheet("boss_"+r.name,"/assets/images/Level Bosses/"+r.name+".png",{frameWidth:parseInt(r.field_frame_width),frameHeight:parseInt(r.field_frame_height)})})}}class DX{constructor(){this.jigs=he()}add(t){console.log("------------NPC Loader---------------"),this.jigs.npcArray&&this.jigs.npcArray.forEach(function(r){t.load.spritesheet("npc"+r[3],"/assets/images/sprites/"+r[3]+".png",{frameWidth:64,frameHeight:64})},this)}}class FX{constructor(){this.jigs=he()}add(t){console.log("------------Tileset Loader---------------"),this.jigs.tilesetArray_1.forEach(function(r){t.textures.exists(r)||t.load.image(r,"/assets/images/System/"+r+".png")},this),this.jigs.tilesetArray_2.forEach(function(r){t.textures.exists(r)||t.load.image(r,"/assets/images/System/"+r+".png")},this),this.jigs.tilesetArray_3.forEach(function(r){t.textures.exists(r)||t.load.image(r,"/assets/images/System/"+r+".png")},this),this.jigs.tilesetArray_4!==void 0&&this.jigs.tilesetArray_4.forEach(function(r){t.textures.exists(r)||t.load.image(r,"/assets/images/System/"+r+".png")},this)}}class IX{constructor(){this.jigs=he()}add(t){console.log("------------Switch Loader---------------"),this.jigs.switchesArray&&this.jigs.switchesArray.forEach(function(r){t.load.spritesheet(r.entity_id,"/assets/images/switches/"+r.field_file_value,{frameWidth:parseInt(r.field_frame_width_value),frameHeight:parseInt(r.field_frame_height_value)})}),this.jigs.missionSwitchesArray&&this.jigs.missionSwitchesArray.forEach(function(r){t.load.spritesheet(r.entity_id,"/assets/images/switches/"+r.field_file_value,{frameWidth:parseInt(r.field_frame_width_value),frameHeight:parseInt(r.field_frame_height_value)})})}}class BX{constructor(){this.jigs=he()}add(t){console.log("------------Quest Loader---------------"),this.jigs.questsArray&&this.jigs.questsArray.forEach(function(r){t.load.spritesheet("quest_"+r.id,"/assets/images/quest/"+r.file+".png",{frameWidth:r.frameWidth,frameHeight:r.frameHeight})})}}class LM{constructor(){this.jigs=he(),this.mobLoader=new OX,this.bossLoader=new LX,this.npcLoader=new DX,this.tilesetLoader=new FX,this.switchLoader=new IX,this.questLoader=new BX}padding(t,i,r){var f=typeof r<"u"?r:"0",S=new Array(1+i).join(f);return(S+t).slice(-S.length)}load(t){t.textures,t.load.audio(this.jigs.soundtrack,"/assets/soundtracks/"+this.jigs.soundtrack+".mp3"),t.load.image("black","/assets/images/black.png"),t.load.image("pink","/assets/images/pink.png"),t.load.tilemapTiledJSON(this.jigs.city+"_"+this.jigs.tiled,"/assets/cities/json/"+this.jigs.city+this.padding(this.jigs.tiled,3,"0")+".json?"+Math.random()),this.tilesetLoader.add(t),this.npcLoader.add(t),this.mobLoader.add(t),this.bossLoader.add(t),this.switchLoader.add(t),this.questLoader.add(t),t.load.once(ae.Loader.Events.COMPLETE,()=>(new AX().loadLayers(t),Xv(t.anims,"player",null),Xv(t.anims,"otherPlayer",null),this.jigs.npcArray&&this.jigs.npcArray.forEach(function(f){Xv(t.anims,"npc",f[3])}),this.jigs.mobArray&&this.jigs.mobArray.forEach(function(f){Xv(t.anims,"Zombie-Green","default")}),this.jigs.bossesArray&&this.jigs.bossesArray.forEach(function(f){RX(t.anims,f.name)}),this.jigs.switchesArray&&this.jigs.switchesArray.forEach(function(f){OM(t.anims,f.entity_id,f.field_switch_type_value,f.field_repeatable_value)}),this.jigs.missionSwitchesArray&&this.jigs.missionSwitchesArray.forEach(function(f){console.log("creating switch anim "+f.entity_id),OM(t.anims,f.entity_id,f.field_switch_type_value,f.field_repeatable_value)}),t)),t.load.start()}}class NX extends ae.Physics.Arcade.Sprite{constructor(t,i,r){super(t,i,r,"exit"),this.setDepth(6)}}class GX{add(t){const i=t.jigs.portalsArray,r=t.physics.add.group({allowGravity:!1});for(var f=0;f<i.length;f++)console.log(i[f].destination),r.add(new NX(t,i[f].x,i[f].y),!0)}}class DM extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f,S){super(t,i,r,null),this.setDepth(7),t.add.sprite(0,0),this.setTexture(f),this.jigs=he(),S?this.play(f+"On"):(this.play(f+"Off"),this.setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"})),this.on("pointerdown",this.onSwitchDown.bind(this,f,t)),console.log("id:"+f)}onSwitchDown(t,i){console.log("switchAnim_"+t),this.play(t+"On"),t!=1&&ze.get("/flickswitch?_wrapper_format=drupal_ajax&id="+t).then(r=>{i.hydrater.hydrateCutscene(r),i.events.emit("content"),i.events.emit("Switch",t)}),console.log("switch "+t+" flicked"),this.disableInteractive()}}class kX{add(t){if(t.jigs.switchesArray){const r=t.jigs.switchesArray,f=t.physics.add.group({allowGravity:!1});for(var i=0;i<r.length;i++)f.add(new DM(t,parseInt(r[i].field_x_value),parseInt(r[i].field_y_value),r[i].entity_id,r[i].switchState),!0)}}}class VX{add(t){if(t.jigs.missionSwitchesArray){const r=t.jigs.missionSwitchesArray,f=t.physics.add.group({allowGravity:!1});for(var i=0;i<r.length;i++)f.add(new DM(t,parseInt(r[i].field_x_value),parseInt(r[i].field_y_value),r[i].entity_id,r[i].switchState),!0)}}}class zX extends ae.Physics.Arcade.Sprite{constructor(t,i){super(t,0,0,null),t.add.sprite(0,0),this.setTexture("npc"+i[3],30),this.setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}),this.setScale(.85),this.on("pointerdown",this.onNPCDown.bind(t,i,t)),this.setDepth(5),this.loadNPC(),this.hydrater=new uy}onNPCDown(t,i){console.log("who"+t),t[5]==1?ze.get("/mymission?_wrapper_format=drupal_ajax&npc="+t[6]).then(r=>{console.log("why "),r.data[0].value.liveMission?(this.jigs.content=r.data[0].value.playerMission,i.events.emit("content")):(this.hydrater.hydrateMission(r),i.events.emit("Mission",t))}):(console.log("what"+t[5]),this.jigs.npc=1,this.jigs.content=t[4],i.events.emit("content"))}loadNPC(){console.log("NPC added")}}class UX{constructor(){this.jigs=he(),this.NpcContainerArray=new Array,this.SceneNpcArray=new Array,this.SceneNpcNameArray=new Array}add(t){if(t.npcGroup=t.physics.add.group({allowGravity:!1}),typeof this.jigs.npcArray<"u"){let i=0;for(;i<this.jigs.npcArray.length;)this.NpcContainerArray[i]=t.add.container(parseInt(this.jigs.npcArray[i][1]),parseInt(this.jigs.npcArray[i][2])),this.SceneNpcArray[i]=new zX(t,this.jigs.npcArray[i]),this.SceneNpcNameArray[i]=t.add.text(10,-10,this.jigs.npcArray[i][0],{font:"12px Neutron Demo",fill:"white",fontStyle:"strong",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:1,right:1,top:1,bottom:1}),this.NpcContainerArray[i].add(this.SceneNpcArray[i]),this.NpcContainerArray[i].add(this.SceneNpcNameArray[i]),this.NpcContainerArray[i].setDepth(5),t.npcGroup.add(this.NpcContainerArray[i],!0),console.log("add container "+this.jigs.npcArray[i][0]),i++}}}class WX extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f,S){super(t,i,r,null),this.jigs=he(),t.children.add(this).play("Zombie-Green-stop-default",!0),console.log("******* setting textures: "+S),console.log("******  x: "+i),console.log("****** y: "+r),this.setInteractive({cursor:"url(/assets/images/cursors/attack.cur), pointer"}),this.setScale(.85),this.on("pointerdown",this.onMobDown.bind(this,S)),this.loadMob(f),this.setDepth(6),this.previousDirection=void 0}updateAnim(t){t==null||!this.anims.isPlaying||t==this.previousDirection||(this.anims.play("Zombie-Green-walk"+t+"-default",!0),console.log("***************************** update anim "+t),this.previousDirection=t)}onMobDown(t){this.jigs.mobClick=t,this.jigs.mobShoot=t,this.jigs.playerStats.credits++,this.jigs.debug&&console.log("mob clicked: "+t)}loadMob(t){console.log("******** mob added"+t)}}class YX{constructor(){this.jigs=he(),this.SceneMobHealthBarArray=new Array,this.MobContainerArray=new Array,this.SceneMobArray=new Array}add(t){if(this.mobGroup=t.physics.add.group({allowGravity:!1}),typeof this.jigs.mobArray<"u"){let i=0;for(;i<this.jigs.mobArray.length;)this.MobContainerArray[i]=t.add.container(parseInt(this.jigs.mobArray[i][2]),parseInt(this.jigs.mobArray[i][3])),this.SceneMobArray[i]=new WX(t,0,0,this.jigs.mobArray[i][4],this.jigs.mobArray[i][1]),t.add.existing(this.SceneMobArray[i]),this.SceneMobHealthBarArray[i]=t.add.image(0,-30,"healthBar"),this.SceneMobHealthBarArray[i].displayWidth=25,this.MobContainerArray[i].add(this.SceneMobArray[i]),this.MobContainerArray[i].add(this.SceneMobHealthBarArray[i]),this.MobContainerArray[i].setDepth(6),this.mobGroup.add(this.MobContainerArray[i],!0),i++}}updateMobs(t){let i=0;for(;i<this.MobContainerArray.length;)this.jigs.mobArray[i]!=null&&(this.MobContainerArray[i].x=this.jigs.mobArray[i][2],this.MobContainerArray[i].y=this.jigs.mobArray[i][3],this.SceneMobHealthBarArray[i].displayWidth=this.jigs.mobArray[i][6]/4,this.SceneMobArray[i].updateAnim(this.jigs.mobArray[i][7])),i++}onMobDown(t,i){this.jigs.mobClick=t[1],this.jigs.mobShoot=t[1],this.jigs.playerStats.credits++,this.jigs.debug&&console.log("mob clicked: "+t[1])}}class $X extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f,S){super(t,i,r,null),t.add.sprite(i,r),this.jigs=he(),this.setTexture("boss_"+S),this.setInteractive({cursor:"url(/assets/images/cursors/attack.cur), pointer"}),this.setScale(.85),this.on("pointerdown",this.onBossDown.bind(this,S)),this.loadBoss(S),this.setDepth(6)}updateAnim(t,i){t==null||t==this.previousDirection||(this.anims.play(i+"-walk"+t),this.previousDirection=t)}onBossDown(t){this.jigs.bossClick=t,this.jigs.bossShoot=t,this.jigs.playerStats.credits++,this.jigs.debug&&console.log("boss clicked: "+t)}loadBoss(t){console.log("boss added "+t)}}class XX{constructor(){this.jigs=he(),this.SceneBossHealthBarArray=new Array,this.BossContainerArray=new Array,this.SceneBossArray=new Array}add(t){if(this.bossGroup=t.physics.add.group({allowGravity:!1}),typeof this.jigs.bossesArray<"u"){let i=0;for(;i<this.jigs.bossesArray.length;)this.BossContainerArray[i]=t.add.container(parseInt(this.jigs.bossesArray[i].x),parseInt(this.jigs.bossesArray[i].y)),this.SceneBossArray[i]=new $X(t,0,0,this.jigs.bossesArray[i].name,this.jigs.bossesArray[i].name),t.add.existing(this.SceneBossArray[i]),this.SceneBossHealthBarArray[i]=t.add.image(0,-30,"healthBar"),this.SceneBossHealthBarArray[i].displayWidth=25,this.BossContainerArray[i].add(this.SceneBossArray[i]),this.BossContainerArray[i].add(this.SceneBossHealthBarArray[i]),this.BossContainerArray[i].setDepth(6),this.bossGroup.add(this.BossContainerArray[i],!0),i++}}updateBosses(t){let i=0;for(;i<this.BossContainerArray.length;)this.jigs.bossesArray[i]!=null&&(this.BossContainerArray[i].x=this.jigs.bossesArray[i].x,this.BossContainerArray[i].y=this.jigs.bossesArray[i].y,this.SceneBossHealthBarArray[i].displayWidth=100/4,this.SceneBossArray[i].updateAnim(this.jigs.bossesArray[i].direction,this.jigs.bossesArray[i].name)),i++}onBossDown(t,i){this.jigs.bossClick=t[1],this.jigs.bossShoot=t[1],this.jigs.playerStats.credits++,this.jigs.debug&&console.log("boss clicked: "+t[1])}}class HX extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f,S){super(t,parseInt(i),parseInt(r),"black"),this.setDisplaySize(parseInt(f),parseInt(S)),this.setDepth(7),this.wallWidth=f,this.wallHeight=S,this.x=i,this.y=r,this.jigs=he(),this.setVisible(this.jigs.debug),this.alpha=.5,this.setTexture("black"),this.jigs.debug&&this.do_something_special()}do_something_special(){this.setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}),this.on("pointerdown",this.onWallDown.bind(this))}onWallDown(){console.log("X: "+this.x+" Y: "+this.y+"Width: "+this.wallWidth+" Height: "+this.wallHeight)}}class KX{constructor(){this.jigs=he()}add(t){const i=this.jigs.wallsArray;this.walls=t.physics.add.staticGroup({allowGravity:!1});for(var r=0;r<i.length;r++){const f=new HX(t,i[r].x,i[r].y,i[r].width,i[r].height);this.walls.add(f,!0),t.physics.add.existing(f)}}}class jX extends ae.Physics.Arcade.Sprite{constructor(t,i,r,f){super(t,i,r,"book"),this.jigs=he(),this.mainScene=t,this.setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}),this.on("pointerdown",this.onFolioDown.bind(this,this.mainScene,f)),this.setDepth(6)}onFolioDown(t,i){console.log("Book read"),this.jigs.folioClicked=i,t.scene.switch("CutScene","HudScene")}}class JX{add(t){const i=t.jigs.foliosArray,r=t.physics.add.group({allowGravity:!1});for(var f=0;f<i.length;f++)r.add(new jX(t,i[f].x,i[f].y,i[f].id),!0)}}class ZX extends ae.Scene{constructor(){super({key:"MainScene"}),this.playerEntities={},this.inputPayload={left:!1,right:!1,up:!1,down:!1,tick:void 0,mobClick:0},this.elapsedTime=0,this.fixedTimeStep=1e3/60,this.portal=[],this.currentTick=0,this.jigs=he(),this.client=new ty.Client(lX),this.Portals=new GX,this.WorldSwitches=new kX,this.MissionSwitches=new VX,this.Walls=new KX,this.NPCs=new UX,this.Mobs=new YX,this.Bosses=new XX,this.Rewards=new MX,this.Folio=new JX,this.messenger=new RM,this.hydrater=new uy}preload(){this.Loader=new LM,this.Loader.load(this),this.load.scenePlugin("AnimatedTiles","/assets/AnimatedTiles.js","animatedTiles","animatedTiles")}async create(){if(this.cursorKeys=this.input.keyboard.createCursorKeys(),this.input.setDefaultCursor("url(/assets/images/cursors/blank.cur), pointer"),this.debugFPS=this.add.text(4,4,"",{color:"#ff0000"}),this.jigs.room=await this.client.joinOrCreate(this.jigs.city+"-"+this.padding(this.jigs.tiled,3,0),{playerId:this.jigs.playerId,profileId:this.jigs.profileId}),this.messenger=new RM,console.log("------------------room--------------------"+this.jigs.room),console.log("***** joined successfully *****************"+this.jigs.room),this.jigs.room==null){console.log("undefined room "),this.scene.start("DeadScene");return}console.log("**************** Init Messages ************"+this.jigs.room),this.walkSound=this.sound.add("walk",{volume:.1}),this.soundtrack=this.sound.add(this.jigs.soundtrack,{volume:.6}),this.soundtrack.play(),this.messenger.initMessages(this),this.jigs.room.state.players.onAdd((t,i)=>{var r;if(i===this.jigs.room.sessionId)this.jigs.localPlayer=new PX(this,this.jigs.room,t),this.jigs.playerState="alive",this.jigs.dialogueArray&&(this.jigs.content=this.jigs.dialogueArray),this.jigs.cutscene[0].dialog_line&&this.events.emit("cutscene"),this.Portals.add(this),this.Rewards.add(this),this.Mobs.add(this),this.NPCs.add(this),this.Bosses.add(this),this.WorldSwitches.add(this),this.MissionSwitches.add(this),this.Walls.add(this),this.Folio.add(this),this.jigs.localPlayer.add(),this.playerEntities[i]=r;else{const f=new wX(this,t);f.add(),this.playerEntities[i]=f}}),this.jigs.room.state.players.onRemove((t,i)=>{const r=this.playerEntities[i];r&&(r.entity.destroy(),delete this.playerEntities[i])})}jump(){this.updatePlayerData(),this.soundtrack.stop()}updatePlayerData(){return new Promise(t=>{ze.get("/states/myplayer?_wrapper_format=drupal_ajax").then(i=>{this.hydrater.hydratePlayer(i),this.updateMapData()})})}updateMapData(){return new Promise(t=>{ze.get("/states/mystate?_wrapper_format=drupal_ajax&mapGrid="+this.jigs.userMapGrid).then(i=>{this.hydrater.hydrateMap(i,1)}).then(i=>{var r=new LM;r.load(this),this.jigs.room.leave(),this.scene.start("main")})})}async connect(t){const i=this.add.text(0,0,"Trying to connect with the server...").setStyle({color:"#ff0000"}).setPadding(4);try{this.jigs.room=await this.client.joinOrCreate(t,{playerId:this.jigs.playerId,profileId:this.jigs.profileId}),i.destroy()}catch{i.text="Could not connect with the server."}}update(t,i){if(this.jigs.localPlayer&&this.physics.world.collide(this.jigs.localPlayer,this.Walls.walls),!(!this.currentPlayer||!this.playerEntities))for(this.elapsedTime+=i;this.elapsedTime>=this.fixedTimeStep;)this.elapsedTime-=this.fixedTimeStep,this.fixedTick(t,this.fixedTimeStep)}fixedTick(t,i){this.currentTick++,this.jigs.localPlayer!==void 0&&this.jigs.localPlayer.updatePlayer(),this.jigs.mobArray!=null&&this.Mobs.updateMobs(this),this.jigs.bossesArray!=null&&this.Bosses.updateBosses(this);for(let r in this.playerEntities)r!==this.jigs.room.sessionId&&this.playerEntities[r]!==void 0&&this.playerEntities[r].update()}padding(t,i,r){var f=typeof r<"u"?r:"0",S=new Array(1+i).join(f);return(S+t).slice(-S.length)}async portalJump(t){await t.room.leave(),await t.scene.start("main")}async hide(t){t.disableBody(!0,!0)}}class QX{constructor(){}dialog(t,i){var S=t.add.text(0,0,"").setDepth(1),n="radio",x={width:500,space:{left:20,right:20,top:20,bottom:20,title:20,content:30,choices:30,choice:10},background:{color:1118481,strokeColor:1118481,radius:10},title:{space:{left:5,right:5,top:5,bottom:5},text:{font:"24px Roboto"},background:{color:1118481}},content:{space:{left:5,right:5,top:5,bottom:5},text:{font:"22px Roboto"},wrapText:!0},buttonMode:1,button:{space:{left:10,right:10,top:10,bottom:10},text:{fontSize:16,color:1118481},background:{color:1659743,strokeWidth:0,radius:10,"hover.strokeColor":39321,"hover.strokeWidth":2,"disable.color":1118481}},choicesType:n,choice:{space:{left:10,right:10,top:10,bottom:10},background:{color:267551,strokeWidth:0,radius:10,"hover.color":0,"hover.strokeColor":39321,"hover.strokeWidth":2,"active.color":0}},align:{actions:"right"}},s=t.rexUI.add.confirmDialog(x).setPosition(400,300).setDraggable("title").setDraggable("content").resetDisplayContent({title:t.jigs.title,content:t.jigs.missionHandlerDialog,choices:t.jigs.choice,buttonA:"Ok"}).layout();s.setActionEnable(0,!1).once("choice.click",function(){s.setActionEnable(0)}),s.modalPromise().then(function(a){a.value>0&&qX(a),S.text=`        index: ${a.index}
        text : ${a.text}
        value : ${a.value}`})}updateHandler(t){console.log("this is me an NPC "+t[0]),this.loadMission(t[6])}loadMission(t){}}function qX(e){console.log("this is me sending a value: "+e.value),ze.get("/addmission?_wrapper_format=drupal_ajax&id="+e.value).then(t=>{console.log("this is me receiving a value: "+t)})}var FM={exports:{}};(function(e){(function(){function t(_,it,ht){return _.call.apply(_.bind,arguments)}function i(_,it,ht){if(!_)throw Error();if(2<arguments.length){var dt=Array.prototype.slice.call(arguments,2);return function(){var St=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(St,dt),_.apply(it,St)}}return function(){return _.apply(it,arguments)}}function r(_,it,ht){return r=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?t:i,r.apply(null,arguments)}var f=Date.now||function(){return+new Date};function S(_,it){this.a=_,this.o=it||_,this.c=this.o.document}var n=!!window.FontFace;function x(_,it,ht,dt){if(it=_.c.createElement(it),ht)for(var St in ht)ht.hasOwnProperty(St)&&(St=="style"?it.style.cssText=ht[St]:it.setAttribute(St,ht[St]));return dt&&it.appendChild(_.c.createTextNode(dt)),it}function s(_,it,ht){_=_.c.getElementsByTagName(it)[0],_||(_=document.documentElement),_.insertBefore(ht,_.lastChild)}function a(_){_.parentNode&&_.parentNode.removeChild(_)}function g(_,it,ht){it=it||[],ht=ht||[];for(var dt=_.className.split(/\s+/),St=0;St<it.length;St+=1){for(var It=!1,At=0;At<dt.length;At+=1)if(it[St]===dt[At]){It=!0;break}It||dt.push(it[St])}for(it=[],St=0;St<dt.length;St+=1){for(It=!1,At=0;At<ht.length;At+=1)if(dt[St]===ht[At]){It=!0;break}It||it.push(dt[St])}_.className=it.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(_,it){for(var ht=_.className.split(/\s+/),dt=0,St=ht.length;dt<St;dt++)if(ht[dt]==it)return!0;return!1}function h(_){return _.o.location.hostname||_.a.location.hostname}function l(_,it,ht){function dt(){Lt&&St&&It&&(Lt(At),Lt=null)}it=x(_,"link",{rel:"stylesheet",href:it,media:"all"});var St=!1,It=!0,At=null,Lt=ht||null;n?(it.onload=function(){St=!0,dt()},it.onerror=function(){St=!0,At=Error("Stylesheet failed to load"),dt()}):setTimeout(function(){St=!0,dt()},0),s(_,"head",it)}function o(_,it,ht,dt){var St=_.c.getElementsByTagName("head")[0];if(St){var It=x(_,"script",{src:it}),At=!1;return It.onload=It.onreadystatechange=function(){At||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(At=!0,ht&&ht(null),It.onload=It.onreadystatechange=null,It.parentNode.tagName=="HEAD"&&St.removeChild(It))},St.appendChild(It),setTimeout(function(){At||(At=!0,ht&&ht(Error("Script load timeout")))},dt||5e3),It}return null}function d(){this.a=0,this.c=null}function v(_){return _.a++,function(){_.a--,p(_)}}function c(_,it){_.c=it,p(_)}function p(_){_.a==0&&_.c&&(_.c(),_.c=null)}function y(_){this.a=_||"-"}y.prototype.c=function(_){for(var it=[],ht=0;ht<arguments.length;ht++)it.push(arguments[ht].replace(/[\W_]+/g,"").toLowerCase());return it.join(this.a)};function m(_,it){this.c=_,this.f=4,this.a="n";var ht=(it||"n4").match(/^([nio])([1-9])$/i);ht&&(this.a=ht[1],this.f=parseInt(ht[2],10))}function C(_){return w(_)+" "+(_.f+"00")+" 300px "+T(_.c)}function T(_){var it=[];_=_.split(/,\s*/);for(var ht=0;ht<_.length;ht++){var dt=_[ht].replace(/['"]/g,"");dt.indexOf(" ")!=-1||/^\d/.test(dt)?it.push("'"+dt+"'"):it.push(dt)}return it.join(",")}function E(_){return _.a+_.f}function w(_){var it="normal";return _.a==="o"?it="oblique":_.a==="i"&&(it="italic"),it}function P(_){var it=4,ht="n",dt=null;return _&&((dt=_.match(/(normal|oblique|italic)/i))&&dt[1]&&(ht=dt[1].substr(0,1).toLowerCase()),(dt=_.match(/([1-9]00|normal|bold)/i))&&dt[1]&&(/bold/i.test(dt[1])?it=7:/[1-9]00/.test(dt[1])&&(it=parseInt(dt[1].substr(0,1),10)))),ht+it}function b(_,it){this.c=_,this.f=_.o.document.documentElement,this.h=it,this.a=new y("-"),this.j=it.events!==!1,this.g=it.classes!==!1}function M(_){_.g&&g(_.f,[_.a.c("wf","loading")]),R(_,"loading")}function A(_){if(_.g){var it=u(_.f,_.a.c("wf","active")),ht=[],dt=[_.a.c("wf","loading")];it||ht.push(_.a.c("wf","inactive")),g(_.f,ht,dt)}R(_,"inactive")}function R(_,it,ht){_.j&&_.h[it]&&(ht?_.h[it](ht.c,E(ht)):_.h[it]())}function L(){this.c={}}function O(_,it,ht){var dt=[],St;for(St in it)if(it.hasOwnProperty(St)){var It=_.c[St];It&&dt.push(It(it[St],ht))}return dt}function D(_,it){this.c=_,this.f=it,this.a=x(this.c,"span",{"aria-hidden":"true"},this.f)}function I(_){s(_.c,"body",_.a)}function B(_){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(_.c)+";"+("font-style:"+w(_)+";font-weight:"+(_.f+"00")+";")}function G(_,it,ht,dt,St,It){this.g=_,this.j=it,this.a=dt,this.c=ht,this.f=St||3e3,this.h=It||void 0}G.prototype.start=function(){var _=this.c.o.document,it=this,ht=f(),dt=new Promise(function(At,Lt){function Bt(){f()-ht>=it.f?Lt():_.fonts.load(C(it.a),it.h).then(function(Yt){1<=Yt.length?At():setTimeout(Bt,25)},function(){Lt()})}Bt()}),St=null,It=new Promise(function(At,Lt){St=setTimeout(Lt,it.f)});Promise.race([It,dt]).then(function(){St&&(clearTimeout(St),St=null),it.g(it.a)},function(){it.j(it.a)})};function z(_,it,ht,dt,St,It,At){this.v=_,this.B=it,this.c=ht,this.a=dt,this.s=At||"BESbswy",this.f={},this.w=St||3e3,this.u=It||null,this.m=this.j=this.h=this.g=null,this.g=new D(this.c,this.s),this.h=new D(this.c,this.s),this.j=new D(this.c,this.s),this.m=new D(this.c,this.s),_=new m(this.a.c+",serif",E(this.a)),_=B(_),this.g.a.style.cssText=_,_=new m(this.a.c+",sans-serif",E(this.a)),_=B(_),this.h.a.style.cssText=_,_=new m("serif",E(this.a)),_=B(_),this.j.a.style.cssText=_,_=new m("sans-serif",E(this.a)),_=B(_),this.m.a.style.cssText=_,I(this.g),I(this.h),I(this.j),I(this.m)}var Y={D:"serif",C:"sans-serif"},H=null;function k(){if(H===null){var _=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);H=!!_&&(536>parseInt(_[1],10)||parseInt(_[1],10)===536&&11>=parseInt(_[2],10))}return H}z.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=f(),F(this)};function U(_,it,ht){for(var dt in Y)if(Y.hasOwnProperty(dt)&&it===_.f[Y[dt]]&&ht===_.f[Y[dt]])return!0;return!1}function F(_){var it=_.g.a.offsetWidth,ht=_.h.a.offsetWidth,dt;(dt=it===_.f.serif&&ht===_.f["sans-serif"])||(dt=k()&&U(_,it,ht)),dt?f()-_.A>=_.w?k()&&U(_,it,ht)&&(_.u===null||_.u.hasOwnProperty(_.a.c))?V(_,_.v):V(_,_.B):N(_):V(_,_.v)}function N(_){setTimeout(r(function(){F(this)},_),50)}function V(_,it){setTimeout(r(function(){a(this.g.a),a(this.h.a),a(this.j.a),a(this.m.a),it(this.a)},_),0)}function $(_,it,ht){this.c=_,this.a=it,this.f=0,this.m=this.j=!1,this.s=ht}var X=null;$.prototype.g=function(_){var it=this.a;it.g&&g(it.f,[it.a.c("wf",_.c,E(_).toString(),"active")],[it.a.c("wf",_.c,E(_).toString(),"loading"),it.a.c("wf",_.c,E(_).toString(),"inactive")]),R(it,"fontactive",_),this.m=!0,j(this)},$.prototype.h=function(_){var it=this.a;if(it.g){var ht=u(it.f,it.a.c("wf",_.c,E(_).toString(),"active")),dt=[],St=[it.a.c("wf",_.c,E(_).toString(),"loading")];ht||dt.push(it.a.c("wf",_.c,E(_).toString(),"inactive")),g(it.f,dt,St)}R(it,"fontinactive",_),j(this)};function j(_){--_.f==0&&_.j&&(_.m?(_=_.a,_.g&&g(_.f,[_.a.c("wf","active")],[_.a.c("wf","loading"),_.a.c("wf","inactive")]),R(_,"active")):A(_.a))}function Q(_){this.j=_,this.a=new L,this.h=0,this.f=this.g=!0}Q.prototype.load=function(_){this.c=new S(this.j,_.context||this.j),this.g=_.events!==!1,this.f=_.classes!==!1,q(this,new b(this.c,_),_)};function K(_,it,ht,dt,St){var It=--_.h==0;(_.f||_.g)&&setTimeout(function(){var At=St||null,Lt=dt||null||{};if(ht.length===0&&It)A(it.a);else{it.f+=ht.length,It&&(it.j=It);var Bt,Yt=[];for(Bt=0;Bt<ht.length;Bt++){var Xt=ht[Bt],Re=Lt[Xt.c],Ki=it.a,Yr=Xt;if(Ki.g&&g(Ki.f,[Ki.a.c("wf",Yr.c,E(Yr).toString(),"loading")]),R(Ki,"fontloading",Yr),Ki=null,X===null)if(window.FontFace){var Yr=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),ao=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);X=Yr?42<parseInt(Yr[1],10):!ao}else X=!1;X?Ki=new G(r(it.g,it),r(it.h,it),it.c,Xt,it.s,Re):Ki=new z(r(it.g,it),r(it.h,it),it.c,Xt,it.s,At,Re),Yt.push(Ki)}for(Bt=0;Bt<Yt.length;Bt++)Yt[Bt].start()}},0)}function q(_,it,ht){var St=[],dt=ht.timeout;M(it);var St=O(_.a,ht,_.c),It=new $(_.c,it,dt);for(_.h=St.length,it=0,ht=St.length;it<ht;it++)St[it].load(function(At,Lt,Bt){K(_,It,At,Lt,Bt)})}function tt(_,it){this.c=_,this.a=it}tt.prototype.load=function(_){function it(){if(It["__mti_fntLst"+dt]){var At=It["__mti_fntLst"+dt](),Lt=[],Bt;if(At)for(var Yt=0;Yt<At.length;Yt++){var Xt=At[Yt].fontfamily;At[Yt].fontStyle!=null&&At[Yt].fontWeight!=null?(Bt=At[Yt].fontStyle+At[Yt].fontWeight,Lt.push(new m(Xt,Bt))):Lt.push(new m(Xt))}_(Lt)}else setTimeout(function(){it()},50)}var ht=this,dt=ht.a.projectId,St=ht.a.version;if(dt){var It=ht.c.o;o(this.c,(ht.a.api||"https://fast.fonts.net/jsapi")+"/"+dt+".js"+(St?"?v="+St:""),function(At){At?_([]):(It["__MonotypeConfiguration__"+dt]=function(){return ht.a},it())}).id="__MonotypeAPIScript__"+dt}else _([])};function st(_,it){this.c=_,this.a=it}st.prototype.load=function(_){var it,ht,dt=this.a.urls||[],St=this.a.families||[],It=this.a.testStrings||{},At=new d;for(it=0,ht=dt.length;it<ht;it++)l(this.c,dt[it],v(At));var Lt=[];for(it=0,ht=St.length;it<ht;it++)if(dt=St[it].split(":"),dt[1])for(var Bt=dt[1].split(","),Yt=0;Yt<Bt.length;Yt+=1)Lt.push(new m(dt[0],Bt[Yt]));else Lt.push(new m(dt[0]));c(At,function(){_(Lt,It)})};function nt(_,it){_?this.c=_:this.c=rt,this.a=[],this.f=[],this.g=it||""}var rt="https://fonts.googleapis.com/css";function ut(_,it){for(var ht=it.length,dt=0;dt<ht;dt++){var St=it[dt].split(":");St.length==3&&_.f.push(St.pop());var It="";St.length==2&&St[1]!=""&&(It=":"),_.a.push(St.join(It))}}function vt(_){if(_.a.length==0)throw Error("No fonts to load!");if(_.c.indexOf("kit=")!=-1)return _.c;for(var it=_.a.length,ht=[],dt=0;dt<it;dt++)ht.push(_.a[dt].replace(/ /g,"+"));return it=_.c+"?family="+ht.join("%7C"),0<_.f.length&&(it+="&subset="+_.f.join(",")),0<_.g.length&&(it+="&text="+encodeURIComponent(_.g)),it}function pt(_){this.f=_,this.a=[],this.c={}}var ft={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},lt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},yt={i:"i",italic:"i",n:"n",normal:"n"},Ct=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Rt(_){for(var it=_.f.length,ht=0;ht<it;ht++){var dt=_.f[ht].split(":"),St=dt[0].replace(/\+/g," "),It=["n4"];if(2<=dt.length){var At,Lt=dt[1];if(At=[],Lt)for(var Lt=Lt.split(","),Bt=Lt.length,Yt=0;Yt<Bt;Yt++){var Xt;if(Xt=Lt[Yt],Xt.match(/^[\w-]+$/)){var Re=Ct.exec(Xt.toLowerCase());if(Re==null)Xt="";else{if(Xt=Re[2],Xt=Xt==null||Xt==""?"n":yt[Xt],Re=Re[1],Re==null||Re=="")Re="4";else var Ki=lt[Re],Re=Ki||(isNaN(Re)?"4":Re.substr(0,1));Xt=[Xt,Re].join("")}}else Xt="";Xt&&At.push(Xt)}0<At.length&&(It=At),dt.length==3&&(dt=dt[2],At=[],dt=dt?dt.split(","):At,0<dt.length&&(dt=ft[dt[0]])&&(_.c[St]=dt))}for(_.c[St]||(dt=ft[St])&&(_.c[St]=dt),dt=0;dt<It.length;dt+=1)_.a.push(new m(St,It[dt]))}}function Dt(_,it){this.c=_,this.a=it}var Tt={Arimo:!0,Cousine:!0,Tinos:!0};Dt.prototype.load=function(_){var it=new d,ht=this.c,dt=new nt(this.a.api,this.a.text),St=this.a.families;ut(dt,St);var It=new pt(St);Rt(It),l(ht,vt(dt),v(it)),c(it,function(){_(It.a,It.c,Tt)})};function Et(_,it){this.c=_,this.a=it}Et.prototype.load=function(_){var it=this.a.id,ht=this.c.o;it?o(this.c,(this.a.api||"https://use.typekit.net")+"/"+it+".js",function(dt){if(dt)_([]);else if(ht.Typekit&&ht.Typekit.config&&ht.Typekit.config.fn){dt=ht.Typekit.config.fn;for(var St=[],It=0;It<dt.length;It+=2)for(var At=dt[It],Lt=dt[It+1],Bt=0;Bt<Lt.length;Bt++)St.push(new m(At,Lt[Bt]));try{ht.Typekit.load({events:!1,classes:!1,async:!0})}catch{}_(St)}},2e3):_([])};function ot(_,it){this.c=_,this.f=it,this.a=[]}ot.prototype.load=function(_){var it=this.f.id,ht=this.c.o,dt=this;it?(ht.__webfontfontdeckmodule__||(ht.__webfontfontdeckmodule__={}),ht.__webfontfontdeckmodule__[it]=function(St,It){for(var At=0,Lt=It.fonts.length;At<Lt;++At){var Bt=It.fonts[At];dt.a.push(new m(Bt.name,P("font-weight:"+Bt.weight+";font-style:"+Bt.style)))}_(dt.a)},o(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+h(this.c)+"/"+it+".js",function(St){St&&_([])})):_([])};var at=new Q(window);at.a.c.custom=function(_,it){return new st(it,_)},at.a.c.fontdeck=function(_,it){return new ot(it,_)},at.a.c.monotype=function(_,it){return new tt(it,_)},at.a.c.typekit=function(_,it){return new Et(it,_)},at.a.c.google=function(_,it){return new Dt(it,_)};var gt={load:r(at.load,at)};e.exports?e.exports=gt:(window.WebFont=gt,window.WebFontConfig&&at.load(window.WebFontConfig))})()})(FM);var _X=FM.exports;const tH=vv(_X);class IM extends ae.Loader.File{constructor(t,i,r="google"){super(t,{type:"webfont",key:i.toString()}),this.fontNames=Array.isArray(i)?i:[i],this.service=r,this.fontsLoadedCount=0}load(){const t={fontactive:i=>{this.checkLoadedFonts(i)},fontinactive:i=>{this.checkLoadedFonts(i)}};switch(this.service){case"google":t[this.service]=this.getGoogleConfig();break;case"adobe-edge":t.typekit=this.getAdobeEdgeConfig();break;case"custom":t[this.service]=this.getCustomFontConfig();break;default:throw new Error("Unsupported font service")}tH.load(t)}getCustomFontConfig(){return{styles:'@font-face { font-family: "Neutron Demo"; src: url("../../fonts/neutrond.ttf") format("opentype"); }'}}getGoogleConfig(){return{families:this.fontNames}}getAdobeEdgeConfig(){return{id:this.fontNames.join(";"),api:"//use.edgefonts.net"}}checkLoadedFonts(t){this.fontNames.indexOf(t)<0||(++this.fontsLoadedCount,this.fontsLoadedCount>=this.fontNames.length&&this.loader.nextFile(this,!0))}}class eH extends ly.Scene{constructor(){super({key:"HudScene",active:!0}),this.GetValue=Phaser.Utils.Objects.GetValue,this.createTextBox=function(t,i,r,f){var S=this.GetValue(f,"wrapWidth",0),n=this.GetValue(f,"fixedWidth",0),x=this.GetValue(f,"fixedHeight",0),s=this.GetValue(f,"title",void 0),a=t.rexUI.add.textBox({x:10,y:460,text:this.getBBcodeText(t,S,n,x),action:t.add.image(0,0,"nextPage").setVisible(!1),title:s?t.add.text(0,0,s,{font:"bold 24px Neutron Demo",fill:"#ffffff"}):void 0,align:{title:"left"}}).setDisplayOrigin(0,0);return a.setInteractive().on("pointerdown",function(){var g=this.getElement("action").setVisible(!1);this.resetChildVisibleState(g),this.isTyping?this.stop(!0):this.isLastPage?a.destroy():this.typeNextPage()},a).on("pageend",function(){if(!this.isLastPage){var g=this.getElement("action").setVisible(!0);this.resetChildVisibleState(g),g.y-=30,t.tweens.add({targets:g,y:"+=30",ease:"Bounce",duration:500,repeat:0,yoyo:!1})}},a).on("complete",function(){console.log("all pages typing complete")}),a},this.createDialogTextBox=function(t,i,r,f){var S=this.GetValue(f,"wrapWidth",0),n=this.GetValue(f,"fixedWidth",0),x=this.GetValue(f,"fixedHeight",0),s=this.GetValue(f,"title",void 0),a=this.GetValue(f,"iconText",void 0),g=t.rexUI.add.textBox({x:10,y:460,text:this.getBBcodeText(t,S,n,x),action:t.add.image(0,0,"nextPage").setVisible(!1),title:s?t.add.text(0,0,s,{font:"bold 24px Neutron Demo",fill:"#ffffff"}):void 0,icon:t.add.text(0,0,a.toUpperCase()+": ",{font:"bold 14px Roboto",fill:"#ffffff",backgroundColor:"rgba(25, 83, 95, 0.8)"}).setPadding({left:16,right:16,top:8,bottom:8}),align:{title:"left"}}).setDisplayOrigin(0,0);return g.setInteractive().on("pointerdown",function(){var u=this.getElement("action").setVisible(!1);this.resetChildVisibleState(u),this.isTyping?this.stop(!0):this.isLastPage?g.destroy():this.typeNextPage()},g).on("pageend",function(){if(!this.isLastPage){var u=this.getElement("action").setVisible(!0);this.resetChildVisibleState(u),u.y-=30,t.tweens.add({targets:u,y:"+=30",ease:"Bounce",duration:500,repeat:0,yoyo:!1})}},g).on("complete",function(){t.jigs.cutscenePosition<t.jigs.cutscene.length&&(console.log("more"),setTimeout(()=>{t.events.emit("cutscene")},1e3))}),g},this.getBBcodeText=function(t,i,r,f){return t.rexUI.add.BBCodeText(0,0,"",{fontWeight:"bold",fontSize:"24px",fill:"white",backgroundColor:"rgba(0, 0, 0, 0.6)",wrap:{mode:"word",width:660},maxLines:6}).setShadow(2,2,"#000000",2,!1,!0).setPadding({left:5,right:5,top:5,bottom:5})},this.missionComplete=function(){var t="      [custom = 10,20][/custom][bgm = theme0]"+this.jigs.missionCompleteDialog,i=Phaser.Math.Easing.Cubic.Out,r=Phaser.Math.Linear,f=this.add.rexTextPlayer({x:400,y:300,width:400,height:200,background:{stroke:"white",cornerRadius:-20},padding:20,style:{fontSize:"16px",stroke:"green",strokeThickness:3,shadowColor:"red",shadowOffsetX:5,shadowOffsetY:5,shadowBlur:3},wrap:{maxLines:5,padding:{bottom:10}},typing:{speed:200,animation:{duration:1e3,yoyo:!0,onStart:function(S){S.setVisible().setData("y",S.y)},onProgress:function(S,n){var x=S.getData("y"),s=x-20,a=r(x,s,i(n));S.setY(a)}}},clickTarget:this,nextPageInput:function(S){console.log("Custom next-page-input"),S()}});f.playPromise(t).then(function(){console.log("Play complete"),console.log("hi"),f.requestClose()}),f.on("typing",function(S){S.type}).on("wait.custom",function(S){S()}).on("page.start",function(){console.log("page.start")}).on("page.complete",function(){console.log("page.complete")})},this.jigs=he(),this.mission=new QX,this.content="Phaser is a fast, free, and fun open source HTML5 game framework that offers WebGL and Canvas rendering across desktop and mobile web browsers. Games can be compiled to iOS, Android and native apps by using 3rd party tools. You can use JavaScript or TypeScript for development.",this.credits=this.jigs.playerStats.credits}preload(){this.load.plugin("rextextplayerplugin","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/dist/rextextplayerplugin.min.js",!0),this.load.image("dude","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/images/phaser-dude.png"),this.load.audio("explosion",["https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/audio/soundeffect/explosion.mp3"]),this.load.audio("theme0",["https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/audio/oedipus_wizball_highscore.ogg","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/audio/oedipus_wizball_highscore.mp3"]),this.load.audio("theme1",["https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/audio/jungle.ogg","https://raw.githubusercontent.com/rexrainbow/phaser3-rex-notes/master/assets/audio/jungle.mp3"]),this.load.addFile(new IM(this.load,["Roboto","Neutron Demo"])),this.load.image("nextPage","/assets/images/gui/arrow-down-left.png")}create(){this.thing=this.createTextBox(this,10,380,{wrapWidth:500}).setDisplayOrigin(0,0).start(this.jigs.content,50).setDepth(7);let t=this.scene.get("main");t.events.on("Mission",function(r,f){this.mission.dialog(this,f,r)},this),t.events.on("addScore",function(){this.score+=10},this),t.events.on("content",function(){this.thing.destroy(),this.thing=this.createTextBox(this,10,500,{wrapWidth:600}).start(this.jigs.content,50).setDepth(7)},this),t.events.on("cutscene",function(){this.jigs.cutscene[this.jigs.cutscenePosition]&&(this.thing.destroy(),this.thing=this.createDialogTextBox(this,10,500,{wrapWidth:600,iconText:this.jigs.cutscene[this.jigs.cutscenePosition].npc}).start(this.jigs.cutscene[this.jigs.cutscenePosition].dialog_line,50).setDepth(7),this.jigs.cutscenePosition++)},this),this.events.on("cutscene",function(){this.jigs.cutscene[this.jigs.cutscenePosition]&&(this.thing.destroy(),this.thing=this.createDialogTextBox(this,10,500,{wrapWidth:600,iconText:this.jigs.cutscene[this.jigs.cutscenePosition].npc}).start(this.jigs.cutscene[this.jigs.cutscenePosition].dialog_line,50).setDepth(7),this.jigs.cutscenePosition++)},this),t.events.on("position",function(r,f){this.x=r,this.y=f,i.setText("Credits: "+this.jigs.playerStats.credits)},this),t.events.on("missionComplete",function(){this.scene.start("Message")},this);let i=this.add.text(15,15,"Credits: ",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2});this.hud2=this.add.text(15,30,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud3=this.add.text(15,45,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud4=this.add.text(15,60,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud5=this.add.text(15,75,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud11=this.add.text(15,90,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud12=this.add.text(15,105,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud6=this.add.text(735,15,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud7=this.add.text(735,30,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud8=this.add.text(735,45,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud9=this.add.text(735,60,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2}),this.hud10=this.add.text(735,75,"",{font:"12px Roboto",fill:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.6)"}).setPadding({left:4,right:4,top:2,bottom:2})}update(){this.hud2.setText("State: "+this.jigs.gameState),this.hud3.setText("Node: "+this.jigs.userMapGrid),this.hud4.setText("TileMap: "+this.jigs.tiled),this.hud5.setText("Title: "+this.jigs.nodeTitle),this.hud11.setText("Name: "+this.jigs.playerName),this.hud12.setText("Id: "+this.jigs.playerId),this.hud6.setText("X: "+parseInt(this.x)+" Y: "+parseInt(this.y)),this.jigs.portalsArray[0]&&this.hud7.setText("P1 X: "+this.jigs.portalsArray[0].x+" P1 Y: "+this.jigs.portalsArray[0].y),this.jigs.portalsArray[1]&&this.hud8.setText("P2 X: "+this.jigs.portalsArray[1].x+" P2 Y: "+this.jigs.portalsArray[1].y),this.jigs.portalsArray[2]&&this.hud9.setText("P3 X: "+this.jigs.portalsArray[2].x+" P3 Y: "+this.jigs.portalsArray[2].y),this.hud10.setText("City: "+this.jigs.city)}}class iH extends ly.Scene{constructor(){super({key:"BootScene",active:!0})}preload(){this.load.audio("walk",["/assets/audio/thud.ogg","/assets/audio/thud.mp3"]),this.load.image("nextPage","/assets/images/gui/arrow-down-left.png"),this.load.spritesheet("otherPlayer","/assets/images/sprites/avatars/4351.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-spell-default","/assets/images/animator/Psibot-Male/spell-default.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-walk-glowsword","/assets/images/animator/Psibot-Male/walk-glowsword.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-slash-oversize-glowsword","/assets/images/animator/Psibot-Male/slash-oversize-glowsword.png",{frameWidth:192,frameHeight:192}),this.load.spritesheet("player-hurt-glowsword","/assets/images/animator/Psibot-Male/hurt-glowsword.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-walk-axe","/assets/images/animator/Psibot-Male/walk-axe.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-slash-oversize-axe","/assets/images/animator/Psibot-Male/slash-oversize-axe.png",{frameWidth:192,frameHeight:192}),this.load.spritesheet("player-hurt-axe","/assets/images/animator/Psibot-Male/hurt-axe.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-hurt-rapier","/assets/images/animator/Psibot-Male/hurt-rapier.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-walk-rapier","/assets/images/animator/Psibot-Male/walk-rapier.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-slash-oversize-rapier","/assets/images/animator/Psibot-Male/slash-oversize-rapier.png",{frameWidth:192,frameHeight:192}),this.load.image("exit","/assets/images/System/Exit.png"),this.load.image("book","/assets/images/book.png"),this.load.image("star","/assets/images/star_gold.png"),this.load.image("gun","/assets/images/gun.png"),this.load.image("bullet","/assets/images/star_gold.png"),this.load.image("healthBar","/assets/images/health_bar.png"),this.load.image("reward","/assets/images/various-32-greyout_69.png"),this.load.image("nextPage","/assets/images/gui/arrow-down-left.png"),this.load.addFile(new IM(this.load,["Roboto","Neutron Demo"])),this.load.image("cursor","/assets/images/cursors/blank.cur"),this.load.image("cursor2","/assets/images/cursors/attack.cur"),this.load.image("cursor3","/assets/images/cursors/speak.cur"),this.load.image("cursor4","/assets/images/cursors/blank.cur"),this.load.image("cursor4","/assets/images/cursors/point.cur")}create(){this.scene.start("SceneSelector")}}class sH extends ae.Scene{constructor(){super({key:"DeadScene"}),this.parts={1:"You ",2:"Are ",3:"Dead"}}preload(){this.cameras.main.setBackgroundColor(0),this.load.image("tesla","/assets/images/84a42d08-8165-4111-aec7-edd1d0d4900d.png")}create(){if(this.image=this.add.image(320,240,"tesla"),window.location.hash){this.scene.run(window.location.hash.substring(1));return}const t={color:"#ff0000",fontSize:"32px",fontFamily:"Arial"};for(let i in this.parts){const r=parseInt(i)-1,f=this.parts[i];this.add.text(80,100+70*r,`${i}: ${f}`,t).setInteractive().setPadding(6).on("pointerdown",()=>{this.game.scene.switch("DeadScene","MainScene")})}}}const rH=267551,BM=39321,nH=736329;class aH extends ae.Scene{constructor(){super({key:"CutScene"}),this.jigs=he()}create(){this.jigs.foliosArray.forEach(t=>{t.id==this.jigs.folioClicked&&(this.data=t.nodeBody,this.blobby(this))}),this.events.on(ae.Scenes.Events.WAKE,function(){this.jigs.foliosArray.forEach(t=>{t.id==this.jigs.folioClicked&&(this.data=t.nodeBody,this.blobby(this))})},this)}update(){}blobby(t){var i=t.rexUI.add.scrollablePanel({x:425,y:300,width:700,height:500,scrollMode:0,background:t.rexUI.add.roundRectangle(0,0,2,2,10,rH),strokeColor:BM,strokeAlpha:1,strokeWidth:2,panel:{child:this.CreatePanel(t),mask:{padding:1}},slider:{track:t.rexUI.add.roundRectangle(0,0,20,10,10,nH),thumb:t.rexUI.add.roundRectangle(0,0,0,0,13,BM)},space:{left:10,right:10,top:10,bottom:10,panel:10}}).layout();this.AddDragCornerController(i),t.add.text(0,580,"Drag top-left corner, resize bottom-right corner. Click here to close").setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}).on("pointerdown",this.onCutsceneDown.bind(this))}onCutsceneDown(){this.game.scene.switch("CutScene","MainScene")}hydrateCutscene(t){}texty(t){this.add.text(200,100,t,{fontFamily:'Georgia, "Goudy Bookletter 1911", Times, serif'}).setWordWrapWidth(600).setInteractive({cursor:"url(/assets/images/cursors/speak.cur), pointer"}).on("pointerdown",this.onCutsceneDown.bind(this))}addDom(t){}CreatePanel(t){for(var i=t.rexUI.add.fixWidthSizer({space:{left:20,right:20,top:20,bottom:20,item:8,line:16}}),r=this.data.split(`
`),f=0,S=r.length;f<S;f++){for(var n=r[f].split(" "),x=0,s=n.length;x<s;x++)i.add(t.add.text(0,0,n[x],{fontSize:16}));f<S-1&&i.addNewLine()}return i}AddDragCornerController(t){var i=t.scene,r=i.add.rectangle(t.right,t.bottom,20,20,16761917),f=i.add.rectangle(t.left,t.top,20,20,52326);r.setInteractive({draggable:!0}).on("drag",function(S,n,x){var s=t.left,a=t.top,g=n-s,u=x-a;t.setChildPosition(r,n,x),t.setChildPosition(f,s,a),t.setMinSize(g,u).layout(),t.left=s,t.top=a}),t.pin(r),f.setInteractive({draggable:!0}).on("drag",function(S,n,x){t.x+=n-f.x,t.y+=x-f.y}),t.pin(f)}}class oH extends ae.Scene{constructor(){super({key:"MessageScene"}),this.jigs=he()}preload(){}create(){if(this.jigs.missionCompleteDialog!=="Blank"){var t=this.jigs.missionCompleteDialog;console.log(this.jigs.missionCompleteDialog);let i=this.add.rectangle(200,100,600,400,0,.5).setDisplayOrigin(0,0);const r=this.add.text(100,200,"Mission Complete!",{font:"bold 32px Roboto",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#ffffff"}).setPadding({left:16,right:16,top:8,bottom:8}).setDisplayOrigin(0,0);ae.Display.Align.In.TopCenter(r,i);const f=this.add.text(0,0,t,{font:"bold 16px Roboto",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#ffffff"}).setPadding({left:16,right:16,top:8,bottom:8}).setDisplayOrigin(0,0);f.setWordWrapWidth(500,!1),ae.Display.Align.In.Center(f,i);const S=this.add.text(300,200,"Reward",{font:"bold 24px Roboto",backgroundColor:"rgba(25, 83, 95, 0.8)",color:"#ffffff"}).setPadding({left:16,right:16,top:8,bottom:8});ae.Display.Align.In.BottomCenter(S,i),this.add.image(350,400,"icon01"),this.add.image(450,400,"icon02"),this.add.image(550,400,"icon03"),this.add.image(650,400,"icon04"),this.jigs.missionCompleteDialog="Blank";const n=this.add.text(100,100,"Close",{color:"#0f0"});n.setInteractive(),n.on("pointerdown",()=>{this.scene.switch("HudScene")})}}update(){}}class bt{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,i){bt.prototype[t]=i}}var hH=function(e){return e===void 0&&(e=lH),this.getFrameNameCallback=e,this},lH=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function Wi(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>Wi(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=Wi(e[i]));return t}var uH=function(e,t,i,r){Array.isArray(t)&&(r=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],r=[arguments[4],void 0,arguments[5]]):i===void 0&&r===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,r=this.rows.data):(i=Wi(i),r=Wi(r)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=r,this.rows.count=r?r.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var f=this.scene.sys.textures.get(e);if(!f)return this.clear(),this;if(!i||!r)return this.clear(),this;for(var S=f.get(t),n=S.width,x=0,s=0,a=i.length;s<a;s++)i[s]===void 0?x++:typeof i[s]=="number"?n-=i[s]:n-=i[s].width;for(var g=x>0?n/x:0,u=S.height,h=0,s=0,a=r.length;s<a;s++)r[s]===void 0?h++:typeof r[s]=="number"?u-=r[s]:u-=r[s].width;for(var l=h?u/h:0,o,d,v,c,p,y=0,m=0,C=0,T=r.length;C<T;C++){r[C]===void 0&&(r[C]=l),typeof r[C]=="number"&&(r[C]={height:r[C],stretch:C%2}),o=r[C],v=o.height,this.rows.stretch+=o.stretch|0,this.rows.minHeight+=o.stretch>0?0:v,y=0;for(var s=0,E=i.length;s<E;s++){if(i[s]===void 0&&(i[s]=g),typeof i[s]=="number"&&(i[s]={width:i[s],stretch:s%2}),d=i[s],c=d.width,C===0&&(this.columns.stretch+=d.stretch|0,this.columns.minWidth+=d.stretch>0?0:c),c>=1&&v>=1){p=this.getFrameNameCallback(s,C,t);var w=typeof p;(w==="string"||w==="number")&&f.add(p,0,y+S.cutX,m+S.cutY,c,v)}y+=c}m+=v}return this.updateTexture(),this},dH=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,r=this.width-t,f=this.height-i,S=r>=0?this.maxFixedPartScaleX:this.width/t,n=f>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var x=Math.min(S,n);if(S>x){var s=(S-x)*t;r>=0?r+=s:r=s,S=x}if(n>x){var a=(n-x)*i;f>=0?f+=a:f=a,n=x}}this.columns.scale=S,this.rows.scale=n;var g;r>0?g=this.columns.stretch>0?r/this.columns.stretch:0:g=0;var u;f>0?u=this.rows.stretch>0?f/this.rows.stretch:0:u=0;var h,l,o,d,v,c=0,p=0,y;this._beginDraw();for(var m=0,C=this.rows.count;m<C;m++){o=this.rows.data[m],v=o.stretch===0?o.height*n:u*o.stretch,c=0;for(var T=0,E=this.columns.count;T<E;T++)l=this.columns.data[T],d=l.stretch===0?l.width*S:g*l.stretch,h=this.getFrameNameCallback(T,m,this.baseFrameName),e.has(h)&&d>0&&v>0&&(o.stretch===0&&l.stretch===0||this.getStretchMode(T,m)===0?y=0:y=1,y===0?this._drawImage(this.textureKey,h,c,p,d,v):this._drawTileSprite(this.textureKey,h,c,p,d,v)),c+=d;p+=v}this._endDraw()};const fH=Phaser.Utils.Objects.IsPlainObject,NM=Phaser.Utils.Objects.GetValue;var cH=function(e){return fH(e)?(this.stretchMode.edge=fy(NM(e,"edge",0)),this.stretchMode.internal=fy(NM(e,"internal",0))):(e=fy(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},fy=function(e){return typeof e=="string"&&(e=vH[e]),e};const vH={scale:0,repeat:1};var pH=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},gH=function(e,t){return pH.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},mH=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},xH=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},bi=function(){};const yH={_beginDraw:bi,_drawImage:bi,_drawTileSprite:bi,_endDraw:bi,setGetFrameNameCallback:hH,setBaseTexture:uH,updateTexture:dH,setStretchMode:cH,getStretchMode:gH,setPreserveRatio:mH,setMaxFixedPartScale:xH},Bd=Phaser.Utils.Objects.IsPlainObject,Pe=Phaser.Utils.Objects.GetValue;var GM=function(e,t){class i extends e{constructor(f,S,n,x,s,a,g,u,h,l){if(Bd(S)?(l=S,S=Pe(l,"x",0),n=Pe(l,"y",0),x=Pe(l,"width",1),s=Pe(l,"height",1),a=Pe(l,"key",void 0),g=Pe(l,"baseFrame",void 0),u=Pe(l,"columns",void 0),h=Pe(l,"rows",void 0)):Bd(x)?(l=x,x=Pe(l,"width",1),s=Pe(l,"height",1),a=Pe(l,"key",void 0),g=Pe(l,"baseFrame",void 0),u=Pe(l,"columns",void 0),h=Pe(l,"rows",void 0)):Bd(a)?(l=a,a=Pe(l,"key",void 0),g=Pe(l,"baseFrame",void 0),u=Pe(l,"columns",void 0),h=Pe(l,"rows",void 0)):Bd(g)?(l=g,g=Pe(l,"baseFrame",void 0),u=Pe(l,"columns",void 0),h=Pe(l,"rows",void 0)):Array.isArray(g)?(l=h,h=u,u=g,g=Pe(l,"baseFrame",void 0)):Bd(u)&&(l=u,u=Pe(l,"columns",void 0),h=Pe(l,"rows",void 0)),g===void 0&&(g=Pe(l,"frame",void 0)),u===void 0){var o=Pe(l,"leftWidth",void 0),d=Pe(l,"rightWidth",void 0);o!==void 0&&d!==void 0&&(u=[o,void 0,d])}if(h===void 0){var v=Pe(l,"topHeight",void 0),c=Pe(l,"bottomHeight",void 0);v!==void 0&&c!==void 0&&(h=[v,void 0,c])}super(f),this.type=t,this.setPosition(S,n).setSize(x,s).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Pe(l,"getFrameNameCallback",void 0)),this.setStretchMode(Pe(l,"stretchMode",0)),this.setPreserveRatio(Pe(l,"preserveRatio",!0));var p=Pe(l,"maxFixedPartScale",1),y=Pe(l,"maxFixedPartScaleX",p),m=Pe(l,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(y,m),this.setBaseTexture(a,g,u,h)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(f,S){return this.width===f&&this.height===S?this:(super.resize?super.resize(f,S):super.setSize(f,S),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,yH),i};const CH=Phaser.Game;var kM=function(e){return e instanceof CH};const SH=Phaser.Scene;var Ko=function(e){return e instanceof SH},jo=function(e){if(e==null||typeof e!="object")return null;if(kM(e))return e;if(kM(e.game))return e.game;if(Ko(e))return e.sys.game;if(Ko(e.scene))return e.scene.sys.game};const TH=Phaser.GameObjects;var Ia=void 0,VM=function(e,t){if(Ia||(Ia={},jo(e).events.once("destroy",function(){for(var r in Ia)Ia[r].destroy();Ia=void 0})),!Ia.hasOwnProperty(t)){var i=jo(e).scene.systemScene,e=new TH[t](i);e.setOrigin(0),Ia[t]=e}return Ia[t]},EH=function(e,t,i,r,f,S){var n=VM(this,"Image").setTexture(e,t).setDisplaySize(f,S);this.draw(n,i,r)},PH=function(e,t,i,r,f,S){var n=VM(this,"TileSprite").setTexture(e,t).setSize(f,S);this.draw(n,i,r)};const wH=Phaser.GameObjects.RenderTexture;let Hv=class extends GM(wH,"rexNinePatch"){};var bH={_drawImage:EH,_drawTileSprite:PH};Object.assign(Hv.prototype,bH);var zM=function(e){return e==null||e===""||e.length===0},MH=function(e,t,i){var r=e;if(!zM(t)){typeof t=="string"&&(t=t.split("."));for(var f,S=0,n=t.length;S<n;S++){if(f=t[S],r[f]==null||typeof r[f]!="object"){var x;S===n-1?x={}:x={},r[f]=x}r=r[f]}}return r},Pt=function(e,t,i,r){if(r===void 0&&(r="."),typeof e=="object"){if(zM(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(r));var f=t.pop(),S=MH(e,t);S[f]=i}return e}};bt.register("ninePatch",function(e,t,i,r,f,S,n,x){var s=new Hv(this.scene,e,t,i,r,f,S,n,x);return this.scene.add.existing(s),s}),Pt(window,"RexPlugins.UI.NinePatch",Hv);const AH=Phaser.GameObjects.GetCalcMatrix;var RH=function(e,t,i,r){var f=t.getRenderList();if(f.length!==0){i.addToRenderList(t);var S=e.pipelines.set(t.pipeline),n=t.frame.glTexture,x=S.setGameObject(t),s=i.roundPixels,a=AH(t,i,r),g=S.calcMatrix.copyFrom(a.calc),u=t._displayOriginX,h=t._displayOriginY,l=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var o=0,d=f.length;o<d;o++)f[o].webglRender(S,g,l,u,h,n,x,s);e.pipelines.postBatch(t)}};const OH=Phaser.Renderer.Canvas.SetTransform;var LH=function(e,t,i,r){var f=e.currentContext,S=t.getRenderList();if(!(S.length===0||!OH(e,f,t,i,r))){i.addToRenderList(t);var n=i.roundPixels,x=-t._displayOriginX,s=-t._displayOriginY;f.translate(x,s);for(var a=0,g=S.length;a<g;a++)S[a].canvasRender(f,x,s,n);f.restore()}};const DH={renderWebGL:RH,renderCanvas:LH};var FH=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},UM=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},IH=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const BH=Phaser.Utils.Array.Remove;var NH=function(e){return this.poolManager&&this.poolManager.free(e),BH(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},WM=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},GH=function(){return this.lastAppendedChildren},kH=function(){return this.children.list};const VH={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var YM={setTexture:FH,resize:UM,setSize:UM,addChild:IH,removeChild:NH,removeChildren:WM,clear:WM,getLastAppendedChildren:GH,getChildren:kH};Object.assign(YM,VH);class rn{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const zH=Phaser.Utils.Objects.GetValue;var UH={};let WH=class{constructor(t){this.pools=zH(t,"pools",UH)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new rn),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,r=t.length;i<r;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const YH=60;var $M=!1,Kv=function(e){if(!$M){e===void 0&&(e=YH);var t=parseInt(Phaser.VERSION.match(/\.(\d+)\./)[1]);t<e&&console.error(`Minimum supported version : 3.${e}`),$M=!0}};Kv();const $H=Phaser.GameObjects.GameObject,XH=Phaser.Utils.Objects.IsPlainObject,Nd=Phaser.Utils.Objects.GetValue,HH=Phaser.Structs.List,KH=Phaser.Utils.Array.StableSort;class XM extends $H{constructor(t,i,r,f,S,n){XH(i)&&(n=i,i=Nd(n,"x",0),r=Nd(n,"y",0),f=Nd(n,"texture"),S=Nd(n,"frame")),i===void 0&&(i=0),r===void 0&&(r=0),super(t,"rexBlitter"),this.children=new HH,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var x=Nd(n,"reuseBob",!0);this.poolManager=x?new WH(n):void 0,this.setTexture(f,S),this.setPosition(i,r),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,r=0,f=i.length;r<f;r++){var S=i[r];jH(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&KH(this.renderList,JH),this.displayListDirty=!1}return this.renderList}}var jH=function(e){return e.active&&e.visible&&e.alpha>0},JH=function(e,t){return e._depth-t._depth};const fr=Phaser.GameObjects.Components;Phaser.Class.mixin(XM,[fr.Alpha,fr.BlendMode,fr.ComputedSize,fr.Depth,fr.GetBounds,fr.Mask,fr.Origin,fr.Pipeline,fr.PostPipeline,fr.ScrollFactor,fr.Transform,fr.Visible,DH,YM]);const HM="image";var Be=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var r=t,f=e,S=i,n=0;n<r.length;n++)if(t=r[n],f.hasOwnProperty(t))S=f[t],f=S;else{S=i;break}return S},Nn=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const jv={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Be(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Nn(this.data),this}};let KM=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(KM.prototype,jv);const ZH=Phaser.Math.DegToRad,QH=Phaser.Math.RadToDeg,Pl=Phaser.Utils.Objects.GetValue;let qH=class extends KM{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return QH(this.rotation)}set angle(t){this.rotation=ZH(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=Pl(t,"width",void 0),r=Pl(t,"height",void 0),f=Pl(t,"scale",void 0),S=Pl(t,"scaleX",f),n=Pl(t,"scaleY",f);i!==void 0?r===void 0&&n===void 0?this.setWidth(i,!0):this.setWidth(i):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),r!==void 0?i===void 0&&S===void 0?this.setHeight(r,!0):this.setHeight(r):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var x=Pl(t,"origin",void 0);return x!==void 0?this.setOrigin(x):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,r,f,S,n,x,s){}canvasRender(t,i,r,f){}};const _H=Phaser.GameObjects.Components.TransformMatrix,tK=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Jv=new _H,eK=function(e,t,i,r,f,S,n,x){var s=this._width,a=this._height,g=s*this.originX,u=a*this.originY,h=this.x-r,l=this.y-f,o=1,d=1;this.flipX&&(h+=s-g*2,o=-1),this.flipY&&(l+=a-u*2,d=-1),Jv.applyITRS(h,l,this.rotation,this.scaleX*o,this.scaleY*d),t.multiply(Jv,Jv);var v=-g,c=-u,p=v+s,y=c+a,m=Jv.setQuad(v,c,p,y,x),C=this.frame.u0,T=this.frame.v0,E=this.frame.u1,w=this.frame.v1,P=tK(this.tint,this.alpha*i);e.batchQuad(this.parent,m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],C,T,E,w,P,P,P,P,this.tintFill,S,n)},iK=function(e,t,i,r){e.save();var f=this._width,S=this._height,n=f*this.originX,x=S*this.originY,s=this.x-n,a=this.y-x,g=1,u=1;this.flipX&&(s+=f,g=-1),this.flipY&&(a+=S,u=-1),r&&(s=Math.round(s),a=Math.round(a)),e.translate(s,a),e.rotate(this.rotation),e.scale(this.scaleX*g,this.scaleY*u);var h=this.frame;e.drawImage(h.source.image,h.cutX,h.cutY,f,S,0,0,f,S),e.restore()};const sK=Phaser.Utils.Objects.IsPlainObject;let jM=class extends qH{constructor(t,i){super(t,HM),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!sK(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var rK={webglRender:eK,canvasRender:iK};Object.assign(jM.prototype,rK);var JM=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(HM):null;return i===null?i=new jM(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},nK=function(e,t,i,r,f,S){JM(this,{frame:t,x:i,y:r,width:f,height:S})},aK=function(e,t,i,r,f,S){var n=this.texture.get(t),x=n.width,s=n.height,a=Math.floor(f/x),g=Math.floor(S/s);i+=(f-a*x)/2,r+=(S-g*s)/2;for(var u=0;u<a;u++)for(var h=0;h<g;h++)JM(this,{frame:t,x:i+u*x,y:r+h*s})};const oK={_drawImage:nK,_drawTileSprite:aK};class cy extends GM(XM,"rexNinePatch2"){setBaseTexture(t,i,r,f){return this.setTexture(t,i),super.setBaseTexture(t,i,r,f),this}}Object.assign(cy.prototype,oK),bt.register("ninePatch2",function(e,t,i,r,f,S,n,x){var s=new cy(this.scene,e,t,i,r,f,S,n,x);return this.scene.add.existing(s),s}),Pt(window,"RexPlugins.UI.NinePatch2",cy);var hK=Phaser.Renderer.WebGL.Utils,ZM=function(e,t,i,r,f,S){for(var n=hK.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*r),x=i.pathData,s=i.pathIndexes,a=0;a<s.length;a+=3){var g=s[a]*2,u=s[a+1]*2,h=s[a+2]*2,l=x[g+0]-f,o=x[g+1]-S,d=x[u+0]-f,v=x[u+1]-S,c=x[h+0]-f,p=x[h+1]-S,y=t.getX(l,o),m=t.getY(l,o),C=t.getX(d,v),T=t.getY(d,v),E=t.getX(c,p),w=t.getY(c,p);e.batchTri(i,y,m,C,T,E,w,0,0,1,1,n,n,n,2)}},lK=Phaser.Renderer.WebGL.Utils,Zv=function(e,t,i,r,f){var S=e.strokeTint,n=lK.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);S.TL=n,S.TR=n,S.BL=n,S.BR=n;var x=t.pathData,s=x.length-1,a=t.lineWidth,g=a/2,u=x[0]-r,h=x[1]-f;t.closePath||(s-=2);for(var l=2;l<s;l+=2){var o=x[l]-r,d=x[l+1]-f;e.batchLine(u,h,o,d,g,g,a,l-2,t.closePath?l===s-1:!1),u=o,h=d}};const uK=Phaser.GameObjects.GetCalcMatrix;var dK=function(e,t,i,r){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var f=e.pipelines.set(t.pipeline),S=uK(t,i,r),n=f.calcMatrix.copyFrom(S.calc),x=t._displayOriginX,s=t._displayOriginY,a=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&ZM(f,n,t,a,x,s),t.isStroked&&Zv(f,t,a,x,s),e.pipelines.postBatch(t)},Gd=function(e,t,i,r){var f=t.fillColor,S=t.fillAlpha,n=(f&16711680)>>>16,x=(f&65280)>>>8,s=f&255;e.fillStyle="rgba("+n+","+x+","+s+","+S+")"},kd=function(e,t,i,r){var f=t.strokeColor,S=t.strokeAlpha,n=(f&16711680)>>>16,x=(f&65280)>>>8,s=f&255;e.strokeStyle="rgba("+n+","+x+","+s+","+S+")",e.lineWidth=t.lineWidth};const fK=Phaser.Renderer.Canvas.SetTransform;var cK=function(e,t,i,r){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var f=e.currentContext;if(fK(e,f,t,i,r)){var S=t._displayOriginX,n=t._displayOriginY,x=t.pathData,s=x.length-1,a=x[0]-S,g=x[1]-n;f.beginPath(),f.moveTo(a,g),t.closePath||(s-=2);for(var u=2;u<s;u+=2){var h=x[u]-S,l=x[u+1]-n;f.lineTo(h,l)}f.closePath(),t.isFilled&&(Gd(f,t),f.fill()),t.isStroked&&(kd(f,t),f.stroke()),f.restore()}};const vK={renderWebGL:dK,renderCanvas:cK},pK=Phaser.GameObjects.Shape;class vy extends pK{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,r){return r===void 0&&(r=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=r,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=t,r.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(vy.prototype,vK);const Ba=Phaser.Utils.Objects.GetValue;let QM=class{constructor(t,i,r,f,S){t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=0),f===void 0&&(f=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,r,f,S)}setTo(t,i,r,f,S){return this.setPosition(t,i),this.setRadius(S),this.setSize(r,f),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,r;typeof t=="number"?(i=t,r=t):(i=Ba(t,"x",0),r=Ba(t,"y",0));var f=this.cornerRadius;f.tl=Qv(Ba(t,"tl",void 0),i,r),f.tr=Qv(Ba(t,"tr",void 0),i,r),f.bl=Qv(Ba(t,"bl",void 0),i,r),f.br=Qv(Ba(t,"br",void 0),i,r)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){qv(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){qv(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){qv(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){qv(this.cornerRadius.br,t)}};var Qv=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),qM(e),e},qv=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Ba(t,"x",0),e.y=Ba(t,"y",0)),qM(e)},qM=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Li=function(e,t,i){var r=i.length;if(r>=2){var f=i[r-2],S=i[r-1];if(e===f&&t===S)return i}return i.push(e,t),i};const _M=Phaser.Math.DegToRad;var Di=function(e,t,i,r,f,S,n,x,s){n&&S>f?S-=360:!n&&S<f&&(S+=360);var a=S-f,g=_M(a)/x;f=_M(f);for(var u=0;u<=x;u++){var h=f+g*u,l=e+i*Math.cos(h),o=t+r*Math.sin(h);Li(l,o,s)}return s};const gK=Phaser.Utils.Objects.IsPlainObject,tA=Phaser.Utils.Objects.GetValue,mK=Phaser.Geom.Polygon.Earcut;let Jo=class extends vy{constructor(t,i,r,f,S,n,x,s){var a,g,u,h;if(gK(i)){var l=i;i=l.x,r=l.y,f=l.width,S=l.height,n=l.radius,x=l.color,s=l.alpha,a=l.strokeColor,g=l.strokeAlpha,u=l.strokeWidth,h=l.shape}i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=1),S===void 0&&(S=f),n===void 0&&(n=0),h===void 0&&(h=0);var o=new QM;if(super(t,"rexRoundRectangleShape",o),this.setShapeType(h),this.shapeType===0){var d=tA(n,"radius",n);o.setTo(0,0,f,S,d)}else{var d={x:f/2,y:S/2};o.setTo(0,0,f,S,d)}var v=tA(n,"iteration",void 0);this.setIteration(v),this.setPosition(i,r),this.setFillStyle(x,s),a!==void 0&&u===void 0&&(u=2),this.setStrokeStyle(u,a,g),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var r=t.width,f=t.height,S=t.cornerRadius,n,x=this.iteration+1;if(n=S.tl,_v(n))if(n.convex){var s=n.x,a=n.y;Di(s,a,n.x,n.y,180,270,!1,x,i)}else{var s=0,a=0;Di(s,a,n.x,n.y,90,0,!0,x,i)}else Li(0,0,i);if(n=S.tr,_v(n))if(n.convex){var s=r-n.x,a=n.y;Di(s,a,n.x,n.y,270,360,!1,x,i)}else{var s=r,a=0;Di(s,a,n.x,n.y,180,90,!0,x,i)}else Li(r,0,i);if(n=S.br,_v(n))if(n.convex){var s=r-n.x,a=f-n.y;Di(s,a,n.x,n.y,0,90,!1,x,i)}else{var s=r,a=f;Di(s,a,n.x,n.y,270,180,!0,x,i)}else Li(r,f,i);if(n=S.bl,_v(n))if(n.convex){var s=n.x,a=f-n.y;Di(s,a,n.x,n.y,90,180,!1,x,i)}else{var s=0,a=f;Di(s,a,n.x,n.y,360,270,!0,x,i)}else Li(0,f,i);return i.push(i[0],i[1]),this.pathIndexes=mK(i),this}setShapeType(t){return typeof t=="string"&&(t=xK[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};var _v=function(e){return e.x>0&&e.y>0};const xK={rectangle:0,circle:1};bt.register("roundRectangle",function(e,t,i,r,f,S,n){var x=new Jo(this.scene,e,t,i,r,f,S,n);return this.scene.add.existing(x),x}),Pt(window,"RexPlugins.UI.RoundRectangle",Jo);const yK=Phaser.Renderer.WebGL.Utils;var CK=function(e,t,i,r){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var f=t.frame,S=f.width,n=f.height,x=yK.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),a=s.setTexture2D(f.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,f.glTexture,S,n,t.x,t.y,S/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,n,x(t.tintTopLeft,i.alpha*t._alphaTL),x(t.tintTopRight,i.alpha*t._alphaTR),x(t.tintBottomLeft,i.alpha*t._alphaBL),x(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,r,!1,a),e.pipelines.postBatch(t)}},SK=function(e,t,i,r){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,r))};const TK={renderWebGL:CK,renderCanvas:SK},EK=Phaser.Display.Color,PK={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,r,f,S,n,x,s,a){var g=this.scene.sys.textures.getFrame(e,t);if(!g)return this;var u=g.cutWidth,h=g.cutHeight;i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=u),S===void 0&&(S=h),n===void 0&&(n=0),x===void 0&&(x=0),s===void 0&&(s=u),a===void 0&&(a=h);var l=g.cutX+n,o=g.cutY+x;return this.context.drawImage(g.source.image,l,o,s,a,i,r,f,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new EK);var r=this.context.getImageData(e,t,1,1);return i.setTo(r.data[0],r.data[1],r.data[2],r.data[3]),i},setPixel(e,t,i,r,f,S){if(typeof i!="number"){var n=i;i=n.red,r=n.green,f=n.blue,S=n.alpha}S===void 0&&(S=i!==0||r!==0||f!==0?255:0);var x=this.context.createImageData(1,1);return x.data[0]=i,x.data[1]=r,x.data[2]=f,x.data[3]=S,this.context.putImageData(x,e,t),this.dirty=!0,this}};var eA=function(e,t,i,r,f,S,n){var x=e.sys.textures,s=e.renderer;r===void 0&&(r=0),f===void 0&&(f=0),S===void 0&&(S=t.width),n===void 0&&(n=t.height);var a;x.exists(i)?a=x.get(i):a=x.createCanvas(i,S,n);var g=a.getSourceImage();g.width!==S&&(g.width=S),g.height!==n&&(g.height=n);var u=g.getContext("2d",{willReadFrequently:!0});u.clearRect(0,0,S,n),u.drawImage(t,r,f,S,n),s.gl&&a&&s.canvasToTexture(g,a.source[0].glTexture,!0,0)};const wK={updateTexture(e,t){e&&(t?e.call(t,this.canvas,this.context):e(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture(e,t,i,r,f){var S=this.canvas;return r===void 0?r=S.width:r*=this.resolution,f===void 0?f=S.height:f*=this.resolution,eA(this.scene,S,e,t,i,r,f),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Kv();const iA=Phaser.Display.Canvas.CanvasPool,bK=Phaser.GameObjects.GameObject,MK=Phaser.Utils.String.UUID;let Na=class extends bK{constructor(t,i,r,f,S){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=1),S===void 0&&(S=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=f,this._height=S,f=Math.max(Math.ceil(f*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=iA.create(this,f,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,r),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=MK(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){iA.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const As=Phaser.GameObjects.Components;Phaser.Class.mixin(Na,[As.Alpha,As.BlendMode,As.Crop,As.Depth,As.Flip,As.GetBounds,As.Mask,As.Origin,As.Pipeline,As.PostPipeline,As.ScrollFactor,As.Tint,As.Transform,As.Visible,TK,PK,wK]);const AK=Phaser.Utils.String.Pad;var re=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${AK(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const sA=Phaser.Math.DegToRad;var rA=function(e,t,i,r,f,S,n){var x=new QM(t,i,r,f,S),s=x.minWidth,a=x.minHeight,g=r>=s?1:r/s,u=f>=a?1:f/a,h=x.cornerRadius,l,o,d,v,c,p,y;e.save(),e.beginPath(),e.translate(t,i),l=h.tl,ep(l)?(o=l.x*g,d=l.y*u,tp(l)?(v=o,c=d,Ga(e,v,c,o,d,180,270,!1,n)):(v=0,c=0,Ga(e,v,c,o,d,90,0,!0,n)),p=0,y=d):(e.lineTo(0,0),p=0,y=0),l=h.tr,ep(l)?(o=l.x*g,d=l.y*u,tp(l)?(v=r-o,c=d,Ga(e,v,c,o,d,270,360,!1,n)):(v=r,c=0,Ga(e,v,c,o,d,180,90,!0,n))):e.lineTo(r,0),l=h.br,ep(l)?(o=l.x*g,d=l.y*u,tp(l)?(v=r-o,c=f-d,Ga(e,v,c,o,d,0,90,!1,n)):(v=r,c=f,Ga(e,v,c,o,d,270,180,!0,n))):e.lineTo(r,f),l=h.bl,ep(l)?(o=l.x*g,d=l.y*u,tp(l)?(v=o,c=f-d,Ga(e,v,c,o,d,90,180,!1,n)):(v=0,c=f,Ga(e,v,c,o,d,360,270,!0,n))):e.lineTo(0,f),e.lineTo(p,y),e.closePath(),e.restore()},tp=function(e){return!e.hasOwnProperty("convex")||e.convex},ep=function(e){return e.x>0&&e.y>0},Ga=function(e,t,i,r,f,S,n,x,s){if(x&&n>S?n-=360:!x&&n<S&&(n+=360),S=sA(S),n=sA(n),s==null)e.ellipse(t,i,r,f,0,S,n,x);else{s+=1;for(var a,g,u,h=(n-S)/s,l=0;l<=s;l++)u=S+h*l,a=t+r*Math.cos(u),g=i+f*Math.sin(u),e.lineTo(a,g)}},RK=function(e,t,i,r,f,S,n,x,s,a,g,u,h){if(rA(t,i,r,f,S,n,h),x!=null){if(g!=null){var l;u?l=t.createLinearGradient(0,0,f,0):l=t.createLinearGradient(0,0,0,S),l.addColorStop(0,x),l.addColorStop(1,g),x=l}t.fillStyle=x,t.fill()}s!=null&&a>0&&(t.strokeStyle=s,t.lineWidth=a,t.stroke())},py=function(e,t,i,r,f,S,n,x){if(!(t==null&&i==null)){var s=e.canvas.width,a=e.canvas.height;i==null&&(r=0);var g=r/2;s=Math.max(1,s-r),a=Math.max(1,a-r),RK(e.canvas,e.context,g,g,s,a,f,t,i,r,S,n,x)}},OK=function(){py(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const nA=Phaser.Utils.Objects.GetValue;let aA=class extends Na{constructor(t,i,r,f,S,n,x,s,a,g,u){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=1),S===void 0&&(S=f),n===void 0&&(n=0),super(t,i,r,f,S),this.type="rexRoundRectangleCanvas";var h=nA(n,"radius",n),l=nA(n,"iteration",void 0);this.setRadius(h),this.setIteration(l),this.setFillStyle(x,g,u),this.setStrokeStyle(s,a)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=re(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=re(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,r){return r===void 0&&(r=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=r,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=re(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return this.clear(),OK.call(this),super.updateTexture(),this}};bt.register("roundRectangleCanvas",function(e,t,i,r,f,S,n,x,s,a){var g=new aA(this.scene,e,t,i,r,f,S,n,x,s,a);return this.scene.add.existing(g),g}),Pt(window,"RexPlugins.UI.RoundRectangleCanvas",aA);var Fe=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},ka=function(e,t,i){!t||Fe(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(r){i.x=r,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(r){i.y=r,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(r){i.t=r,e.dirty=!0}}))};const LK={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,r){var f=this.geom.topSidePoints;if(Array.isArray(e))for(var f=e,S,n=0,x=f.length;n<x;n++)S=f[n],this.geom.insertTopSidePoint(S.t,S.x,S.y),ka(this,S.key,f[f.length-1]);else this.geom.insertTopSidePoint(e,t,i),ka(this,r,f[f.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,r){var f=this.geom.rightSidePoints;if(Array.isArray(e))for(var f=e,S,n=0,x=f.length;n<x;n++)S=f[n],this.geom.insertRightSidePoint(S.t,S.x,S.y),ka(this,S.key,f[f.length-1]);else this.geom.insertRightSidePoint(e,t,i),ka(this,r,f[f.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,r){var f=this.geom.bottomSidePoints;if(Array.isArray(e))for(var f=e,S,n=0,x=f.length;n<x;n++)S=f[n],this.geom.insertBottomSidePoint(S.t,S.x,S.y),ka(this,S.key,f[f.length-1]);else this.geom.insertBottomSidePoint(e,t,i),ka(this,r,f[f.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,r){var f=this.geom.leftSidePoints;if(Array.isArray(e))for(var f=e,S,n=0,x=f.length;n<x;n++)S=f[n],this.geom.insertLeftSidePoint(S.t,S.x,S.y),ka(this,S.key,f[f.length-1]);else this.geom.insertLeftSidePoint(e,t,i),ka(this,r,f[f.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class DK{constructor(t,i,r,f){t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=0),f===void 0&&(f=0),this.setTo(t,i,r,f),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,r,f){return this.setPosition(t,i),this.setSize(r,f),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,r){return ip(this.topSidePoints,t,i,r),this}insertRightSidePoint(t,i,r){return ip(this.rightSidePoints,t,i,r),this}insertBottomSidePoint(t,i,r){return ip(this.bottomSidePoints,t,i,r),this}insertLeftSidePoint(t,i,r){return ip(this.leftSidePoints,t,i,r),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var ip=function(e,t,i,r){if(typeof t!="number"){var f=t;t=f.t,i=f.x,r=f.y}e.push({t,x:i,y:r})};const FK=Phaser.Utils.Objects.IsPlainObject,cr=Phaser.Utils.Objects.GetValue,Va=Phaser.Math.Linear,IK=Phaser.Geom.Polygon.Earcut;class gy extends vy{constructor(t,i,r,f,S,n,x){var s,a,g;if(FK(i)){var u=i;i=u.x,r=u.y,f=u.width,S=u.height,n=u.color,x=u.alpha,s=u.strokeColor,a=u.strokeAlpha,g=u.strokeWidth}i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=1),S===void 0&&(S=f);var h=new DK;super(t,"rexQuadShape",h),h.setTo(0,0,f,S),this.setPosition(i,r),this.setFillStyle(n,x),s!==void 0&&g===void 0&&(g=2),this.setStrokeStyle(g,s,a),this.setTLPosition(cr(u,"tlx",0),cr(u,"tly",0)).setTRPosition(cr(u,"trx",0),cr(u,"try",0)).setBLPosition(cr(u,"blx",0),cr(u,"bly",0)).setBRPosition(cr(u,"brx",0),cr(u,"bry",0));var l=cr(u,"leftSidePoints");l&&this.insertLeftSidePoint(l);var o=cr(u,"topSidePoints");o&&this.insertTopSidePoint(o);var d=cr(u,"rightSidePoints");d&&this.insertRightSidePoint(d);var v=cr(u,"bottomSidePoints");v&&this.insertBottomSidePoint(v),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var r=t.width,f=t.height,S=0+t.tlx,n=0+t.tly,x=r+t.trx,s=0+t.try,a=r+t.brx,g=f+t.bry,u=0+t.blx,h=f+t.bly,l=t.topSidePoints,o=t.rightSidePoints,d=t.bottomSidePoints,v=t.leftSidePoints;Li(S,n,i),sp(l);for(var c=0,p=l.length;c<p;c++){var y=l[c],m=Va(S,x,y.t)+y.x,C=Va(n,s,y.t)+y.y;Li(m,C,i)}Li(x,s,i),sp(o);for(var c=0,p=o.length;c<p;c++){var y=o[c],m=Va(x,a,y.t)+y.x,C=Va(s,g,y.t)+y.y;Li(m,C,i)}Li(a,g,i),sp(d);for(var c=d.length-1;c>=0;c--){var y=d[c],m=Va(u,a,y.t)+y.x,C=Va(h,g,y.t)+y.y;Li(m,C,i)}Li(u,h,i),sp(v);for(var c=v.length-1;c>=0;c--){var y=v[c],m=Va(S,u,y.t)+y.x,C=Va(n,h,y.t)+y.y;Li(m,C,i)}return i.push(i[0],i[1]),this.pathIndexes=IK(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var sp=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(gy.prototype,LK),bt.register("QuadShape",function(e,t,i,r,f,S){var n=new gy(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.QuadShape",gy);var BK=Phaser.Renderer.WebGL.Utils,NK=function(e,t,i,r){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var f=t.frame,S=f.width,n=f.height,x=BK.getTintAppendFloatAlpha,s=e.pipelines.set(t.pipeline,t),a=s.setTexture2D(f.glTexture,t);e.pipelines.preBatch(t),s.batchTexture(t,f.glTexture,S,n,t.x,t.y,S/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,n,x(t.tintTopLeft,i.alpha*t._alphaTL),x(t.tintTopRight,i.alpha*t._alphaTR),x(t.tintBottomLeft,i.alpha*t._alphaBL),x(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,r,!1,a),e.pipelines.postBatch(t)}},GK=function(e,t,i,r){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,r))};const kK={renderWebGL:NK,renderCanvas:GK},my=Phaser.Display.Canvas.CanvasPool;var VK=function(e,t,i){i===void 0&&(i={});var r=my.create(this),f=r.getContext("2d",{willReadFrequently:!0});e.syncFont(r,f);var S=f.measureText(t),n=Math.ceil(S.width*e.baselineX),x=n,s=2*x;if(x=x*e.baselineY|0,r.width=n,r.height=s,f.fillStyle="#f00",f.fillRect(0,0,n,s),f.font=e._font,f.textBaseline="alphabetic",f.fillStyle="#000",f.fillText(e.testString,0,x),i.left=0,n===0||s===0||!f.getImageData(0,0,n,s))return my.remove(r),i;for(var a=f.getImageData(0,0,n,s).data,g=!1,u=0;u<n;u++){for(var h=0;h<s;h++){var l=(h*n+u)*4;if(a[l]!==255){i.left=u,g=!0;break}}if(g)break}return my.remove(r),i};Kv();const zK=Phaser.GameObjects.GameObject;class oA extends zK{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,r){return this.style.setBackgroundColor(t,i,r)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,r,f,S,n){return this.style.setShadow(t,i,r,f,S,n)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.lineSpacing=t,this.updateText(!1),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return VK(this.style,t,i)}}const ds=Phaser.GameObjects.Components;Phaser.Class.mixin(oA,[ds.Alpha,ds.BlendMode,ds.ComputedSize,ds.Crop,ds.Depth,ds.Flip,ds.GetBounds,ds.Mask,ds.Origin,ds.Pipeline,ds.PostPipeline,ds.ScrollFactor,ds.Tint,ds.Transform,ds.Visible,kK]);var UK={backgroundColor:["backgroundColor",null,re],backgroundColor2:["backgroundColor2",null,re],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,re],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",re],stroke:["stroke","#fff",re],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",re],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",re],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",re],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const rp=Phaser.Display.Canvas.CanvasPool;var hA=function(e){var t=rp.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var r=i.measureText(e.testString);if("actualBoundingBoxAscent"in r){var f=r.actualBoundingBoxAscent,S=r.actualBoundingBoxDescent,a={ascent:f,descent:S,fontSize:f+S};return rp.remove(t),a}var n=Math.ceil(r.width*e.baselineX),x=n,s=2*x;x=x*e.baselineY|0,t.width=n,t.height=s,i.fillStyle="#f00",i.fillRect(0,0,n,s),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,x);var a={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,s))return a.ascent=x,a.descent=x+6,a.fontSize=a.ascent+a.descent,rp.remove(t),a;var g=i.getImageData(0,0,n,s).data,u=g.length,h=n*4,l,o,d=0,v=!1;for(l=0;l<x;l++){for(o=0;o<h;o+=4)if(g[d+o]!==255){v=!0;break}if(!v)d+=h;else break}for(a.ascent=x-l,d=u-h,v=!1,l=s;l>x;l--){for(o=0;o<h;o+=4)if(g[d+o]!==255){v=!0;break}if(!v)d-=h;else break}return a.descent=l-x,a.fontSize=a.ascent+a.descent,rp.remove(t),a},Ei={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const np={none:Ei.NO_WRAP,word:Ei.WORD_WRAP,char:Ei.CHAR_WRAP,character:Ei.CHAR_WRAP,mix:Ei.MIX_WRAP},WK=Phaser.Utils.Objects.GetAdvancedValue,Js=Phaser.Utils.Objects.GetValue;let xy=class{constructor(t,i,r){this.parent=t,r===void 0&&(r=UK),this.propertyMap=r,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==Ei.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,r){if(i===void 0&&(i=!0),r===void 0&&(r=!1),t&&t.hasOwnProperty("wordWrap")){var f=t.wordWrap;f.hasOwnProperty("width")&&(t.wrap={mode:"word",width:f.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var n=S.mode;typeof n=="string"&&(S.mode=np[n])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&r&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var x=this.propertyMap;for(var s in x){var a=x[s],g=a[0],u=r?a[1]:this[s],h=a[2];if(s==="wrapCallback"||s==="wrapCallbackScope")this[s]=Js(t,g,u);else{var l=WK(t,g,u);h&&(l=h(l)),this[s]=l}}var o=Js(t,"font",null);o===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=o;var d=Js(t,"fill",null);d!==null&&(this.color=re(d));var v=Js(t,"metrics",!1);return v?this.metrics={ascent:Js(v,"ascent",0),descent:Js(v,"descent",0),fontSize:Js(v,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=hA(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=hA(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Js(t,"fontFamily","Courier"),this.fontSize=Js(t,"fontSize","16px"),this.fontStyle=Js(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,r){return r===void 0&&(r=!0),this.backgroundColor=re(t,this.parent.canvas,this.parent.context),this.backgroundColor2=re(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=r,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=re(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=re(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,r,f,S,n){return t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r="#000"),f===void 0&&(f=0),S===void 0&&(S=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=re(r,this.parent.canvas,this.parent.context),this.shadowBlur=f,this.shadowStroke=S,this.shadowFill=n,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,r){return t===void 0&&(t="#000"),i===void 0&&(i=0),r===void 0&&(r=0),this.underlineColor=re(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=r,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,r){return t===void 0&&(t="#000"),i===void 0&&(i=0),r===void 0&&(r=0),this.strikethroughColor=re(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=r,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=re(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=np[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=Js(i,"fontFamily",this.fontFamily),this.fontSize=Js(i,"fontSize",this.fontSize),this.fontStyle=Js(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var r in i)t[r]=this[r];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};const YK={draw(e,t,i,r){var f=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var n=this.defaultStyle;this.clear(),py(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var x=n.halign,s=n.valign,a,g=n.lineHeight,u=f.lines,h=u.length,l=n.maxLines,o,d,v;l>0&&h>l?(o=l,s==="center"?d=Math.floor((h-o)/2):s==="bottom"?d=h-o:d=0):(o=h,d=0),v=d+o;var c,p,y=this.rtl,m=y?this.parent.width:void 0;s==="center"?p=Math.max((r-o*g)/2,0):s==="bottom"?p=Math.max(r-o*g-2,0):p=0,p+=t;for(var C=d;C<v;C++)if(a=f.getLineWidth(C),a!==0){for(var T=u[C],E=T.length,w=x,P=0;P<E;P++){var b=T[P].prop.align;if(b!==void 0){w=b;break}}w==="center"?c=(i-a)/2:w==="right"?c=y?0:i-a:c=y?i-a:0,c+=e;for(var P=0;P<E;P++)this.drawPen(T[P],c,p,m)}S.restore()},drawPen(e,t,i,r){t+=e.x,i+=e.y+(e.prop.y||0),r!==void 0&&(t=r-t);var f=this.canvas,S=this.context;S.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var x=this.defaultStyle.metrics,s=i-x.ascent,a=x.fontSize;this.drawRectangle(t,s,e.width,a,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var g=i+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,g,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(f,S),n.syncStyle(f,S),this.drawText(t,i,e.text,n)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var g=i+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,g,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(S.restore(),e.hasAreaMarker&&e.width>0){var u,h=e.prop.area;if(h)u={key:h};else{var l=e.prop.url;u={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,u)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,r,f,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=f,n.fillRect(e,t,i,r)},drawLine(e,t,i,r,f,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;S.syncShadow(n,S.shadowStroke);var x=n.lineCap;n.lineCap="butt",n.strokeStyle=f,n.lineWidth=r,n.beginPath(),n.moveTo(e,t),n.lineTo(e+i,t),n.stroke(),n.lineCap=x},drawText(e,t,i,r){this.autoRound&&(e=Math.round(e),t=Math.round(t));var f=this.context;r.stroke&&r.stroke!=="none"&&r.strokeThickness>0&&(r.syncShadow(f,r.shadowStroke),f.strokeText(i,e,t)),r.color&&r.color!=="none"&&(r.syncShadow(f,r.shadowFill),f.fillText(i,e,t))},drawImage(e,t,i,r,f){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,r,this.autoRound)}},Zo=Phaser.Utils.Objects.GetValue,$K=Ei.NO_NEWLINE,lA=Ei.RAW_NEWLINE;class XK{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Zo(t,"text",""),this.x=Zo(t,"x",0),this.y=Zo(t,"y",0),this.width=Zo(t,"width",0);var i=Zo(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=Zo(t,"newLineMode",0),this.startIndex=Zo(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===lA&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==$K&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===lA&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var nn=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Nn(t),i){t.length=e.length;for(var r=0,f=e.length;r<f;r++)t[r]=e[r]}else for(var S in e)t[S]=e[S];return t};const uA=Phaser.Utils.Objects.GetFastValue,dA=Ei.NO_NEWLINE,HK=Ei.WRAPPED_NEWLINE;class yy{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=uA(t,"tagToText",bi),this.tagToTextScope=uA(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,r,f,S,n){var x=this.pensPool.pop();return x==null&&(x=new XK),Qo.text=t,Qo.x=i,Qo.y=r,Qo.width=f,Qo.prop=S,Qo.newLineMode=n,x.resetFromJSON(Qo),this.addPen(x),this}addImagePen(t,i,r,f){return this.addTextPen("",t,i,r,f,dA),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,r=t?t.y:0,f=t?nn(t.prop):null;return this.addTextPen("",i,r,0,f,HK),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var r=this.lastLine;r==null&&(r=this.linesPool.pop()||[],this.lines.push(r)),r.push(t),t.newLineMode!==dA&&(r=this.linesPool.pop()||[],this.lines.push(r)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new yy),t.clear();for(var i=0,r=this.lines.length;i<r;i++)for(var f=this.lines[i],S=0,n=f.length;S<n;S++){var x=f[S];t.addPen(x.text,x.x,x.y,x.width,nn(x.prop),x.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,r=!1,f;for(i=t;i>=0&&(f=this.lines[i],r=f!=null&&f.length>0,!r);i--);if(!r)return 0;var S=f[f.length-1];return S.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var r=i[i.length-1];if(r==null)return 0;var f=r.lastX;return f}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,r=0,f=this.lines.length;r<f;r++)t=this.getLineWidth(r),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,r=this.lines.length;i<r;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,r=0,f=i.length;r<f;r++)t+=i[r].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,r=0,f=this.pens.length;r<f;r++)t+=i[r].rawTextLength;return t}getSliceTagText(t,i,r){var f=this.lastPen;if(f==null)return"";var S=f.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===S)&&(i=S+1),r===void 0&&(r=!1);for(var n="",x,s,a,g,u,h,l,o=0,d=this.pens.length;o<d&&(x=this.pens[o],g=x.endIndex,!(!(g<=t)&&(x=this.pens[o],s=r?x.wrapText:x.plainText,h=x.prop,a=x.startIndex,u=a>=t&&g<=i,u||(s=s.substring(t-a,i-a)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,s,h,l):n+=this.tagToText(s,h,l),l=h,g>=i)));o++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var Qo={};const KK=Phaser.Geom.Rectangle;var fA=new rn;class jK{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)Nn(this.hitAreas[t].data);return fA.pushMultiple(this.hitAreas),this}add(t,i,r,f,S){var n=fA.pop();return n===null?n=new KK(t,i,r,f):n.setTo(t,i,r,f),n.data=S,this.hitAreas.push(n),this}getFirst(t,i){for(var r=0,f=this.hitAreas.length;r<f;r++){var S=this.hitAreas[r];if(S.contains(t,i))return S}return null}getByKey(t){for(var i=0,r=this.hitAreas.length;i<r;i++){var f=this.hitAreas[i];if(f.data.key===t)return f}return null}drawBounds(t,i,r){i===void 0&&(i=16777215),r&&t.save().scaleCanvas(r.scaleX,r.scaleY).rotateCanvas(r.rotation).translateCanvas(r.x,r.y);for(var f=0,S=this.hitAreas.length;f<S;f++){var n=this.hitAreas[f];t.lineStyle(1,i).strokeRect(n.x,n.y,n.width,n.height)}return r&&t.restore(),this}}var JK=function(){this.parent.on("pointerdown",ZK,this).on("pointerup",QK,this).on("pointermove",Cy,this).on("pointerover",Cy,this).on("pointerout",function(e,t){Cy.call(this,e,null,null,t)},this)},ZK=function(e,t,i,r){var f=this.hitAreaManager.getFirst(t,i);if(f!==null){var S=f.data.key;wl.call(this,"areadown",S,e,t,i,r),f.data.isDown=!0}},QK=function(e,t,i,r){var f=this.hitAreaManager.getFirst(t,i);if(f!==null){var S=f.data,n=S.key;if(wl.call(this,"areaup",n,e,t,i,r),S.isDown){wl.call(this,"areaclick",n,e,t,i,r);var x=S.url;x&&window.open(x,"_blank")}S.isDown=!1}},Cy=function(e,t,i,r){if(t===null){this.lastHitAreaKey!==null&&(wl.call(this,"areaout",this.lastHitAreaKey,e,t,i,r),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var f=this.hitAreaManager.getFirst(t,i),S=f?f.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){wl.call(this,"areaout",this.lastHitAreaKey,e,t,i,r);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&n.data.url&&(this.scene.input.manager.canvas.style.cursor=""),n.isDown=!1}S!==null&&(wl.call(this,"areaover",S,e,t,i,r),this.urlTagCursorStyle&&f.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=S}},wl=function(e,t,i,r,f,S){this.parent.emit(`${e}-${t}`,i,r,f,S),this.parent.emit(e,t,i,r,f,S)},qK=/^[\x00-\x7F]+$/,Vd=function(e){return qK.test(e)};const _K=Ei.NO_NEWLINE,tj=Ei.RAW_NEWLINE,Sy=Ei.WRAPPED_NEWLINE,cA=Ei.NO_WRAP,ej=Ei.WORD_WRAP,vA=Ei.CHAR_WRAP,ij=Ei.SPLITREGEXP;var pA=function(e,t,i,r,f,S){r<=0&&(i=cA);var n=[];if(!e||!e.length)return n;for(var x=i===cA,s=e.split(ij),a,g,u,h=0,l=s.length;h<l;h++){if(a=s[h],u=h===l-1?_K:tj,x){var o=t(a);n.push(S.getLine(a,o,u));continue}if(g=h===0?r-f:r,a.length<=100){var o=t(a);if(o<=g){n.push(S.getLine(a,o,u));continue}}for(var d=sj(a,i),v,c,p="",y=0,m,C=0,T=d.length;C<T;C++){if(v=d[C],c=t(v),c>r&&rj(v)){p!==""?n.push(S.getLine(p,y,Sy)):C===0&&f>0&&n.push(S.getLine("",0,Sy)),n.push(...pA(v,t,vA,r,0,S));var E=n.pop();p=E.text,y=E.width,S.freeLine(E),p===" "&&(p="",y=0);continue}m=y+c,m>g?(n.push(S.getLine(p,y,Sy)),p=v,y=c,g=r):(p+=v,y=m),C===T-1&&n.push(S.getLine(p,y,u))}}return n},sj=function(e,t){var i;switch(t){case ej:i=[],e=e.split(" ");for(var r=0,f=e.length;r<f;r++){var S=e[r];r<f-1?i.push(S+" "):S!==""&&i.push(S)}break;case vA:i=e.split("");break;default:i=[],e=e.split(" ");for(var r=0,f=e.length;r<f;r++){var S=e[r];r<f-1?Vd(S)?i.push(S+" "):(i.push(...S.split("")),i.push(" ")):S!==""&&(Vd(S)?i.push(S):i.push(...S.split("")))}break}return i},rj=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const Ty=Phaser.Utils.Objects.GetValue,nj=Ei.NO_WRAP,aj=Ei.NO_NEWLINE;class gA{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Ty(t,"context",null),this.canvas=this.context.canvas,this.parser=Ty(t,"parser",null),this.defaultStyle=Ty(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new jK,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var i=this.context;this.getTextWidth=function(r){return i.measureText(r).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,r,f,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var n=this.parent.style;if(n.isWrapFitMode){var x=this.parent.padding;r=n.fixedWidth-x.left-x.right}for(var s=this.canvas,a=this.context,g=function(O){return a.measureText(O).width},u=0,h=0,l=n.wrapCallback,o=n.wrapCallbackScope,d=!0,v,c,p,y=this.parser.splitText(t),m,C,T=this.wrapTextLinesPool,E=0,w=y.length;E<w;E++)if(m=this.parser.tagTextToProp(y[E],c),v=m.plainText,c=m.prop,c.img){var P=this.imageManager.getOuterWidth(c.img);r>0&&i!==nj&&r<u+P&&(S.addNewLinePen(),h+=f,u=0),S.addImagePen(u,h,P,nn(c)),u+=P}else if(v!==""){if(a.save(),p=this.parser.propToContextStyle(this.defaultStyle,c),p.buildFont(),p.syncFont(s,a),p.syncStyle(s,a),!l)C=pA(v,g,i,r,u,T);else{C=l.call(o,v,g,r,u),typeof C=="string"&&(C=C.split(`
`));for(var A,b=0,M=C.length;b<M;b++)A=C[b],typeof A=="string"?C[b]=T.getLine(A,g(A),b<M-1?2:0):d=!1}for(var A,b=0,M=C.length;b<M;b++)A=C[b],S.addTextPen(A.text,u,h,A.width,nn(c),A.newLineMode),A.newLineMode!==aj?(u=0,h+=f):u+=A.width;d&&T.freeLines(C),C=null,a.restore()}for(var E=0,w=this.lines.length;E<w;E++){var R=this.lines[E],L=R[R.length-1];L&&(L.width+=this.parser.getStrokeThinkness(this.defaultStyle,L.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new yy({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,r){var f;if(t==null)f=this.penManager.plainText;else{var S=this.parser.splitText(t,1);f="";for(var n=0,x=S.length;n<x;n++)f+=S[n]}return(i!=null||r!=null)&&(i==null&&(i=0),r==null&&(r=f.length),f=f.substring(i,r)),f}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,i),i}getText(t,i,r,f){if(t==null)return this.penManager.getSliceTagText(i,r,f);var S=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,S),S.getSliceTagText(i,r,f)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var oj={setInteractive:JK};Object.assign(gA.prototype,YK,oj);class mA extends rn{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,r){var f=this.pop();return f===null&&(f={}),f.text=t,f.width=i,f.newLineMode=r,f}}const hj=Phaser.Utils.Objects.IsPlainObject,bl=Phaser.Utils.Objects.GetValue;var Ey=function(e,t){hj(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,r=t.frame,f=t.width,S=t.height;if(f===void 0||S===void 0){var n=this.textureManager.getFrame(i,r),x=n?n.cutWidth:0,s=n?n.cutHeight:0;f===void 0&&S===void 0?(f=x,S=s):f===void 0?f=x*(S/s):S===void 0&&(S=s*(f/x))}this.images[e]={key:i,frame:r,width:f,height:S,y:bl(t,"y",0),left:bl(t,"left",0),right:bl(t,"right",0),originX:bl(t,"originX",0),originY:bl(t,"originY",0),tintFill:bl(t,"tintFill",!1)}};const xA=Phaser.Display.Canvas.CanvasPool;var yA=function(e,t,i,r,f,S,n,x){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=e.cutWidth),S===void 0&&(S=e.cutHeight),x===void 0&&(x=!1),x&&(i=Math.round(i),r=Math.round(r));var s=t.getContext("2d",{willReadFrequently:!0});if(n){var a=xA.create(null,f,S,Phaser.CANVAS,!0),g=a.getContext("2d",{willReadFrequently:!0});g.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,f,S),g.globalCompositeOperation="source-in",g.fillStyle=n,g.fillRect(0,0,f,S),s.drawImage(a,0,0,f,S,i,r,f,S),xA.remove(a)}else s.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,r,f,S)},lj=function(e,t,i,r,f,S){var n=this.get(e);if(n){var x=this.textureManager.getFrame(n.key,n.frame),s=n.width,a=n.height;i+=n.left-n.originX*s,r+=n.y-n.originY*a,n.tintFill||(f=void 0),yA(x,t.canvas,i,r,s,a,f,S)}};class Py{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")Ey.call(this,t,i);else if(Array.isArray(t))for(var r=t,f=0,S=r.length;f<S;f++)Ey.call(this,r[f]);else{var r=t;for(var t in r)Ey.call(this,t,r[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var uj={draw:lj};Object.assign(Py.prototype,uj);var CA=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const dj=Phaser.Utils.Objects.IsPlainObject,SA=Phaser.DOM.AddToDOM,TA=Phaser.Display.Canvas.CanvasPool,fj=Phaser.GameObjects.GameObject,Rs=Phaser.Utils.Objects.GetValue,cj=Phaser.DOM.RemoveFromDOM,vj=Ei.SPLITREGEXP,pj=Phaser.Utils.String.UUID;var Ml=null,wy=null,by=null;class My extends oA{constructor(t,i,r,f,S,n,x){if(dj(i)){var s=i;i=Rs(s,"x",0),r=Rs(s,"y",0),f=Rs(s,"text",""),S=Rs(s,"style")}if(i===void 0&&(i=0),r===void 0&&(r=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(i,r),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=TA.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var a=S.align;delete S.align,S.halign=a}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new xy(this,S);var g=Rs(S,"images",void 0);g&&this.addImage(g),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=pj(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var u=Rs(S,"sharedPool",!0),h,l,o;u?(Ml||(Ml={},wy=new rn,by=new mA,this.scene.game.events.once("destroy",function(){Ml=null,wy=null,by=null})),Ml.hasOwnProperty(n)||(Ml[n]=new rn),h=Ml[n],l=wy,o=by):(h=new rn,l=new rn,o=new mA),this.canvasText=new gA({parent:this,context:this.context,parser:x,style:this.style,pensPool:h,linesPool:l,wrapTextLinesPool:o}),this.parser=x,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),S&&S.lineSpacing&&this.setLineSpacing(S.lineSpacing),this.setText(f),this.setUrlTagCursorStyle(Rs(S,"urlTagCursorStyle","pointer")),Rs(S,"interactive",!1)&&this.setInteractive()}preDestroy(){cj(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),TA.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",SA(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",SA(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var r=this._imageManager.images;for(var f in r)r[f].originX=1-r[f].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,r,f){if(typeof t=="object"){var S=t,n=Rs(S,"x",null);n!==null?(t=n,r=n):(t=Rs(S,"left",0),r=Rs(S,"right",t));var x=Rs(S,"y",null);x!==null?(i=x,f=x):(i=Rs(S,"top",0),f=Rs(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=t),f===void 0&&(f=i);return this.padding.left=t,this.padding.top=i,this.padding.right=r,this.padding.bottom=f,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,r=this.style;t&&i.updatePenManager(this._text,r.wrapMode,r.wrapWidth,r.lineHeight);var f=this.padding,S,n,x=Math.ceil(i.linesWidth);r.fixedWidth===0?(this.width=x+f.left+f.right,S=x):(this.width=r.fixedWidth,S=this.width-f.left-f.right,S<x&&(S=x)),r.fixedHeight===0?(this.height=i.linesHeight+f.top+f.bottom,n=i.linesHeight):(this.height=r.fixedHeight,n=this.height-f.top-f.bottom,n<i.linesHeight&&(n=i.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var g=r.resolution;s*=g,a*=g,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var u=this.canvas,h=this.context;u.width!==s||u.height!==a?(u.width=s,u.height=a,this.frame.setSize(s,a)):h.clearRect(0,0,s,a),h.save(),h.scale(g,g);var l=this.style.rtl?f.right:f.left,o=f.top;i.draw(l,o,S,n),h.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(u,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,r){var f=!!this.input;return fj.prototype.setInteractive.call(this,t,i,r),f||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,r){return typeof t=="number"&&(r=i,i=t,t=void 0),t=this.canvasText.getText(t,i,r,!0),t.split(vj)}getPlainText(t,i,r){return typeof t=="number"&&(r=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,r)}getText(t,i,r,f){return typeof t=="number"&&(f=r,r=i,i=t,t=void 0),f===void 0&&(f=!1),this.canvasText.getText(t,i,r,f)}getSubString(t,i,r){return typeof t=="number"&&(r=i,i=t,t=void 0),this.getText(t,i,r)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new Py(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,r,f,S){var n=this.canvas;return f===void 0?f=n.width:f*=this.resolution,S===void 0?S=n.height:S*=this.resolution,eA(this.scene,n,t,i,r,f,S),this}}var gj={appendText:CA};Object.assign(My.prototype,gj);var mj=function(e,t){for(var i=this.tagRegex,r=[],f=0,S=!1,n=!1;;){var x=i.RE_SPLITTEXT.exec(e);if(!x)break;var s=x[0];if(n)if(i.RE_ESC_CLOSE.test(s))n=!1;else continue;else if(S)if(i.RE_RAW_CLOSE.test(s))S=!1;else continue;else i.RE_ESC_OPEN.test(s)?n=!0:i.RE_RAW_OPEN.test(s)&&(S=!0);var a=i.RE_SPLITTEXT.lastIndex,g=a-s.length;if(f<g){var u=e.substring(f,g);r.push(u)}t===void 0&&r.push(s),f=a}var h=e.length;return f<h&&r.push(e.substring(f,h)),r};const pi=!1,si=!0;var xj={plainText:null,prevProp:null},yj=function(e,t){var i=this.tagRegex;t==null&&(t={});var r="";if(t.img&&oe(t,pi,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?oe(t,pi,"esc"):r=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?oe(t,pi,"raw"):r=e;else if(i.RE_ESC_OPEN.test(e))oe(t,si,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))oe(t,pi,"esc");else if(i.RE_RAW_OPEN.test(e))oe(t,si,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))oe(t,pi,"raw");else if(i.RE_BLOD_OPEN.test(e))oe(t,si,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))oe(t,pi,"b");else if(i.RE_ITALICS_OPEN.test(e))oe(t,si,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))oe(t,pi,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var f=e.match(i.RE_WEIGHT_OPEN);oe(t,si,"weight",f[1])}else if(i.RE_WEIGHT_CLOSE.test(e))oe(t,pi,"weight");else if(i.RE_SIZE_OPEN.test(e)){var f=e.match(i.RE_SIZE_OPEN);oe(t,si,"size",`${f[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))oe(t,pi,"size");else if(i.RE_COLOR_OPEN.test(e)){var f=e.match(i.RE_COLOR_OPEN);oe(t,si,"color",f[1])}else if(i.RE_COLOR_CLOSE.test(e))oe(t,pi,"color");else if(i.RE_UNDERLINE_OPEN.test(e))oe(t,si,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var f=e.match(i.RE_UNDERLINE_OPENC);oe(t,si,"u",f[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))oe(t,pi,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))oe(t,si,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var f=e.match(i.RE_STRIKETHROUGH_OPENC);oe(t,si,"s",f[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))oe(t,pi,"s");else if(i.RE_SHADOW_OPEN.test(e))oe(t,si,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var f=e.match(i.RE_SHADOW_OPENC);oe(t,si,"shadow",f[1])}else if(i.RE_SHADOW_CLOSE.test(e))oe(t,pi,"shadow");else if(i.RE_STROKE_OPEN.test(e))oe(t,si,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var f=e.match(i.RE_STROKE_OPENC);oe(t,si,"stroke",f[1])}else if(i.RE_STROKE_CLOSE.test(e))oe(t,pi,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var f=e.match(i.RE_BGCOLOR_OPEN);oe(t,si,"bgcolor",f[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))oe(t,pi,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var f=e.match(i.RE_OFFSETY_OPEN);oe(t,si,"y",parseFloat(f[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))oe(t,pi,"y");else if(i.RE_IMAGE_OPEN.test(e)){var f=e.match(i.RE_IMAGE_OPEN);oe(t,si,"img",f[1])}else if(i.RE_IMAGE_CLOSE.test(e))oe(t,pi,"img");else if(i.RE_AREA_OPEN.test(e)){var f=e.match(i.RE_AREA_OPEN);oe(t,si,"area",f[1])}else if(i.RE_AREA_CLOSE.test(e))oe(t,pi,"area");else if(i.RE_URL_OPEN.test(e)){var f=e.match(i.RE_URL_OPEN);oe(t,si,"url",f[1])}else if(i.RE_URL_CLOSE.test(e))oe(t,pi,"url");else if(i.RE_ALIGN_OPEN.test(e)){var f=e.match(i.RE_ALIGN_OPEN);oe(t,si,"align",f[1])}else if(i.RE_ALIGN_CLOSE.test(e))oe(t,pi,"align");else if(i.RE_ID_OPEN.test(e)){var f=e.match(i.RE_ID_OPEN);oe(t,si,"id",f[1])}else i.RE_ID_CLOSE.test(e)?oe(t,pi,"id"):r=e;var S=xj;return S.plainText=r,S.prop=t,S},oe=function(e,t,i,r){return t===si?e[i]=r:e.hasOwnProperty(i)&&delete e[i],e},Cj=function(e,t){var i=Tj;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var r=t.size;typeof r=="number"&&(r=`${r}px`),i.fontSize=r}else i.fontSize=e.fontSize;i.fontStyle=Sj(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},Sj=function(e){var t=e.b,i=e.weight,r=e.i;return t||i||r?r?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},Tj=new xy,Ej=function(e,t,i){i==null&&(i=Pj);var r=this.delimiters[0],f=this.delimiters[1],S=[];for(var n in i)t.hasOwnProperty(n)||S.push(`${r}/${n}${f}`);for(var n in t){var x=t[n];if(n!=="img"){if(i[n]===x)continue}switch(n){case"size":S.push(`${r}size=${x.replace("px","")}${f}`);break;case"color":case"weight":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${r}${n}=${x}${f}`);break;case"u":case"s":x===!0?S.push(`${r}${n}${f}`):S.push(`${r}${n}=${x}${f}`);break;default:S.push(`${r}${n}${f}`);break}}return S.push(e),S.join("")},Pj={},Al=function(e){return e.replace(wj,"\\$&").replace(bj,"\\x2d")},wj=/[|\\{}()[\]^$+*?.]/g,bj=/-/g,EA,PA,ue={},hi=function(e,t,i,r){return r===void 0?`${e}${i}${t}`:`${e}${i}=(${r})${t}`},Fi=function(e,t,i){return`${e}/${i}${t}`},Mj=function(e){return`[^${e}]+`},Ay="[-.0-9]+",Aj=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],Rl=Aj.join("|"),wA=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(EA===e&&PA===t)return!1;EA=e,PA=t,e=Al(e),t=Al(t);var r=Mj(t),f="esc",S=hi(e,t,f),n=Fi(e,t,f),x="raw",s=hi(e,t,x),a=Fi(e,t,x),g="b",u=hi(e,t,g),h=Fi(e,t,g),l="i",o=hi(e,t,l),d=Fi(e,t,l),v="weight",c=hi(e,t,v,Ay),p=Fi(e,t,v),y="size",m=hi(e,t,y,Ay),C=Fi(e,t,y),T="color",E=hi(e,t,T,Rl),w=Fi(e,t,T),P="u",b=hi(e,t,P),M=hi(e,t,P,Rl),A=Fi(e,t,P),R="s",L=hi(e,t,R),O=hi(e,t,R,Rl),D=Fi(e,t,R),I="shadow",B=hi(e,t,I),G=hi(e,t,I,Rl),z=Fi(e,t,I),Y="stroke",H=hi(e,t,Y),k=hi(e,t,Y,Rl),U=Fi(e,t,Y),F="bgcolor",N=hi(e,t,F,Rl),V=Fi(e,t,F),$="y",X=hi(e,t,$,Ay),j=Fi(e,t,$),Q="img",K=hi(e,t,Q,r),q=Fi(e,t,Q),tt="area",st=hi(e,t,tt,r),nt=Fi(e,t,tt),rt="url",ut=hi(e,t,rt,r),vt=Fi(e,t,rt),pt="align",ft=hi(e,t,pt,r),lt=Fi(e,t,pt),yt="id",Ct=hi(e,t,yt,r),Rt=Fi(e,t,yt);return ue.RE_ESC_OPEN=new RegExp(S,"i"),ue.RE_ESC_CLOSE=new RegExp(n,"i"),ue.RE_RAW_OPEN=new RegExp(s,"i"),ue.RE_RAW_CLOSE=new RegExp(a,"i"),ue.RE_BLOD_OPEN=new RegExp(u,"i"),ue.RE_BLOD_CLOSE=new RegExp(h,"i"),ue.RE_ITALICS_OPEN=new RegExp(o,"i"),ue.RE_ITALICS_CLOSE=new RegExp(d,"i"),ue.RE_WEIGHT_OPEN=new RegExp(c,"i"),ue.RE_WEIGHT_CLOSE=new RegExp(p,"i"),ue.RE_SIZE_OPEN=new RegExp(m,"i"),ue.RE_SIZE_CLOSE=new RegExp(C,"i"),ue.RE_COLOR_OPEN=new RegExp(E,"i"),ue.RE_COLOR_CLOSE=new RegExp(w,"i"),ue.RE_UNDERLINE_OPEN=new RegExp(b,"i"),ue.RE_UNDERLINE_OPENC=new RegExp(M,"i"),ue.RE_UNDERLINE_CLOSE=new RegExp(A,"i"),ue.RE_STRIKETHROUGH_OPEN=new RegExp(L,"i"),ue.RE_STRIKETHROUGH_OPENC=new RegExp(O,"i"),ue.RE_STRIKETHROUGH_CLOSE=new RegExp(D,"i"),ue.RE_SHADOW_OPEN=new RegExp(B,"i"),ue.RE_SHADOW_OPENC=new RegExp(G,"i"),ue.RE_SHADOW_CLOSE=new RegExp(z,"i"),ue.RE_STROKE_OPEN=new RegExp(H,"i"),ue.RE_STROKE_OPENC=new RegExp(k,"i"),ue.RE_STROKE_CLOSE=new RegExp(U,"i"),ue.RE_BGCOLOR_OPEN=new RegExp(N,"i"),ue.RE_BGCOLOR_CLOSE=new RegExp(V,"i"),ue.RE_OFFSETY_OPEN=new RegExp(X,"i"),ue.RE_OFFSETY_CLOSE=new RegExp(j,"i"),ue.RE_IMAGE_OPEN=new RegExp(K,"i"),ue.RE_IMAGE_CLOSE=new RegExp(q,"i"),ue.RE_AREA_OPEN=new RegExp(st,"i"),ue.RE_AREA_CLOSE=new RegExp(nt,"i"),ue.RE_URL_OPEN=new RegExp(ut,"i"),ue.RE_URL_CLOSE=new RegExp(vt,"i"),ue.RE_ALIGN_OPEN=new RegExp(ft,"i"),ue.RE_ALIGN_CLOSE=new RegExp(lt,"i"),ue.RE_ID_OPEN=new RegExp(Ct,"i"),ue.RE_ID_CLOSE=new RegExp(Rt,"i"),ue.RE_SPLITTEXT=new RegExp([s,a,S,n,u,h,o,d,c,p,m,C,E,w,b,M,A,L,O,D,B,G,z,H,k,U,N,V,X,j,K,q,st,nt,ut,vt,ft,lt,Ct,Rt].join("|"),"ig"),!0},bA=function(e,t){return e!==void 0&&wA(e,t),Object.assign({},ue)};const Rj=Phaser.Utils.Objects.GetValue;let MA=class{constructor(t){var i=Rj(t,"delimiters","[]");this.tagRegex=bA(i),this.delimiters=i}getStrokeThinkness(t,i){var r;return i.hasOwnProperty("stroke")?r=t.strokeThickness:r=0,r}setDelimiters(t,i){return wA(t,i)&&(this.tagRegex=bA()),this}};var Oj={splitText:mj,tagTextToProp:yj,propToContextStyle:Cj,propToTagText:Ej};Object.assign(MA.prototype,Oj);class Ry extends My{constructor(t,i,r,f,S){var n=new MA(S);super(t,i,r,f,S,"rexBBCodeText",n)}setDelimiters(t,i){return this.parse.setDelimiters(t,i),this}}bt.register("BBCodeText",function(e,t,i,r){var f=new Ry(this.scene,e,t,i,r);return this.scene.add.existing(f),f}),Pt(window,"RexPlugins.UI.BBCodeText",Ry);var Lj={plainText:null,prevProp:null},Dj=new xy;let Fj=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var r=[],f=0;;){var S=Oy.exec(t);if(!S)break;var n=S[0],x=Oy.lastIndex-n.length;if(f<x&&r.push(t.substring(f,x)),i===void 0)r.push(n);else if(i===1){if(RA.test(n)){var s=n.match(OA);r.push(s[2])}else if(LA.test(n)){var s=n.match(DA);r.push(s[2])}}f=Oy.lastIndex}var a=t.length;return f<a&&r.push(t.substring(f,a)),r}tagTextToProp(t,i){var r,f;if(RA.test(t)){var S=t.match(OA);if(S!=null){var n=S[1],x=this.tags;x.hasOwnProperty(n)?f=x[n]:f={},f._class=n,r=S[2]}}else if(LA.test(t)){var S=t.match(DA);if(S!=null){var s=S[1];f=Ij(s),f._style=s,r=S[2]}}r==null&&(r=t),f==null&&(f={});var a=Lj;return a.plainText=r,a.prop=f,a}propToContextStyle(t,i){var r=Dj;if(i.hasOwnProperty("img"))r.image=i.img;else{if(r.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var f=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];r.fontFamily=f}else r.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var S=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof S=="number"&&(S=`${S}px`),r.fontSize=S}else r.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var n=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];r.fontStyle=n}else r.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var x=i.hasOwnProperty("color")?i.color:i["font-color"];r.color=x}else r.color=t.color;if(i.hasOwnProperty("stroke")){var s=i.stroke;r.stroke=s.hasOwnProperty("color")?s.color:t.stroke,r.strokeThickness=s.hasOwnProperty("thickness")?s.thickness:t.strokeThickness}else r.stroke=t.stroke,r.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var a=i.shadow;r.shadowColor=a.hasOwnProperty("color")?a.color:t.shadowColor,r.shadowOffsetX=a.hasOwnProperty("offsetX")?a.offsetX:t.shadowOffsetX,r.shadowOffsetY=a.hasOwnProperty("offsetY")?a.offsetY:t.shadowOffsetY,r.shadowBlur=a.hasOwnProperty("blur")?a.blur:t.shadowBlur,r.shadowStroke=!0,r.shadowFill=!0}else r.shadowColor=t.shadowColor,r.shadowOffsetX=t.shadowOffsetX,r.shadowOffsetY=t.shadowOffsetY,r.shadowBlur=t.shadowBlur,r.shadowStroke=t.shadowStroke,r.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var g=i.hasOwnProperty("u")?i.u:i.underline;r.underlineColor=g.hasOwnProperty("color")?g.color:t.underlineColor,r.underlineThickness=g.hasOwnProperty("thickness")?g.thickness:t.underlineThickness,r.underlineOffset=g.hasOwnProperty("offset")?g.offset:t.underlineOffset}else r.underlineColor=t.underlineColor,r.underlineThickness=t.underlineThickness,r.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var u=i.hasOwnProperty("s")?i.s:i.strikethrough;r.strikethroughColor=u.hasOwnProperty("color")?u.color:t.strikethroughColor,r.strikethroughThickness=u.hasOwnProperty("thickness")?u.thickness:t.strikethroughThickness,r.strikethroughOffset=u.hasOwnProperty("offset")?u.offset:t.strikethroughOffset}else r.strikethroughColor=t.strikethroughColor,r.strikethroughThickness=t.strikethroughThickness,r.strikethroughOffset=t.strikethroughOffset;return r}getStrokeThinkness(t,i){var r;if(i.hasOwnProperty("stroke")){var f=i.stroke;r=f.hasOwnProperty("thickness")?f.thickness:t.strokeThickness}else r=t.strokeThickness;return r}propToTagText(t,i,r){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var Ij=function(e){e=e.split(";");for(var t={},i,r,f,S=0,n=e.length;S<n;S++)if(i=e[S].split(":"),r=i[0],f=i[1],!(AA(r)||AA(f))){switch(r){case"stroke":var x=f.split(" "),s=x.length;f={},s>=1&&(f.color=x[0]),s>=2&&(f.thickness=parseInt(x[1].replace("px","")));break;case"shadow":var x=f.split(" "),s=x.length;f={},s>=1&&(f.color=x[0]),s>=2&&(f.offsetX=parseInt(x[1].replace("px",""))),s>=3&&(f.offsetY=parseInt(x[2].replace("px",""))),s>=4&&(f.blur=parseInt(x[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var x=f.split(" "),s=x.length;f={},s>=1&&(f.color=x[0]),s>=2&&(f.thickness=parseInt(x[1].replace("px",""))),s>=3&&(f.offset=parseInt(x[2].replace("px",""))),r==="underline"?r="u":r==="strikethrough"&&(r="s");break;case"y":f=parseFloat(f);break}t[r]=f}return t},AA=function(e){return e=e.replace(Bj,""),e.length===0},Oy=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,RA=/<\s*class=/i,OA=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,LA=/<\s*style=/i,DA=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,Bj=/^\s+|\s+$/;const Nj=Phaser.Utils.Objects.GetValue;class FA extends My{constructor(t,i,r,f,S){var n=Nj(S,"tags",void 0),x=new Fj(n);super(t,i,r,f,S,"rexTagText",x)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}bt.register("tagText",function(e,t,i,r){var f=new FA(this.scene,e,t,i,r);return this.scene.add.existing(f),f}),Pt(window,"RexPlugins.UI.TagText",FA);const ap=Phaser.Utils.Objects.GetValue;var op=function(e,t){return t===void 0?e:e[t]},za=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var r=typeof t;return r==="string"?e[t]=i:r==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=ap(t,"left",0),e.right=ap(t,"right",0),e.top=ap(t,"top",0),e.bottom=ap(t,"bottom",0)),e};let Ly=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(Ly.prototype,jv);const Gj={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},kj=Phaser.Math.RotateAround;var Vj=function(e,t,i,r){return r===void 0?r={}:r===!0&&(Dy===void 0&&(Dy={}),r=Dy),r.x=(e-i.drawX)/i.scaleX,r.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&kj(r,0,0,-i.rotation),r},Dy;const zj=Phaser.Geom.Rectangle;var Uj=function(e,t){if(this.width===0||this.height===0)return!1;var i=Vj(e,t,this,!0);return Wj(this).contains(i.x,i.y)},Wj=function(e){hp===void 0&&(hp=new zj);var t=e.drawTLX,i=e.drawTLY;return hp.setTo(t,i,e.drawTRX-t,e.drawBLY-i),hp},hp;const Yj=Phaser.Math.RotateAround;var IA=function(e,t,i,r){return r===void 0?r={}:r===!0&&(Fy===void 0&&(Fy={}),r=Fy),r.x=t,r.y=i,e.rotation!==0&&Yj(r,0,0,e.rotation),r.x=r.x*e.scaleX+e.drawX,r.y=r.y*e.scaleY+e.drawY,r},Fy;const BA=Phaser.GameObjects.Components.TransformMatrix;var $j=function(e,t,i,r){r===void 0?r={}:r===!0&&(r=Xj);var f=t-e.width*e.originX,S=i-e.height*e.originY;return zd===void 0&&(zd=new BA,NA=new BA),e.parentContainer?e.getWorldTransformMatrix(zd,NA):zd.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),zd.transformPoint(f,S,r),r},zd,NA,Xj={},Hj=function(e,t,i,r,f){var S=IA(t,i,r,!0),n=$j(e,S.x,S.y,f);return n},GA=function(e,t,i,r,f){typeof i!="number"&&(f=i,i=0,r=0);var S=t.drawCenterX+i,n=t.drawCenterY+r;return Hj(e,t,S,n,f)},Kj=function(e,t,i){return GA(this.parent,this,e,t,i)},kA={contains:Uj,getWorldPosition:Kj};Object.assign(kA,Gj);const jj=Phaser.Math.DegToRad,Jj=Phaser.Math.RadToDeg,lp=Phaser.Utils.Objects.GetValue;class qo extends Ly{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return Jj(this._rotation)}set angle(t){this.rotation=jj(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=lp(t,"width",void 0),r=lp(t,"height",void 0),f=lp(t,"scaleX",void 0),S=lp(t,"scaleY",void 0);return i!==void 0?r===void 0&&S===void 0?this.setWidth(i,!0):this.setWidth(i):f!==void 0&&this.setScaleX(f),r!==void 0?i===void 0&&f===void 0?this.setHeight(r,!0):this.setHeight(r):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(qo.prototype,kA);var Ua=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const _o=Phaser.Utils.Objects.GetValue;class Zj extends qo{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(_o(i,"color",null),_o(i,"color2",null),_o(i,"horizontalGradient",!0)),this.setStroke(_o(i,"stroke",null),_o(i,"strokeThickness",2)),this.setCornerRadius(_o(i,"cornerRadius",0),_o(i,"cornerIteration",null))}set color(t){t=re(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=re(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,r){return r===void 0&&(r=!0),this.color=t,this.color2=i,this.horizontalGradient=r,this}set stroke(t){t=re(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Ua("color2",t,this),Ua("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Ua("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Ua("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){py(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Wa=Phaser.Utils.Objects.GetValue;class Qj extends qo{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(Wa(i,"color",null),Wa(i,"color2",null),Wa(i,"horizontalGradient",!0)),this.setStroke(Wa(i,"stroke",null),Wa(i,"strokeThickness",2))}set color(t){t=re(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=re(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,r){return r===void 0&&(r=!0),this.color=t,this.color2=i,this.horizontalGradient=r,this}set stroke(t){t=re(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Wa(t,"color2",null),Wa(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Wa(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,r=t.top,f=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var x;if(this.color2!=null){var s;this.horizontalGradient?s=n.createLinearGradient(0,0,f,0):s=n.createLinearGradient(0,0,0,S),s.addColorStop(0,this.color),s.addColorStop(1,this.color2),x=s}else x=this.color;n.fillStyle=x,n.fillRect(i,r,f,S)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(i,r,f,S))}}const Mi=Phaser.Utils.Objects.GetValue;class up{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(Mi(t,"bold",!1)),this.setItalic(Mi(t,"italic",!1)),this.setFontSize(Mi(t,"fontSize","16px")),this.setFontFamily(Mi(t,"fontFamily","Courier")),this.setColor(Mi(t,"color","#fff")),this.setStrokeStyle(Mi(t,"stroke",null),Mi(t,"strokeThickness",0)),this.setShadow(Mi(t,"shadowColor",null),Mi(t,"shadowOffsetX",0),Mi(t,"shadowOffsetY",0),Mi(t,"shadowBlur",0)),this.setOffset(Mi(t,"offsetX",0),Mi(t,"offsetY",0)),this.setSpace(Mi(t,"leftSpace",0),Mi(t,"rightSpace",0)),this.setAlign(Mi(t,"align",void 0)),this.setBackgroundColor(Mi(t,"backgroundColor",null)),this.setBackgroundHeight(Mi(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(Mi(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Ua("stroke",t,this),Ua("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Ua("shadowOffsetX",t,this),Ua("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new up(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=re(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=re(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=re(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,r,f){return this.setShadowColor(t).setShadowOffset(i,r).setShadowBlur(f),this}setBackgroundColor(t){return this.backgroundColor=re(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,r=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=r?this.stroke:"#000",t.lineWidth=r?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var qj=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},_j=function(e,t){var i=this.padding,r=i.left,f=i.right,S=i.top,n=i.bottom;return za(i,e,t),this.dirty=this.dirty||r!=i.left||f!=i.right||S!=i.top||n!=i.bottom,this},tJ=function(e){return op(this.padding,e)},eJ=function(e){return this.textStyle.modify(e),this},iJ=function(e){return this.defaultTextStyle.modify(e),this},sJ=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},rJ=function(e){return this.testString=e,this};const nJ=Phaser.Utils.Array.Remove;var aJ=function(e){return this.poolManager.free(e),nJ(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},oJ=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const hJ=Phaser.Utils.Array.Remove;var lJ=function(e){return hJ(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},uJ=function(){return this.setText(),this},dJ=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const Gn="text",VA="image",zA="drawer",UA="space",Iy="command";var WA=function(e){return e.type===Gn&&e.text===`
`},YA=function(e){return e.type===Gn&&e.text==="\f"},fJ=function(e){return e.type===Gn&&e.text===" "},Ol=function(e){return e.type===Gn},cJ=function(e){return e.type===Iy};class $A extends qo{constructor(t,i,r){super(t,Gn),this.updateTextFlag=!1,this.style=new up(this,r),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var r,f;"actualBoundingBoxAscent"in i?(r=i.actualBoundingBoxAscent,f=i.actualBoundingBoxDescent):(r=0,f=0),this.textHeight=r+f,this.ascent=r,this.descent=f}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var r=this.drawTLX,f=this.drawTRX-r,S=i.backgroundBottomY;S==null&&(S=this.drawBLY);var n=i.backgroundHeight;n==null&&(n=S-this.drawTLY);var x=S-n;t.fillRect(r,x,f,n)}var s=i.hasFill,a=i.hasStroke;!s&&!a||(i.syncFont(t).syncStyle(t),a&&(i.syncShadow(t),t.strokeText(this.text,0,0)),s&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var vJ=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(Gn);return i===null?i=new $A(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},pJ=function(e,t){t&&this.textStyle.modify(t);for(var i=[],r=0,f=e.length;r<f;r++){var S=e.charAt(r),n=this.poolManager.allocate(Gn);n===null?n=new $A(this,S,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),i.push(n)}return i},Ud=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},gJ=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Ud.call(this,e,t),this.dirty=!0,this},mJ=function(e,t,i){var r=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(r,e),this},xJ=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var r=this.getCharChildIndex(e,!0);if(r===void 0)break;this.removeChild(this.children[r])}return this},yJ=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class CJ extends qo{constructor(t,i,r){super(t,VA),this.setTexture(i,r),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){yA(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var SJ=function(e,t,i){var r=this.poolManager.allocate(VA);return r===null?r=new CJ(this,e,t):r.setParent(this).setActive().setTexture(e,t),r.modifyPorperties(i),r},XA=function(e,t,i){var r=this.createImageChild(e,t,i);return this.addChild(r),this};class TJ extends qo{constructor(t,i,r,f){super(t,zA),this.setRenderCallback(i),this.setDrawerSize(r,f)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var EJ=function(e,t,i){var r=this.poolManager.allocate(zA);return r===null?r=new TJ(this,e,t,i):r.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),r},PJ=function(e,t,i){var r=this.createDrawerChild(e,t,i);return this.addChild(r),this};let wJ=class extends qo{constructor(t,i){super(t,UA),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var bJ=function(e){var t=this.poolManager.allocate(UA);return t===null?t=new wJ(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},HA=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class MJ extends Ly{constructor(t,i,r,f,S){super(t,Iy),this.setName(i).setParameter(f).setCallback(r,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var AJ=function(e,t,i,r){var f=this.poolManager.allocate(Iy);return f===null?f=new MJ(this,e,t,i,r):f.setParent(this).setActive().setName(e).setCallback(t,r).setParameter(i),f},jt=function(e,t,i,r){var f=this.createCommandChild(e,t,i,r);return this.addChild(f),this},RJ=function(e){return e===void 0?e={}:typeof e=="object"&&(e=Wi(e)),this.wrapConfig=e,this},KA=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const OJ={none:0,word:1,char:2,character:2,mix:3};var LJ=function(e,t,i,r){r===void 0&&(r={word:[],width:0}),r.word.length=0;for(var f=i===2,S=i===3,n=!f&&!S,x=e.length,s=t,a=r.word,g=0,u=!1;s<x;){var h=e[s];if(!h.renderable){a.push(h),s++;continue}var l=h.type===Gn?h.text:null;if(l===null||l===`
`||l==="\f"){s===t&&(a.push(h),g+=h.outerWidth);break}if(n){if(a.push(h),g+=h.outerWidth,l===" ")break;s++}else if(f){a.push(h),g+=h.outerWidth;break}else if(S)if(Vd(l)){if(a.push(h),g+=h.outerWidth,l===" ")break;s++,u=!0}else{if(u)break;a.push(h),g+=h.outerWidth;var o=e[s+1];o&&o.type===Gn&&o.text===" "&&(a.push(o),g+=o.outerWidth);break}}return r.width=g,r},jA=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t];if(r.align!==void 0)return r.align}},JA=function(e,t,i){if(!(t===0&&i===0))for(var r=0,f=e.length;r<f;r++){var S=e[r];S.renderable&&(S.x+=t,S.y+=i)}},DJ=function(e,t,i){for(var r=e.hAlign,f=e.vAlign,S=e.justifyPercentage,n=e.lines,x,s,a=0,g=n.length;a<g;a++){var u=n[a],h=u.width,l=u.children,o=jA(l);switch(o===void 0&&(o=r),o){case 0:case"left":x=0;break;case 1:case"center":var d=t-h;x=d/2;break;case 2:case"right":var d=t-h;x=d;break;case 3:case"justify":case"justify-left":var d=t-h,v=d/t;v<S&&By(l,d),x=0;break;case 4:case"justify-center":var d=t-h,v=d/t;v<S?(By(l,d),x=0):x=d/2;break;case 5:case"justify-right":var d=t-h,v=d/t;v<S?(By(l,d),x=0):x=d;break;default:x=0;break}var c=e.linesHeight;switch(f){case 1:case"center":s=(i-c)/2;break;case 2:case"bottom":s=i-c;break;default:s=0;break}JA(l,x,s)}},By=function(e,t){for(var i=t/e.length,r=0,f=e.length;r<f;r++){var S=e[r];S.renderable&&(S.x+=i*r)}},ZA=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),dp.ascent=t,dp.descent=i,dp.height=t+i,dp},dp={};const fs=Phaser.Utils.Objects.GetValue;var FJ=function(e){var t=fs(e,"start",0);za(this.wrapPadding,fs(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,r=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,f=fs(e,"lineHeight"),S=fs(e,"ascent",f),n;if(f===void 0){var x=fs(e,"useDefaultTextHeight",!1);if(n=fs(e,"maxLines",0),this.fixedHeight>0&&!x){var j=this.fixedHeight-i;if(n>0)f=j/n;else{var s=ZA.call(this);f=s.height,S=s.ascent,n=Math.floor((j-S)/f)}}else{var s=ZA.call(this);f=s.height,S=s.ascent}}else if(this.fixedHeight>0){if(n=fs(e,"maxLines"),n===void 0){var j=this.fixedHeight-i;n=Math.floor(j/f)}}else n=fs(e,"maxLines",0);S===void 0&&(S=f);var a=n===0,g=fs(e,"wrapMode");if(g===void 0){var u=fs(e,"charWrap",!1);g=u?"char":"word"}typeof g=="string"&&(g=OJ[g]);var h=fs(e,"wrapWidth",void 0);h===void 0&&(this.fixedWidth>0?h=this.fixedWidth-r:(h=1/0,g=0));for(var l=fs(e,"letterSpacing",0),o=fs(e,"hAlign",0),d=fs(e,"vAlign",0),v=fs(e,"justifyPercentage",.25),c=KA({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:o,vAlign:d,justifyPercentage:v,ascent:S,lineHeight:f,wrapWidth:h,wrapMode:g}),p=this.children,y=0,m=p.length;y<m;y++)p[y].setActive(!1);h+=l;for(var C=this.padding.left+this.wrapPadding.left,T=this.padding.top+this.wrapPadding.top+S,E=C,w=T,P=h,b=t,M=p.length,A=c.children,R=c.lines,L=[],O=0,D=0,I,B=!1;b<M;){I=LJ(p,b,g,I);var G=I.word,z=G.length,Y=I.width+z*l;b+=z;var H=WA(G[0]);B=YA(G[0]);var k=H||B;if(P<Y||k){if(k){var U=G[0];U.setActive().setPosition(E,w),A.push(U),L.push(U)}E=C,w+=f,P=h,R.push({children:L,width:O}),D=Math.max(D,O),O=0,L=[];var F=B||!a&&R.length===n;if(F)break;if(k)continue}P-=Y,O+=Y;for(var y=0,m=G.length;y<m;y++){var N=G[y];N.setActive(),A.push(N),L.push(N),N.renderable&&(N.setPosition(E,w),E+=N.outerWidth+l)}}L.length>0&&(R.push({children:L,width:O}),D=Math.max(D,O)),c.start+=A.length,c.isLastPage=!B&&c.start===M,c.maxLineWidth=D,c.linesHeight=R.length*f;var V=this.fixedWidth>0?this.fixedWidth:c.maxLineWidth+r,$=this.fixedHeight>0?this.fixedHeight:c.linesHeight+i,X=V-r,j=$-i;DJ(c,X,j),this.setCanvasSize(V,$);for(var y=0,m=A.length;y<m;y++){var N=A[y];N.renderable&&(N.x0=N.x,N.y0=N.y)}return c};const IJ=Phaser.Utils.Objects.Merge;var BJ=function(e){return e===void 0&&(e={}),FJ.call(this,IJ(e,this.wrapConfig))},NJ=function(e,t,i){var r=e.hAlign,f=e.vAlign,S,n,x=e.rtl,s=e.lines,a=e.lineWidth,g=e.linesWidth;switch(r){case 1:case"center":S=(t-g)/2;break;case 2:case"right":S=t-g;break;default:S=0;break}x&&(S+=a);for(var u=0,h=s.length;u<h;u++){var l=s[x?h-u-1:u],o=l.children,d=l.height,v=jA(o);switch(v===void 0&&(v=f),v){case 1:case"center":n=(i-d)/2;break;case 2:case"bottom":n=i-d;break;default:n=0;break}JA(o,S,n),S+=a}};const Zs=Phaser.Utils.Objects.GetValue;var GJ=function(e){var t=Zs(e,"start",0);za(this.wrapPadding,Zs(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,r=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,f=Zs(e,"lineWidth",void 0),S;if(f===void 0)if(S=Zs(e,"maxLines",0),this.fixedWidth>0){var H=this.fixedWidth-r;f=H/S}else f=0;else if(this.fixedWidth>0){if(S=Zs(e,"maxLines",void 0),S===void 0){var H=this.fixedWidth-r;S=Math.floor(H/f)+1}}else S=Zs(e,"maxLines",0);var n=S===0,x=Zs(e,"fixedCharacterHeight",void 0);if(x===void 0){var s=Zs(e,"charPerLine",void 0);if(s!==void 0){var k=this.fixedHeight-i;x=Math.floor(k/s)}}var a=Zs(e,"wrapHeight",void 0);a===void 0&&(this.fixedHeight>0?a=this.fixedHeight-i:a=1/0);for(var g=Zs(e,"letterSpacing",0),u=Zs(e,"rtl",!0),h=Zs(e,"hAlign",u?2:0),l=Zs(e,"vAlign",0),o=KA({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:g,maxLines:S,hAlign:h,vAlign:l,lineWidth:f,fixedCharacterHeight:x,wrapHeight:a,rtl:u}),d=this.children,v=0,c=d.length;v<c;v++)d[v].setActive(!1);a+=g;for(var p=this.padding.left+this.wrapPadding.left,y=this.padding.top+this.wrapPadding.top,m=p,C=y,T=a,E=t,w=d.length,P=o.children,b=o.lines,M=[],A=0,R=0;E<w;){var L=d[E];if(E++,!L.renderable){L.setActive(),P.push(L),M.push(L);continue}var O=(x!==void 0?x:L.height)+g,D=WA(L),I=YA(L),B=D||I;if(T<O||B){D&&(L.setActive().setPosition(m,C).setOrigin(.5),P.push(L),M.push(L)),m=p,C=y,T=a,b.push({children:M,height:A}),R=Math.max(R,A),A=0,M=[];var G=I||!n&&b.length===S;if(G)break;if(B)continue}T-=O,A+=O,L.setActive().setPosition(m,C).setOrigin(.5),P.push(L),M.push(L),C+=O}M.length>0&&(b.push({children:M,height:A}),R=Math.max(R,A)),o.start+=P.length,o.isLastPage=o.start===w,o.maxLineHeight=R,o.linesWidth=b.length*f;var z=this.fixedWidth>0?this.fixedWidth:o.linesWidth+r,Y=this.fixedHeight>0?this.fixedHeight:o.maxLineHeight+i,H=z-r,k=Y-i;NJ(o,H,k),this.setCanvasSize(z,Y);for(var v=0,c=P.length;v<c;v++){var L=P[v];L.renderable&&(L.x0=L.x,L.y0=L.y)}return o};const kJ=Phaser.Utils.Objects.Merge;var VJ=function(e){return e===void 0&&(e={}),GJ.call(this,kJ(e,this.wrapConfig))};const QA=Phaser.Utils.Objects.GetValue;var zJ=function(e){var t=QA(this.wrapConfig,"callback");return t||(t=QA(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const UJ={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},WJ={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var YJ=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},$J=function(e,t,i){i===void 0&&(i=!0);for(var r=this.children,f=0,S=0,n=r.length;S<n;S++){var x=r[S];if(!(i&&!x.active)){var s;if(t?s=e.call(this,x,f,r):s=e(x,f,r),f++,s)break}}return this},XJ=function(e,t,i){i===void 0&&(i=!0);for(var r=this.children,f=0,S=0,n=r.length;S<n;S++){var x=r[S];if(!(i&&!x.active)&&x.renderable&&!x.removed){var s;if(t?s=e.call(this,x,f,r):s=e(x,f,r),f++,s)break}}return this},HJ=function(e,t,i){i===void 0&&(i=!0);for(var r=this.children,f=0,S=0,n=r.length;S<n;S++){var x=r[S];if(!(i&&!x.active)&&Ol(x)&&!x.removed){var s;if(t?s=e.call(this,x,f,r):s=e(x,f,r),f++,s)break}}return this},KJ=function(){return this.children};const jJ=Phaser.Utils.Array.GetAll;var JJ=function(){return jJ(this.children,"active",!0)},ZJ=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},QJ=function(){return this.lastAppendedChildren},qJ=function(e,t,i,r){typeof t!="number"&&(r=t,t=0,i=0);var f=e.drawCenterX+t,S=e.drawCenterY+i;return IA(e,f,S,r)};const _J=Phaser.Math.Distance.BetweenPointsSquared;var tZ=function(e,t){var i={x:e,y:t},r=1/0,f=null;return this.forEachRenderableChild(function(S){var n=_J(i,qJ(S,!0));r>n&&(r=n,f=S)}),f},eZ=function(e,t,i,r){return typeof e=="number"&&(e=this.getCharChild(e,!0)),GA(this,e,t,i,r)},iZ=function(){for(var e=this.children,t=0,i=0,r=0,f=e.length;r<f;r++){var S=e[r];if(!(!S.renderable||!S.active||!S.visible)){var n=S.x0!==void 0?S.x0:S.x,x=S.y0!==void 0?S.y0:S.y;t=Math.max(t,n),i=Math.max(i,x)}}var s=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,a=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==s||this.height!==a)&&(this.dirty=!0,this.setCanvasSize(s,a)),this},sZ=function(e,t){t===void 0&&(t=!0);for(var i=this.children,r=0,f=i.length;r<f;r++){var S=i[r];if(!(t&&!S.active)&&Ol(S)&&!S.removed){if(e===0)return r;e--}}},rZ=function(e,t){t===void 0&&(t=!0);for(var i=this.children,r=0,f=i.length;r<f;r++){var S=i[r];if(!(t&&!S.active)&&Ol(S)&&!S.removed){if(e===0)return S;e--}}},nZ=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var r=0,f=0;f<e;f++){var S=i[f];t&&!S.active||Ol(S)&&!S.removed&&r++}return r},aZ=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},Ny=function(r,t,i){for(var r=r,f=0,S=r.length;f<S;f++){var n=r[f];if(!(!n.active||!n.renderable)&&n.contains(t,i))return n}return null},oZ=function(){return this.on("pointerdown",hZ,this).on("pointerdown",lZ,this).on("pointermove",Gy,this).on("pointerover",Gy,this).on("pointerout",function(e,t){Gy.call(this,e,null,null,t)},this),this},hZ=function(e,t,i,r){if(this.childrenInteractiveEnable){var f=Ny(this.children,t,i);f&&this.emit("child.pointerdown",f,e,t,i,r)}},lZ=function(e,t,i,r){if(this.childrenInteractiveEnable){var f=Ny(this.children,t,i);f&&this.emit("child.pointerup",f,e,t,i,r)}},Gy=function(e,t,i,r){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,r),this.lastOverChild=null);return}var f=Ny(this.children,t,i);f!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,r),f!==null&&this.emit("child.pointerover",f,e,t,i,r),this.lastOverChild=f)}};const uZ=Phaser.GameObjects.GameObject;var dZ=function(e,t,i){var r=!!this.input;return uZ.prototype.setInteractive.call(this,e,t,i),r||oZ.call(this),this};const fZ=Phaser.Utils.Array.BringToTop,cZ=Phaser.Utils.Array.SendToBack,vZ=Phaser.Utils.Array.MoveUp,pZ=Phaser.Utils.Array.MoveDown,gZ=Phaser.Utils.Array.MoveAbove,mZ=Phaser.Utils.Array.MoveBelow,xZ={moveChildToFist(e){return cZ(this.children,e),this},moveChildToLast(e){return fZ(this.children,e),this},movechildUp(e){return vZ(this.children,e),this},movechildDown(e){return pZ(this.children,e),this},movechildAbove(e,t){return gZ(this.children,e,t),this},movechildBelow(e,t){return mZ(this.children,e,t),this}},yZ={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},CZ={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var qA={setFixedSize:qj,setPadding:_j,getPadding:tJ,modifyTextStyle:eJ,modifyDefaultTextStyle:iJ,resetTextStyle:sJ,setTestString:rJ,removeChild:aJ,removeChildren:oJ,popChild:lJ,clearContent:uJ,addChild:dJ,createCharChild:vJ,createCharChildren:pJ,setText:gJ,appendText:Ud,insertText:mJ,removeText:xJ,getText:yJ,createImageChild:SJ,appendImage:XA,createDrawerChild:EJ,appendDrawer:PJ,createSpaceChild:bJ,appendSpace:HA,createCommandChild:AJ,appendCommand:jt,setWrapConfig:RJ,runWordWrap:BJ,runVerticalWrap:VJ,runWrap:zJ,renderContent:YJ,forEachChild:$J,forEachRenderableChild:XJ,forEachCharChild:HJ,getChildren:KJ,getActiveChildren:JJ,getCharChildren:ZJ,getLastAppendedChildren:QJ,getNearestChild:tZ,getCharWorldPosition:eZ,setToMinSize:iZ,getCharChildIndex:sZ,getCharChild:rZ,getCharIndex:nZ,setChildrenInteractiveEnable:aZ,setInteractive:dZ};Object.assign(qA,xZ,yZ,CZ,UJ,WJ);const SZ=Phaser.Utils.Objects.GetFastValue;var TZ={};class EZ{constructor(t){this.pools=SZ(t,"pools",TZ)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new rn),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,r=t.length;i<r;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const _A=Phaser.Utils.Objects.IsPlainObject,Os=Phaser.Utils.Objects.GetValue;class Ll extends Na{constructor(t,i,r,f,S,n){_A(i)?(n=i,i=Os(n,"x",0),r=Os(n,"y",0),f=Os(n,"width",0),S=Os(n,"height",0)):_A(f)&&(n=f,f=Os(n,"width",0),S=Os(n,"height",0));var x=f===0?1:f,s=S===0?1:S;super(t,i,r,x,s),this.type="rexDynamicText",this.autoRound=!0,this.padding=za(),this.wrapPadding=za();var a=Os(n,"style",void 0);this.defaultTextStyle=new up(null,a),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Os(n,"testString","|Mqgy")),this._textOX=0,this._textOY=0,this.background=new Zj(this,Os(n,"background",void 0)),this.innerBounds=new Qj(this,Os(n,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new EZ(n),this.setFixedSize(f,S),this.setPadding(Os(n,"padding",0)),this.setWrapConfig(Os(n,"wrap",void 0)),this.setChildrenInteractiveEnable(Os(n,"childrenInteractive",!1));var g=Os(n,"text",void 0);g&&this.setText(g)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(Ll.prototype,qA),bt.register("dynamicText",function(e,t,i,r,f){var S=new Ll(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.DynamicText",Ll);const Wd={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},PZ={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(h){var t=h.property,i=h.value,r=h.duration,f=h.delay,S=h.ease,n=h.repeat,x=h.yoyo,s=h.from,a=h.complete,g=h.target;if(r===void 0&&(r=1e3),f===void 0&&(f=0),S===void 0&&(S="Linear"),n===void 0&&(n=0),x===void 0&&(x=!1),g===void 0&&(g=this.gameObject),s){var u=i;i=g[t],g[t]=u}var h={targets:g,duration:r,delay:f,ease:S,repeat:n,yoyo:x,onComplete:a};return h[t]=i,this.addTweenTask(t,h),this},addTweenTask(e,t){var i=this.tweens,r=i[e];r&&r.remove();var f=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,f&&f(t.targets,e)},r=this.scene.tweens.add(t),r.timeScale=this.timeScale,i[e]=r,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},wZ={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},bZ={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class ky{constructor(t,i,r){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,r)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var r in i){var f=i[r];f&&(f.timeScale=t)}return this}}Object.assign(ky.prototype,PZ,wZ,bZ);var Vy=function(e){for(var t in e)return!1;return!0},th=function(e){return e&&e.charAt(0)!=="!"};const MZ={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(th(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var r=i;return r.forEach(function(f){t.push(f.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var r=this.bobs[i].gameObject,f;if(t?f=e.call(t,r,i,this):f=e(r,i,this),f)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var Yd=function(e){return e>>16&255},$d=function(e){return e>>8&255},Xd=function(e){return e&255};const AZ=~(255<<16)&16777215,RZ=16711935,OZ=16776960;var LZ=function(e,t){return(t&255)<<16|e&AZ},DZ=function(e,t){return(t&255)<<8|e&RZ},FZ=function(e,t){return t&255|e&OZ},IZ=function(e,t,i,r){return(t&255)<<16|(i&255)<<8|r&255},BZ=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=Yd(t),r=$d(t),f=Xd(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,i=Yd(t),r=$d(t),f=Xd(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(S){S=Math.floor(S)&255,i!==S&&(i=S,e.tint=LZ(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return r},set:function(S){S=Math.floor(S)&255,r!==S&&(r=S,e.tint=DZ(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return f},set:function(S){S=Math.floor(S)&255,f!==S&&(f=S,e.tint=FZ(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+r+f)/3)},set:function(S){S=Math.floor(S)&255,(i!==S||r!==S||f!==S)&&(i=S,r=S,f=S,e.tint=IZ(t,S,S,S))}}),e.tint=t,e};const NZ=Phaser.Events.EventEmitter;var GZ=function(e){if(e.events)return e;var t=new NZ,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(n){i!==n&&(i=n,t.emit("update",e))}});var r=e.y;Object.defineProperty(e,"y",{get:function(){return r},set:function(n){r!==n&&(r=n,t.emit("update",e))}});var f=e.width;Object.defineProperty(e,"width",{get:function(){return f},set:function(n){f!==n&&(f=n,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(n){S!==n&&(S=n,t.emit("update",e))}}),e.events=t,e},kZ=function(e,t,i,r,f,S){return S===void 0?S={}:S===!0&&(S=VZ),typeof i!="number"&&(i=0,r=0),S.x=f.x+f.width*e+i,S.y=f.y+f.height*t+r,S},VZ={},zZ=function(e,t,i,r,f,S,n){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(n=i,i=void 0),typeof f=="function"&&(n=f,f=void 0),i===void 0&&(i=.5),r===void 0&&(r=.5),f===void 0&&(f=0),S===void 0&&(S=0),n===void 0&&(n=kZ),GZ(t);var x=t.events;e.vp=t;var s=function(){n(i,r,f,S,t,e)};x.on("update",s),e.once("destroy",function(){x.off("update",s),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(a){i!==a&&(i=a,s())}}),Object.defineProperty(e,"vpy",{get:function(){return r},set:function(a){r!==a&&(r=a,s())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return f},set:function(a){f!==a&&(f=a,s())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(a){S!==a&&(S=a,s())}}),s()},es=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},li=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,r=0,f=i.length;r<f;r++)e[i[r]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},UZ=function(e){if(Fe(e,"barrel"))return e;var t=es(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,li(e,"barrel"),e},Yi=function(e,t,i){if(Fe(e,t))return e;var r=es(e);if(!r)return e;var f=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(n){if(S!==n)if(S=n,S===null||S===!1)e[f]&&(r.remove(e[f]),e[f]=void 0);else{e[f]||(e[f]=r.addColorMatrix());var x=e[f];x[t](i===1?n:void 0)}}}),e[t]=null,li(e,t),e},WZ=function(e){return Yi(e,"blackWhite"),e},YZ=function(e){if(Fe(e,"bloomColor"))return e;var t=es(e);if(!t)return e;var i,r=1,f=1,S=1,n=1,x=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,r,f,S,n,x),t.setPadding(Math.max(r,f)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return r},set:function(s){if(r!==s&&(r=s,e._bloom)){var a=Math.max(r,f);t.setPadding(a+1),e._bloom.offsetX=r}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return f},set:function(s){if(f!==s&&(f=s,e._bloom)){var a=Math.max(r,f);t.setPadding(a+1),e._bloom.offsetY=f}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(s){S!==s&&(S=s,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return n},set:function(s){n!==s&&(n=s,e._bloom&&(e._bloom.strength=n))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return x},set:function(s){x!==s&&(x=s,e._bloom&&(e._bloom.steps=x))}}),e.bloomColor=null,li(e,"bloomColor"),e},$Z=function(e){if(Fe(e,"blurColor"))return e;var t=es(e);if(!t)return e;var i,r=0,f=1,S=1,n=1,x=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(r,f,S,n,i,x),t.setPadding(Math.max(f,S)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return r},set:function(s){r!==s&&(r=s,e._blur&&(e._blur.quality=r))}}),Object.defineProperty(e,"blurX",{get:function(){return f},set:function(s){if(f!==s&&(f=s,e._blur)){var a=Math.max(f,S);t.setPadding(a+1),e._blur.x=f}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(s){if(S!==s&&(S=s,e._blur)){var a=Math.max(f,S);t.setPadding(a+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return n},set:function(s){n!==s&&(n=s,e._blur&&(e._blur.strength=n))}}),Object.defineProperty(e,"blurSteps",{get:function(){return x},set:function(s){x!==s&&(x=s,e._blur&&(e._blur.steps=x))}}),e.blurColor=null,li(e,"blurColor"),e},XZ=function(e){if(Fe(e,"bokehRadius"))return e;var t=es(e);if(!t)return e;var i,r=1,f=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,r,f)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return r},set:function(S){r!==S&&(r=S,e._bokeh&&(e._bokeh.amount=r))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return f},set:function(S){f!==S&&(f=S,e._bokeh&&(e._bokeh.contrast=f))}}),e.bokehRadius=null,li(e,"bokehRadius"),e},HZ=function(e){return Yi(e,"brightness",1),e},KZ=function(e){return Yi(e,"brown"),e},jZ=function(e){if(Fe(e,"circleColor"))return e;var t=es(e);if(!t)return e;var i,r=8,f=0,S=.4,n=1,x=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(r,i,f,n,x),e.circleBackgroundAlpha=S),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return r},set:function(s){r!==s&&(r=s,e._circle&&(e._circle.thickness=r))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return f},set:function(s){f!==s&&(f=s,e._circle&&(e._circle.backgroundColor=f))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(s){S!==s&&(S=s,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return n},set:function(s){n!==s&&(n=s,e._circle&&(e._circle.scale=n))}}),Object.defineProperty(e,"circleFeather",{get:function(){return x},set:function(s){x!==s&&(x=s,e._circle&&(e._circle.feather=x))}}),e.circleColor=null,li(e,"circleColor"),e},JZ=function(e){return Yi(e,"contrast",1),e},ZZ=function(e){return Yi(e,"desaturate",1),e},QZ=function(e){return Yi(e,"desaturateLuminance"),e},qZ=function(e){if(Fe(e,"displacementKey"))return e;var t=es(e);if(!t)return e;var i,r=.005,f=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,r,f)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return r},set:function(S){r!==S&&(r=S,e._displacement&&(e._displacement.x=r))}}),Object.defineProperty(e,"displacementY",{get:function(){return f},set:function(S){f!==S&&(f=S,e._displacement&&(e._displacement.y=f))}}),e.displacementKey=null,li(e,"displacementKey"),e},_Z=function(e){if(Fe(e,"glowColor"))return e;var t=es(e);if(!t)return e;var i,r=4,f=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,r,f),t.setPadding(r+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return r},set:function(S){r!==S&&(r=S,e._glow&&(t.setPadding(r+1),e._glow.outerStrength=r))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return f},set:function(S){f!==S&&(f=S,e._glow&&(e._glow.innerStrength=f))}}),e.glowColor=null,li(e,"glowColor"),e},tQ=function(e){if(Fe(e,"gradientColor"))return e;var t=es(e);if(!t)return e;var i,r,f=.5,S=0,n=0,x=0,s=1,a=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,r]},set:function(g){var u,h;g===null||g===!1?(u=null,h=null):(u=g[0],h=g[1]),!(i===u&&r===h)&&(i=u,r=h,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,r,f,S,n,x,s,a)),e._gradient.color1=i,e._gradient.color2=r))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(g){if(g===null||g===!1){e.gradientColor=g;return}i!==g&&(i=g,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return r},set:function(g){if(g===null||g===!1){e.gradientColor=g;return}r!==g&&(r=g,e._gradient&&(e._gradient.color2=r))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return f},set:function(g){f!==g&&(f=g,e._gradient&&(e._gradient.alpha=f))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(g){S!==g&&(S=g,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return n},set:function(g){n!==g&&(n=g,e._gradient&&(e._gradient.fromY=n))}}),Object.defineProperty(e,"gradientToX",{get:function(){return x},set:function(g){x!==g&&(x=g,e._gradient&&(e._gradient.toX=x))}}),Object.defineProperty(e,"gradientToY",{get:function(){return s},set:function(g){s!==g&&(s=g,e._gradient&&(e._gradient.toY=s))}}),Object.defineProperty(e,"gradientSize",{get:function(){return a},set:function(g){a!==g&&(a=g,e._gradient&&(e._gradient.size=a))}}),e.gradientColor=null,li(e,"gradientColor"),e},eQ=function(e){return Yi(e,"grayscale",1),e},iQ=function(e){return Yi(e,"hue",1),e},sQ=function(e){return Yi(e,"kodachrome"),e},rQ=function(e){return Yi(e,"lsd"),e},nQ=function(e){return Yi(e,"negative"),e},aQ=function(e){if(Fe(e,"pixelate"))return e;var t=es(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,li(e,"pixelate"),e},oQ=function(e){return Yi(e,"polaroid"),e},hQ=function(e){if(Fe(e,"revealLeft"))return e;var t=es(e);if(!t)return e;var i,r,f,S,n=.1,x=function(){i=null,r=null,f=null,S=null},s=function(a){a._revealEffect&&(t.remove(a._revealEffect),a._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(a){i!==a&&(x(),i=a,i===null||i===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return r},set:function(a){r!==a&&(x(),r=a,r===null||r===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=r))}}),Object.defineProperty(e,"revealUp",{get:function(){return f},set:function(a){f!==a&&(x(),f=a,f===null||f===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=f))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(a){S!==a&&(x(),S=a,S===null||S===!1?s(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return n},set:function(a){n!==a&&(n=a,e._revealEffect&&(e._revealEffect.wipeWidth=n))}}),e.revealLeft=null,li(e,"revealLeft"),li(e,"revealRight"),li(e,"revealUp"),li(e,"revealDown"),e},lQ=function(e){return Yi(e,"saturate",1),e},uQ=function(e){return Yi(e,"sepia"),e},dQ=function(e){if(Fe(e,"shadowColor"))return e;var t=es(e);if(!t)return e;var i,r=0,f=0,S=.1,n=1,x=6,s=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(a){i!==a&&(i=a,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(r,f,S,n,i,x,s)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return r},set:function(a){r!==a&&(r=a,e._shadow&&(e._shadow.x=r))}}),Object.defineProperty(e,"shadowY",{get:function(){return f},set:function(a){f!==a&&(f=a,e._shadow&&(e._shadow.y=f))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(a){S!==a&&(S=a,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return n},set:function(a){n!==a&&(n=a,e._shadow&&(e._shadow.power=n))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return x},set:function(a){x!==a&&(x=a,e._shadow&&(e._shadow.samples=x))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return s},set:function(a){s!==a&&(s=a,e._shadow&&(e._shadow.intensity=s))}}),e.shadowColor=null,li(e,"shadowColor"),e},fQ=function(e){return Yi(e,"shiftToBGR"),e},cQ=function(e){if(Fe(e,"shineSpeed"))return e;var t=es(e);if(!t)return e;var i,r=.5,f=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(S){i!==S&&(i=S,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,r,f)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return r},set:function(S){r!==S&&(r=S,e._shine&&(e._shine.lineWidth=r))}}),Object.defineProperty(e,"shineGradient",{get:function(){return f},set:function(S){f!==S&&(f=S,e._shine&&(e._shine.gradient=f))}}),e.shineSpeed=null,li(e,"shineSpeed"),e},vQ=function(e){return Yi(e,"technicolor"),e},pQ=function(e){if(Fe(e,"tiltShiftRadius"))return e;var t=es(e);if(!t)return e;var i,r=1,f=.2,S=1,n=1,x=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,r,f,S,n,x)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return r},set:function(s){r!==s&&(r=s,e._tiltShift&&(e._tiltShift.amount=r))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return f},set:function(s){f!==s&&(f=s,e._tiltShift&&(e._tiltShift.contrast=f))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(s){S!==s&&(S=s,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return n},set:function(s){n!==s&&(n=s,e._tiltShift&&(e._tiltShift.blurY=n))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return x},set:function(s){x!==s&&(x=s,e._tiltShift&&(e._tiltShift.strength=x))}}),e.tiltShiftRadius=null,li(e,"tiltShiftRadius"),e},gQ=function(e){if(Fe(e,"vignetteRadius"))return e;var t=es(e);if(!t)return e;var i,r=.5,f=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(r,f,i,S)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return r},set:function(n){r!==n&&(r=n,e._vignette&&(e._vignette.x=r))}}),Object.defineProperty(e,"vignetteY",{get:function(){return f},set:function(n){f!==n&&(f=n,e._vignette&&(e._vignette.y=f))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(n){S!==n&&(S=n,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,li(e,"vignetteRadius"),e},mQ=function(e){return Yi(e,"vintagePinhole"),e},xQ=function(e){if(Fe(e,"wipeLeft"))return e;var t=es(e);if(!t)return e;var i,r,f,S,n=.1,x=function(){i=null,r=null,f=null,S=null},s=function(a){a._wipeEffect&&(t.remove(a._wipeEffect),a._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(a){i!==a&&(x(),i=a,i===null||i===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return r},set:function(a){r!==a&&(x(),r=a,r===null||r===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=r))}}),Object.defineProperty(e,"wipeUp",{get:function(){return f},set:function(a){f!==a&&(x(),f=a,f===null||f===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=f))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(a){S!==a&&(x(),S=a,S===null||S===!1?s(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return n},set:function(a){n!==a&&(n=a,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))}}),e.wipeLeft=null,li(e,"wipeLeft"),li(e,"wipeRight"),li(e,"wipeUp"),li(e,"wipeDown"),e};const fp={barrel:UZ,blackWhite:WZ,bloom:YZ,blur:$Z,bokeh:XZ,brightness:HZ,brown:KZ,circle:jZ,contrast:JZ,desaturate:ZZ,desaturateLuminance:QZ,displacement:qZ,glow:_Z,gradient:tQ,grayscale:eQ,hue:iQ,kodachrome:sQ,lsd:rQ,negative:nQ,pixelate:aQ,polaroid:oQ,reveal:hQ,saturate:lQ,sepia:uQ,shadow:dQ,shiftToBGR:fQ,shine:cQ,technicolor:vQ,tiltShift:pQ,vignette:gQ,vintagePinhole:mQ,wipe:xQ};var Dl=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},r=0,f=i.length;r<f;r++)t[i[r]]=!0;if(t===!0)for(var S in fp)fp[S](e);else for(var S in t)t[S]&&fp[S]&&fp[S](e);return e};const yQ=Phaser.Utils.Array.Remove,CQ={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&BZ(t),this.viewportCoordinateEnable&&zZ(t,this.viewport),this.effectPropertiesConfig&&Dl(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){yQ(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,r=this.createGameObjectScope,f=i.call(r,this.scene,...t);this.addGO(e,f),this.gameObjectDepth!=null&&f.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},SQ={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var r=this;return i.forEach(function(f){delete r.bobs[f.name];var S=f.gameObject;r.removedGOs.push(S),S.setName(),t?f.destroy():r.fadeBob(f,void 0,0,function(){f.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},TQ={hasProperty(e,t){var i=th(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=th(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),r.forEach(function(f){f.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var r=t.value,f=t.property;return this.symbols&&typeof r=="string"&&this.isNumberProperty(e,f)&&r in this.symbols&&(t.value=this.symbols[r]),i.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var i=th(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=th(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},EQ={hasMethod(e,t){var i=th(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;return r.forEach(function(f){f.call(t,...i)}),this}},PQ={hasData(e,t){var i=th(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;return r.forEach(function(f){f.setData(t,i)}),this}},tR=0,eR=1,zy=2,iR=3,sR=4,Uy=5,wQ={tint:tR,alpha:eR,revealUp:zy,revealDown:iR,revealLeft:sR,revealRight:Uy},bQ={setGOFadeMode(e){return typeof e=="string"&&(e=wQ[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===tR)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===eR)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=zy&&this.fadeMode<=Uy&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,r){var f=e.gameObject;if(this.useTintFadeEffect(f))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:r});else if(this.useAlphaFadeEffect(f))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:r});else if(this.useRevealEffect(f)){Dl(f,"reveal");var S;switch(this.fadeMode){case zy:S="revealUp";break;case iR:S="revealDown";break;case sR:S="revealLeft";break;case Uy:S="revealRight";break}t===void 0&&(t=0),f[S]=t,e.easeProperty({property:S,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:r}),e.getTweenTask(S).once("complete",function(){f[S]=null})}else r&&r(f);return this}};var Ge=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},ke=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const rR=Phaser.Geom.Rectangle,an=Phaser.Math.Vector2,MQ=Phaser.Math.RotateAround;var Wy=function(e,t){if(t===void 0?t=new rR:t===!0&&(Yy===void 0&&(Yy=new rR),t=Yy),e.getBounds)return e.getBounds(t);var i,r,f,S,n,x,s,a;if(e.parentContainer){var g=e.parentContainer.getBoundsTransformMatrix();eh(e,t),g.transformPoint(t.x,t.y,t),i=t.x,r=t.y,Hd(e,t),g.transformPoint(t.x,t.y,t),f=t.x,S=t.y,Kd(e,t),g.transformPoint(t.x,t.y,t),n=t.x,x=t.y,$y(e,t),g.transformPoint(t.x,t.y,t),s=t.x,a=t.y}else eh(e,t),i=t.x,r=t.y,Hd(e,t),f=t.x,S=t.y,Kd(e,t),n=t.x,x=t.y,$y(e,t),s=t.x,a=t.y;return t.x=Math.min(i,f,n,s),t.y=Math.min(r,S,x,a),t.width=Math.max(i,f,n,s)-t.x,t.height=Math.max(r,S,x,a)-t.y,t},Yy=void 0,eh=function(e,t,i){return t===void 0?t=new an:t===!0&&(cs===void 0&&(cs=new an),t=cs),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Ge(e)*e.originX,t.y=e.y-ke(e)*e.originY,jd(e,t,i))},Hd=function(e,t,i){return t===void 0?t=new an:t===!0&&(cs===void 0&&(cs=new an),t=cs),e.getTopRight?e.getTopRight(t):(t.x=e.x-Ge(e)*e.originX+Ge(e),t.y=e.y-ke(e)*e.originY,jd(e,t,i))},Kd=function(e,t,i){return t===void 0?t=new an:t===!0&&(cs===void 0&&(cs=new an),t=cs),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Ge(e)*e.originX,t.y=e.y-ke(e)*e.originY+ke(e),jd(e,t,i))},$y=function(e,t,i){return t===void 0?t=new an:t===!0&&(cs===void 0&&(cs=new an),t=cs),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Ge(e)*e.originX+Ge(e),t.y=e.y-ke(e)*e.originY+ke(e),jd(e,t,i))},nR=function(e,t,i){t===void 0?t=new an:t===!0&&(cs===void 0&&(cs=new an),t=cs);var r=Ge(e),f=ke(e);return t.x=e.x+r*(.5-e.originX),t.y=e.y+f*(.5-e.originY),jd(e,t,i)},cs=void 0,jd=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&MQ(t,e.x,e.y,e.rotation),i&&e.parentContainer){var r=e.parentContainer.getBoundsTransformMatrix();r.transformPoint(t.x,t.y,t)}return t};const Jd=Phaser.Utils.Objects.GetValue;var aR=function(e,t,i){var r,f,S,n,x;if(typeof i=="number"?r=i:(r=Jd(i,"color"),f=Jd(i,"lineWidth"),S=Jd(i,"fillColor"),n=Jd(i,"fillAlpha",1),x=Jd(i,"padding",0)),Array.isArray(e))for(var s=0,a=e.length;s<a;s++)oR(e[s],t,r,f,S,n,x);else oR(e,t,r,f,S,n,x)},oR=function(e,t,i,r,f,S,n){var x=e.getBounds||e.width!==void 0&&e.height!==void 0;if(x){i===void 0&&(i=16777215),r===void 0&&(r=1),f===void 0&&(f=null),S===void 0&&(S=1),n===void 0&&(n=0);var s=eh(e,Fl[0]);s.x-=n,s.y-=n;var a=Hd(e,Fl[1]);a.x+=n,a.y-=n;var g=$y(e,Fl[2]);g.x+=n,g.y+=n;var u=Kd(e,Fl[3]);u.x-=n,u.y+=n,f!==null&&t.fillStyle(f,S).fillPoints(Fl,!0,!0),i!==null&&t.lineStyle(r,i).strokePoints(Fl,!0,!0)}},Fl=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],AQ=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):aR(i,e,t)}),this},hR=function(e,t){var i=e.cameras,r;if(t===void 0)r=i.main;else{var f=typeof t;switch(f){case"string":r=i.getCamera(t);break;case"number":r=i.cameras[t];break;default:r=t;break}}return r};const RQ={setCamera(e,t){var i=this.get(e);if(!i)return this;var r=hR(this.scene,t);return r?(i.gameObject.cameraFilter=4294967295^r.id,i.camera=r,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var lR={drawGameObjectsBounds:AQ};Object.assign(lR,MZ,CQ,SQ,TQ,EQ,PQ,bQ,RQ);const OQ=Phaser.Cameras.Scene2D.BaseCamera;var LQ=function(e){return e instanceof OQ};const uR=Phaser.Geom.Rectangle;var Il=function(e,t,i){return LQ(t)||(i=t,t=void 0),i===void 0?i=new uR:i===!0&&(i=DQ),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},DQ=new uR;const Ls=Phaser.Utils.Objects.GetValue;class Bl{constructor(t,i){this.scene=t,this.BobClass=Ls(i,"BobClass",ky),this.setCreateGameObjectCallback(Ls(i,"createGameObject"),Ls(i,"createGameObjectScope")),this.setEventEmitter(Ls(i,"eventEmitter",void 0)),this.setGameObjectDepth(Ls(i,"depth",void 0));var r=Ls(i,"fade",500);typeof r=="number"?(this.setGOFadeMode(),this.setGOFadeTime(r)):(this.setGOFadeMode(Ls(r,"mode")),this.setGOFadeTime(Ls(r,"time",500)));var f=Ls(i,"viewportCoordinate",!1);f!==!1?(this.setViewportCoordinateEnable(Ls(i,"enable",!0)),this.setViewport(Ls(f,"viewport"))):this.setViewportCoordinateEnable(!1);var S=Ls(i,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(Ls(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=Ls(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var r in i)i[r].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=Il(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Vy(this.bobs)&&this.removedGOs.length===0}}Object.assign(Bl.prototype,Wd,lR);const FQ=Phaser.GameObjects.GameObject;var Ds=function(e){return e instanceof FQ};const IQ=Phaser.GameObjects.Layer;var Zd=function(e){return e instanceof IQ},dR=function(e){var t=e.displayList;return Zd(t)?t:null},vr=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,r=0,f=e.length;r<f;r++){var S=e[r];if(S.displayList?i=S.displayList:S.parentContainer&&(i=S.parentContainer.list),i)break}return i||(i=S.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(n,x){return i.indexOf(x)-i.indexOf(n)}):e.sort(function(n,x){return i.indexOf(n)-i.indexOf(x)}),e};const BQ={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),vr(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var r=0,f=t.length;r<f;r++){var S=t[r];S.isRexContainerLite?S.addToLayer(i):i.add(S)}return i.scrollFactorX!==void 0&&S.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},removeFromLayer(e,t,i){var r=this.getGO(e);if(!r){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(r,i):(r.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var r=i.getAll(),f=0,S=r.length;f<S;f++)r[f].destroy();else i.removeAll();return this}},NQ={setScrollFactor(e,t,i){i===void 0&&(i=t);var r=this.getLayer(e);if(!r)return this;r.scrollFactorX=t,r.scrollFactorY=i;for(var f=r.getAll(),S=0,n=f.length;S<n;S++)f[S].setScrollFactor(t,i);return this}},cp=Phaser.Utils.Array,GQ=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(cp.BringToTop(e,this),this):this},kQ=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(cp.SendToBack(e,this),this):this},fR=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(cp.MoveBelow(t,this,e),this):this},cR=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(cp.MoveAbove(t,this,e),this):this},vp={bringMeToTop:GQ,sendMeToBack:kQ,moveMyDepthBelow:fR,moveMyDepthAbove:cR},VQ={bringLayerToTop(e){var t=this.getLayer(e);return t?(vp.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(vp.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),r=this.getLayer(t);return!i||!r?this:(vp.moveMyDepthBelow.call(i,r),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),r=this.getLayer(t);return!i||!r?this:(vp.moveMyDepthAbove.call(i,r),this)}},zQ=Bl.prototype.setCamera,UQ={setCamera(e,t){var i=hR(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),zQ.call(this,e,i),this}};var vR={};Object.assign(vR,BQ,NQ,VQ,UQ);const pp=Phaser.Utils.Objects.GetValue;class gp extends Bl{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var r=pp(i,"rootLayer");this.setRootLayer(r);var f=pp(i,"layers");if(f)for(var S=0,n=f.length;S<n;S++){var x=f[S];if(typeof x=="string")this.add(x);else{var s=x.name;this.add(s);var a=x.scrollFactor,g=pp(x,"scrollFactorX",a),u=pp(x,"scrollFactorY",a);g!==void 0&&this.setScrollFactor(s,g,u),this.setCamera(s,x.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=WQ),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(Ds(t)){var r=dR(t);if(!r||(t=r.name,!t))return}return super.get(t,i)}}var WQ=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(gp.prototype,vR);var YQ=function(e){return Ko(e)?e.sys.sound:e.sound},$Q=function(e){return this.sound.game.cache.audio.has(e)},Nl=function(e){return e==null||typeof e!="object"?null:Ko(e)?e:e.scene&&Ko(e.scene)?e.scene:e.parent&&e.parent.scene&&Ko(e.parent.scene)?e.parent.scene:null};const XQ=Phaser.Utils.Objects.GetValue;class ti{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(XQ(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=Nl(t),this.game=jo(t),this}}Object.assign(ti.prototype,Wd);const HQ=Phaser.Utils.Objects.GetValue;class mp extends ti{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(HQ(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=KQ[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const KQ={no:0,lazy:1,always:2},jQ=Phaser.Utils.Objects.GetValue;class JQ extends mp{constructor(t,i){super(t,i);var r=this.scene?"update":"step";this.tickEventName=jQ(i,"tickEventName",r),this.isSceneTicker=!ZQ(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var ZQ=function(e){return e==="step"||e==="poststep"};const kn=Phaser.Utils.Objects.GetValue,pR=Phaser.Math.Clamp;let gR=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=kn(t,"state",Qd),this.timeScale=kn(t,"timeScale",1),this.delay=kn(t,"delay",0),this.repeat=kn(t,"repeat",0),this.repeatCounter=kn(t,"repeatCounter",0),this.repeatDelay=kn(t,"repeatDelay",0),this.duration=kn(t,"duration",0),this.nowTime=kn(t,"nowTime",0),this.justRestart=kn(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Gl:qd,this.repeatCounter=0,this}stop(){return this.state=Qd,this}update(t,i){this.state===Qd||this.state===xp||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=mR)):(this.nowTime=this.duration,this.state=xp):this.nowTime>=0&&(this.state=Gl))}get t(){var t;switch(this.state){case Qd:case qd:case mR:t=0;break;case Gl:t=this.nowTime/this.duration;break;case xp:t=1;break}return pR(t,0,1)}set t(t){t=pR(t,-1,1),t<0?(this.state=qd,this.nowTime=-this.delay*t):(this.state=Gl,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Qd}get isDelay(){return this.state===qd}get isCountDown(){return this.state===Gl}get isRunning(){return this.state===qd||this.state===Gl}get isDone(){return this.state===xp}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const Qd=0,qd=1,Gl=2,mR=3,xp=-1;class QQ extends JQ{constructor(t,i){super(t,i),this.timer=new gR}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const _d=Phaser.Utils.Objects.GetValue,xR=Phaser.Utils.Objects.GetAdvancedValue,qQ=Phaser.Tweens.Builders.GetEaseFunction;class ih extends QQ{resetFromJSON(t){return this.timer.resetFromJSON(_d(t,"timer")),this.setEnable(_d(t,"enable",!0)),this.setTarget(_d(t,"target",this.parent)),this.setDelay(xR(t,"delay",0)),this.setDuration(xR(t,"duration",1e3)),this.setEase(_d(t,"ease","Linear")),this.setRepeat(_d(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=qQ(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var r=this.target,f=this.timer;return f.update(t,i),f.isDelay||this.updateTarget(r,f),this.emit("update",r,this),f.isDone&&this.complete(),this}updateTarget(t,i){}}const _Q=Phaser.Sound.BaseSound;var Xy=function(e){return e instanceof _Q};const yR=Phaser.Utils.Objects.GetValue,CR=Phaser.Utils.Objects.GetAdvancedValue,tq=Phaser.Math.Linear;let SR=class extends ih{constructor(t,i,r){Xy(t)&&(r=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,r),this.volume={},this.resetFromJSON(r)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(yR(t,"mode",0)),this.setEnable(yR(t,"enable",!0)),this.setVolumeRange(CR(t,"volume.start",this.parent.volume),CR(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=eq[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=tq(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const eq={stop:1,destroy:2};var yp=function(e,t,i,r,f){Xy(e)&&(f=r,r=i,i=t,t=e,e=void 0),r===void 0&&(r=1),f===void 0&&(f=0);var S={mode:0,volume:{start:f,end:r},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(S)):(n=new SR(e,t,S),t._fade=n),n.start(),t.isPlaying||t.setVolume(f).play(),t},kl=function(e,t,i,r){Xy(e)&&(r=i,i=t,t=e,e=void 0),r===void 0&&(r=!0);var f={mode:r?2:1,volume:{start:t.volume,end:0},duration:i},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(f)):(S=new SR(e,t,f),t._fade=S),S.start(),t.isPlaying||t.play(),t};const tf=Phaser.Utils.Objects.GetValue,iq={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:tf(t,"loop",this.backgroundMusicLoop),mute:tf(t,"mute",this.backgroundMusicMute),volume:tf(t,"volume",this.backgroundMusicVolume),detune:tf(t,"detune",0),rate:tf(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&yp(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&kl(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},ef=Phaser.Utils.Objects.GetValue,sq={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:ef(t,"loop",this.backgroundMusicLoop),mute:ef(t,"mute",this.backgroundMusic2Mute),volume:ef(t,"volume",this.backgroundMusic2Volume),detune:ef(t,"detune",0),rate:ef(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&yp(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&kl(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},TR=Phaser.Utils.Array.Remove,Cp=Phaser.Utils.Objects.GetValue,rq={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Cp(t,"mute",this.soundEffectsMute),volume:Cp(t,"volume",this.soundEffectsVolume),detune:Cp(t,"detune",0),rate:Cp(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&TR(this.soundEffects,i)},this).once("destroy",function(){this.sound&&TR(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&yp(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&kl(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)kl(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var r=0,f=i.length;r<f;r++)i[r].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var r=0,f=i.length;r<f;r++)i[r].setRate(e);return this}},ER=Phaser.Utils.Array.Remove,Sp=Phaser.Utils.Objects.GetValue,nq={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Sp(t,"mute",this.soundEffects2Mute),volume:Sp(t,"volume",this.soundEffects2Volume),detune:Sp(t,"detune",0),rate:Sp(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&ER(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&ER(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&yp(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&kl(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)kl(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var r=0,f=i.length;r<f;r++)i[r].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var r=0,f=i.length;r<f;r++)i[r].setRate(e);return this}};var PR={hasAudio:$Q};Object.assign(PR,iq,sq,rq,nq);const pr=Phaser.Utils.Objects.GetValue;class wR{constructor(t,i){this.sound=YQ(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=pr(i,"bgm.volume",1),this._backgroundMusicMute=pr(i,"bgm.mute",!1),this.setBackgroundMusicLoop(pr(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(pr(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=pr(i,"bgm2.volume",1),this._backgroundMusic2Mute=pr(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(pr(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(pr(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=pr(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=pr(i,"soundEffect2.volume",1);var r=pr(i,"bgm.initial",void 0);r&&this.setCurrentBackgroundMusic(r);var f=pr(i,"bgm2.initial",void 0);f&&this.setCurrentBackgroundMusic2(f)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,r=0,f=i.length;r<f;r++)i[r].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,r=0,f=i.length;r<f;r++)i[r].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,r=0,f=soundEffects2.length;r<f;r++)i[r].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,r=0,f=i.length;r<f;r++)i[r].setVolume(t)}}Object.assign(wR.prototype,PR);const Hy=Phaser.Utils.Objects.GetValue;class aq extends mp{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=Hy(t,"isRunning",!1),this.timeScale=Hy(t,"timeScale",1),this.now=Hy(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class bR extends aq{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var Ye=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const MR=Phaser.Math.Clamp;class oq{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,r,f){return this.target=t,this.onStart=i,this.onProgress=r,this.onComplete=f,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=MR(t,0,1),this.yoyo&&(t=Ye(t)),t}setProgress(t){t=MR(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var r=this.remainder<=0;return r&&this.runCallback(this.onComplete),r}}let hq=class extends rn{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,r=t.length;i<r;i++)this.free(t[i]);return this}};const lq=Phaser.Utils.Objects.GetValue,uq=new hq;class dq extends bR{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=lq(i,"pool",uq)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new oq(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,r,f){var S=this.addTimer({duration:t,onComplete:function(n,x,s){r===void 0&&(r=[]),r.push(s),i.apply(f,r)}});return S}delayEvent(t,i){this.removeDelayEvent(i);var r=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){r.remove(),r=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],r=[this.addedTimers,this.timers],f=0,S=r.length;f<S;f++)for(var n=r[f],x=0,s=n.length;x<s;x++){var a=n[x];a.name===t&&i.push(a)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var r=[],f=0,S=this.timers.length;f<S;f++){var n=this.timers[f],x=n.update(this.now,this.delta);x?this.timerPool.free(n):r.push(n)}this.timers=r,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const fq="_wait.complete",cq="_remove.wait";var vq=function(e,t,i,r,f){var S=Nl(e),n=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){i.call(r,f)})});return n};let AR=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=fq,this.removeWaitEventsEventName=cq}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,r){var f=this.getWaitCompleteTriggerCallback(r);return t.once(i,f,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,f,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,r=this,f=function(){i<r.waitId||(r.waitId++,r.removeWaitEvents(),r.parent.emit(r.waitCompleteEventName))};if(t){var S=function(){vq(r.parent,0,f)};return S}else return f}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(AR.prototype,Wd);const pq={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var gq=function(e,t){var i=`(?<!\\\\)\\${t}`,r=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(f){return f.replace(r,t)})};const mq={setClickTarget(e){return this.clickTarget=e,e?Ko(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=gq(e,"|"),r=0,f=i.length;r<f;r++)this.waitEvent(t,`keydown-${i[r].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},xq={waitGameObjectTweenComplete(e,t,i){var r=this.parent.getGameObjectTweenTask(e,t,i);return r?this.waitEvent(r,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,r){var f=this.parent.getGameObject(e,t);if(!f)return this.waitTime(0);if(f.getData(i)===r)return this.waitTime(0);var S=`changedata-${i}`,n=function(x,s,a){s=!!s,s===r&&x.emit("_dataFlagMatch")};return f.on(S,n),this.parent.once(this.removeWaitEventsEventName,function(){f.off(S,n)}),this.waitEvent(f,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,r=!1;for(var f in i)r=!0,this.waitEvent(i[f],"empty");return r?this.parent:this.waitTime(0)}}},yq={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var r,f;switch(e){case"camera.fadein":r=i.fadeEffect,f="camerafadeincomplete";break;case"camera.fadeout":r=i.fadeEffect,f="camerafadeoutcomplete";break;case"camera.flash":r=i.flashEffect,f="cameraflashcomplete";break;case"camera.shake":r=i.shakeEffect,f="camerashakecomplete";break;case"camera.zoom":r=i.zoomEffect,f="camerazoomcomplete";break;case"camera.rotate":r=i.rotateToEffect,f="camerarotatecomplete";break;case"camera.scroll":r=i.panEffect,f="camerapancomplete";break}return r.isRunning?this.waitEvent(i,f):this.waitTime(0)}},Cq={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var Sq=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var r=i.split(".");if(r.length===2){var f=r[0],S=r[1],n=this.parent.getGameObjectManager(void 0,f);if(!n)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,f);var x=n.getProperty(f,S);if(typeof x=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,f,S);continue}var s=S,a=s.startsWith("!");if(a&&(s=s.substring(1)),n.hasData(f,S)){t=!0,this.waitGameObjectDataFlag(void 0,f,s,!a);continue}this.waitEvent(gameObject,S);continue}else r.length;break}return t||this.waitTime(0),this.parent},RR={waitAny:Sq};Object.assign(RR,pq,mq,xq,yq,Cq);class OR extends AR{constructor(t,i){super(t),this.waitCompleteEventName=Be(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Be(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Be(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Be(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(OR.prototype,RR);const Tp=Phaser.Utils.Objects.GetValue;var Tq=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=Tp(t,"layers",!1);if(i!==!1){var r=new gp(e,{name:"LAYER",layers:i,rootLayer:Tp(t,"rootLayer",void 0),depth:Tp(t,"layerDepth",void 0)});this.addGameObjectManager(r),this.layerManager=r}var f=Tp(t,"sounds");return f!==!1&&(this.soundManager=new wR(e,f)),this.timeline=new dq(this),this.waitEventManager=new OR(this,t),this},Eq=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},Pq=function(){return this.timeline.timeScale},wq=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const LR={addGameObjectManager(e,t){var i;return e instanceof Bl?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=Bl),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},bq={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...r){return this.getGameObjectManager(e,t).call(t,i,...r),this},setGameObjectProperty(e,t,i,r){return this.getGameObjectManager(e,t).setProperty(t,i,r),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var r=this.getGameObjectManager(e,t);if(!r)return i;if(typeof t=="string")return r.getGO(t);i===void 0&&(i=[]);var f=t;f===void 0&&(f=Object.keys(r.bobs));for(var S=Array.isArray(i),n=0,x=f.length;n<x;n++){t=f[n];var s=r.getGO(t);s&&(S?i.push(s):i[t]=s)}return i},addGameObject(e,t,i){var r=this.getGameObjectManager(e,t);if(typeof t=="string")r.addGO(t,i);else{var f=t;for(t in f)r.addGO(t,f[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var r=0,f=e.length;r<f;r++)this.getGameObjectManager(e[r]).drawGameObjectsBounds(t,i);return this}};var Mq=function(e){class t extends e{}var i={initManagers:Tq,setTimeScale:Eq,getTimeScale:Pq,destroyManagers:wq};return Object.assign(t.prototype,i,LR,bq),t},DR={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function f(s,a,g){this.fn=s,this.context=a,this.once=g||!1}function S(s,a,g,u,h){if(typeof g!="function")throw new TypeError("The listener must be a function");var l=new f(g,u||s,h),o=i?i+a:a;return s._events[o]?s._events[o].fn?s._events[o]=[s._events[o],l]:s._events[o].push(l):(s._events[o]=l,s._eventsCount++),s}function n(s,a){--s._eventsCount===0?s._events=new r:delete s._events[a]}function x(){this._events=new r,this._eventsCount=0}x.prototype.eventNames=function(){var a=[],g,u;if(this._eventsCount===0)return a;for(u in g=this._events)t.call(g,u)&&a.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(g)):a},x.prototype.listeners=function(a){var g=i?i+a:a,u=this._events[g];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,l=u.length,o=new Array(l);h<l;h++)o[h]=u[h].fn;return o},x.prototype.listenerCount=function(a){var g=i?i+a:a,u=this._events[g];return u?u.fn?1:u.length:0},x.prototype.emit=function(a,g,u,h,l,o){var d=i?i+a:a;if(!this._events[d])return!1;var v=this._events[d],c=arguments.length,p,y;if(v.fn){switch(v.once&&this.removeListener(a,v.fn,void 0,!0),c){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,g),!0;case 3:return v.fn.call(v.context,g,u),!0;case 4:return v.fn.call(v.context,g,u,h),!0;case 5:return v.fn.call(v.context,g,u,h,l),!0;case 6:return v.fn.call(v.context,g,u,h,l,o),!0}for(y=1,p=new Array(c-1);y<c;y++)p[y-1]=arguments[y];v.fn.apply(v.context,p)}else{var m=v.length,C;for(y=0;y<m;y++)switch(v[y].once&&this.removeListener(a,v[y].fn,void 0,!0),c){case 1:v[y].fn.call(v[y].context);break;case 2:v[y].fn.call(v[y].context,g);break;case 3:v[y].fn.call(v[y].context,g,u);break;case 4:v[y].fn.call(v[y].context,g,u,h);break;default:if(!p)for(C=1,p=new Array(c-1);C<c;C++)p[C-1]=arguments[C];v[y].fn.apply(v[y].context,p)}}return!0},x.prototype.on=function(a,g,u){return S(this,a,g,u,!1)},x.prototype.once=function(a,g,u){return S(this,a,g,u,!0)},x.prototype.removeListener=function(a,g,u,h){var l=i?i+a:a;if(!this._events[l])return this;if(!g)return n(this,l),this;var o=this._events[l];if(o.fn)o.fn===g&&(!h||o.once)&&(!u||o.context===u)&&n(this,l);else{for(var d=0,v=[],c=o.length;d<c;d++)(o[d].fn!==g||h&&!o[d].once||u&&o[d].context!==u)&&v.push(o[d]);v.length?this._events[l]=v.length===1?v[0]:v:n(this,l)}return this},x.prototype.removeAllListeners=function(a){var g;return a?(g=i?i+a:a,this._events[g]&&n(this,g)):(this._events=new r,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=i,x.EventEmitter=x,e.exports=x})(DR);var Aq=DR.exports;const Rq=vv(Aq);class FR extends Rq{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const IR={setEventEmitter(e,t){return t===void 0&&(t=FR),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var Oq=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,Lq=/^0x[0-9A-F]+$/i,Ky=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(Oq.test(e))e=parseFloat(e);else if(Lq.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let BR=class{constructor(t){this.setEventEmitter(Be(t,"eventEmitter",void 0)),this.setValueConverter(Be(t,"valueConvert",!0)),this.setLoopEnable(Be(t,"loop",!1)),this.setMultipleLinesTagEnable(Be(t,"multipleLinesTag",!1));var i=Be(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Be(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=Al(this.delimiterLeft),i=Al(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,r),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=Ky:t||(t=Dq),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var r=this.reSplit.exec(t);if(!r){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var f=this.reSplit.lastIndex,S=f-r[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.lastTagSource=r[0],this.onTag(r[1]),this.lastTagSource=void 0,this.progressIndex=f,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const Dq=function(e){return e};Object.assign(BR.prototype,IR);var Fq=function(e,t,i){if(e==null)return[];t===void 0&&(t=Ky),i===void 0&&(i=",");for(var r=e.split(i),f=0,S=r.length;f<S;f++)r[f]=t(r[f]);return r};class Iq extends BR{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Be(t,"regex.tag",void 0)),this.setValueExpression(Be(t,"regex.value",void 0));var i=Be(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=Ep),this.tagExpression=t,this}setValueExpression(t){return t||(t=Ep),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var r=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(r,"i"),this.tagExpression!==Ep||this.valueExpression!==Ep){var f=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=Al(this.delimiterLeft),i=Al(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${f})|(${S}))${i}`,n)}return this}onTag(t){var i=t.match(this.reTag),r=i[1],f=r.charAt(0)==="/";if(f&&(r=r.substring(1,r.length)),this.translateTagNameCallback&&(r=this.translateTagNameCallback(r)),this.skipEventFlag=!1,f)this.emit(`-${r}`),this.skipEventFlag||this.emit("-",r),this.lastTagEnd=r;else{var S=Fq(i[3],this.valueConverter);this.emit(`+${r}`,...S),this.skipEventFlag||this.emit("+",r,...S),this.lastTagStart=r}}}const Ep="[^=]+";var Bq=function(e,t,i){var r="color",f;t.on("start",function(){f=e.textStyle.color}).on(`+${r}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setColor(f),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(f)})},Nq=function(e,t,i){var r="stroke",f;t.on("start",function(){f=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${r}`,function(S){S===void 0&&(S=f),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(f)})},Gq=function(e,t,i){var r="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${r}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},kq=function(e,t,i){var r="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${r}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},Vq=function(e,t,i){var r="size",f;t.on("start",function(){f=e.textStyle.fontSize}).on(`+${r}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setFontSize(f),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(f)})},zq=function(e,t,i){var r="y",f;t.on("start",function(){f=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${r}`,function(S){S===void 0&&(S=f),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},Uq=function(e,t,i){var r="x",f;t.on("start",function(){f=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${r}`,function(S){S===void 0&&(S=f),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},Wq=function(e,t,i){var r="left",f;t.on("start",function(){f=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${r}`,function(S){S===void 0&&(S=f),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},Yq=function(e,t,i){var r="right",f;t.on("start",function(){f=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${r}`,function(S){S===void 0&&(S=f),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},$q=function(e,t,i){var r="shadow",f;t.on("start",function(){f=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${r}`,function(S){S===void 0&&(S=f),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(f)})},Xq=function(e,t,i){var r="align";t.on(`+${r}`,function(f){e.textStyle.setAlign(f),t.skipEvent()}).on(`-${r}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},Hq=function(e,t,i){var r="img";t.on(`+${r}`,function(f){var S=e.imageManager.get(f);S&&XA.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},Kq=function(e,t,i){var r="space";t.on(`+${r}`,function(f){HA.call(e,f),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},jq=function(e,t,i){var r="speed";t.on(`+${r}`,function(f){NR(e,f),t.skipEvent()}).on(`-${r}`,function(){NR(e,void 0),t.skipEvent()})},Jq=function(e){this.typeWriter.setTypingSpeed(e)},NR=function(e,t){jt.call(e,"speed",Jq,t,e)},Zq=function(e,t,i){var r="se";t.on(`+${r}`,function(f,S){jt.call(e,r,Qq,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2";t.on(`+${r}`,function(f,S){jt.call(e,r,qq,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},Qq=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},qq=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},_q=function(e,t,i){var r="se.fadein";t.on(`+${r}`,function(f){jt.call(e,r,t_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.fadein";t.on(`+${r}`,function(f){jt.call(e,r,e_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},t_=function(e){this.soundManager.fadeInSoundEffect(e)},e_=function(e){this.soundManager.fadeInSoundEffect2(e)},i_=function(e,t,i){var r="se.fadeout";t.on(`+${r}`,function(f,S){S=S==="stop",jt.call(e,r,s_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.fadeout";t.on(`+${r}`,function(f,S){S=S==="stop",jt.call(e,r,r_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},s_=function(e){this.soundManager.fadeOutSoundEffect(...e)},r_=function(e){this.soundManager.fadeOutSoundEffect2(...e)},n_=function(e,t,i){var r="se.volume";t.on(`+${r}`,function(f){jt.call(e,r,a_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.volume";t.on(`+${r}`,function(f){jt.call(e,r,o_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},a_=function(e){this.soundManager.setSoundEffectVolume(e,!0)},o_=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},h_=function(e,t,i){var r="se.mute";t.on(`+${r}`,function(){jt.call(e,r,l_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.mute";t.on(`+${r}`,function(){jt.call(e,r,u_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se.unmute";t.on(`+${r}`,function(){jt.call(e,r,d_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="se2.unmute";t.on(`+${r}`,function(){jt.call(e,r,f_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},l_=function(){this.soundManager.setSoundEffectMute(!0)},u_=function(){this.soundManager.setSoundEffect2Mute(!0)},d_=function(){this.soundManager.setSoundEffectMute(!1)},f_=function(){this.soundManager.setSoundEffect2Mute(!1)},c_=function(e,t,i){var r="bgm";t.on(`+${r}`,function(f,S){jt.call(e,r,v_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){jt.call(e,"bgm.stop",p_,void 0,e),t.skipEvent()});var r="bgm2";t.on(`+${r}`,function(f,S){jt.call(e,r,g_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){jt.call(e,"bgm2.stop",m_,void 0,e),t.skipEvent()})},v_=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},p_=function(){this.soundManager.stopBackgroundMusic()},g_=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},m_=function(){this.soundManager.stopBackgroundMusic2()},x_=function(e,t,i){var r="bgm.fadein";t.on(`+${r}`,function(f){jt.call(e,r,y_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.fadein";t.on(`+${r}`,function(f){jt.call(e,r,C_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},y_=function(e){this.soundManager.fadeInBackgroundMusic(e)},C_=function(e){this.soundManager.fadeInBackgroundMusic2(e)},S_=function(e,t,i){var r="bgm.fadeout";t.on(`+${r}`,function(f,S){S=S==="stop",jt.call(e,r,T_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.fadeout";t.on(`+${r}`,function(f,S){S=S==="stop",jt.call(e,r,E_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},T_=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},E_=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},P_=function(e,t,i){var r="bgm.cross";t.on(`+${r}`,function(f,S){jt.call(e,r,w_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.cross";t.on(`+${r}`,function(f,S){jt.call(e,r,b_,[f,S],e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},w_=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},b_=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},M_=function(e,t,i){var r="bgm.pause";t.on(`+${r}`,function(){jt.call(e,r,A_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){jt.call(e,"bgm.resume",R_,void 0,e),t.skipEvent()});var r="bgm2.pause";t.on(`+${r}`,function(){jt.call(e,r,O_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){jt.call(e,"bgm2.resume",L_,void 0,e),t.skipEvent()})},A_=function(){this.soundManager.pauseBackgroundMusic()},R_=function(){this.soundManager.resumeBackgroundMusic()},O_=function(){this.soundManager.pauseBackgroundMusic2()},L_=function(){this.soundManager.resumeBackgroundMusic2()},D_=function(e,t,i){var r="bgm.volume";t.on(`+${r}`,function(f){jt.call(e,r,F_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.volume";t.on(`+${r}`,function(f){jt.call(e,r,I_,f,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},F_=function(e){this.soundManager.setBackgroundMusicVolume(e)},I_=function(e){this.soundManager.setBackgroundMusicVolume2(e)},B_=function(e,t,i){var r="bgm.mute";t.on(`+${r}`,function(){jt.call(e,r,N_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.mute";t.on(`+${r}`,function(){jt.call(e,r,G_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm.unmute";t.on(`+${r}`,function(){jt.call(e,r,k_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()});var r="bgm2.unmute";t.on(`+${r}`,function(){jt.call(e,r,V_,void 0,e),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},N_=function(){this.soundManager.setBackgroundMusicMute(!0)},G_=function(){this.soundManager.setBackgroundMusic2Mute(!0)},k_=function(){this.soundManager.setBackgroundMusicMute(!1)},V_=function(){this.soundManager.setBackgroundMusic2Mute(!1)},z_=function(e,t,i){var r="camera.fadein";t.on(`+${r}`,function(f,S,n,x){jt.call(e,r,U_,[f,S,n,x],e),t.skipEvent()})},U_=function(e){this.cameraTarget.fadeIn(...e)},W_=function(e,t,i){var r="camera.fadeout";t.on(`+${r}`,function(f,S,n,x){jt.call(e,r,Y_,[f,S,n,x],e),t.skipEvent()})},Y_=function(e){this.cameraTarget.fadeOut(...e)},$_=function(e,t,i){var r="camera.shake";t.on(`+${r}`,function(f,S){jt.call(e,r,X_,[f,S],e),t.skipEvent()})},X_=function(e){this.cameraTarget.shake(...e)},H_=function(e,t,i){var r="camera.flash";t.on(`+${r}`,function(f,S,n,x){jt.call(e,r,K_,[f,S,n,x],e),t.skipEvent()})},K_=function(e){this.cameraTarget.flash(...e)},j_=function(e,t,i){var r="camera.zoom";t.on(`+${r}`,function(f){jt.call(e,r,J_,f,e),t.skipEvent()}).on(`+${r}.to`,function(f,S,n){jt.call(e,"camera.zoom.to",Z_,[f,S,n],e),t.skipEvent()})},J_=function(e){this.cameraTarget.setZoom(e)},Z_=function(e){this.cameraTarget.zoomTo(...e)};const GR=Phaser.Math.DegToRad;var Q_=function(e,t,i){var r="camera.rotate";t.on(`+${r}`,function(f){f=GR(f),jt.call(e,r,q_,f,e),t.skipEvent()}).on(`+${r}.to`,function(f,S,n){f=GR(f),jt.call(e,"camera.rotate.to",__,[f,S,n],e),t.skipEvent()})},q_=function(e){this.cameraTarget.setRotation(e)},__=function(e){var t=e[0],i=e[1],r=e[2];this.cameraTarget.rotateTo(t,!1,i,r)},ttt=function(e,t,i){var r="camera.scroll";t.on(`+${r}`,function(f,S){jt.call(e,r,ett,[f,S],e),t.skipEvent()}).on(`+${r}.to`,function(f,S,n,x){jt.call(e,"camera.scroll.to",itt,[f,S,n,x],e),t.skipEvent()})},ett=function(e){this.cameraTarget.setScroll(...e)},itt=function(e){var t=e[0],i=e[1],r=e[2],f=e[3],S=this.cameraTarget,n=S.scrollX,x=S.scrollY;S.setScroll(t,i),t+=S.centerX,i+=S.centerY,S.setScroll(n,x),S.pan(t,i,r,f)},stt=function(e,t,i){var r="wait",f="click";t.on(`+${r}`,function(S){kR(e,S),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()}).on(`+${f}`,function(){kR(e,"click"),t.skipEvent()}).on(`-${f}`,function(){t.skipEvent()})},rtt=function(e){this.typeWriter.wait(e)},kR=function(e,t){jt.call(e,"wait",rtt,t,e)},ntt=function(e,t,i){var r="r";t.on(`+${r}`,function(){Ud.call(e,`
`),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})},att=function(e,t,i){for(var r=["pagebreak","pb"],f=0,S=r.length;f<S;f++){var n=r[f];t.on(`+${n}`,function(){Ud.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},ott=function(e,t,i){var r="content.off";t.on(`+${r}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},htt=function(e,t,i){var r="content.on";t.on(`+${r}`,function(){t.setContentOutputEnable(),t.skipEvent()})},ltt=function(e,t,i){t.on("content",function(r){if(t.contentOutputEnable)Ud.call(e,r);else{var f=`+${t.lastTagStart}`;e.emit(`parser.${f}#content`,t,r)}})},utt=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(r,...f){if(!t.skipEventFlag){var S=`+${r}`,n=f;e.emit(`parser.${S}`,t,...f,n),VR(e,S,n)}}).on("-",function(r){if(!t.skipEventFlag){var f=`-${r}`,S=[];e.emit(`parser.${f}`,t,S),VR(e,f,S)}}).on("complete",function(){e.emit("parser.complete",t)})},dtt=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},VR=function(e,t,i){jt.call(e,t,dtt,i,e)};const zR=[Bq,Nq,Gq,kq,Vq,$q,Xq,zq,Uq,Wq,Yq,Hq,Kq,jq,Zq,_q,i_,n_,h_,c_,x_,S_,P_,M_,D_,B_,z_,W_,$_,H_,j_,Q_,ttt,stt,ntt,att,ott,htt,ltt,utt];var ftt=function(e,t,i){for(var r=0,f=zR.length;r<f;r++)zR[r](e,t,i)},ctt=function(e,t){for(var i=e.commentLineStart,r=t.split(`
`),f=0,S=r.length;f<S;f++){var n=r[f];n===""||(n.trim().length===0||i&&n.startsWith(i))&&(r[f]="")}return r.join("")};const vtt=Phaser.Utils.Objects.GetValue;class ptt extends Iq{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),ftt(t,this,i),this.setCommentLineStartSymbol(vtt(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(ctt(this,t)),this}}const gtt={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},sh="page.fadeout",jy="_remove.play",UR=[sh,jy];var mtt=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(sh),this;var e=this.children.filter(function(r){return r.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(sh);else if(t.once)t.once("complete",function(){this.emit(sh)},this);else if(t.then){var i=this;t.then(function(){i.emit(sh)})}else this.emit(sh);return this},Pp=function(e,t){return new Promise(function(i,r){e.once(t,function(){i()})})},$i=function(e){return Pp(e,"complete")},xtt=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),$i(this)};const ytt="delay",WR="anim";var YR=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var r=this.animationConfig;if(r.duration>0){var f=this.timeline.addTimer({name:WR,target:i,duration:r.duration,yoyo:r.yoyo,onStart:r.onStart,onProgress:r.onProgress,onComplete:r.onComplete});this.skipTypingAnimation&&f.seek(1)}else r.onStart&&r.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&fJ(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:ytt,target:this,duration:t,onComplete:function(n,x,s){n.typingTimer=void 0,YR.call(n,s.remainder)}});break}}}else cJ(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},Ctt=function(){return this.timeline.pause(),this},Stt=function(){return this.timeline.resume(),this},Ttt=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},Ett=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},Ptt=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},wtt=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},btt=function(e,t,i,r){var f=e.waitEventManager,S=t.split("."),n=S[0],x=e.getGameObjectManager(n),s=`wait.${n}`;switch(S.length){case 1:f.waitGameObjectManagerEmpty(n),e.emit(s);return;case 2:var a=S[1];f.waitGameObjectDestroy(n,a),e.emit(s,a);return;case 3:var a=S[1],g=S[2],u=x.getProperty(a,g);if(typeof u=="number"){f.waitGameObjectTweenComplete(n,a,g),e.emit(s,a,g);return}var h=g,l=h.startsWith("!");if(l&&(h=h.substring(1)),x.hasData(a,h)){f.waitGameObjectDataFlag(n,a,h,!l),e.emit(s,a,h);return}else{f.waitTime(0);return}}};const Mtt=Phaser.Input.Keyboard.KeyCodes;var $R=function(e,t,i,r){var f=e.waitEventManager;f.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,r),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,n=t.length;S<n;S++){var x=t[S];if(x==null||x==="wait"){var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",s)}else if(typeof x=="number"||!isNaN(x)){var a=parseFloat(x);f.waitTime(a),e.emit("wait.time",a)}else if(x==="click")f.waitClick(),e.emit("wait.click");else if(x==="se"){f.waitSoundEffectComplete();var g=e.soundManager.getLastSoundEffect();e.emit("wait.music",g)}else if(x==="se2"){f.waitSoundEffect2Complete();var g=e.soundManager.getLastSoundEffect2();e.emit("wait.music",g)}else if(x==="bgm"){f.waitBackgroundMusicComplete();var g=e.soundManager.getBackgroundMusic();e.emit("wait.music",g)}else if(x==="bgm2"){f.waitBackgroundMusic2Complete();var g=e.soundManager.getBackgroundMusic2();e.emit("wait.music",g)}else if(Mtt.hasOwnProperty(x.toUpperCase()))f.waitKeyDown(x),e.emit("wait.keydown",x);else if(Ptt(x))f.waitCameraEffectComplete(x),e.emit("wait.camera",x);else if(wtt(e,x))btt(e,x);else{var s=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${x}`,s)}}},Att=function(e){return this.ignoreWait?this:(this.pauseTyping(),$R(this.textPlayer,e,this.resumeTyping,this),this)},Rtt=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},Ott=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},Ltt=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(WR),i=0,r=t.length;i<r;i++)t[i].seek(1);return this},Dtt=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},Ftt=function(){return this.typingTimer&&this.typingTimer.seek(1),this},XR={fadeOutPage:mtt,start:xtt,typing:YR,pause:Ctt,resume:Stt,pauseTyping:Ttt,resumeTyping:Ett,wait:Att,setIgnoreWait:Rtt,setSkipSpaceEnable:Ott,setSkipTypingAnimation:Ltt,setSkipSoundEffect:Dtt,skipCurrentTypingDelay:Ftt};Object.assign(XR,gtt);const Vl=Phaser.Utils.Objects.GetValue;class HR{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Vl(i,"onTypingStart",Btt)),this.setDefaultTypingSpeed(Vl(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Vl(i,"skipSpace",!1)),this.setAnimationConfig(Vl(i,"animation",void 0)),this.setMinSizeEnable(Vl(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(Vl(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=Itt),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var Itt=function(e){e.setVisible&&e.setVisible()},Btt=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t];r.setVisible&&r.setVisible(!1)}};Object.assign(HR.prototype,Wd,XR);class Ntt extends ky{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const Gtt={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var KR={};Object.assign(KR,Gtt);class jR extends Bl{constructor(t,i){i===void 0&&(i={}),i.BobClass=Ntt,super(t,i)}setCreateGameObjectCallback(t,i){return!t||t==="sprite"?t=ktt:t==="image"&&(t=Vtt),super.setCreateGameObjectCallback(t,i),this}}var ktt=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},Vtt=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};Object.assign(jR.prototype,KR);var JR=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},ztt=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},Utt=function(e,t,i){var r=i.name;t.on("+",function(f,...S){if(!t.skipEventFlag){var n=f.split("."),x;if(JR(n,r))x=n[1];else return;jt.call(e,`${r}.play`,Wtt,[r,x,S],e),t.skipEvent()}}).on("+",function(f){if(!t.skipEventFlag){var S=f.split("."),n;if(ztt(S,r))n=S[1];else return;jt.call(e,`${r}.stop`,ZR,[r,n],e),t.skipEvent()}}).on("-",function(f){if(!t.skipEventFlag){var S=f.split("."),n;if(JR(S,r))n=S[1];else return;jt.call(e,`${r}.stop`,ZR,[r,n],e),t.skipEvent()}})},Wtt=function(e){var t,i,r;[t,i,r]=e;var f=r.shift(),S=this.getGameObjectManager(t);S.playAnimation(i,f),r.length>0&&S.chainAnimation(i,r)},ZR=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.stopAnimation(...i)},Ytt=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},$tt=function(e,t,i){var r=i.name;t.on("+",function(f){if(!t.skipEventFlag){var S=f.split("."),n;if(Ytt(S,r))n=S[1];else return;jt.call(e,`${r}.pause`,Xtt,[r,n],e),t.skipEvent()}})},Xtt=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.pauseAnimation(...i)},Htt=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},Ktt=function(e,t,i){var r=i.name;t.on("+",function(f){if(!t.skipEventFlag){var S=f.split("."),n;if(Htt(S,r))n=S[1];else return;var x=Array.prototype.slice.call(arguments,1);jt.call(e,`${r}.chain`,jtt,[r,n,x],e),t.skipEvent()}})},jtt=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.chainAnimation(...i)};const Jtt=[Utt,$tt,Ktt];var Ztt=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=Jtt,this.addGameObjectManager(e,jR)},QR=function(e,t){return e.length===2&&e[0]===t},Qtt=function(e,t,i){var r=i.name;t.on("+",function(f,...S){if(!t.skipEventFlag){var n=f.split("."),x;if(QR(n,r))x=n[1];else return;jt.call(e,`${r}.add`,qtt,[r,x,...S],e),t.skipEvent()}}).on("-",function(f){if(!t.skipEventFlag){var S=f.split("."),n;if(QR(S,r))n=S[1];else return;jt.call(e,`${r}.remove`,_tt,[r,n],e),t.skipEvent()}})},qtt=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.add(...i)},_tt=function(e){var t,i;[t,...i]=e;var r=this.getGameObjectManager(t);r.remove(...i)},tet=function(e,t,i){var r=i.name;t.on("-",function(f){t.skipEventFlag||f===r&&(jt.call(e,`${r}.removeall`,eet,r,e),t.skipEvent())})},eet=function(e){var t=this.getGameObjectManager(e);t.removeAll()},iet=function(e,t){return e.length===3&&e[0]===t},set=function(e,t,i){var r=i.name;t.on("+",function(f,...S){if(!t.skipEventFlag){var n=f.split("."),x,s;if(iet(n,r))x=n[1],s=n[2];else return;jt.call(e,`${r}.call`,ret,[r,x,s,...S],e),t.skipEvent()}})},ret=function(e){var t,i,r,f;[t,i,r,...f]=e;var S=`${t}.${r}`;if(this.emit(S,i,...f),!(this.listenerCount(S)>0)){var n=this.getGameObjectManager(t);n.hasMethod(i,r)?n.call(i,r,...f):n.setProperty(i,r,f[0])}},net={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},aet=function(e,t){return e.length===4&&e[0]===t&&net[e[3]]},oet=function(e,t,i){var r=i.name;e.getGameObjectManager(r),t.on("+",function(f,S,n,x,s){if(!t.skipEventFlag){var a=f.split("."),g,u,h;if(aet(a,r))g=a[1],u=a[2],h=a[3];else return;typeof x=="number"&&(s=x,x=void 0),jt.call(e,`${r}.ease`,het,[r,g,u,S,n,x,s,h],e),t.skipEvent()}})},het=function(e){var t,i,r,f,S,n,x,s;[t,i,r,f,S,n,x,s]=e;var a=this.getGameObjectManager(t),g=a.getProperty(i,r);if(typeof g=="number"){s.endsWith("Left")||s.endsWith("Up")?s.startsWith("to")||s.startsWith("yoyo")?f=g-f:s.startsWith("from")&&(a.setProperty(i,r,g-f),f=g):s.endsWith("Right")||s.endsWith("Down")?s.startsWith("to")||s.startsWith("yoyo")?f=g+f:s.startsWith("from")&&(a.setProperty(i,r,g+f),f=g):s==="from"&&(a.setProperty(i,r,f),f=g);var u=s.startsWith("yoyo");a.easeProperty(i,r,f,S,n,x,u)}};const qR=[Qtt,tet,set,oet],uet=LR.addGameObjectManager,det={addGameObjectManager(e,t){e=e?nn(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var r=e.defaultLayer,f=e.createGameObject,S=this.layerManager;e.createGameObject=function(a,...g){var u=f.call(this,a,...g);return r&&S&&S.addToLayer(r,u),u},uet.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...qR]:n=qR;for(var x=0,s=n.length;x<s;x++)n[x](this,this.parser,e);return this}};var fet=function(e){return this.waitEventManager.setClickTarget(e),this},cet=function(e){return this.waitEventManager.setCameraTarget(e),this},vet=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,r){var f=t.waitEventManager;f.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,r);var S=f.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(i,r){$R(t,e,i,r)}:this.nextPageInput=null},pet=function(e,t){return this.imageManager.add(e,t),this};const get={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=$i(this);return this.play(e),t}};var Jy=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(sh,met,this).fadeOutPage(),this)},met=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(jy),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?Jy.call(this):this.nextPageInput&&this.nextPageInput(Jy,this))};this.once(jy,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const xet={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},yet={resume(){return this.timeline.resume(),this},resumeTyping(e){return this.typeWriter.resumeTyping(e),this}};var Cet=function(e){return this.typeWriter.wait(e),this};const Tet={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var Eet=function(e){return this.typeWriter.setIgnoreWait(e),this},Pet=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},wet=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,r=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(r)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const bet={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},Met={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var _R={setClickTarget:fet,setCameraTarget:cet,setNextPageInput:vet,addImage:pet,typingNextPage:Jy,wait:Cet,setIgnoreWait:Eet,setIgnoreNextPageInput:Pet,showPage:wet};Object.assign(_R,det,get,xet,yet,Tet,bet,Met);var Aet=function(e){for(var t=0,i=UR.length;t<i;t++)e.emit(UR[t])};const tO=Phaser.Utils.Objects.IsPlainObject,zl=Phaser.Utils.Objects.GetValue;class Zy extends Mq(Ll){constructor(t,i,r,f,S,n){tO(i)?n=i:tO(f)&&(n=f),n===void 0&&(n={});var x=n.text;delete n.text,super(t,i,r,f,S,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new ptt(this,zl(n,"parser",void 0)),this.typeWriter=new HR(this,zl(n,"typing",void 0)),this._imageManager=void 0;var s=zl(n,"images",void 0);s&&this.addImage(s);var a=zl(n,"sprites");a!==!1&&a!==null&&Ztt.call(this,a),this.setIgnoreNextPageInput(zl(n,"ignoreNextPageInput",!1)),this.setNextPageInput(zl(n,"nextPageInput",null)),this.isPlaying=!1,x&&this.play(x)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Py(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(Aet(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(Zy.prototype,_R),bt.register("textPlayer",function(e,t,i,r,f){var S=new Zy(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.TextPlayer",Zy);const eO={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},iO={direction:["direction",void 0]};var Ya=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var r=i;if(Array.isArray(r))for(var f=0,S=r.length;f<S;f++)Ya(e,t,r[f]);else for(var i in r)Ya(e,t,i)}},Ret=function(e){e===void 0&&(e={});var t={};return Ya(e,t,"inputType"),Ya(e,t,"type"),Ya(e,t,"style"),Ya(e,t,iO),Ya(e,t,eO),t},Qy=function(e,t,i,r,f){if(t)return!(i&&!i(e,t)||!sO(e,t)||r&&!r(e,t));f===void 0&&(f=!1);for(var S=e.scene.input.manager,n=S.pointersTotal,x=S.pointers,t,s=0;s<n;s++)if(t=x[s],!(i&&!i(e,t))&&sO(e,t)&&!(r&&!r(e,t)))return f?t:!0;return!1},sO=function(e,t){for(var i=e.scene,r=i.input.cameras.getCamerasBelowPointer(t),f=i.input.manager,S=[e],n=0,x=r.length;n<x;n++)if(f.hitTest(t,S,r[n],wp),wp.length>0)return wp.length=0,!0;return wp.length=0,!1},wp=[],Ul=void 0,Oet=function(e){e!==Ul&&(Ul!==void 0&&Ul.close(),Ul=e)},Let=function(e){e===Ul&&(Ul=void 0)};const Det=Phaser.Utils.Objects.GetValue;var bp=function(e,t,i){i===void 0&&(i={});var r,f;for(var S in e)r=e[S],f=Det(t,S,r[1]),f!==void 0&&(i[r[0]]=f);return i},rO=function(e){e.addEventListener("touchstart",Wl,!1),e.addEventListener("touchmove",Wl,!1),e.addEventListener("touchend",Wl,!1),e.addEventListener("mousedown",Wl,!1),e.addEventListener("mouseup",Wl,!1),e.addEventListener("mousemove",Wl,!1)},Wl=function(e){e.stopPropagation()},Fet=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},Iet=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",Fet,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(cR.call(this.clickOutSideTarget,this.parent),fR.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},Bet=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},Net=function(){this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),Bet(this.node),this.node=void 0,this.emit("close",this)};const qy=Phaser.Utils.Objects.GetValue;var Get=function(e,t){var i,r=qy(t,"inputType",void 0);r===void 0&&(r=qy(t,"type","text")),r==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=r);var f=qy(t,"style",void 0),S=i.style;bp(iO,f,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",bp(eO,t,i),rO(i);var n=e.scene.sys.scale,x=n.isFullscreen?n.fullscreenTarget:document.body;return x.appendChild(i),i.addEventListener("focus",function(s){Iet.call(e)}),i.addEventListener("blur",function(s){Net.call(e)}),i},ket=function(){return this.isOpened?this:this.readOnly?this:(Oet(this),this.node||(this.node=Get(this,this.nodeConfig)),this.setFocus(),this)},Vet=function(){return this.isOpened?(Let(this),this.setBlur(),this):this},zet={open:ket,close:Vet};const Vn=Phaser.Utils.Objects.GetValue;class _y extends ti{constructor(t,i){super(t);var r=Vn(i,"inputType",void 0);r===void 0&&(r=Vn(i,"type","text")),this.setEnterCloseEnable(Vn(i,"enterClose",r!=="textarea"));var f=Vn(i,"onOpen",void 0);f||(f=Vn(i,"onFocus",void 0)),this.onOpenCallback=f,this.clickOutSideTarget=Vn(i,"clickOutSideTarget",void 0);var S=Vn(i,"onClose",void 0);S||(S=Vn(i,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=Vn(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=Ret(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){Qy(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(_y.prototype,zet);var nO=function(e,t,i){e=e.replace(" ","");var r=i.previousText;if(e===r)return e;if(isNaN(e)){i.emit("nan",e,i),e=r;var f=i.cursorPosition-1;i.setText(e),i.setCursorPosition(f)}else i.previousText=e;return e},Uet=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,r=e.isOpened?e.selectionEnd:null,f=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(f===i&&S===r)){var n,x;f===null?(n=i,x=r):i===null?(n=f,x=S):(n=Math.min(f,i),x=Math.max(S,r));for(var s=n;s<x;s++){var a;f===null?a=!1:a=s>=f&&s<S;var g;if(i===null?g=!1:g=s>=i&&s<r,a!==g){var u=t.getCharChild(s);if(u){var h=a?"cursorout":"cursorin";t.emit(h,u,s,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=r}},Wet=function(e){var t=e.parent,i=0,r=t.width,f=0,S=t.height,n=e.drawX,x=e.drawY,s=n+e.drawTLX,a=n+e.drawTRX,g=x+e.drawTLY,u=x+e.drawBLY,h;s<i?h=i-s:a>r?h=r-a:h=0;var l;g<f?l=f-g:u>S?l=S-u:l=0,t._textOX+=h,t._textOY+=l},Yet=function(e){var t=e.parent,i=t.text,r=e.cursorPosition;if(e.prevCursorPosition!==r){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var f=t.getCharChild(e.prevCursorPosition);f&&(f.text===`
`&&f.clearTextSize(),t.emit("cursorout",f,e.prevCursorPosition,t))}if(r!=null){var f=t.getCharChild(r);f&&(f.text===`
`&&f.copyTextSize(t.lastInsertCursor),Wet(f),t.emit("cursorin",f,r,t))}t.emit("movecursor",r,e.prevCursorPosition,t),e.prevCursorPosition=r}},aO=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,r=e.parent,f=t;f<i;f++){var S=r.getCharChild(f);S&&r.emit("cursorout",S,f,r)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},oO=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,r=i.getCharChild(t);r&&i.emit("cursorout",r,t,i),e.prevCursorPosition=null}};const $et=Phaser.Utils.Objects.GetValue;let Xet=class extends _y{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable($et(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(r,f,S,n){var x=t.getNearestChild(f,S),s=t.getCharIndex(x);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(s),this.cursorMoveStartIndex=s,this.firstClickAfterOpen=!1},this).on("pointermove",function(r,f,S,n){if(r.isDown){var x=t.getNearestChild(f,S),s=t.getCharIndex(x);this.cursorMoveStartIndex<s?this.selectText(this.cursorMoveStartIndex,s+1):this.selectText(s,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var r=this.onUpdateCallback(i,t,this);r!=null&&(i=r)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(oO(this),Uet(this)):(aO(this),Yet(this)):(aO(this),oO(this)),this}setNumberInput(){return this.onUpdateCallback=nO,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}};const Het=Phaser.Utils.Objects.GetValue,Ket=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var jet=function(e,t){var i=Het(t,"edit");return i===void 0&&(i={}),Ya(t,i,Ket),new Xet(e,i)},zn=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),r=e,f=0;f<i.length;f++)if(r.hasOwnProperty(i[f]))r=r[i[f]];else return!1;return!0}else return!1},tC=function(e){if(e.parentContainer)return tC(e.parentContainer);var t=dR(e);return t?tC(t):e},Jet=function(e){for(var t=tC(e).cameraFilter,i=e.scene.sys.cameras.cameras,r,f,S=0,n=i.length;S<n;S++)if(r=i[S],f=(t&r.id)>0,!f)return r;return null};class hO extends ti{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,r=Jet(i);if(r){i.setScrollFactor(0).setOrigin(.5);var f=t.sys.scale.gameSize,S=f.width,n=f.height,x=1/r.zoom,s=S/2,a=n/2,g=S*x,u=n*x;(i.x!==s||i.y!==a)&&i.setPosition(s,a),(i.width!==g||i.height!==u)&&i.setSize(g,u)}}}const Zet=Phaser.GameObjects.Zone;let eC=class extends Zet{constructor(t){super(t,0,0,2,2),this.fullWindow=new hO(this)}};var Qet=function(e,t){var i=!t.textArea;if(!zn(t,"wrap.vAlign")){var r=i?"center":"top";Pt(t,"wrap.vAlign",r)}if(zn(t,"wrap.wrapMode")||Pt(t,"wrap.wrapMode","char"),!zn(t,"wrap.maxLines")){var r=i?1:void 0;Pt(t,"wrap.maxLines",r)}if(i&&Pt(t,"wrap.wrapWidth",1/0),zn(t,"wrap.useDefaultTextHeight")||Pt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!zn(t.edit,"inputType")){var r=i?"text":"textarea";Pt(t.edit,"inputType",r)}if(t.clickOutSideTarget===!0){var f=new eC(e);e.add.existing(f),t.clickOutSideTarget=f}return t},iC=function(e,t,i,r){if(i===void 0&&(i="."),r===void 0&&(r={}),!e)return r;if(t in e)return Object.assign(r,e[t]);t+=i;for(var f in e)f.startsWith(t)&&(r[f.replace(t,"")]=e[f]);return r},sC=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var r,f=0,S=t.length;f<S;f++)r=t[f],i[r]=e[r];else for(var r in t)i[r]=e[r];return i},Mp=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},qet=function(e){Vy(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,r=sC(t.style,i);Mp(i,r)||(t.styleSave=r,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},_et=function(e){Vy(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,r=sC(t,i);Mp(i,r)||(t.styleSave=r,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},tit=function(e){var t=e.createCharChild("|");return t.text="",t};function Un(){}Un.prototype={diff(e,t,i={}){let r=i.callback;typeof i=="function"&&(r=i,i={}),this.options=i;let f=this;function S(l){return r?(setTimeout(function(){r(void 0,l)},0),!0):l}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,x=e.length,s=1,a=n+x;i.maxEditLength&&(a=Math.min(a,i.maxEditLength));let g=[{newPos:-1,components:[]}],u=this.extractCommon(g[0],t,e,0);if(g[0].newPos+1>=n&&u+1>=x)return S([{value:this.join(t),count:t.length}]);function h(){for(let l=-1*s;l<=s;l+=2){let o,d=g[l-1],v=g[l+1],c=(v?v.newPos:0)-l;d&&(g[l-1]=void 0);let p=d&&d.newPos+1<n,y=v&&0<=c&&c<x;if(!p&&!y){g[l]=void 0;continue}if(!p||y&&d.newPos<v.newPos?(o=iit(v),f.pushComponent(o.components,void 0,!0)):(o=d,o.newPos++,f.pushComponent(o.components,!0,void 0)),c=f.extractCommon(o,t,e,l),o.newPos+1>=n&&c+1>=x)return S(eit(f,o.components,t,e,f.useLongestToken));g[l]=o}s++}if(r)(function l(){setTimeout(function(){if(s>a)return r();h()||l()},0)})();else for(;s<=a;){let l=h();if(l)return l}},pushComponent(e,t,i){let r=e[e.length-1];r&&r.added===t&&r.removed===i?e[e.length-1]={count:r.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,r){let f=t.length,S=i.length,n=e.newPos,x=n-r,s=0;for(;n+1<f&&x+1<S&&this.equals(t[n+1],i[x+1]);)n++,x++,s++;return s&&e.components.push({count:s}),e.newPos=n,x},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function eit(e,t,i,r,f){let S=0,n=t.length,x=0,s=0;for(;S<n;S++){let g=t[S];if(g.removed){if(g.value=e.join(r.slice(s,s+g.count)),s+=g.count,S&&t[S-1].added){let u=t[S-1];t[S-1]=t[S],t[S]=u}}else{if(!g.added&&f){let u=i.slice(x,x+g.count);u=u.map(function(h,l){let o=r[s+l];return o.length>h.length?o:h}),g.value=e.join(u)}else g.value=e.join(i.slice(x,x+g.count));x+=g.count,g.added||(s+=g.count)}}let a=t[n-1];return n>1&&typeof a.value=="string"&&(a.added||a.removed)&&e.equals("",a.value)&&(t[n-2].value+=a.value,t.pop()),t}function iit(e){return{newPos:e.newPos,components:e.components.slice(0)}}const sit=new Un;function rit(e,t,i){return sit.diff(e,t,i)}const lO=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,uO=/\S/,dO=new Un;dO.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!uO.test(e)&&!uO.test(t)},dO.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&lO.test(t[i])&&lO.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const fO=new Un;fO.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let r=0;r<i.length;r++){let f=i[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=f:(this.options.ignoreWhitespace&&(f=f.trim()),t.push(f))}return t};const nit=new Un;nit.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const ait=new Un;ait.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const oit=Object.prototype.toString,sf=new Un;sf.useLongestToken=!0,sf.tokenize=fO.tokenize,sf.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(r,f)=>typeof f>"u"?t:f}=this.options;return typeof e=="string"?e:JSON.stringify(rC(e,null,null,i),i,"  ")},sf.equals=function(e,t){return Un.prototype.equals.call(sf,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function rC(e,t,i,r,f){t=t||[],i=i||[],r&&(e=r(f,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return i[S];let n;if(oit.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),i.push(n),S=0;S<e.length;S+=1)n[S]=rC(e[S],t,i,r,f);return t.pop(),i.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},i.push(n);let x=[],s;for(s in e)e.hasOwnProperty(s)&&x.push(s);for(x.sort(),S=0;S<x.length;S+=1)s=x[S],n[s]=rC(e[s],t,i,r,s);t.pop(),i.pop()}else n=e;return n}const nC=new Un;nC.tokenize=function(e){return e.slice()},nC.join=nC.removeEmpty=function(e){return e};const hit=Phaser.Utils.Array.Remove;var lit=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),hit(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var r=rit(i,t),f=0,S=0,n=r.length;S<n;S++){var x=r[S];x.removed?e.removeText(f,x.count):(x.added&&e.insertText(f,x.value),f+=x.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.emit("textchange",t,e)}};const uit={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},cO=Phaser.Utils.Objects.IsPlainObject;class rf extends Ll{constructor(t,i,r,f,S,n){cO(i)?n=i:cO(f)&&(n=f),n===void 0&&(n={}),Qet(t,n);var x=n.text;x&&delete n.text;var s=iC(n.background,"focus"),a=iC(n.style,"cursor");super(t,i,r,f,S,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this._text,this.textEdit=jet(this,n),n.focusStyle&&Object.assign(s,n.focusStyle),_et.call(this,s),n.cursorStyle&&Object.assign(a,n.cursorStyle),qet.call(this,a);var g=n.onAddChar;g&&this.on("addchar",g);var u=n.onCursorOut;u&&this.on("cursorout",u);var h=n.onCursorIn;h&&this.on("cursorin",h);var l=n.onMoveCursor;l&&this.on("movecursor",l),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=tit(this),x||(x=""),this.setText(x)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var r=t,f=0,S=r.length;f<S;f++){var t=r[f];Ol(t)&&this.emit("addchar",t,i+f,this)}else Ol(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(lit(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);return this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=dit),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var dit=function(e){return e};Object.assign(rf.prototype,uit),bt.register("canvasInput",function(e,t,i,r,f){var S=new rf(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.CanvasInput",rf);var aC=function(e){return jo(e).loop.delta};const vO=Phaser.Utils.Objects.GetValue,fit=Phaser.Math.Wrap;class pO extends _y{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=nO),super(t,i),this.setCursor(vO(i,"cursor","|")),this.setCursorFlashDuration(vO(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var r=this.onUpdateCallback(i,t,this);r!=null&&(i=r)}if(this.isOpened&&this.hasCursor){var f=this.cursorPosition;i=i.substring(0,f)+this.cursor+i.substring(f),this.prevCursorPosition!==f&&(this.prevCursorPosition=f)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+aC(this.scene);return this.cursorFlashTimer=fit(i,0,this.cursorFlashDuration),t}}bt.register("hiddenEdit",function(e,t){var i=new pO(e,t);return i}),Pt(window,"RexPlugins.UI.HiddenEdit",pO);const cit=Phaser.GameObjects.GetCalcMatrix;var vit=function(e,t,i,r){t.updateData(),i.addToRenderList(t);var f=e.pipelines.set(t.pipeline),S=cit(t,i,r),n=f.calcMatrix.copyFrom(S.calc),x=t._displayOriginX,s=t._displayOriginY,a=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var g=t.geom,u,h=0,l=g.length;h<l;h++)u=g[h],u.visible&&u.webglRender(f,n,a,x,s);e.pipelines.postBatch(t)};const pit=Phaser.Renderer.Canvas.SetTransform;var git=function(e,t,i,r){t.updateData(),i.addToRenderList(t);var f=e.currentContext;if(pit(e,f,t,i,r)){for(var S=t._displayOriginX,n=t._displayOriginY,x=t.geom,s,a=0,g=x.length;a<g;a++)s=x[a],s.visible&&s.canvasRender(f,S,n);f.restore()}};const mit={renderWebGL:vit,renderCanvas:git},xit=Phaser.GameObjects.Shape,yit=Phaser.Utils.Array.Remove;class $a extends xit{constructor(t,i,r,f,S){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=2),S===void 0&&(S=f),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,r),this.setSize(f,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=t,r.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,r){return r===void 0&&(r=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==r,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=r,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,r=t.length;i<r;i++){var f=t[i];f.dirty&&f.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Nn(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],yit(this.geom,i)),this}}Object.assign($a.prototype,mit);const Cit={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},Sit={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var Tit=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},Eit=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const Pit={fillStyle:Tit,lineStyle:Eit};class Ap{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,r,f,S){}canvasRender(t,i,r){}updateData(){this.dirty=!1}}Object.assign(Ap.prototype,Pit,jv);const wit=Phaser.Geom.Polygon.Earcut;class nf extends Ap{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=wit(this.pathData),super.updateData(),this}webglRender(t,i,r,f,S){this.isFilled&&ZM(t,i,this,r,f,S),this.isStroked&&Zv(t,this,r,f,S)}canvasRender(t,i,r){var f=this.pathData,S=f.length-1,n=f[0]-i,x=f[1]-r;t.beginPath(),t.moveTo(n,x),this.closePath||(S-=2);for(var s=2;s<S;s+=2){var a=f[s]-i,g=f[s+1]-r;t.lineTo(a,g)}this.closePath&&t.closePath(),this.isFilled&&(Gd(t,this),t.fill()),this.isStroked&&(kd(t,this),t.stroke())}}const gO=Phaser.Math.DegToRad;class Yl extends nf{constructor(t,i,r,f,S,n,x,s){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=0),S===void 0&&(S=0),n===void 0&&(n=360),x===void 0&&(x=!1),s===void 0&&(s=!1),super(),this.setCenterPosition(t,i),this.setRadius(r,f),this.setAngle(S,n,x),this.setPie(s),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,r){return r===void 0&&(r=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=r,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),Di(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,r){t.beginPath();var f=this.x-i,S=this.y-r,n=gO(this.startAngle),x=gO(this.endAngle);this.pie&&(t.moveTo(f,S),t.lineTo(f+Math.cos(n)*this.radiusX,S+Math.sin(n)*this.radiusY)),t.ellipse(f,S,this.radiusX,this.radiusY,0,n,x,this.anticlockwise),this.pie&&t.lineTo(f,S),this.isFilled&&(Gd(t,this),t.fill()),this.isStroked&&(kd(t,this),t.stroke())}}class gr extends Yl{constructor(t,i,r){super(t,i,r,r,0,360)}}class bit extends nf{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,r=t.length;i<r;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class Mit extends Yl{constructor(t,i,r,f){super(t,i,r,f,0,360)}}class Xa extends nf{constructor(t,i,r,f){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=0),super(),this.setP0(t,i),this.setP1(r,f)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var Ait=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const mO=Phaser.Math.Interpolation.QuadraticBezier;var Rit=function(e,t,i,r,f,S){for(var n=S.length,x=S[n-2],s=S[n-1],a=1,g=f-1;a<=g;a++){var u=a/g;S.push(mO(u,x,e,i),mO(u,s,t,r))}return S};const xO=Phaser.Math.Interpolation.CubicBezier;var Oit=function(e,t,i,r,f,S,n,x){for(var s=x.length,a=x[s-2],g=x[s-1],u=1,h=n-1;u<=h;u++){var l=u/h;x.push(xO(l,a,e,i,f),xO(l,g,t,r,S))}return x},yO=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],r=e[t-1];return e.push(i),e.push(r),e};const Lit={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,Ait(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Li(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,r,f,S,n){return n===void 0&&(n=!1),Di(e,t,i,r,f,S,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,r,f,S){return this.ellipticalArc(e,t,i,i,r,f,S),this},quadraticBezierTo(e,t,i,r){return Rit(e,t,i,r,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=r,this.lastCX=e,this.lastCY=t,this},smoothQuadraticBezierTo(e,t){var i=this.lastPointX*2-this.lastCX,r=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(i,r,e,t),this},cubicBezierCurveTo(e,t,i,r,f,S){return Oit(e,t,i,r,f,S,this.iterations,this.pathData),this.lastPointX=f,this.lastPointY=S,this.lastCX=i,this.lastCY=r,this},smoothCubicBezierCurveTo(e,t,i,r){var f=this.lastPointX*2-this.lastCX,S=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(f,S,e,t,i,r),this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return yO(this.pathData),this}},Dit=Phaser.Math.RotateAround;var Fit=function(e,t,i,r){for(var f={x:0,y:0},S=0,n=r.length-1;S<n;S+=2)f.x=r[S],f.y=r[S+1],Dit(f,e,t,i),r[S]=f.x,r[S+1]=f.y;return r},Iit=function(e,t,i,r,f){for(var S=0,n=f.length-1;S<n;S+=2){var x=f[S]-e,s=f[S+1]-t;x*=i,s*=r,f[S]=x+e,f[S+1]=s+t}return f},CO=function(e,t,i){for(var r=0,f=i.length-1;r<f;r+=2)i[r]+=e,i[r+1]+=t;return i};const Bit=Phaser.Math.DegToRad,Nit=Phaser.Math.RotateAround,Git={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=Bit(i),Fit(e,t,i,this.pathData);var r=this.pathData.length;if(this.lastPointX=this.pathData[r-2],this.lastPointY=this.pathData[r-1],this.lastCX!==void 0){var f={x:this.lastCX,y:this.lastCY};Nit(f,e,t,i),this.lastCX=f.x,this.lastCY=f.y}return this},scale(e,t,i,r){if(this.pathData.length===0)return this;if(Iit(e,t,i,r,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var f=this.lastCX-e,S=this.lastCY-t;f*=i,S*=r,this.lastCX=f+e,this.lastCY=S+t}return this},offset(e,t){return CO(e,t,this.pathData),this}};var Rp=function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=t.length),e.length=r-i;for(var f=0,S=e.length;f<S;f++)e[f]=t[f+i];return e};const kit={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Rp(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},Vit=Phaser.Math.Distance.Between,zit=Phaser.Math.Wrap,Uit=Phaser.Math.Linear;var SO=function(e,t,i,r,f){if(r===void 0&&(r=i,i=0),i=TO(i),r=TO(r),i!==r){var S=t[t.length-1],n=S*i,x=S*r;i<r?oC(e,t,n,x,f):(oC(e,t,n,S,f),oC(e,t,0,x,f)),yO(f)}},oC=function(e,t,i,r,f){for(var S=i>0,n=0,x=t.length;n<x;n++){var s=n*2,a=t[n];if(S){if(a<i)continue;if(a==i)S=!1;else{var g=a-t[n-1],u=1-(a-i)/g;f.push(Op(e,s-2,s,u)),f.push(Op(e,s-1,s+1,u)),S=!1}}if(a<=r){if(f.push(e[s]),f.push(e[s+1]),a===r)break}else{var g=a-t[n-1],u=1-(a-r)/g;f.push(Op(e,s-2,s,u)),f.push(Op(e,s-1,s+1,u));break}}},Op=function(e,t,i,r){var f=e[t],S=e[i];return Uit(f,S,r)},TO=function(e){return e===0?0:e%1===0?1:zit(e,0,1)};const Wit={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,r,f,S,n,x=0,s=0,a=t.length;s<a;s+=2)f=t[s],S=t[s+1],n=i===void 0?0:Vit(i,r,f,S),x+=n,e.push(x),i=f,r=S;return this.totalPathLength=x,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,SO(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),SO(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Yit={draw(e,t,i){var r=this.toPoints();return t&&e.fillPoints(r,this.closePath,this.closePath),i&&e.strokePoints(r,this.closePath,this.closePath),this}};var $it=function(e,t){t===void 0&&(t=[]);for(var i=0,r=e.length-1;i<r;i+=2)t.push({x:e[i],y:e[i+1]});return t};const Xit=Phaser.Geom.Polygon;var Hit=function(e,t){return t===void 0&&(t=new Xit),t.setTo(e),t};class EO{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return $it(this.pathData)}toPolygon(t){return Hit(this.pathData,t)}}Object.assign(EO.prototype,Lit,Git,kit,Wit,Yit);class Fs extends nf{constructor(){super(),this.builder=new EO(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,r){return this.builder.lineTo(t,i,r),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,r,f,S,n,x){return this.builder.ellipticalArc(t,i,r,f,S,n,x),this.dirty=!0,this}arc(t,i,r,f,S,n){return this.builder.arc(t,i,r,f,S,n),this.dirty=!0,this}quadraticBezierTo(t,i,r,f){return this.builder.quadraticBezierTo(t,i,r,f),this.dirty=!0,this}smoothQuadraticBezierTo(t,i){return this.builder.smoothQuadraticBezierTo(t,i),this.dirty=!0,this}cubicBezierCurveTo(t,i,r,f,S,n){return this.builder.cubicBezierCurveTo(t,i,r,f,S,n),this.dirty=!0,this}smoothCubicBezierCurveTo(t,i,r,f){return this.builder.smoothCubicBezierCurveTo(t,i,r,f),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,r){return this.builder.rotateAround(t,i,r),this.dirty=!0,this}scale(t,i,r,f){return this.builder.scale(t,i,r,f),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,r){return this.builder.appendFromPathSegment(t.builder,i,r),this}copyPathFrom(t,i,r){return this.builder.clear().appendFromPathSegment(t.builder,i,r),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const Kit=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let jit=class extends Ap{constructor(t,i,r,f){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=r),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(r,f)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,r=this.y,f=r+this.height;return this.pathData.push(t,r),this.pathData.push(i,r),this.pathData.push(i,f),this.pathData.push(t,f),this.pathData.push(t,r),super.updateData(),this}webglRender(t,i,r,f,S){if(this.isFilled){var n=t.fillTint,x=Kit(this.fillColor,this.fillAlpha*r);n.TL=x,n.TR=x,n.BL=x,n.BR=x,t.batchFillRect(-f+this.x,-S+this.y,this.width,this.height)}this.isStroked&&Zv(t,this,r,f,S)}canvasRender(t,i,r){this.isFilled&&(Gd(t,this),t.fillRect(-i,-r,this.width,this.height)),this.isStroked&&(kd(t,this),t.beginPath(),t.rect(-i,-r,this.width,this.height),t.stroke())}};const Lp=Phaser.Utils.Objects.GetValue;class Dp extends nf{constructor(t,i,r,f,S,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=r),S===void 0&&(S=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,i),this.setSize(r,f),this.setRadius(S),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Lp(t,"tl",0),this.radiusTR=Lp(t,"tr",0),this.radiusBL=Lp(t,"bl",0),this.radiusBR=Lp(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,r=this.height,f,S=this.iterations+1;if(f=this.radiusTL,f>0)if(this._convexTL){var n=f,x=f;Di(n,x,f,f,180,270,!1,S,t)}else{var n=0,x=0;Di(n,x,f,f,90,0,!0,S,t)}else Li(0,0,t);if(f=this.radiusTR,f>0)if(this._convexTR){var n=i-f,x=f;Di(n,x,f,f,270,360,!1,S,t)}else{var n=i,x=0;Di(n,x,f,f,180,90,!0,S,t)}else Li(i,0,t);if(f=this.radiusBR,f>0)if(this._convexBR){var n=i-f,x=r-f;Di(n,x,f,f,0,90,!1,S,t)}else{var n=i,x=r;Di(n,x,f,f,270,180,!0,S,t)}else Li(i,r,t);if(f=this.radiusBL,f>0)if(this._convexBL){var n=f,x=r-f;Di(n,x,f,f,90,180,!1,S,t)}else{var n=0,x=r;Di(n,x,f,f,360,270,!0,S,t)}else Li(0,r,t);return t.push(t[0],t[1]),CO(this.x,this.y,t),super.updateData(),this}}const Jit=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Zit=class extends Ap{constructor(t,i,r,f,S,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=0),S===void 0&&(S=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(r,f),this.setP2(S,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,r,f,S){if(this.isFilled){var n=Jit(this.fillColor,this.fillAlpha*r),x=this.x0-f,s=this.y0-S,a=this.x1-f,g=this.y1-S,u=this.x2-f,h=this.y2-S,l=i.getX(x,s),o=i.getY(x,s),d=i.getX(a,g),v=i.getY(a,g),c=i.getX(u,h),p=i.getY(u,h);t.batchTri(l,o,d,v,c,p,n,n,n)}this.isStroked&&Zv(t,this,r,f,S)}canvasRender(t,i,r){var f=this.x1-i,S=this.y1-r,n=this.x2-i,x=this.y2-r,s=this.x3-i,a=this.y3-r;t.beginPath(),t.moveTo(f,S),t.lineTo(n,x),t.lineTo(s,a),t.closePath(),this.isFilled&&(Gd(t,this),t.fill()),this.isStroked&&(kd(t,this),t.stroke())}};const Qit={buildShapes(){this.addShape(new Dp().setName("box")).addShape(new Fs().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),r=i*2,f=e-i,S=t-i,n=this.boxLineWidth,x=Math.max(r/10,2),s=this.getShape("box"),a=this.getShape("checker");if(this.isSizeChanged){var h=r*(1-this.boxSize)/2,g=n/2,u=r*this.boxSize-n;s.setTopLeftPosition(f+g+h,S+g+h).setSize(u,u),this.isCircleShape?s.setRadius(u/2):s.setRadius(0);var h=r*(1-this.checkerSize)/2,l=r*this.checkerSize/4,o=l*1,d=l*2,v=l*3;a.startAt(o,d).lineTo(d,v).lineTo(v,o).offset(f+h,S+h).end()}this.checked?(s.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),a.lineStyle(x,this.checkerColor)):(s.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),a.lineStyle()),this.checked&&a.setDisplayPathSegment(this.checkerAnimProgress)}},Ha=Phaser.Utils.Objects.GetValue,qit=Phaser.Math.Linear;class Wn extends ih{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=Ha(t,"key","value");var r=i[this.propertyKey];return this.fromValue=Ha(t,"from",r),this.toValue=Ha(t,"to",r),this.setEase(Ha(t,"ease",this.ease)),this.setDuration(Ha(t,"duration",this.duration)),this.setRepeat(Ha(t,"repeat",0)),this.setDelay(Ha(t,"delay",0)),this.setRepeatDelay(Ha(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var r=i.t;r=this.easeFn(r),t[this.propertyKey]=qit(this.fromValue,this.toValue,r)}}const _it={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Wn(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var PO={};Object.assign(PO,Cit,Sit,Qit,_it);const ui=Phaser.Utils.Objects.GetValue,wO=Phaser.Utils.Objects.IsPlainObject,hC=23730,tst=16777215;class bO extends $a{constructor(t,i,r,f,S,n,x){wO(i)?(x=i,i=ui(x,"x",0),r=ui(x,"y",0),f=ui(x,"width",2),S=ui(x,"height",2),n=ui(x,"color",hC)):wO(n)&&(x=n,n=ui(x,"color",hC)),super(t,i,r,f,S),this.type="rexCheckbox",n===void 0&&(n=hC),this.setBoxShape(ui(x,"circleBox",!1)),this.setBoxFillStyle(n,ui(x,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(ui(x,"uncheckedColor",null),ui(x,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(ui(x,"boxLineWidth",4),ui(x,"boxStrokeColor",n),ui(x,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,ui(x,"uncheckedBoxStrokeColor",this.boxStrokeColor),ui(x,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(ui(x,"checkerColor",tst),ui(x,"checkerAlpha",1)),this.setBoxSize(ui(x,"boxSize",1)),this.setCheckerSize(ui(x,"checkerSize",1)),this.setCheckerAnimationDuration(ui(x,"animationDuration",150)),this.buildShapes();var s=ui(x,"checked");s===void 0&&(s=ui(x,"value",!1)),this.setValue(s)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(bO.prototype,PO);const af=Phaser.Utils.Objects.GetValue;class Yn extends ti{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(af(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(af(t,"enable",!0)),this.setMode(af(t,"mode",1)),this.setClickInterval(af(t,"clickInterval",100)),this.setDragThreshold(af(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=est[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,r,f){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,f),this.mode===0&&this.click(t.downTime,t,f))}onRelease(t,i,r,f){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,f),this.mode===1&&this.click(t.upTime,t,f),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,r,f){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,r,f){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,f),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,r){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,r),this;this.pointer=void 0;var f=this.lastClickTime;return f!==void 0&&t-f<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,r),this)}cancel(){return this.pointer=void 0,this}}const est={press:0,pointerdown:0,release:1,pointerup:1},MO=Phaser.Utils.Objects.GetValue;class lC extends bO{constructor(t,i,r,f,S,n,x){super(t,i,r,f,S,n,x),this._click=new Yn(this,MO(x,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(MO(x,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}bt.register("checkbox",function(e,t,i,r,f,S){var n=new lC(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.Checkbox",lC);const ist={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},sst={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},rst={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var uC=function(e,t,i){return(t-e)*i+e},nst=function(e,t,i){var r=uC(Yd(e),Yd(t),i),f=uC($d(e),$d(t),i),S=uC(Xd(e),Xd(t),i);return(r&255)<<16|(f&255)<<8|S&255};const AO=Phaser.Math.Linear,ast={buildShapes(){this.addShape(new Dp().setName("track")).addShape(new Dp().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,r=this.getShape("track");if(this.isSizeChanged){var f=e*this.trackWidth,S=t*this.trackHeight,n=(e-f)/2,x=(t-S)/2,s=t*this.trackRadius;r.setTopLeftPosition(n,x).setSize(f,S).setRadius(s)}var a=nst(this.falseValueTrackColor,this.trackFillColor,i),g=AO(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);r.fillStyle(a,g);var u=this.getShape("thumb");if(this.isSizeChanged){var h=e*this.thumbWidth,l=t*this.thumbHeight,o=t*this.thumbRadius;u.setSize(h,l).setRadius(o)}var d=AO(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(d=e-d);var v=t/2;u.setCenterPosition(d,v),u.fillStyle(this.thumbColor,this.thumbAlpha)}},ost={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Wn(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var RO={};Object.assign(RO,ist,sst,rst,ast,ost);var hst=function(e){var t=.3*Yd(e)+.59*$d(e)+.11*Xd(e);return(t&255)<<16|(t&255)<<8|t&255};const di=Phaser.Utils.Objects.GetValue,OO=Phaser.Utils.Objects.IsPlainObject,dC=23730,lst=16777215;class LO extends $a{constructor(t,i,r,f,S,n,x){OO(i)?(x=i,i=di(x,"x",0),r=di(x,"y",0),f=di(x,"width",2),S=di(x,"height",2),n=di(x,"color",dC)):OO(n)&&(x=n,n=di(x,"color",dC)),super(t,i,r,f,S),this.type="rexToggleSwitch",n===void 0&&(n=dC),this.setTrackFillStyle(n,di(x,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(di(x,"falseValueTrackColor",hst(n)),di(x,"falseValueTrackFillAlpha",1)),this.setThumbStyle(di(x,"thumbColor",lst),di(x,"thumbAlpha",1)),this.setTrackSize(di(x,"trackWidth",.9),di(x,"trackHeight",.5)),this.setTrackRadius(di(x,"trackRadius",this.trackHeight*.5));var s=di(x,"thumbHeight",void 0),a=di(x,"thumbWidth",s);a===void 0&&(a=this.trackHeight*.9),this.setThumbSize(a,s),this.setThumbRadius(di(x,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(di(x,"thumbLeft",.3),di(x,"thumbRight",void 0)),this.setRTL(di(x,"rtl",!1)),this.setToggleAnimationDuration(di(x,"animationDuration",150)),this.buildShapes(),this.setValue(di(x,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var r=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=r,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(LO.prototype,RO);const DO=Phaser.Utils.Objects.GetValue;class fC extends LO{constructor(t,i,r,f,S,n,x){super(t,i,r,f,S,n,x),this._click=new Yn(this,DO(x,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(DO(x,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}bt.register("toggleSwitch",function(e,t,i,r,f,S){var n=new fC(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.ToggleSwitch",fC);const ust={loadFromURL(e,t){var i=this,r=new Image;return r.onload=function(){i.width!==r.width||i.height!==r.height?i.resize(r.width,r.height):i.clear(),i.context.drawImage(r,0,0),i.updateTexture(),t&&t(),r.onload=null,r.src="",r.remove()},r.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,r){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,r){t.loadFromFile(e,i)})}};class rh extends Na{}Object.assign(rh.prototype,ust),bt.register("canvas",function(e,t,i,r){var f=new rh(this.scene,e,t,i,r);return this.scene.add.existing(f),f}),Pt(window,"RexPlugins.UI.Canvas",rh);const $l=Phaser.Utils.Objects.GetValue;class FO extends Na{constructor(t,i,r,f,S,n){super(t,i,r),this.type="rexCircleMaskImage",this.setTexture(f,S,n)}setTexture(t,i,r){typeof i=="object"&&(r=i,i=void 0),typeof r=="string"&&(r={maskType:r});var f=$l(r,"maskType",0),S=$l(r,"backgroundColor",void 0),n=$l(r,"strokeColor",void 0),x=n!=null?10:0,s=$l(r,"strokeWidth",x);if(f===void 0?f=0:typeof f=="string"&&(f=dst[f]),this._textureKey=t,this._frameName=i,f===null)return this.loadTexture(t,i),this.dirty=!0,this;var a=this.scene.sys.textures.getFrame(t,i);if(!a)return this;a.cutWidth!==this.width||a.cutHeight!==this.height?this.setCanvasSize(a.cutWidth,a.cutHeight):this.clear();var g=this.canvas,u=this.context,h=g.width,l=g.height;S!=null&&(u.fillStyle=S,u.fillRect(0,0,h,l)),u.save(),u.beginPath();var o=s/2;switch(f){case 1:var y=Math.floor(h/2),m=Math.floor(l/2),d=y-o,v=m-o;u.ellipse(y,m,d,v,0,0,2*Math.PI);break;case 2:var c=$l(r,"radius",0),p=$l(r,"iteration",void 0);rA(u,o,o,h-s,l-s,c,p);break;default:var y=Math.floor(h/2),m=Math.floor(l/2),C=Math.min(y,m)-o;u.arc(y,m,C,0,2*Math.PI);break}return n!=null&&(u.strokeStyle=n,u.lineWidth=s,u.stroke()),u.clip(),this.loadTexture(t,i),u.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const dst={circle:0,ellipse:1,roundRectangle:2};bt.register("circleMaskImage",function(e,t,i,r,f){var S=new FO(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.CircleMaskImage",FO);const of=Phaser.Utils.Objects.GetValue;class IO extends Na{constructor(t,i,r,f,S,n){super(t,i,r),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(f,S,n)}setTexture(t,i,r){typeof i=="object"&&(r=i,i=void 0),typeof r=="string"&&(r={mask:{key:r}});var f=of(r,"mask.key"),S=of(r,"mask.frame"),n=of(r,"mask.invertAlpha",!1),x=of(r,"mask.scale"),s=of(r,"backgroundColor");if(f){this._maskKey=f,this._maskFrame=S,this._maskScale=x;var a=f?this.scene.sys.textures.get(f):null;this.maskFrame=a?a.get(S):null}this._textureKey=t,this._frameName=i;var g=this.maskFrame;if(g===null)return this.loadTexture(t,i),this.dirty=!0,this;var u=s!=null;this.loadTexture(t,i);var h=this.canvas,l=this.context,o=h.width,d=h.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var v,c;this._maskScale!=null?(v=g.cutWidth*this._maskScale,c=g.cutHeight*this._maskScale):(v=o,c=d);var p=(o-v)/2,y=(d-c)/2;return this.drawFrame(this._maskKey,this._maskFrame,p,y,v,c),l.restore(),u&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=s,l.fillRect(0,0,o,d),l.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}bt.register("alphaMaskImage",function(e,t,i,r,f){var S=new IO(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.AlphaMaskImage",IO);const fst=Phaser.Math.Linear,BO=Phaser.Math.Percent,cst={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=BO(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=BO(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&(i=fst(e,t,i)),i}},vst=Phaser.Math.Percent;var pst=function(e){return this.easeValuePropName=e,this},gst=function(e){return this.easeValueDuration=e,this},mst=function(e){return this.easeFunction=e,this},xst=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},yst=function(e,t,i){return e==null?this:(t!==void 0&&(e=vst(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new Wn(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},Cst=function(e,t,i,r){return i===void 0&&(i=-1),r===void 0&&(r=0),this.easeValueTask===void 0&&(this.easeValueTask=new Wn(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:r}),this};const Sst={setEaseValuePropName:pst,setEaseValueDuration:gst,setEaseValueFunction:mst,stopEaseValue:xst,easeValueTo:yst,easeValueRepeat:Cst},hf=Phaser.Utils.Objects.GetValue,Tst=Phaser.Math.Clamp;function nh(e){class t extends e{bootProgressBase(r){this.eventEmitter=hf(r,"eventEmitter",this);var f=hf(r,"valuechangeCallback",null);if(f!==null){var S=hf(r,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",f,S)}return this.setEaseValuePropName("value").setEaseValueDuration(hf(r,"easeValue.duration",0)).setEaseValueFunction(hf(r,"easeValue.ease","Linear")),this}get value(){return this._value}set value(r){r=Tst(r,0,1);var f=this._value,S=f!=r;this.dirty=this.dirty||S,this._value=r,S&&this.eventEmitter.emit("valuechange",this._value,f,this.eventEmitter)}}return Object.assign(t.prototype,cst,Sst),t}const Est=Phaser.Math.RadToDeg,NO=Phaser.Math.DegToRad;var GO=function(e,t,i,r,f,S,n,x){var s=Math.abs(n-S)===360,a=NO(S),g=NO(n),u=Math.cos(a),h=Math.sin(a),l=Math.cos(g),o=Math.sin(g);return e.startAt(t+u*r,i+h*r),e.arc(t,i,r,S,n,x),s&&f===0||(e.lineTo(t+l*f,i+o*f),f>0&&e.arc(t,i,f,n,S,!x)),e.close(),e};const Pst={buildShapes(){this.addShape(new Fs().setName("track")).addShape(new Fs().setName("bar")).addShape(new gr().setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,r=i-t,f=this.getShape("track");this.trackColor!=null&&this.thickness>0?(f.fillStyle(this.trackColor),GO(f,e,e,i,r,0,360,!1)):f.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,x,s;if(this.value===1)n=!1,x=0,s=360;else{n=this.anticlockwise,x=Est(this.startAngle);var a=360*(n?1-this.value:this.value);s=a+x}S.fillStyle(this.barColor),GO(S,e,e,i,r,x,s,!1)}else S.reset();var g=this.getShape("center");this.centerColor&&r>0?g.setCenterPosition(e,e).setRadius(r).fillStyle(this.centerColor):g.reset()}},on=Phaser.Utils.Objects.GetValue,wst=Phaser.Utils.Objects.IsPlainObject,bst=Phaser.Math.Clamp,Mst=Phaser.Math.DegToRad(270);let Fp=class extends nh($a){constructor(t,i,r,f,S,n,x){wst(i)&&(x=i,i=on(x,"x",0),r=on(x,"y",0),f=on(x,"radius",1),S=on(x,"barColor",void 0),n=on(x,"value",0)),f===void 0&&(f=1);var s=f*2;super(t,i,r,s,s),this.type="rexCircularProgress",this.bootProgressBase(x),this.setRadius(f),this.setTrackColor(on(x,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(on(x,"centerColor",void 0)),this.setThickness(on(x,"thickness",.2)),this.setStartAngle(on(x,"startAngle",Mst)),this.setAnticlockwise(on(x,"anticlockwise",!1)),this.buildShapes(),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=bst(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(Fp.prototype,Pst),bt.register("circularProgress",function(e,t,i,r,f,S){var n=new Fp(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.CircularProgress",Fp);var cC=function(e,t,i,r,f,S,n,x,s,a,g,u){a===void 0&&(a=0),g===void 0&&(g=2*Math.PI),u===void 0&&(u=!1),t.beginPath(),t.ellipse(i,r,f,S,0,a,g,u),n!=null&&(t.fillStyle=n,t.fill()),x!=null&&(t.strokeStyle=x,t.lineWidth=s,t.stroke())},Ast=function(e,t,i,r,f,S,n,x,s,a,g){s===void 0&&x!=null&&(s=2),t.font=S,t.textAlign=a,t.textBaseline=g,t.fillStyle=n,t.strokeStyle=x,t.lineWidth=s,t.lineCap="round",t.lineJoin="round",x!=null&&x!=="none"&&s>0&&t.strokeText(f,i,r),n!=null&&n!=="none"&&t.fillText(f,i,r)};const vC=Phaser.Math.PI2;var Rst=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,r=this.radius-t,f=this.canvas,S=this.context,n=this.anticlockwise,x=this.startAngle,s=this.endAngle,a=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),cC(f,S,e,e,i,i,void 0,this.trackColor,t,x,s,n),S.restore()),this.barColor&&i>0){var g;n?g=(x-a*this.value+vC)%vC:g=(x+a*this.value)%vC,S.save();var u;if(this.barColor2){var h=e+i*Math.cos(x),l=e+i*Math.sin(x),o=e+i*Math.cos(g),d=e+i*Math.sin(g),v=S.createLinearGradient(h,l,o,d);v.addColorStop(0,this.barColor2),v.addColorStop(1,this.barColor),u=v}else u=this.barColor;cC(f,S,e,e,i,i,void 0,u,t,x,g,n),S.restore()}if(this.centerColor&&r>0){var c;this.centerColor2?(c=this.context.createRadialGradient(e,e,0,e,e,r),c.addColorStop(0,this.centerColor),c.addColorStop(1,this.centerColor2)):c=this.centerColor,S.save(),cC(f,S,e,e,r,r,c),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),Ast(f,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const gi=Phaser.Utils.Objects.GetValue,Ost=Phaser.Utils.Objects.IsPlainObject,kO=Phaser.Math.Angle.Normalize,Lst=Phaser.Math.Clamp,Dst=Phaser.Math.DegToRad(270),pC=Phaser.Math.PI2;class gC extends nh(Na){constructor(t,i,r,f,S,n,x){Ost(i)&&(x=i,i=gi(x,"x",0),r=gi(x,"y",0),f=gi(x,"radius",1),S=gi(x,"barColor",void 0),n=gi(x,"value",0));var s=f*2;super(t,i,r,s,s),this.type="rexCircularProgressCanvas",this.bootProgressBase(x),this.setRadius(f),this.setTrackColor(gi(x,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(gi(x,"barColor2",void 0)),this.setCenterColor(gi(x,"centerColor",void 0)),this.setThickness(gi(x,"thickness",.2)),this.setStartAngle(gi(x,"startAngle",Dst)),this.setEndAngle(gi(x,"endAngle",this.startAngle+pC)),this.setAnticlockwise(gi(x,"anticlockwise",!1)),this.setTextColor(gi(x,"textColor",void 0)),this.setTextStrokeColor(gi(x,"textStrokeColor",void 0),gi(x,"textStrokeThickness",void 0));var a=gi(x,"textFont",void 0);a?this.setTextFont(a):this.setTextFont(gi(x,"textSize","16px"),gi(x,"textFamily","Courier"),gi(x,"textStyle","")),this.setTextFormatCallback(gi(x,"textFormatCallback",void 0),gi(x,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){t=kO(t),this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=mC(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){t=kO(t),this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=mC(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=mC(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=Lst(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,r){var f;return i===void 0?f=t:f=r+" "+t+" "+i,this.textFont=f,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return this.clear(),Rst.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var mC=function(e,t,i){return i?e<=t?pC+e-t:e-t:e>=t?pC+t-e:t-e};bt.register("circularProgressCanvas",function(e,t,i,r,f,S){var n=new gC(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.CircularProgressCanvas",gC);var Fst=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,r=this.getShape("trackFill");r.fillStyle(this.trackColor),r.isFilled&&xC(r,0,0,t,i,e).close();var f=this.getShape("bar");if(f.fillStyle(this.barColor),f.isFilled){var S,n;this.rtl?(S=t*(1-this.value),n=t):(S=0,n=t*this.value),xC(f,S,0,n,i,e).close()}var x=this.getShape("trackStroke");x.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),x.isStroked&&xC(x,0,0,t,i,e).end()},xC=function(e,t,i,r,f,S){var n=(t+r)/2;return S>=0?e.startAt(n+S,i).lineTo(r+S,i).lineTo(r,f).lineTo(t,f).lineTo(t+S,i).lineTo(n+S,i):e.startAt(n,i).lineTo(r,i).lineTo(r-S,f).lineTo(t-S,f).lineTo(t,i).lineTo(n,i),e};const Xi=Phaser.Utils.Objects.GetValue,yC=Phaser.Utils.Objects.IsPlainObject;let CC=class extends nh($a){constructor(t,i,r,f,S,n,x,s){yC(i)?(s=i,i=Xi(s,"x",0),r=Xi(s,"y",0),f=Xi(s,"width",2),S=Xi(s,"height",2),n=Xi(s,"barColor",void 0),x=Xi(s,"value",0)):yC(f)?(s=f,f=Xi(s,"width",2),S=Xi(s,"height",2),n=Xi(s,"barColor",void 0),x=Xi(s,"value",0)):yC(n)&&(s=n,n=Xi(s,"barColor",void 0),x=Xi(s,"value",0)),super(t,i,r,f,S,s),this.type="rexLineProgress",this.bootProgressBase(s),this.addShape(new Fs().setName("trackFill")).addShape(new Fs().setName("bar")).addShape(new Fs().setName("trackStroke")),this.setTrackColor(Xi(s,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(Xi(s,"trackStrokeThickness",2),Xi(s,"trackStrokeColor",void 0)),this.setSkewX(Xi(s,"skewX",0)),this.setRTL(Xi(s,"rtl",!1)),this.setValue(x)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var Ist={updateShapes:Fst};Object.assign(CC.prototype,Ist),bt.register("lineProgress",function(e,t,i,r,f,S,n){var x=new CC(this.scene,e,t,i,r,f,S,n);return this.scene.add.existing(x),x}),Pt(window,"RexPlugins.UI.LineProgress",CC);var Bst=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var r=1,f=t.length;r<f;r++)i=t[r],e.lineTo(i.x,i.y);e.closePath(),e.restore()},SC=function(e,t,i,r,f,S,n){n===void 0&&(n="round"),Bst(t,i),t.lineJoin=n,r!=null&&(t.fillStyle=r,t.fill()),f!=null&&(t.strokeStyle=f,t.lineWidth=S,t.stroke())},Nst=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,r=this.canvas,f=this.context;(this.trackColor||this.trackStrokeColor)&&VO(0,0,t,i,e,this.trackPoints);var S,n;if(this.barColor&&(this.rtl?(S=t*(1-this.value),n=t):(S=0,n=t*this.value),VO(S,0,n,i,e,this.barPoints)),this.trackColor&&(f.save(),SC(r,f,this.trackPoints,this.trackColor),f.restore()),this.barColor){f.save();var x;if(this.barColor2){var s;if(this.isHorizontalGradient){var a=i/2;s=f.createLinearGradient(S,a,n,a)}else{var g=t/2;s=f.createLinearGradient(g,0,g,i)}s.addColorStop(0,this.rtl?this.barColor:this.barColor2),s.addColorStop(1,this.rtl?this.barColor2:this.barColor),x=s}else x=this.barColor;SC(r,f,this.barPoints,x),f.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(f.save(),SC(r,f,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),f.restore())},VO=function(e,t,i,r,f,S){S===void 0&&(S=[]),S.length=4;for(var n=0;n<4;n++)S[n]||(S[n]={});var x;return f>=0?(x=S[0],x.x=e+f,x.y=t,x=S[1],x.x=i+f,x.y=t,x=S[2],x.x=i,x.y=r,x=S[3],x.x=e,x.y=r):(x=S[0],x.x=e,x.y=t,x=S[1],x.x=i,x.y=t,x=S[2],x.x=i-f,x.y=r,x=S[3],x.x=e-f,x.y=r),S};const Ai=Phaser.Utils.Objects.GetValue,TC=Phaser.Utils.Objects.IsPlainObject;class EC extends nh(Na){constructor(t,i,r,f,S,n,x,s){TC(i)?(s=i,i=Ai(s,"x",0),r=Ai(s,"y",0),f=Ai(s,"width",2),S=Ai(s,"height",2),n=Ai(s,"barColor",void 0),x=Ai(s,"value",0)):TC(f)?(s=f,f=Ai(s,"width",2),S=Ai(s,"height",2),n=Ai(s,"barColor",void 0),x=Ai(s,"value",0)):TC(n)&&(s=n,n=Ai(s,"barColor",void 0),x=Ai(s,"value",0)),super(t,i,r,f,S),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(s),this.setTrackColor(Ai(s,"trackColor",void 0)),this.setBarColor(n,Ai(s,"barColor2",void 0),Ai(s,"isHorizontalGradient",void 0)),this.setTrackStroke(Ai(s,"trackStrokeThickness",2),Ai(s,"trackStrokeColor",void 0)),this.setSkewX(Ai(s,"skewX",0)),this.setRTL(Ai(s,"rtl",!1)),this.setValue(x)}get trackColor(){return this._trackColor}set trackColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=re(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,r){return r===void 0&&(r=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=r,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),Nst.call(this),super.updateTexture(),this}}bt.register("circularProgressCanvas",function(e,t,i,r,f,S,n){var x=new EC(this.scene,e,t,i,r,f,S,n);return this.scene.add.existing(x),x}),Pt(window,"RexPlugins.UI.LineProgressCanvas",EC),Phaser.Math.Wrap;const Xl=Phaser.Math.Linear;var Gst=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,r=0+t.left,f=this.height-t.bottom,S=0+t.top,n=(r+i)/2,x=(S+f)/2,s={0:{a:{x:r,y:S},b:{x:i,y:x},c:{x:r,y:f}},1:{a:{x:r,y:S},b:{x:n,y:f},c:{x:i,y:S}},2:{a:{x:i,y:S},b:{x:r,y:x},c:{x:i,y:f}},3:{a:{x:r,y:f},b:{x:n,y:S},c:{x:i,y:f}}},a,g,u,h,l,o;if(this.previousDirection===void 0){var d=s[this.direction],v=d.a,c=d.b,p=d.c;a=v.x,g=v.y,u=c.x,h=c.y,l=p.x,o=p.y}else{var y=s[this.previousDirection],m=s[this.direction],C=this.easeDirectionProgress;a=Xl(y.a.x,m.a.x,C),g=Xl(y.a.y,m.a.y,C),u=Xl(y.b.x,m.b.x,C),h=Xl(y.b.y,m.b.y,C),l=Xl(y.c.x,m.c.x,C),o=Xl(y.c.y,m.c.y,C)}e.startAt(a,g).lineTo(u,h).lineTo(l,o),this.arrowOnly?e.end():e.close()};const kst=Phaser.Math.DegToRad,Ip=kst(120);var Vst=function(t){var t=this.getShape("triangle"),i=this.width/2,r=this.height/2,f=Math.min(i,r)*this.radius,S=this.verticeRotation;t.startAt(i+f*Math.cos(S+Ip),r+f*Math.sin(S+Ip)).lineTo(i+f*Math.cos(S),r+f*Math.sin(S)).lineTo(i+f*Math.cos(S-Ip),r+f*Math.sin(S-Ip)),this.arrowOnly?t.end():t.close()};const zst={buildShapes(){this.addShape(new Fs().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?Gst.call(this):Vst.call(this)}},Ust={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Wn(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Hl=Phaser.Utils.Objects.GetValue,Wst=Phaser.Utils.Objects.IsPlainObject,Yst=Phaser.Math.DegToRad,$st=Phaser.Math.RadToDeg;class lf extends $a{constructor(t,i,r,f,S,n,x){var s,a,g,u,h,l,o,d;if(Wst(i)){var v=i;i=v.x,r=v.y,f=v.width,S=v.height,n=v.color,x=v.alpha,s=v.strokeColor,a=v.strokeAlpha,g=v.strokeWidth,u=v.arrowOnly,h=v.direction,l=v.easeDuration,o=v.padding,d=v.radius}i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=1),S===void 0&&(S=f),u===void 0&&(u=!1),h===void 0&&(h=0),l===void 0&&(l=0),o===void 0&&(o=0),d===void 0&&(d=void 0),super(t,i,r,f,S),this.type="rexTriangle",this.setFillStyle(n,x),s!==void 0&&g===void 0&&(g=2),this.setStrokeStyle(g,s,a),this.setArrowOnly(u),this.setDirection(h,l),this.setPadding(o),this.setRadius(d),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=Hst(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,r,f){if(typeof t=="object"){var S=t,n=Hl(S,"x",null);n!==null?(t=n,r=n):(t=Hl(S,"left",0),r=Hl(S,"right",t));var x=Hl(S,"y",null);x!==null?(i=x,f=x):(i=Hl(S,"top",0),f=Hl(S,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),r===void 0&&(r=t),f===void 0&&(f=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=r||this.padding.bottom!=f,this.padding.left=t,this.padding.top=i,this.padding.right=r,this.padding.bottom=f,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return $st(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=Yst(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const Xst={right:0,down:1,left:2,up:3};var Hst=function(e){return typeof e=="string"&&(e=Xst[e]),e=e%4,e};Object.assign(lf.prototype,zst,Ust),bt.register("triangle",function(e,t,i,r,f,S){var n=new lf(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.Triangle",lf),Kv();const Kst=Phaser.GameObjects.Zone,jst=Phaser.Utils.Array.Add,Jst=Phaser.Utils.Array.Remove;let uf=class extends Kst{constructor(t,i,r,f,S){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=1),S===void 0&&(S=1),super(t,i,r,f,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,r=this.children.length-1;r>=0;r--)i=this.children[r],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return jst(this.children,t,0,function(r){r.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var r=this;return Jst(this.children,t,function(f){f.off("destroy",r.onChildDestroy,r),i&&f.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,r,f=0,S=this.children.length;f<S;f++)r=this.children[f],r.off("destroy",i.onChildDestroy,i),t&&r.destroy();return this.children.length=0,this}};const zO=Phaser.GameObjects.Components;Phaser.Class.mixin(uf,[zO.Alpha,zO.Flip]);var Qs=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Qs(e);i&&i.name!==t;)i=Qs(i);return i},UO=function(e){for(var t=Qs(e);t;)e=t,t=Qs(t);return e};const Zst=Phaser.Math.DegToRad,Qst=Phaser.Math.RadToDeg;var de=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return Qst(this.rotation)},set:function(i){this.rotation=Zst(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const qst={setParent(e,t){t===void 0&&(t=this);var i=de(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Qs(e,t)},getTopmostParent(e){return e===void 0&&(e=this),UO(e)}},ah=Phaser.Utils.Objects.GetValue,WO=uf.prototype.add;var PC=function(e,t){this.setParent(e);var i=de(e);return YO(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),WO.call(this,e),$O.call(this,e,i),this},wC=function(e,t){this.setParent(e);var i=de(e);return YO(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),WO.call(this,e),$O.call(this,e,i),this},YO=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=ah(t,"syncPosition",!0),e.syncRotation=ah(t,"syncRotation",!0),e.syncScale=ah(t,"syncScale",!0),e.syncAlpha=ah(t,"syncAlpha",!0),e.syncScrollFactor=ah(t,"syncScrollFactor",!0),e.syncCameraFilter=ah(t,"syncCameraFilter",!0),e.syncDisplayList=ah(t,"syncDisplayList",!0))},$O=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const _st={add(e){return Array.isArray(e)?this.addMultiple(e):PC.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):PC.call(this,e,t),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)PC.call(this,e[t]);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):wC.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):wC.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)wC.call(this,e[t]);return this}},XO=uf.prototype.remove,trt=uf.prototype.clear,ert={remove(e,t){return Qs(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),XO.call(this,e,t),this)},unpin(e,t){return Qs(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),XO.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,r=t.length;i<r;i++){var f=t[i];this.setParent(f,null),e||this.removeFromRenderLayer(f)}return trt.call(this,e),this}},irt={getLocalState(e){return de(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},srt={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),r=e.x,f=e.y;return e.x=r*t-f*i,e.y=r*i+f*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),r=e.x,f=e.y;return e.x=r*t-f*i,e.y=r*i+f*t,e.x+=this.x,e.y+=this.y,e}};var df=function(e,t){return e===t?1:e/t};const rrt={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=de(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=de(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=df(e.scaleX,i.scaleX),t.scaleY=df(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var r=de(e);return r.x=t,r.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=de(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=de(e);return t.x},getChildLocalY(e){var t=de(e);return t.y}},nrt=Phaser.Math.DegToRad,art={updateChildRotation(e){var t=de(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=de(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=de(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=de(e);return i.rotation=nrt(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=de(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=de(e);return t.rotation}},ort={updateChildScale(e){var t=de(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=de(e),i=t.parent;return t.scaleX=df(e.scaleX,i.scaleX),t.scaleY=df(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var r=de(e);return r.scaleX=t,r.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=de(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=de(e);return t.scaleX},getChildLocalScaleY(e){var t=de(e);return t.scaleY}},hrt={updateChildVisible(e){var t=de(e),i=t.parent,r=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,f=i?i.visible:!0;return e.visible=f&&t.visible&&r,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=de(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=de(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=de(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=de(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=de(e);return t.visible}},lrt={updateChildAlpha(e){var t=de(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=de(e),i=t.parent;return t.alpha=df(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=de(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=de(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=de(e);return t.alpha}},urt={updateChildActive(e){var t=de(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=de(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=de(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=de(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=de(e);return t.active}},drt={updateChildScrollFactor(e){var t=de(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},frt={updateCameraFilter(e){var t=de(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},crt={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var Bp=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const vrt={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),r=0,f=i.length;r<f;r++)i[r].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,r=t.length;i<r;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);vr(t,!1);for(var i=0,r=t.length;i<r;i++){var f=t[i];e.exists(f)&&e.bringToTop(f)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);vr(t,!0);for(var i=0,r=t.length;i<r;i++){var f=t[i];e.exists(f)&&e.sendToBack(f)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);vr(i,!1);for(var r=0,f=i.length;r<f;r++){var S=i[r];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);vr(i,!0);for(var r=0,f=i.length;r<f;r++){var S=i[r];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e.isRexContainerLite?(t=e.getAllChildren([e]),t=Bp(t),t=vr(t,!1)):t=[e];var i=this.getAllChildren([this]);i=Bp(i),i=vr(i,!1);for(var r=i[i.length-1],f=0,S=t.length;f<S;f++){var n=t[f];r===n||r.displayList!==n.displayList||(r.displayList.moveAbove(n,r),r=n)}return this},sendChildToBack(e){var t;e.isRexContainerLite?(t=e.getAllChildren([e]),t=Bp(t),t=vr(t,!1)):t=[e];var i=this.getAllChildren([this]);i=Bp(i),i=vr(i,!1);for(var r=i[0],f=t.length-1;f>=0;f--){var S=t[f];r===S||r.displayList!==S.displayList||(r.displayList.moveBelow(S,r),r=S)}return this}};var HO=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var r=e.children,f=0,S=r.length;f<S;f++)HO(r[f],t)},bC=function(e,t){for(var i=[e];i.length>0;){var r=i.shift(),f=t(r);!f&&r.isRexContainerLite&&i.push(...r.children)}};const oh=Phaser.Utils.Array,prt={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return bC(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return bC(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),bC(t,e),this},dfs(e,t){return t===void 0&&(t=this),HO(t,e),this},contains(e){var t=Qs(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],r,f;i.length;){r=i.shift();for(var S=0,n=r.children.length;S<n;S++){if(f=r.children[S],f.name===e)return f;f.isRexContainerLite&&i.push(f)}}return null}else return oh.GetFirst(this.children,"name",e)},getRandom(e,t){return oh.GetRandom(this.children,e,t)},getFirst(e,t,i,r){return oh.GetFirstElement(this.children,e,t,i,r)},getAll(e,t,i,r){return oh.GetAll(this.children,e,t,i,r)},count(e,t,i,r){return oh.CountAllMatching(this.children,e,t,i,r)},swap(e,t){return oh.Swap(this.children,e,t),this},setAll(e,t,i,r){return oh.SetAll(this.children,e,t,i,r),this}};var KO=function(e){for(var t=[],i=0,r=e.length;i<r;i++){var f=e[i];f.hasOwnProperty("rexContainer")&&t.push(f.rexContainer)}return t},grt=function(e){for(var t=0,i=e.length;t<i;t++){var r=e[t].scene;if(r)return r}return null},jO=function(e,t,i){if(!i.parent){e.remove();return}var r=i.parent,f=i.self;switch(t){case"x":case"y":r.updateChildPosition(f);break;case"angle":case"rotation":r.updateChildRotation(f);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":r.updateChildScale(f);break;case"alpha":r.updateChildAlpha(f);break;default:r.updateChildPosition(f),r.updateChildRotation(f),r.updateChildScale(f),r.updateChildAlpha(f);break}};const mrt={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||grt(t);if(i){e.targets=KO(t);var r=i.tweens.add(e);return r.on("update",jO),r}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=KO(t));var i=e.onUpdate;return e.onUpdate=function(r,f){i&&i(r,f),jO(r,void 0,f)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},xrt=Phaser.GameObjects.Container;var yrt=function(e){return e instanceof xrt},JO=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},ZO=function(e){var t=JO(this);t.indexOf(this)===-1&&t.push(this),vr(t),e.add(t)},QO=function(e,t,i){if(this.scene){var r=JO(this);vr(r,t),e.remove(r),i&&r.forEach(function(f){f.addToDisplayList()})}};const Crt={addToContainer(e){return yrt(e)?(this._setParentContainerFlag=!0,ZO.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Zd(e)?(ZO.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,QO.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Zd(this.displayList)?(QO.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Zd(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},Srt={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=de(e);return i.layer=t,this},removeFromRenderLayer(e){var t=de(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},qO=Phaser.Geom.Rectangle,Trt=Phaser.Geom.Rectangle.Union;var Ert=function(e,t){t===void 0?t=new qO:t===!0&&(MC===void 0&&(MC=new qO),t=MC),t.setTo(0,0,0,0);for(var i,r=!0,f=0,S=e.length;f<S;f++)if(i=e[f],!!i.getBounds){var n=Wy(i,!0);r?(t.setTo(n.x,n.y,n.width,n.height),r=!1):Trt(n,t,t)}return t},MC,hh=Phaser.Utils.Objects.GetValue,AC=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,r=e.saveTexture,f=hh(e,"x",void 0),S=hh(e,"y",void 0),n=hh(e,"width",void 0),x=hh(e,"height",void 0),s=hh(e,"originX",0),a=hh(e,"originY",0),g=hh(e,"padding",0),u,h;if(n===void 0||x===void 0||f===void 0||S===void 0){var l=Ert(t,!0),o=f!==void 0&&S!==void 0;o?(n=Math.max(f-l.left,l.right-f)*2,x=Math.max(S-l.top,l.bottom-S)*2,s=.5,a=.5):(f=l.x,S=l.y,n=l.width,x=l.height,s=0,a=0),u=l.x,h=l.y}else u=f+(0-s)*n,h=S+(0-a)*x;u-=g,h-=g,n+=g*2,x+=g*2;var d=t[0].scene,v=d.sys.textures;return r&&!i&&(i=v.addDynamicTexture(r,n,x)),i||(i=d.add.renderTexture(0,0,n,x)),i.setPosition&&i.setPosition(f,S),(i.width!==n||i.height!==x)&&i.setSize(n,x),i.setOrigin&&i.setOrigin(s,a),i.camera.setScroll(u,h),t=vr(nn(t)),i.draw(t),r&&(Ds(i)?i.saveTexture(r):i.key!==r&&v.renameTexture(i.key,key)),i}};const Prt={snapshot(e){var t=this.scaleX,i=this.scaleY,r=t===1&&i===1;r||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var f=AC(e),S=!!f.scene;return r||(this.setScale(t,i),S&&f.setScale(t,i)),S?f:this}},_O=Phaser.Utils.Objects.GetValue;var wrt=function(e,t){var i=_O(t,"drawContainer",!0),r=_O(t,"children");return r===void 0&&(r=this.getAllVisibleChildren([this])),i||(r=r.filter(function(f){return!f.isRexContainerLite})),aR(r,e,t),this};const brt=Phaser.Math.RotateAround;var Mrt=function(e,t,i){i===void 0&&(i=t);var r={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return brt(r,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+r.x,e.y=e.y+r.y,e},Art=function(e,t){this.syncChildrenEnable=!1,Mrt(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),r=0,f=i.length;r<f;r++)this.resetChildPositionState(i[r]);return this},tL={changeOrigin:Art,drawBounds:wrt};Object.assign(tL,qst,_st,ert,irt,srt,rrt,art,ort,hrt,lrt,urt,drt,frt,crt,vrt,prt,mrt,Crt,Srt,Prt);class qs extends uf{constructor(t,i,r,f,S,n){Array.isArray(f)&&(n=f,f=void 0,S=void 0),super(t,i,r,f,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Qs(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Qs(this);return t?t.setParentContainerFlag:!1}}Object.assign(qs.prototype,tL);var Np=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function Rrt(e){return e===void 0&&(e=this),Np(e)}var Ort=function(e){var t=Np(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},Lrt=function(e){return e===void 0&&(e=Il(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const fi=Phaser.Display.Align,Kl={center:fi.CENTER,left:fi.LEFT_CENTER,right:fi.RIGHT_CENTER,top:fi.TOP_CENTER,bottom:fi.BOTTOM_CENTER,"left-top":fi.TOP_LEFT,"top-left":fi.TOP_LEFT,"left-center":fi.LEFT_CENTER,"center-left":fi.LEFT_CENTER,"left-bottom":fi.BOTTOM_LEFT,"bottom-left":fi.BOTTOM_LEFT,"center-top":fi.TOP_CENTER,"top-center":fi.TOP_CENTER,"center-center":fi.CENTER,"center-bottom":fi.BOTTOM_CENTER,"bottom-center":fi.BOTTOM_CENTER,"right-top":fi.TOP_RIGHT,"top-right":fi.TOP_RIGHT,"right-center":fi.RIGHT_CENTER,"center-right":fi.RIGHT_CENTER,"right-bottom":fi.BOTTOM_RIGHT,"bottom-right":fi.BOTTOM_RIGHT};var RC=new Phaser.GameObjects.Zone({sys:{queueDepthSort:bi,events:{once:bi}}},0,0,1,1);RC.setOrigin(0);var $n={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},OC=function(e){var t=ke(e);return e.y+t-t*e.originY},LC=function(e){var t=Ge(e);return e.x-t*e.originX+t*.5},DC=function(e,t){var i=ke(e);return e.y=t-i+i*e.originY,e},FC=function(e,t){var i=Ge(e),r=i*e.originX;return e.x=t+r-i*.5,e},Drt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),FC(e,LC(t)+i),DC(e,OC(t)+r),e},IC=function(e){var t=Ge(e);return e.x-t*e.originX},BC=function(e,t){var i=Ge(e);return e.x=t+i*e.originX,e},Frt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),BC(e,IC(t)-i),DC(e,OC(t)+r),e},NC=function(e){var t=Ge(e);return e.x+t-t*e.originX},GC=function(e,t){var i=Ge(e);return e.x=t-i+i*e.originX,e},Irt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),GC(e,NC(t)+i),DC(e,OC(t)+r),e},kC=function(e,t){var i=ke(e),r=i*e.originY;return e.y=t+r-i*.5,e},Brt=function(e,t,i){return FC(e,t),kC(e,i)},VC=function(e){var t=ke(e);return e.y-t*e.originY+t*.5},Nrt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),Brt(e,LC(t)+i,VC(t)+r),e},Grt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),BC(e,IC(t)-i),kC(e,VC(t)+r),e},krt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),GC(e,NC(t)+i),kC(e,VC(t)+r),e},zC=function(e){var t=ke(e);return e.y-t*e.originY},UC=function(e,t){var i=ke(e);return e.y=t+i*e.originY,e},Vrt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),FC(e,LC(t)+i),UC(e,zC(t)-r),e},zrt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),BC(e,IC(t)-i),UC(e,zC(t)-r),e},Urt=function(e,t,i,r){return i===void 0&&(i=0),r===void 0&&(r=0),GC(e,NC(t)+i),UC(e,zC(t)-r),e},hn=[];hn[$n.BOTTOM_CENTER]=Drt,hn[$n.BOTTOM_LEFT]=Frt,hn[$n.BOTTOM_RIGHT]=Irt,hn[$n.CENTER]=Nrt,hn[$n.LEFT_CENTER]=Grt,hn[$n.RIGHT_CENTER]=krt,hn[$n.TOP_CENTER]=Vrt,hn[$n.TOP_LEFT]=zrt,hn[$n.TOP_RIGHT]=Urt;var eL=function(e,t,i,r,f){return hn[i](e,t,r,f)},ff=function(e,t,i,r,f,S){RC.setPosition(t,i).setSize(r,f),eL(e,RC,S)};const jl=Phaser.Utils.Objects.GetValue,Wrt=Phaser.GameObjects.Group;var Yrt=function(e,t){var i=e.scene,r,f,S,n,x;if(typeof t=="number")r=t;else{r=jl(t,"color"),f=jl(t,"lineWidth");var s=jl(t,"name",!1);s&&(S=jl(s,"createTextCallback",$rt),n=jl(s,"createTextCallbackScope",void 0),x=jl(s,"align","left-top"),typeof x=="string"&&(x=Kl[x]))}if(r===void 0&&(r=16777215),f===void 0&&(f=1),S&&!e.children){e.children=new Wrt(i),e.once("destroy",function(d,v){d.children.destroy(!v),d.children=void 0});var a=e.clear.bind(e);e.clear=function(){a(),e.children.clear(!1,!0)}}for(var g=this.getAllShownChildren([this]),u,h,l=0,o=g.length;l<o;l++){if(u=g[l],u.getBounds||u.width!==void 0&&u.height!==void 0)lh=Wy(u,lh);else continue;r!=null&&e.lineStyle(f,r).strokeRectShape(lh),u.name&&S&&(n?h=S.call(n,i):h=S(i),h&&(h.setText(u.name),e.children.add(h),ff(h,lh.x,lh.y,lh.width,lh.height,x)))}return this},$rt=function(e,t,i){return e.add.text(0,0,"")},lh=void 0;const Gp=Phaser.Utils.Objects.GetValue;var Ka=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=Gp(e,"left",0),t.right=Gp(e,"right",0),t.top=Gp(e,"top",0),t.bottom=Gp(e,"bottom",0)),t};const Xrt=qs.prototype.add;var cf=function(e){return Xrt.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const Hrt={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),cf.call(this,e),this.backgroundChildren.push(e);var r=this.getSizerConfig(e);return r.padding=Ka(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var ja=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=ja(i)):i=null);else for(i=ja(e);i&&i.name!==t;)i=ja(i);return i},Krt=function(e){for(var t=ja(e);t;)e=t,t=ja(t);return e};const Jl={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),ja(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),Krt(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=ja(t);i;){if(i===e)return!0;i=ja(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},jrt=Phaser.Utils.Array.Remove,Jrt=qs.prototype.remove,iL=Jl.getParentSizer;var vf=function(e,t){for(var i=iL(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=iL(i);return this.isBackground(e)&&jrt(this.backgroundChildren,e),Jrt.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const Zrt=Phaser.Utils.Array.Remove,Qrt=Jl.getParentSizer,qrt={removeFromParentSizer(){var e=Qrt(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(Zrt(this.backgroundChildren,e),vf.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var sL=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},_rt=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},tnt=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),r=null;if(i.charAt(0)==="#")i=i.substring(1),r=this.getByName(i,t);else if(e.length===0&&t){var f=this.childrenMap;if(f)for(var S=[f],n;S.length;){f=S.shift();for(var x in f)if(n=f[x],x===i){r=n;break}else n&&typeof n=="object"&&n.childrenMap&&S.push(n.childrenMap);if(r)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(r=this.childrenMap[i]);else{var s=i.match(ent);if(s!=null&&this.childrenMap){var a=this.childrenMap[s[1]];a&&(r=a[s[2]])}}return e.length===0?r:r&&r.childrenMap?r.getElement(e):null}};const ent=/(\S+)\[(\d+)\]/i;var int=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const snt={getInnerPadding(e){return op(this.space,e)},setInnerPadding(e,t){return za(this.space,e,t),this},getOuterPadding(e){return op(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return za(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),op(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),za(this.getSizerConfig(e).padding,t,i),this}};var WC=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},YC=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},rnt=function(e){var t,i,r;for(var f in this.sizerChildren)t=this.sizerChildren[f],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),r=t.resolveWidth(i),r===void 0&&(r=i),t.resolveChildrenWidth(r))},$C=function(e){var t,i,r;for(var f in this.sizerChildren)t=this.sizerChildren[f],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(r=t.resolveWidth(i),r===void 0&&(r=i)):r=i,t.runWidthWrap(r));return this},XC=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},HC=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},nnt=function(e){var t,i,r;for(var f in this.sizerChildren)t=this.sizerChildren[f],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),r=t.resolveHeight(i),r===void 0&&(r=i),t.resolveChildrenHeight(r))},KC=function(e){var t,i,r;for(var f in this.sizerChildren)t=this.sizerChildren[f],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(r=t.resolveHeight(i),r===void 0&&(r=i)):r=i,t.runHeightWrap(r));return this},ant=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;t=Math.max(e.minWidth,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=Ge(e);return t},ont=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;t=Math.max(e.minHeight,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=ke(e);return t},hnt=function(e,t){return t},lnt=function(e,t){return t},unt=function(){return 0},dnt=function(){return 0},fnt=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),r=e.length,f=t;f<r;f++)i[f].getAllChildrenSizers(e);return e},cnt=function(e){return e===void 0&&(e=[]),e};const vnt={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,r=0,f=t.length;r<f;r++)i=t[r],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var pf=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,r=e.length;i<r;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},pnt=function(){if(this.ignoreLayout)return this;var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;return i||this.setScale(1),this.runLayout(),i||this.setScale(e,t),this},gnt=function(e,t,i){if(this.ignoreLayout)return this;var r=!e;r&&this.preLayout();var f,S,n,x=r&&this.hasWidthWrap(),s=r&&this.hasHeightWrap();return f=mnt(this,t,i,x,s),f||console.error("Can't resolve size of ",this),S=f.width,n=f.height,this.resize(S,n),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(),r&&this._postLayout(),this},mnt=function(e,t,i,r,f){var S=rL(e,t,r),n=xnt(e,i,f);return S===void 0&&(S=rL(e,t,r)),S!==void 0&&n!==void 0?{width:S,height:n}:!1},rL=function(e,r,i){var r=e.resolveWidth(r);return r!==void 0&&i&&(e.resolveChildrenWidth(r),e.runWidthWrap(r)),r},xnt=function(e,r,i){var r=e.resolveHeight(r);return r!==void 0&&i&&(e.resolveChildrenHeight(r),e.runHeightWrap(r)),r},ynt=function(){},Cnt=function(e,t,i){return this._anchor&&this._anchor.updatePosition(),this},Snt=function(e,t,i){return this},Tnt=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=nL.length;t<i;t++){var r=nL[t];if(r&&e instanceof r)return!1}return!0},nL=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],Ent=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=aL.length;t<i;t++){var r=aL[t];if(r&&e instanceof r)return!1}return!0},aL=[Phaser.GameObjects.BitmapText],vs=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(Tnt(e))t===void 0&&(t=e.width),i===void 0&&(i=e.height),e.resize?e.resize(t,i):e.setSize(t,i);else{var r=Ent(e);t!==void 0&&(r?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(r?e.displayHeight=i:e.scaleY=i/e.height)}},Pnt=function(e,t,i,r){vs(i,e,t)};const kp=Phaser.Utils.Objects.GetValue;class jC extends ti{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,r;t.x!==void 0?(i=null,r=t.x):t.left!==void 0?(i=0,r=t.left):t.right!==void 0?(i=1,r=t.right):t.centerX!==void 0&&(i=.5,r=t.centerX);var f,S;t.y!==void 0?(f=null,S=t.y):t.top!==void 0?(f=0,S=t.top):t.bottom!==void 0?(f=1,S=t.bottom):t.centerY!==void 0&&(f=.5,S=t.centerY);var n,x;r!==void 0&&(r=r.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(r[0])/100,x=r[1]===""?0:parseFloat(r[1]));var s,a;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),s=parseFloat(S[0])/100,a=S[1]===""?0:parseFloat(S[1]));var g=t.width,u,h;g!==void 0&&(g=g.split("%"),u=parseFloat(g[0])/100,h=g[1]===""?0:parseFloat(g[1]));var l=t.height,o,d;l!==void 0&&(l=l.split("%"),o=parseFloat(l[0])/100,d=l[1]===""?0:parseFloat(l[1])),this.setAlign(i,f),this.setPercentage(n,s),this.setOffset(x,a),this.setSizePercentage(u,o),this.setSizePadding(h,d);var v=kp(t,"onResizeCallback",Pnt),c=kp(t,"onResizeCallbackScope");this.setResizeCallback(v,c);var p=kp(t,"onUpdateViewportCallback"),y=kp(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(p,y),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,r=this.anchorWidth,f=this.anchorHeight;if(!(r===void 0&&f===void 0||!t)){var S=this.parent;r===void 0&&(r=S.width),f===void 0&&(f=S.height),i?t.call(i,r,f,S,this):t(r,f,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=Il(this.scene,t,this.viewport);var i=this.viewport,r=this.onUpdateViewportCallback,f=this.onUpdateViewportCallbackScope;r&&(f?r.call(f,i,this.parent,this):r(i,this.parent,this))}}var wnt=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),r=e.hasOwnProperty("onResizeCallback");return(t||i)&&!r&&(e.onResizeCallback=function(f,S,n){t&&n.setMinWidth(f),i&&n.setMinHeight(S),n.layout()}),this._anchor===void 0?this._anchor=new jC(this,e):this._anchor.resetFromJSON(e),this};const bnt=Phaser.Utils.Objects.GetValue,Zl=Phaser.Utils.Objects.GetAdvancedValue,oL=Phaser.Math.Linear;class gf extends ih{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(bnt(t,"mode",0)),this.setScaleRange(Zl(t,"start",void 0),Zl(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=Mnt[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Zl(t,"x",this.parent.scaleX),this.startY=Zl(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=Zl(i,"x",void 0),this.endY=Zl(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var r=i.t;i.isOddIteration&&(r=1-r),r=this.easeFn(r),this.hasScaleX&&(t.scaleX=oL(this.startX,this.endX,r)),this.hasScaleY&&(t.scaleY=oL(this.startY,this.endY,r))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Mnt={stop:0,destroy:1,yoyo:2};var JC=function(e,t,i,r,f){r===void 0&&(r="Cubic");var S,n;switch(i){case 0:case"x":S={x:0},n={x:e.scaleX};break;case 1:case"y":S={y:0},n={y:e.scaleY};break;default:S=0,n=e.scale;break}var x={mode:0,start:S,end:n,duration:t,ease:r};return f===void 0?f=new gf(e,x):f.resetFromJSON(x),f.restart(),f},hL=function(e,t,i,r,f,S){r===void 0&&(r="Linear"),f instanceof gf&&(S=f,f=void 0),f===void 0&&(f=!0);var n={};switch(n.mode=f?1:0,i){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=r,S===void 0?S=new gf(e,n):S.resetFromJSON(n),S.restart(),S},Ant=function(e,t,i,r,f,S,n){i===void 0&&(i=1.2),r===void 0&&(r=0),S===void 0&&(S="Cubic");var x,s;switch(f){case 0:case"x":x={x:e.scaleX},s={x:i};break;case 1:case"y":x={y:e.scaleX},s={y:i};break;default:x=e.scaleX,s=i;break}var a={mode:2,start:x,end:s,duration:t/2,ease:S,repeat:r};return n===void 0?n=new gf(e,a):n.resetFromJSON(a),n.restart(),n};const ZC=Phaser.Utils.Objects.IsPlainObject,lL={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(ZC(e)){var r=e;e=r.duration,t=r.orientation,i=r.ease}var f=this._scaleBehavior===void 0;return this._scaleBehavior=JC(this,e,t,i,this._scaleBehavior),f&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),$i(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,r){if(ZC(e)){var f=e;e=f.duration,t=f.orientation,i=f.ease,r=f.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=hL(this,e,t,i,r,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,r){return this.scaleDownDestroy(e,t,i,r),$i(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),$i(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,r,f){if(ZC(e)){var S=e;e=S.duration,t=S.peakValue,i=S.repeat,r=S.orientation,f=S.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=Ant(this,e,t,i,r,f,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,r,f){return this.scaleYoyo(e,t,i,r,f),$i(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var Xn={};Object.assign(Xn,lL),Xn.onInitScale=function(){lL.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=Jl.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Rnt=Phaser.Utils.Objects.GetValue,uL=Phaser.Utils.Objects.GetAdvancedValue,Ont=Phaser.Math.Linear;let QC=class extends ih{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Rnt(t,"mode",0)),this.setAlphaRange(uL(t,"start",this.parent.alpha),uL(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=Lnt[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var r=i.t;i.isOddIteration&&(r=1-r),t.alpha=Ont(this.alphaStart,this.alphaEnd,r)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const Lnt={stop:0,destroy:1,yoyo:2},Dnt=Phaser.Utils.Objects.IsPlainObject;var Vp=function(e,t,i,r){var f,S;Dnt(i)?(f=i.start,S=i.end):S=i,f===void 0&&(f=0),S===void 0&&(S=1);var n={mode:0,start:f,end:S,duration:t};return r===void 0?r=new QC(e,n):r.resetFromJSON(n),r.restart(),r},zp=function(e,t,i,r){i instanceof QC&&(r=i,i=void 0),i===void 0&&(i=!0);var f={mode:i?1:0,end:0,duration:t};return r===void 0?r=new QC(e,f):r.resetFromJSON(f),r.restart(),r};const dL=Phaser.Utils.Objects.IsPlainObject,fL={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(dL(e)){var i=e;e=i.duration,t=i.alpha}var r=this._fade===void 0;return this._fade=Vp(this,e,t,this._fade),r&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),$i(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(dL(e)){var i=e;e=i.duration,t=i.destroy}var r=this._fade===void 0;return this._fade=zp(this,e,t,this._fade),r&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),$i(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),$i(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var mf={};Object.assign(mf,fL),mf.onInitFade=function(){fL.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=Jl.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const Fnt=Phaser.Utils.Objects.GetValue,Ql=Phaser.Utils.Objects.GetAdvancedValue,cL=Phaser.Math.Linear;class Up extends ih{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(Fnt(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=Ql(t,"x",void 0),r=Ql(t,"y",void 0);this.setTargetPosition(i,r)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=Int[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var r=t;this.startX=Ql(r,"startX",void 0),this.startY=Ql(r,"startY",void 0),this.endX=Ql(r,"endX",void 0),this.endY=Ql(r,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var r=i.t;i.isOddIteration&&(r=1-r),r=this.easeFn(r),this.hasMoveX&&(t.x=cL(this.startX,this.endX,r)),this.hasMoveY&&(t.y=cL(this.startY,this.endY,r))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Int={stop:0,destroy:1,yoyo:2};var Wp=function(e,t){if(typeof e=="number")return e;var i=e[0],r=parseFloat(e.substr(2));switch(i){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r}},vL=function(e,t,i,r,f,S,n){S instanceof Up&&(n=S,S=void 0),S===void 0&&(S=!1);var x={};return x.mode=S?1:0,i!==void 0&&(x.startX=e.x,x.endX=Wp(i,e.x)),r!==void 0&&(x.startY=e.y,x.endY=Wp(r,e.y)),x.duration=t,x.ease=f===void 0?"Linear":f,n===void 0?n=new Up(e,x):n.resetFromJSON(x),n.restart(),n},pL=function(e,t,i,r,f,S,n){S instanceof Up&&(n=S,S=void 0),S===void 0&&(S=!1);var x={};return x.mode=S?1:0,i!==void 0&&(x.startX=Wp(i,e.x),x.endX=e.x),r!==void 0&&(x.startY=Wp(r,e.y),x.endY=e.y),x.duration=t,x.ease=f===void 0?"Linear":f,n===void 0?n=new Up(e,x):n.resetFromJSON(x),n.restart(),n};const gL=Phaser.Utils.Objects.IsPlainObject,mL=Phaser.Math.Distance.Between,xL={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,r,f){if(gL(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=mL(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,r=S.ease}var n=this._easeMove===void 0;return this._easeMove=pL(this,e,t,i,r,f,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,r,f){return this.moveFrom(e,t,i,r,f),$i(this._easeMove)},moveFromDestroy(e,t,i,r){return this.moveFrom(e,t,i,r,!0),this},moveFromDestroyPromise(e,t,i,r){return this.moveFromDestroy(e,t,i,r),$i(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,r,f){if(gL(e)){var S=e;t=S.x,i=S.y,S.hasOwnProperty("speed")?e=mL(t,i,this.x,this.y)*1e3/S.speed:e=S.duration,r=S.ease}var n=this._easeMove===void 0;return this._easeMove=vL(this,e,t,i,r,f,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,r,f){return this.moveTo(e,t,i,r,f),$i(this._easeMove)},moveToDestroy(e,t,i,r){return this.moveTo(e,t,i,r,!0),this},moveToDestroyPromise(e,t,i,r){return this.moveToDestroy(e,t,i,r,!0),$i(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var Yp={};Object.assign(Yp,xL),Yp.onInitEaseMove=function(){xL.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=Jl.getParentSizer(e);i&&i.resetChildPositionState(e)})};const mr=Phaser.Utils.Objects.GetValue;class qC extends mp{constructor(t,i){super(t,i),this.timer=new gR,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(mr(t,"timer")),this.setEnable(mr(t,"enable",!0)),this.setMode(mr(t,"mode",1)),this.isRunning=mr(t,"isRunning",!1),this.setMagnitudeMode(mr(t,"magnitudeMode",1)),this.setAxisMode(mr(t,"axis",0)),this.setDuration(mr(t,"duration",500)),this.setMagnitude(mr(t,"magnitude",10)),this.ox=mr(t,"ox",void 0),this.oy=mr(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=Bnt[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=Gnt[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=Nnt[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var r=t;i=mr(r,"magnitude",void 0),t=mr(r,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var r=this.parent;if(!r.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=r.x,this.oy=r.y);var f=this.magnitude;this.magnitudeMode===1&&(f*=1-this.timer.t);var S=Math.random()*Math.PI*2,n=this.ox+Math.cos(S)*f,x=this.oy+Math.sin(S)*f;switch(this.axisMode){case 1:r.x=n;break;case 2:r.y=x;break;default:r.x=n,r.y=x;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const Bnt={effect:0,behavior:1},Nnt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},Gnt={constant:0,decay:1},knt=Phaser.Utils.Objects.IsPlainObject;var Vnt=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const znt={shake(e,t,i){if(knt(e)){var r=e;e=r.duration,t=r.magnitude,i=r.magnitudeMode}return this._shake===void 0&&(this._shake=new qC(this,{mode:0,magnitudeMode:1}),Vnt(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),$i(this._shake)}},yL=Phaser.Utils.Objects.IsPlainObject;class Unt extends ti{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new Wn(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,r,f){if(yL(t)){var S=t;t=S.key,i=S.value,r=S.duration,f=S.ease;var n=S.speed;r===void 0&&n!==void 0&&(r=Math.abs(i-this.parent.data.values[t])/n*1e3)}r===void 0&&(r=1e3),f===void 0&&(f="Linear");var x=this.getEaseTask(t);return x.restart({key:t,to:i,duration:r,ease:f}),this}easeFrom(t,i,r,f){if(yL(t)){var S=t;t=S.key,i=S.value,r=S.duration,f=S.ease;var n=S.speed;r===void 0&&n!==void 0&&(r=Math.abs(i-this.parent.data.values[t])/n*1e3)}r===void 0&&(r=1e3),f===void 0&&(f="Linear");var x=this.getEaseTask(t);return x.restart({key:t,from:i,duration:r,ease:f}),this}stopEase(t,i){i===void 0&&(i=!0);var r=this.easeTasks[t];return r&&r.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var Wnt=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const Ynt={easeDataTo(e,t,i,r){return this._easeData||(this._easeData=new Unt(this),Wnt(this,this._easeData)),this._easeData.easeTo(e,t,i,r),this},easeDataToPromise(e,t,i,r){return this.easeDataTo(e,t,i,r),Pp(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var $nt=Phaser.Utils.Array.Remove,Xnt=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,r=t.length;i<r;i++)t[i].remove();e._delayCallTimers=void 0})};const CL={delayCall(e,t,i){var r=this._delayCallTimers;r===void 0&&Xnt(this);var f,S=this,n=function(){$nt(S._delayCallTimers,f),i?t.call(i):t()};return f=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(f),this}};var Ja=function(e){SL(e,!1)},Za=function(e){SL(e,!0)},_C=function(e){if(!e)return!1;var t=Np(e);return!t.hidden},SL=function(e,t){if(e){var i=Np(e);i.hidden=t;var r=Qs(e);r?r.setChildVisible(e,!t):e.setVisible(!t)}};const Hnt={show(e){return e===void 0&&(e=this),Ja(e),this},hide(e){return e===void 0&&(e=this),Za(e),this},isShow(e){return e===void 0&&(e=this),_C(e)}},Knt=["next","exit","enter"];let TL=class{constructor(t){var i=Be(t,"states",void 0);i&&this.addStates(i);var r=Be(t,"extend",void 0);if(r)for(var f in r)(!this.hasOwnProperty(f)||this[f]===void 0)&&(this[f]=r[f]);var S=Be(t,"eventEmitter",void 0),n=Be(t,"EventEmitterClass",void 0);this.setEventEmitter(S,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Be(t,"enable",!0)),this.start(Be(t,"start",void 0));var i=Be(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,r=this[i];r&&r.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var f="enter_"+this._state,S=this[f];S&&S.call(this),this.emit(f,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return Knt}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var r=this.stateProperties,f=0,S=r.length;f<S;f++){var n=r[f],x=i[n];x&&(this[`${n}_${t}`]=x)}return this}addStates(t){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)this.addState(t[i]);else for(var f in t)this.addState(f,t[f]);return this}runMethod(t,i,r,f,S,n){var x=this[t+"_"+this.state];if(x){var s=arguments.length;switch(s){case 1:return x.call(this);case 2:return x.call(this,i);case 3:return x.call(this,i,r);case 4:return x.call(this,i,r,f);case 5:return x.call(this,i,r,f,S);case 6:return x.call(this,i,r,f,S,n)}for(var a=new Array(s-1),g=1;g<s;g++)a[g-1]=arguments[g];return x.apply(this,a)}}};Object.assign(TL.prototype,IR);var t1=function(e,t,i,r,f){f===void 0&&(f=!1);var S=e._events[t];if(!S)return!1;for(var n=0,x=S.length;n<x;n++){var s=S[n];if(s.fn===i&&s.context===r&&s.once===f)return!0}return!1};const jnt=["next","exit","enter","update","preupdate","postupdate"];class Hn extends TL{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Be(t,"scene",void 0),this}get stateProperties(){return jnt}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return t1(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return t1(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return t1(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Jnt=class extends Hn{constructor(t,i){super(i),this.parent=t;var r=i.initState||"IDLE";this.start(r)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var Znt=function(e,t,i,r,f){var S=Nl(e),n=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){i.call(r,f)})});return n};const Qnt={delayCall(e,t,i){return this.delayCallTimer=Znt(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},qnt={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=bi),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=bi),this.transitOutCallback=e,this}},_nt={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},tat={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var EL={};Object.assign(EL,Qnt,qnt,_nt,tat);const ql=Phaser.Utils.Objects.GetValue;class $p extends ti{constructor(t,i){super(t,i),this.setTransitInTime(ql(i,"duration.in",200)),this.setTransitOutTime(ql(i,"duration.out",200)),this.setTransitInCallback(ql(i,"transitIn")),this.setTransitOutCallback(ql(i,"transitOut")),this.oneShotMode=ql(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new Jnt(this,{eventEmitter:!1,initState:ql(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign($p.prototype,EL);const eat=Phaser.GameObjects.Rectangle;class e1 extends eat{constructor(t,i,r){super(t,0,0,2,2,i,1),this.fullWindow=new hO(this),this.setAlpha(r)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const i1=Phaser.Utils.Objects.GetValue;class Xp extends ti{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(i1(t,"hitAreaMode",0)),this.setEnable(i1(t,"enable",!0)),this.setStopMode(i1(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,r,f){this.stopAllLevels&&f.stopPropagation()},this).on("pointerup",function(t,i,r,f){this.stopAllLevels&&f.stopPropagation()},this).on("pointermove",function(t,i,r,f){this.stopAllLevels&&f.stopPropagation()},this).on("pointerover",function(t,i,r,f){this.stopAllLevels&&f.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=iat[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var iat={default:0,fullWindow:1};const PL=Phaser.Utils.Objects.GetValue;class s1 extends e1{constructor(t,i){var r=PL(i,"color",0),f=PL(i,"alpha",.8);super(t,r,f),this.touchEventStop=new Xp(this,{hitAreaMode:1})}}var sat=function(e,t){var i=e.scene,r=new s1(i,t);return i.add.existing(r),e.isRexContainerLite?(e.pin(r,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(r)):i.children.moveBelow(r,e),r};const Hp={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,JC(e,t)},scaleDown(e,t){hL(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Vp(e,t)},fadeOut(e,t){zp(e,t,!1)}};var rat=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Vp(e,t,e.alpha)},nat=function(e,t){zp(e,t,!1)},uh=function(e,t,i,r,f){if(!e||r&&!r(e,t,i))return!1;var S=Wy(e,!0);return!(!S.contains(t,i)||f&&!f(e,t,i))};const ln=Phaser.Utils.Objects.GetValue;let aat=class extends $p{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=Qa.popUp),i.transitOut==null&&(i.transitOut=Qa.scaleDown),i.destroy=ln(i,"destroy",!0),super(t,i);var r=ln(i,"cover");this.cover=r!==!1?sat(t,r):void 0,this.cover&&(this.setCoverTransitInCallback(ln(r,"transitIn",rat)),this.setCoverTransitOutCallback(ln(r,"transitOut",nat)));var f=ln(i,"touchOutsideClose",!1),S=ln(i,"duration.hold",-1),n=ln(i,"timeOutClose",S>=0),x=ln(i,"anyTouchClose",!1),s=ln(i,"manualClose",!1);s&&(f=!1,x=!1,n=!1),x&&(f=!1),n?this.setDisplayTime(S):this.setDisplayTime(-1),x?this.once("open",this.anyTouchClose,this):f&&this.once("open",this.touchOutsideClose,this),ln(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&uh(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=Qa[t]),t){case Qa.popUp:t=Hp.popUp;break;case Qa.fadeIn:t=Hp.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=Qa[t]),t){case Qa.scaleDown:t=Hp.scaleDown;break;case Qa.fadeOut:t=Hp.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const Qa={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var r1=function(e,t){var i=new aat(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(r){e.emit("modal.close",r,i)}),e.on("modal.requestClose",i.requestClose,i),i},oat=function(e,t){var i=r1(e,t);return new Promise(function(r,f){i.once("close",function(S){r(S)})})},wL=function(e,t){e.emit("modal.requestClose",t)},Kn=function(e){return e&&typeof e=="function"};const n1={modal(e,t){return Kn(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=r1(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,r){t.modal(e,i)})},modalClose(e){return wL(this,e),this}};var Kp=function(e,t,i){var r=e.camera;return r?(i===void 0?i={}:i===!0&&(i=hat),r===t?(i.x=e.worldX,i.y=e.worldY):r.getWorldPoint(e.x,e.y,i),i):null},hat={},dh=function(e,t,i,r){var f=e.scene.sys.cameras.main,S,n=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return n?uh(e,t.x,t.y,i,r):(S=Kp(t,f,!0),S?uh(e,S.x,S.y,i,r):!1);for(var x=e.scene.input.manager,s=x.pointersTotal,a=x.pointers,g=0;g<s;g++)if(t=a[g],n){if(uh(e,t.x,t.y,i,r))return!0}else{if(S=Kp(t,f,!0),!S)continue;if(uh(e,S.x,S.y,i,r))return!0}return!1},lat=function(e,t){return(Ds(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),dh(t,e)},Or=function(e){return Object.prototype.toString.call(e)==="[object Array]"},jp=function(e,t,i,r,f){return uh(e,t,i,uat(r),dat(f))},bL=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},uat=function(e){return e?function(t,i,r){return bL(t)?(e(t,i,r),!0):!1}:bL},dat=function(e){return e},fat=function(e,t,i,r,f){if(Kn(i)||(f=i,i=void 0,r=void 0),f===void 0&&(this.sizerChildren?f=this.sizerChildren:f=this.children),Or(f)){for(var S,n=0,x=f.length;n<x;n++)if(S=f[n],jp(S,e,t,i,r))return S}else{var S;for(var s in f)if(S=f[s],jp(S,e,t,i,r))return S}return null},cat=function(e,t){return t===void 0?t={}:t===!0&&(t=vat),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},vat={},xf=function(e){this.sizerEventsEnable&&(cat(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},yf=function(e,t,i,r,f,S,n,x){ff(e,t,i,r,f,S),n!==void 0&&(e.x+=n),x!==void 0&&(e.y+=x),this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const pat=Phaser.Display.Align.CENTER;var gat=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,r=this.width,f=this.height,S,n,x,s,a,g,u,h=0,l=e.length;h<l;h++)S=e[h],n=S.rexSizer,!n.hidden&&(x=n.padding,xf.call(this,S),s=t+x.left,a=i+x.top,g=r-x.left-x.right,u=f-x.top-x.bottom,vs(S,g,u),yf.call(this,S,s,a,g,u,pat))};const mat=Phaser.Utils.Objects.IsPlainObject;var xat=function(e,t,i){if(mat(e)){var r=e;e=r.sensor,i=r.target,t=r.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var f=typeof e;if(f==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||f!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,x,s){var a=i===void 0?this.getTopmostSizer():i;a.x+=x-e.x,a.y+=s-e.y,a.emit("sizer.drag",n,x,s)},this).on("dragstart",function(n,x,s){var a=i===void 0?this.getTopmostSizer():i;a.emit("sizer.dragstart",n,x,s)},this).on("dragend",function(n,x,s,a){var g=i===void 0?this.getTopmostSizer():i;g.emit("sizer.dragend",n,x,s,a)},this).on("drop",function(n,x){var s=i===void 0?this.getTopmostSizer():i;s.emit("sizer.drop",n,x)}),e.input._rexUIDragSizer=!0),this};const a1={onClick(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new Yn(e,r)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},Cf=Phaser.Utils.Objects.GetValue;class o1 extends ti{constructor(t,i){super(t,i),this._enable=void 0;var r=Cf(i,"inputConfig",void 0);r&&t.setInteractive(r),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Cf(t,"enable",!0)),this.setMode(Cf(t,"mode",1)),this.setClickInterval(Cf(t,"clickInterval",100)),this.setDragThreshold(Cf(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=yat[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,r=i.input?Qy:dh;return r(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t)))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,r,f){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var r=this.lastClickTime;return r!==void 0&&t-r<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const yat={press:0,pointerdown:0,release:1,pointerup:1},Cat={onClickOutside(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new o1(e,r)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class Sat extends Hn{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const h1=Phaser.Utils.Objects.GetValue;class _l extends ti{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new Sat,this.parent.setInteractive(h1(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(h1(t,"enable",!0)),this.setCooldown(h1(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,r){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const Tat={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?dh(e):!1},onTouching(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new _l(e,r)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,r){return e?(typeof e=="function"&&(r=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new _l(e,r)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},Eat={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var ML=function(e,t,i){for(var r,f=0,S=e.length;f<S;f++)if(r=e[f],!!jp(r,t,i))return r.pointToChild(t,i);return null},un=function(e,t,i,r,f,S,n,x){var s;if(S===void 0)s=f;else if(r==="parent")s=ML(i,f,S);else for(var a=0,g=i.length;a<g;a++){var u=i[a];if(jp(u,f,S)){s=u;break}}s&&e.emit(t,s,n,x)};const Pat=Phaser.Utils.Objects.GetValue;var wat=function(e){var t=Pat(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",bat,this))},bat=function(e,t,i,r){var f=this._childrenInteractive;un(f.eventEmitter,`${f.eventNamePrefix}down`,f.targetSizers,f.targetMode,e.worldX,e.worldY,e,r)};const Mat=Phaser.Utils.Objects.GetValue;var Aat=function(e){var t=Mat(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",Rat,this))},Rat=function(e,t,i,r){var f=this._childrenInteractive;un(f.eventEmitter,`${f.eventNamePrefix}up`,f.targetSizers,f.targetMode,e.worldX,e.worldY,e,r)};const Oat=Phaser.Utils.Objects.GetValue;var Lat=function(e){var t=Oat(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",AL,this).on("pointerover",AL,this).on("pointerout",Dat,this))},AL=function(e,t,i,r){var f=this._childrenInteractive,S=ML(f.targetSizers,e.worldX,e.worldY),n=f.lastOverChild;S&&n&&S===n||(f.lastOverChild=S,un(f.eventEmitter,`${f.eventNamePrefix}out`,f.targetSizers,f.targetMode,n,void 0,e,r),un(f.eventEmitter,`${f.eventNamePrefix}over`,f.targetSizers,f.targetMode,S,void 0,e,r))},Dat=function(e,t){var i=this._childrenInteractive,r=i.lastOverChild;i.lastOverChild=null,un(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,r,void 0,e,t)};const Fat=Phaser.Utils.Objects.GetValue;var Iat=function(e){var t=Fat(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new Yn(this,t),this._click.on("click",function(r,f,S,n){un(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,S.worldX,S.worldY,S,n)},this)}};const l1=Phaser.Utils.Objects.GetValue;class Jp extends mp{constructor(t,i){var r=Nl(t);r===t&&(t=void 0),super(r,i),this.gameObject=t,t&&t.setInteractive(l1(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(l1(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(l1(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=u1,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var r=this.bounds?this.bounds.contains(t.x,t.y):!0;r&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=RL,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=u1,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,r=this.pointer===t;!r&&i||(r&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===RL&&this.onDragEnd(),this.pointer=void 0,this.tracerState=u1,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Bat,this}isPointerInGameObject(t,i,r){var f=this.lastPointer;return f?dh(t,f,i,r):!1}}const u1=0,RL=1,Bat="IDLE",fh=Phaser.Utils.Objects.GetValue,Nat=Phaser.Math.Distance.Between;class Zp extends Jp{constructor(t,i){super(t,i);var r=this,f={states:{IDLE:{enter:function(){r.stop(),r.tapsCount=0,r.x=0,r.y=0,r.worldX=0,r.worldY=0,r.lastPointer=void 0},exit:function(){var S=r.lastPointer;r.x=S.x,r.y=S.y,r.worldX=S.worldX,r.worldY=S.worldY}},BEGIN:{enter:function(){r.start(),r.tapsCount=0,r.emit("tappingstart",r,r.gameObject,r.lastPointer)}},RECOGNIZED:{enter:function(){r.start(),r.emit("tap",r,r.gameObject,r.lastPointer),r.emit(`${r.tapsCount}tap`,r,r.gameObject,r.lastPointer)}}},init:function(){this.state=ch},eventEmitter:!1};this.setRecongizedStateObject(new Hn(f))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(fh(t,"time",250)),this.setTapInterval(fh(t,"tapInterval",200)),this.setDragThreshold(fh(t,"threshold",9)),this.setTapOffset(fh(t,"tapOffset",10));var i=fh(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(fh(t,"maxTaps",void 0)),this.setMinTaps(fh(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case ch:this.state=tu;break;case tu:var t=this.lastPointer,i=Nat(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=eu,this.state=tu);break;case eu:this.state=tu;break}}onDragEnd(){this.state===tu&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=eu))}onDrag(){this.state!==ch&&this.pointer.getDistance()>this.dragThreshold&&(this.state=ch)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===tu){var r=this.lastPointer;if(r.isDown){var f=t-r.downTime;f>this.holdTime&&(this.state=ch)}else{var S=t-r.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=eu:this.state=ch)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===eu&&(this.state=ch)}get isTapped(){return this.state===eu}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const ch="IDLE",tu="BEGIN",eu="RECOGNIZED",OL=Phaser.Utils.Objects.GetValue;class Qp extends Jp{constructor(t,i){super(t,i);var r=this,f={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0,r.lastPointer=void 0},exit:function(){var S=r.lastPointer;r.x=S.x,r.y=S.y,r.worldX=S.worldX,r.worldY=S.worldY}},BEGIN:{enter:function(){r.start()},exit:function(){r.stop()}},RECOGNIZED:{enter:function(){r.emit("pressstart",r,r.gameObject,r.lastPointer)},exit:function(){r.emit("pressend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=qp},eventEmitter:!1};this.setRecongizedStateObject(new Hn(f))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(OL(t,"threshold",9)),this.setHoldTime(OL(t,"time",251)),this}onDragStart(){this.state=LL,this.holdTime===0&&(this.state=d1)}onDragEnd(){this.state=qp}onDrag(){this.state!==qp&&this.pointer.getDistance()>this.dragThreshold&&(this.state=qp)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===LL){var r=t-this.pointer.downTime;r>=this.holdTime&&(this.state=d1)}}get isPressed(){return this.state===d1}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const qp="IDLE",LL="BEGIN",d1="RECOGNIZED",Gat=Phaser.Utils.Objects.GetValue;class DL extends Jp{constructor(t,i){super(t,i);var r=this,f={states:{IDLE:{},BEGIN:{enter:function(){var S=r.pointer;r.startX=S.x,r.startY=S.y,r.startWorldX=S.worldX,r.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){r.emit("panstart",r,r.gameObject,r.lastPointer)},exit:function(){var S=r.lastPointer;r.endX=S.x,r.endY=S.y;var n=Kp(S,r.pointerCamera,!0);r.endWorldX=n.x,r.endWorldY=n.y,r.emit("panend",r,r.gameObject,r.lastPointer)}}},init:function(){this.state=FL},eventEmitter:!1};this.setRecongizedStateObject(new Hn(f))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Gat(t,"threshold",10)),this}onDragStart(){this.state=IL,this.dragThreshold===0&&(this.state=_p)}onDragEnd(){this.state=FL}onDrag(){switch(this.state){case IL:if(this.pointer.getDistance()>=this.dragThreshold){this.state=_p,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var f=this.pointer;this.x=f.x,this.y=f.y,this.worldX=f.worldX,this.worldY=f.worldY}break;case _p:var t=this.pointerCamera,i=this.pointer.position,r=this.pointer.prevPosition;this.dx=i.x-r.x,this.dy=i.y-r.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var f=this.pointer;this.x=f.x,this.y=f.y;var S=Kp(f,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===_p}setDragThreshold(t){return this.dragThreshold=t,this}}const FL="IDLE",IL="BEGIN",_p="RECOGNIZED",kat=Phaser.Math.Distance.Between,Vat=Phaser.Math.Angle.Between,zat={getDt:function(){var e=aC(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=kat(t.x,t.y,e.x,e.y),r=i/(this.getDt()*.001);return r},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),r=i/(this.getDt()*.001);return r},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),r=i/(this.getDt()*.001);return r},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Vat(t.x,t.y,e.x,e.y);return i}},Uat={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var Wat=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=Yat),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},Yat={};const f1=Phaser.Utils.Objects.GetValue,$at=Phaser.Math.RadToDeg;class Sf extends Jp{constructor(t,i){super(t,i);var r=this,f={states:{IDLE:{enter:function(){r.x=0,r.y=0,r.worldX=0,r.worldY=0},exit:function(){var S=r.lastPointer;r.x=S.x,r.y=S.y,r.worldX=S.worldX,r.worldY=S.worldY}},BEGIN:{enter:function(){r.validDrag=!1}},RECOGNIZED:{enter:function(){r.start(),r.updateDirectionStates(),r.emit("swipe",r,r.gameObject,r.lastPointer)},exit:function(){r.stop(),r.clearDirectionStates()}}},init:function(){this.state=c1},eventEmitter:!1};this.setRecongizedStateObject(new Hn(f)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(f1(t,"threshold",10)),this.setVelocityThreshold(f1(t,"velocityThreshold",1e3)),this.setDirectionMode(f1(t,"dir","8dir")),this}onDragStart(){this.state=BL}onDragEnd(){this.state=c1}onDrag(){this.state===BL&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=v1))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===v1&&(this.state=c1)}get isSwiped(){return this.state===v1}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=Uat[t]),this.dirMode=t,this}updateDirectionStates(){var t=$at(this.getVelocityAngle());return Wat(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Sf.prototype,zat);const c1="IDLE",BL="BEGIN",v1="RECOGNIZED",tg=Phaser.Utils.Objects.GetValue,Xat=Phaser.Utils.Array.SpliceOne,Hat=Phaser.Math.Distance.Between,Kat=Phaser.Math.Angle.Between;class p1{constructor(t,i){var r=Nl(t);r===t&&(t=void 0);var f=r.input.manager.pointersTotal-1;f<2&&r.input.addPointer(2-f),this.scene=r,this.gameObject=t,t&&t.setInteractive(tg(i,"inputConfig",void 0)),this.setEventEmitter(tg(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(tg(t,"enable",!0)),this.bounds=tg(t,"bounds",void 0),this.tracerState=eg,this.pointers.length=0,Nn(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Nn(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var r=this.pointers.indexOf(t);if(r===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case eg:this.tracerState=Ef,this.onDrag1Start();break;case Ef:this.tracerState=dn,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var r=this.pointers.indexOf(t);if(r!==-1)switch(delete this.movedState[t.id],Xat(this.pointers,r),this.tracerState){case Ef:this.tracerState=eg,this.onDrag1End();break;case dn:this.tracerState=Ef,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,r=this.pointers.indexOf(t)!==-1;if(!(!r&&i)){if(r&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Ef:this.onDrag1();break;case dn:this.onDrag2();break}}}}dragCancel(){return this.tracerState===dn&&this.onDrag2End(),this.pointers.length=0,Nn(this.movedState),this.tracerState=eg,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==dn)return 0;var t=this.pointers[0],i=this.pointers[1];return Hat(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==dn)return 0;var t=this.pointers[0],i=this.pointers[1];return Kat(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,r=t.prevPosition;Tf.x=i.x-r.x,Tf.y=i.y-r.y}else Tf.x=0,Tf.y=0;return Tf}get centerX(){if(this.tracerState!==dn)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==dn)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==dn)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==dn)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=jat,this}isPointer0InGameObject(t,i,r){var f=this.pointers[0];return f?dh(t,f,i,r):!1}isPointer1InGameObject(t,i,r){var f=this.pointers[1];return f?dh(t,f,i,r):!1}}Object.assign(p1.prototype,Wd);var Tf={};const eg=0,Ef=1,dn=2,jat="IDLE",Jat=Phaser.Utils.Objects.GetValue;class NL extends p1{constructor(t,i){super(t,i);var r=this,f={states:{IDLE:{enter:function(){r.prevDistance=void 0,r.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("pinchstart",r)},exit:function(){r.emit("pinchend",r)}}},init:function(){this.state=GL},eventEmitter:!1};this.setRecongizedStateObject(new Hn(f))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Jat(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=kL,this.dragThreshold===0&&(this.state=ig)}onDrag2End(){this.state=GL}onDrag2(){switch(this.state){case kL:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=ig}break;case ig:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===ig}setDragThreshold(t){return this.dragThreshold=t,this}}const GL="IDLE",kL="BEGIN",ig="RECOGNIZED",Zat=Phaser.Math.RotateAround;var VL=function(e,t,i,r){return Zat(e,t,i,r),e.rotation+=r,e},Qat=function(e,t,i,r){return r===void 0?r={}:r===!0&&(r=qat),i.getWorldPoint(e,t,r),r},qat={},_at=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,r=this.movementCenterY,f=Qat(this.centerX,this.centerY,t,!0),S=f.x,n=f.y,x=this.rotation;if(Array.isArray(e))for(var s=e,a=0,g=s.length;a<g;a++)e=s[a],e.x+=i,e.y+=r,VL(e,S,n,x);else e.x+=i,e.y+=r,VL(e,S,n,x);return this};const tot=Phaser.Utils.Objects.GetValue,g1=Phaser.Math.Angle.WrapDegrees,zL=Phaser.Math.Angle.ShortestBetween,m1=Phaser.Math.RadToDeg,eot=Phaser.Math.DegToRad;class x1 extends p1{constructor(t,i){super(t,i);var r=this,f={states:{IDLE:{enter:function(){r.prevAngle=void 0,r.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("rotatestart",r)},exit:function(){r.emit("rotateend",r)}}},init:function(){this.state=UL},eventEmitter:!1};this.setRecongizedStateObject(new Hn(f))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(tot(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=g1(m1(this.angleBetween)),this.state=WL,this.dragThreshold===0&&(this.state=sg)}onDrag2End(){this.state=UL}onDrag2(){switch(this.state){case WL:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=g1(m1(this.angleBetween));this.angle=zL(this.prevAngle,t),this.prevAngle=t,this.state=sg}break;case sg:var t=g1(m1(this.angleBetween));this.angle=zL(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===sg}get rotation(){return eot(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var iot={spinObject:_at};Object.assign(x1.prototype,iot);const UL="IDLE",WL="BEGIN",sg="RECOGNIZED",sot=Phaser.Utils.Objects.GetValue;var rot=function(e){var t=sot(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new Zp(this,t),this._tap.on("tap",function(r,f,S){un(i.eventEmitter,`${i.eventNamePrefix}${r.tapsCount}tap`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S)},this)}};const not=Phaser.Utils.Objects.GetValue;var aot=function(e){var t=not(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new Qp(this,t),this._press.on("pressstart",function(r,f,S){un(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S)},this).on("pressend",function(r,f,S){un(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S)},this)}};const oot=Phaser.Utils.Objects.GetValue;var hot=function(e){var t=oot(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new Sf(this,t),this._swipe.on("swipe",function(r,f,S){var n=r.left?"left":r.right?"right":r.up?"up":"down";un(i.eventEmitter,`${i.eventNamePrefix}swipe${n}`,i.targetSizers,i.targetMode,r.worldX,r.worldY,S)},this)}};const Pf=Phaser.Utils.Objects.GetValue;var y1=function(e,t){return e.setInteractive(),Pf(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:Pf(t,"targets",[e]),targetMode:Pf(t,"targetMode","parent"),eventEmitter:Pf(t,"eventEmitter",e),eventNamePrefix:Pf(t,"inputEventPrefix","child.")},wat.call(e,t),Aat.call(e,t),Lat.call(e,t),Iat.call(e,t),rot.call(e,t),aot.call(e,t),hot.call(e,t),e},lot=function(e){return y1(this,e),this},uot=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var r=e[t];r.emit.apply(r,arguments)}return this},YL={getSizerConfig:Rrt,getChildPrevState:Ort,pushIntoBounds:Lrt,drawBounds:Yrt,resolveWidth:WC,hasWidthWrap:YC,resolveChildrenWidth:rnt,runWidthWrap:$C,resolveHeight:XC,hasHeightWrap:HC,resolveChildrenHeight:nnt,runHeightWrap:KC,getChildWidth:ant,getChildHeight:ont,getExpandedChildWidth:hnt,getExpandedChildHeight:lnt,getChildrenWidth:unt,getChildrenHeight:dnt,addChildrenMap:sL,addElement:sL,removeChildrenMap:_rt,getElement:tnt,getChildIndex:int,getAllChildrenSizers:fnt,getChildrenSizers:cnt,preLayout:pf,layout:pnt,runLayout:gnt,layoutChildren:ynt,layoutBackgrounds:gat,postLayout:Snt,_postLayout:Cnt,setAnchor:wnt,isInTouching:lat,pointToChild:fat,setDraggable:xat,setChildrenInteractive:lot,broadcastEvent:uot};Object.assign(YL,snt,Hrt,qrt,Jl,Xn,mf,Yp,znt,Ynt,CL,a1,Cat,Tat,Eat,Hnt,n1,vnt);const jn=Phaser.Utils.Objects.GetValue;let vh=class extends qs{constructor(t,i,r,f,S,n){super(t,i,r,1,1),this.isRexSizer=!0;var x=jn(n,"origin",.5),s=jn(n,"originX",x),a=jn(n,"originY",x);this.setOrigin(s,a),this.setMinSize(f,S),this.setName(jn(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.enableLayoutWarn(!1);var g=jn(n,"anchor",void 0);g&&this.setAnchor(g),this.setInnerPadding(jn(n,"space",0));var u=jn(n,"draggable",!1);u&&this.setDraggable(u),this.setSizerEventsEnable(jn(n,"sizerEvents",!1)),this.setDirty(!0),jn(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),r=0,f=i.length;r<f;r++)i[r].sizerEventsEnable=!1;super.destroy(t),Nn(this.backgroundChildren),Nn(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Ge(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Ge(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Ge(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-ke(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+ke(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+ke(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(vh.prototype,YL);var dot=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,r,f,S=!1;for(var n in t)i=t[n],f=this.getChildWidth(i),f===void 0&&(S=!0),!S&&(r=i.rexSizer.padding,f+=r.left+r.right,e=Math.max(f,e));if(!S)return e+this.space.left+this.space.right},fot=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,r,f,S=!1;for(var n in t)i=t[n],f=this.getChildHeight(i),f===void 0&&(S=!0),!S&&(r=i.rexSizer.padding,f+=r.top+r.bottom,e=Math.max(f,e));if(!S)return e+this.space.top+this.space.bottom},cot=function(e,t){t===void 0&&(t=this.width);var i,r=e.rexSizer;if(r.expandWidth){var f=this.space,S=t-f.left-f.right,n=r.padding;i=S-n.left-n.right}return i},vot=function(e,t){t===void 0&&(t=this.height);var i,r=e.rexSizer;if(r.expandHeight){var f=this.space,S=t-f.top-f.bottom,n=r.padding;i=S-n.top-n.bottom}return i},pot=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var r in t)i=t[r],i.isRexSizer&&e.push(i);return e},C1=function(e,t,i,r){if(i===void 0)i=0;else{var f=typeof i;f==="boolean"?(r=i,i=0):f==="string"&&(i=got[i])}r===void 0?r={}:r===!0&&(r=mot);var S=t.width/e.width,n=t.height/e.height,x=i?Math.max(S,n):Math.min(S,n);return r.width=e.width*x,r.height=e.height*x,r};const got={fit:0,FIT:0,envelop:1,ENVELOP:1};var mot={},S1=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},xot=function(){var e,t,i,r=this.innerLeft,f=this.innerTop,S=this.innerWidth,n=this.innerHeight,x,s,a,g,u,h,l,o=this.sizerChildren;for(var d in o)e=o[d],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,xf.call(this,e),u=this.getExpandedChildWidth(e),h=this.getExpandedChildHeight(e),t.aspectRatio>0&&(T1.width=t.aspectRatio,T1.height=1,E1.width=u,E1.height=h,l=C1(T1,E1,"FIT",!0),u=l.width,h=l.height),e.isRexSizer?(e.runLayout(this,u,h),S1(e,this)):vs(e,u,h),x=r+i.left,a=S-i.left-i.right,s=f+i.top,g=n-i.top-i.bottom,yf.call(this,e,x,s,a,g,t.align,t.alignOffsetX,t.alignOffsetY))},T1={},E1={};const $L=Phaser.Utils.Objects.IsPlainObject,Lr=Phaser.Utils.Objects.GetValue,XL=Phaser.Display.Align.CENTER,yot=Phaser.Utils.String.UUID;var Cot=function(e,t,i,r,f,S,n,x,s,a){if(cf.call(this,e),$L(t)){var u=t;t=Lr(u,"key",void 0),i=Lr(u,"align",XL),r=Lr(u,"padding",0),f=Lr(u,"expand",!0),e.isRexSizer||(S=Lr(u,"minWidth",e._minWidth),n=Lr(u,"minHeight",e._minHeighted)),x=Lr(u,"offsetX",0),s=Lr(u,"offsetY",0),a=Lr(u,"aspectRatio",0)}var g=t!==void 0;g||(t=yot()),typeof i=="string"&&(i=Kl[i]),i===void 0&&(i=XL),r===void 0&&(r=0),f===void 0&&(f=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),n===void 0&&(n=e._minHeight)),x===void 0&&(x=0),s===void 0&&(s=0),a===void 0?a=0:a===!0&&(a=Ge(e)/ke(e)),a>0&&(f=!0,S===void 0&&(S=0),n===void 0&&(n=0));var u=this.getSizerConfig(e);return u.align=i,u.padding=Ka(r),$L(f)?(u.expandWidth=Lr(f,"width",!1),u.expandHeight=Lr(f,"height",!1)):(u.expandWidth=f,u.expandHeight=f),e.isRexSizer||(u.expandWidth&&(e.minWidth=S===void 0?Ge(e):S),u.expandHeight&&(e.minHeight=n===void 0?ke(e):n)),u.alignOffsetX=x,u.alignOffsetY=s,u.aspectRatio=a,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,g&&this.addChildrenMap(t,e),this};const Sot={add:Cot},Tot=qs.prototype.clear;var rg=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),Tot.call(this,e),t)for(var r,f=0,S=i.length;f<S;f++)r=i[f],r.emit("sizer.remove",r,this),this.emit("remove",r,this);return this};const Eot={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),vf.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return rg.call(this,e),this}};var HL={getChildrenWidth:dot,getChildrenHeight:fot,getExpandedChildWidth:cot,getExpandedChildHeight:vot,getChildrenSizers:pot,layoutChildren:xot};Object.assign(HL,Sot,Eot);var ng=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const KL=Phaser.Utils.Objects.IsPlainObject,iu=Phaser.Utils.Objects.GetValue;class xr extends vh{constructor(t,i,r,f,S,n){KL(i)?(n=i,i=iu(n,"x",0),r=iu(n,"y",0),f=iu(n,"width",void 0),S=iu(n,"height",void 0)):KL(f)&&(n=f,f=iu(n,"width",void 0),S=iu(n,"height",void 0)),super(t,i,r,f,S,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return ng(this.sizerChildren,t);return null}}Object.assign(xr.prototype,HL);var Pot=Phaser.Math.Distance.Between,ag=function(e,t,i){var r=e.width/2;return Pot(r,r,t,i)<=r};const wot=Phaser.Math.Angle.Between,bot=Phaser.Math.Angle.Normalize;var jL=function(e,t,i){if(this.enable&&e.isDown){var r=this.sizerChildren.knob;if(ag(r,t,i)){var f=r.width/2,S=r.startAngle,n=wot(f,f,t,i),x=r.anticlockwise?S-n:n-S,s=bot(x)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-s)<.1?this.value=s:this.easeValueTo(s)}}},Mot=function(){var e=this.sizerChildren.knob;e.on("pointerdown",jL,this).on("pointermove",jL,this).setInteractive()};const JL=Phaser.Math.Angle.Between,Aot=Phaser.Math.Angle.Wrap;var Rot=function(e,t,i){if(!(!this.enable||this.panPointer)){var r=this.sizerChildren.knob;ag(r,t,i)&&ZL.call(this,e)}},Oot=function(e,t,i){if(this.enable&&e.isDown){var r=this.sizerChildren.knob;switch(this.panState){case P1:ag(r,t,i)&&ZL.call(this,e);break;case qL:ag(r,t,i)?Dot.call(this):QL.call(this);break}}},Lot=function(e,t,i){!this.enable||this.panPointer!==e||QL.call(this)},ZL=function(e){this.panPointer=e,this.panState=qL},QL=function(){this.panPointer=void 0,this.panState=P1},Dot=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,r=JL(i.x,i.y,e.x,e.y),f=JL(i.x,i.y,t.x,t.y),S=i.anticlockwise?r-f:f-r,n=Aot(S)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const P1=0,qL=1;var Fot=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Rot,this).on("pointermove",Oot,this).on("pointerup",Lot,this).setInteractive(),this.panPointer=void 0,this.panState=P1},Iot=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},_L=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},Bot=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(_L.call(this,e)),t.layout&&t.layout()),this};const Not={setTextFormatCallback:Iot,getFormatText:_L,updateText:Bot},Dr=Phaser.Utils.Objects.GetValue,Got=Phaser.Math.Snap.To;class w1 extends nh(xr){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var r=Dr(i,"background",void 0),f=Dr(i,"text",void 0);r&&this.addBackground(r),f&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(Dr(i,"textFormatCallback",void 0),Dr(i,"textFormatCallbackScope",void 0)));var S=new Fp(t,i);S.setDepth(Dr(i,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),f&&(this.add(f,"text","center",0,!1),t.children.moveBelow(S,f)),this.addChildrenMap("background",r),this.addChildrenMap("knob",S),this.addChildrenMap("text",f),this.setEnable(Dr(i,"enable",void 0)),this.setGap(Dr(i,"gap",void 0)),this.setValue(Dr(i,"value",0),Dr(i,"min",void 0),Dr(i,"max",void 0));var n=Dr(i,"input",0);switch(typeof n=="string"&&(n=kot[n]),n){case 0:Fot.call(this);break;case 1:Mot.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Got(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var r=this.value;i!==r&&(this.updateText(),this.eventEmitter.emit("valuechange",r,i,this.eventEmitter))}}const kot={pan:0,drag:0,click:1,none:-1};Object.assign(w1.prototype,Not),bt.register("knob",function(e){var t=new w1(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Knob",w1);const Vot={arc:Yl,circle:gr,curve:bit,ellipse:Mit,line:Xa,lines:Fs,rectangle:jit,roundRectangle:Dp,triangle:Zit},tD=Phaser.Utils.Objects.GetValue,zot=Phaser.Utils.Objects.IsPlainObject,Uot=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},Wot={createShape(e,t){var i=Vot[e],r=new i;return t&&r.setName(t),r},buildShapes(e){var t=tD(e,"create",void 0);if(zot(t)){var i=t;for(var r in i){var f=i[r];switch(typeof f){case"number":for(var S=0;S<f;S++)this.addShape(this.createShape(r));break;case"string":this.addShape(this.createShape(r,f));break;default:for(var n=f,S=0,x=n.length;S<x;S++)this.addShape(this.createShape(r,n[S]));break}}}else if(Array.isArray(t))for(var i=t,S=0,x=i.length;S<x;S++){var s=i[S];this.addShape(this.createShape(s.type,s.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(tD(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=Uot),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},eD=Phaser.GameObjects.Components.TransformMatrix,Yot=Phaser.Math.TransformXY;var $ot=function(e,t,i,r,f){r===void 0&&(r=e.scene.cameras.main),f===void 0?f={}:f===!0&&(f=Xot);var S=r.scrollX,n=r.scrollY,x=t+S*e.scrollFactorX-S,s=i+n*e.scrollFactorY-n;return e.parentContainer?(og===void 0&&(og=new eD,iD=new eD),e.getWorldTransformMatrix(og,iD),og.applyInverse(x,s,f)):Yot(x,s,e.x,e.y,e.rotation,e.scaleX,e.scaleY,f),f.x+=e.displayOriginX,f.y+=e.displayOriginY,f},og,iD,Xot={};const wf=Phaser.Utils.Objects.GetValue,Hot=Phaser.Utils.Objects.IsPlainObject;class hg extends $a{constructor(t,i,r,f,S,n){Hot(i)&&(n=i,i=wf(n,"x",0),r=wf(n,"y",0),f=wf(n,"width",2),S=wf(n,"height",2)),super(t,i,r,f,S),this.type=wf(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,r,f){return typeof r=="boolean"&&(f=r,r=void 0),$ot(this,t,i,r,f)}}Object.assign(hg.prototype,Wot),bt.register("customShapes",function(e,t,i,r,f){var S=new hg(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.CustomShapes",hg);const bf=Phaser.Utils.Objects.GetValue,Kot=Phaser.Utils.Objects.IsPlainObject;class fn extends nh(hg){constructor(t,i,r,f,S,n){Kot(i)&&(n=i,i=bf(n,"x",0),r=bf(n,"y",0),f=bf(n,"width",2),S=bf(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,i,r,f,S,n),this.bootProgressBase(n),this.setValue(bf(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}bt.register("customProgress",function(e,t,i,r,f){var S=new fn(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.CustomProgress",fn);var jot=function(e){return this.easeValueTask||(this.easeValueTask=new Wn(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},Jot=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},Zot=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},Qot=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const qot={start:jot,stop:Jot,pause:Zot,resume:Qot},Fr=Phaser.Utils.Objects.GetValue;class sD extends $a{constructor(t,i){var r=Fr(i,"x",0),f=Fr(i,"y",0),S=Fr(i,"width",64),n=Fr(i,"height",64);super(t,r,f,S,n),this.resetFromConfig(i,!0),this.buildShapes(i),Fr(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var r;return r=i?1e3:this.duration,this.setDuration(Fr(t,"duration",r)),r=i?"Linear":this.ease,this.setEase(Fr(t,"ease",r)),r=i?0:this.delay,this.setDelay(Fr(t,"delay",r)),r=i?0:this.repeatDelay,this.setRepeatDelay(Fr(t,"repeatDelay",r)),r=i?16777215:this.color,this.setColor(Fr(t,"color",r)),r=i?0:this.value,this.setValue(Fr(t,"value",r)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(sD.prototype,qot);const qa=Phaser.Math.DegToRad,_ot=Phaser.Math.Linear,tht=Phaser.Math.Easing.Expo.In,eht={right:0,down:1,left:2,up:3};var iht=function(e,t,i,r,f,S,n,x,s,a,g){var u=su(t,0,r,f,S,n,x,s,a,g);e.startAt(u.x,u.y);var h=su(i,0,r,f,S,n,x,s,a,g);e.lineTo(h.x,h.y);var l=su(i,i,r,f,S,n,x,s,a,g);e.lineTo(l.x,l.y);var o=su(0,i,r,f,S,n,x,s,a,g);e.lineTo(o.x,o.y);var d=su(0,t,r,f,S,n,x,s,a,g);e.lineTo(d.x,d.y);var v=su(t,t,r,f,S,n,x,s,a,g);e.lineTo(v.x,v.y),e.close()},b1={},su=function(e,t,i,r,f,S,n,x,s,a){var g=e*i,u=t*r;return b1.x=n*g+x*u+f,b1.y=s*g+a*u+S,b1};const lg={setDirection(e){return typeof e=="string"&&(e=eht[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new Fs)},updateShapes(){var e,t,i,r,f,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=qa(315);i=Math.cos(n),r=Math.sin(n);var x=qa(45);f=Math.cos(x),S=Math.sin(x);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=qa(135);i=Math.cos(n),r=Math.sin(n);var x=qa(225);f=Math.cos(x),S=Math.sin(x);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=qa(225);i=Math.cos(n),r=Math.sin(n);var x=qa(315);f=Math.cos(x),S=Math.sin(x);break;default:e=this.centerX-this.radius,t=this.centerY;var n=qa(45);i=Math.cos(n),r=Math.sin(n);var x=qa(135);f=Math.cos(x),S=Math.sin(x);break}for(var s=this.radius/7,a=this.getShapes(),g=0,u=a.length;g<u;g++){var h=a[g],l=(this.value+(u-g)*.1)%1;l=tht(Ye(l));var o=_ot(.25,1,l);h.fillStyle(this.color,o);var d=g*3+1,v=d+2;iht(h,d,v,s,s,e,t,i,r,f,S)}}},sht=Phaser.Math.Linear,rht={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Xa);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,f=t+i,S=i*2,n=this.getShapes(),x=n.length,s=i*2/x,a=s*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var g=0;g<x;g++){var u=n[g],h=this.prevValue===void 0?Math.random():u.getData("to");u.setData("from",h).setData("to",Math.random())}this.prevValue=this.value;for(var g=0;g<x;g++){var u=n[g],h=u.getData("from"),l=u.getData("to"),o=sht(h,l,this.value),d=o*S,v=r+s*(g+.5);u.lineStyle(a,this.color,1).setP0(v,f).setP1(v,f-d)}}},nht=Phaser.Math.Linear,aht={buildShapes(){for(var e=0;e<3;e++)this.addShape(new gr)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=i*.1,f=Math.ceil(r*.25),S=1-Ye(this.value),n=nht(.3,.9,S)*i,x=this.getShapes(),s=0,a=x.length;s<a;s++){var g=x[s],S=(this.value+s/a)%1,u=Math.PI*2*S;g.lineStyle(f,this.color).setRadius(r).setCenterPosition(e+Math.cos(u)*n,t+Math.sin(u)*n)}}},oht=Phaser.Math.Linear,hht=Phaser.Math.Easing.Expo.In,lht={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new Xa;this.addShape(i);var r=Ye(t/(e-1))/2;i.setData("offset",r)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,f=i*2,S=this.getShapes(),n=S.length,x=i*2/n,s=x*.7,a=0;a<n;a++){var g=S[a],u=(this.value+g.getData("offset"))%1;u=hht(Ye(u));var h=oht(.4,1,u)*f,l=r+x*(a+.5);g.lineStyle(s,this.color,1).setP0(l,t-h/2).setP1(l,t+h/2)}}},uht={buildShapes(){this.addShape(new Fs().setName("border")),this.addShape(new Fs().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=i*.7,f=e-r,S=t-r,n=r*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(f,S).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var x=(.5-this.value)*2,s=n*x;this.getShape("fill").fillStyle(this.color,1).startAt(f,S).lineTo(n,0,!0).lineTo(0,s,!0).lineTo(-n,0,!0).lineTo(0,-s,!0).close()}else{var x=(this.value-.5)*2,a=180*x;this.getShape("border").rotateAround(e,t,a),this.getShape("fill").fillStyle().lineStyle()}}},rD=Phaser.Math.RadToDeg,nD=Phaser.Math.Angle.WrapDegrees,dht=Phaser.Math.Angle.Wrap,fht=Phaser.Math.Angle.ShortestBetween,cht=Phaser.Math.DegToRad,aD=Phaser.Math.DegToRad(270),vht={buildShapes(){this.addShape(new gr().setName("border")),this.addShape(new Xa().setName("minuteHand")),this.addShape(new Xa().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),f=i-r/2,S=i*.8,n=i*.5,x=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var s=nD(rD(x)),a=nD(rD(this.minuteHandAngle)),g=fht(s,a);this.hourHandAngle=dht(this.hourHandAngle+cht(g)/12),this.getShape("border").lineStyle(r,this.color).setRadius(f).setCenterPosition(e,t);var u=this.minuteHandAngle+aD;this.getShape("minuteHand").lineStyle(r,this.color).setP0(e,t).setP1(e+Math.cos(u)*S,t+Math.sin(u)*S);var u=this.hourHandAngle+aD;this.getShape("hourHand").lineStyle(r,this.color).setP0(e,t).setP1(e+Math.cos(u)*n,t+Math.sin(u)*n)}},oD=Phaser.Math.Linear,pht=Phaser.Math.Easing.Expo.In,M1=2,A1=2,ght={buildShapes(){for(var e=M1*A1,t=0;t<e;t++){var i=new Xa;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,f=t-i,S=i*2/A1,n=i*2/M1,x=this.getShapes(),s=x.length,a=0;a<s;a++){var g=a%A1,u=Math.floor(a/M1),h=r+S*(g+.5),l=f+n*(u+.5),o=x[a],d=(this.value+(s-a)*.1)%1;d=pht(Ye(d));var v=(s-a)/s,c=oD(.7,1,d)*n,p=oD(.7,1,d)*S;o.lineStyle(p,this.color,v).setP0(h-c/2,l).setP1(h+c/2,l)}}},hD=Phaser.Math.Linear,mht={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new gr;this.addShape(i);var r=Ye(t/(e-1))/2;i.setData("offset",r)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,f=this.getShapes(),S=f.length,n=i*2/S,x=n/2,s=0;s<S;s++){var a=f[s],g=(this.value+a.getData("offset"))%1;g=Ye(g);var u=hD(.25,1,g),h=hD(.5,1,g)*x;a.fillStyle(this.color,u).setRadius(h).setCenterPosition(r+n*(s+.5),t)}}},lD=Phaser.Math.Linear,xht=Phaser.Math.Easing.Expo.In,yht={buildShapes(){for(var e=0;e<3;e++){var t=new Xa;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=e-i,f=this.getShapes(),S=f.length,n=i*2/S,x=i*2,s=0;s<S;s++){var a=f[s],g=(this.value+(S-s)*.1)%1;g=xht(Ye(g));var u=(s+1)/S,h=lD(.7,1,g)*x,l=lD(.7,1,g)*n,o=r+n*(s+.5);a.lineStyle(l,this.color,u).setP0(o,t-h/2).setP1(o,t+h/2)}}},Cht=Phaser.Math.Linear,R1=3,O1=3,Sht={buildShapes(){for(var e=R1*O1,t=0;t<e;t++){var i=new gr;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=this.isInitialize||this.isSizeChanged,f=e-i,S=t-i,n=i*2/O1,x=i*2/R1,s=Math.min(n,x)/2*.8,a=this.getShapes(),g=0,u=a.length;g<u;g++){var h=g%O1,l=Math.floor(g/R1),o=f+n*(h+.5),d=S+x*(l+.5),v=a[g],c=(this.value+v.getData("offset"))%1;c=Ye(c),v.fillStyle(this.color,Cht(.25,1,c)),r&&v.setRadius(s).setCenterPosition(o,d)}this.isInitialize=!1}},Tht={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Fs)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),f=i-r,S=f*.6,n=f*.7,x=f*1.2,s=this.getShapes(),a=0,g=s.length;a<g;a++){var u=s[a],h=(this.value+a/g)%1,l=Ye(h),o=e,d=t-15*h,v=f*h,c=S*h,p=n*h,y=x*h;u.lineStyle(r,this.color,l).startAt(o,d).cubicBezierCurveTo(o,d-c,o-v,d-c,o-v,d).cubicBezierCurveTo(o-v,d+c,o,d+p,o,d+y).cubicBezierCurveTo(o,d+p,o+v,d+c,o+v,d).cubicBezierCurveTo(o+v,d-c,o,d-c,o,d).close()}}},Eht=Phaser.Math.Linear,Pht={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Xa);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,r=this.radius,f=r/2,S=Math.ceil(r/20),n=this.getShapes(),x=0,s=n.length;x<s;x++){var a=n[x],g=x/s,u=Math.PI*2*g,h=Eht(.25,1,(1-this.value+g)%1);a.lineStyle(S,this.color,h),i&&a.setP0(e+Math.cos(u)*f,t+Math.sin(u)*f).setP1(e+Math.cos(u)*r,t+Math.sin(u)*r)}this.isInitialize=!1}},wht={buildShapes(){this.addShape(new gr().setName("track")),this.addShape(new gr().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=i*.9,f=Math.ceil(r/25),S=i*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(f,this.color,.7).setRadius(r).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(n)*r,t+Math.sin(n)*r)}},bht={buildShapes(){this.addShape(new gr().setName("track")),this.addShape(new Yl().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),f=i-r/2;this.getShape("track").lineStyle(r,this.color,.5).setRadius(f).setCenterPosition(e,t);var S=this.value*360,n=S+60;this.getShape("arc").lineStyle(r,this.color,1).setRadius(f).setCenterPosition(e,t).setAngle(S,n)}},Mht=Phaser.Math.Linear,Aht={buildShapes(){for(var e=0;e<4;e++){var t=new Yl().setPie();this.addShape(t),t.setData("speed",Mht(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r;this.prevValue!==void 0&&(r=this.value-this.prevValue,this.prevValue>this.value&&(r+=1));for(var f=this.getShapes(),S=0,n=f.length;S<n;S++){var x=f[S],s=(S+1)/n;if(this.prevValue===void 0){var a=S/n*360,g=a+90;x.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(a,g).setData("angle",a)}else{var a=x.getData("angle")+x.getData("speed")*r;a=a%360;var g=a+90;x.fillStyle(this.color,s).setRadius(i).setCenterPosition(e,t).setAngle(a,g).setData("angle",a)}}this.prevValue=this.value}},Rht={buildShapes(){this.addShape(new gr)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=i*this.value,f=Math.ceil(i/25),S=Ye(this.value);this.getShapes()[0].lineStyle(f,this.color,S).setRadius(r).setCenterPosition(e,t)}},Oht=Phaser.Math.Linear,Lht=Phaser.Math.Easing.Expo.In,Dht={buildShapes(){this.addShape(new gr().setName("center")),this.addShape(new Fs().setName("arc0")),this.addShape(new Fs().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=this.isInitialize||this.isSizeChanged,f=i*2/6,S=e-i+f,n=t+i-f,x=this.getShapes(),s=0,a=x.length;s<a;s++){var g=x[s],u=(this.value+(a-s)*.1)%1;u=Lht(Ye(u));var h=Oht(.25,1,u);switch(g.name){case"center":g.fillStyle(this.color,h),r&&g.setRadius(f).setCenterPosition(S,n);break;case"arc0":if(g.fillStyle(this.color,h),r){var l=f*2,o=f*3;g.startAt(S,n-l).lineTo(S,n-o).setIterations(8).arc(S,n,o,270,360).lineTo(S+l,n).setIterations(6).arc(S,n,l,360,270,!0).close()}break;case"arc1":if(g.fillStyle(this.color,h),r){var l=f*4,o=f*5;g.startAt(S,n-l).lineTo(S,n-o).setIterations(8).arc(S,n,o,270,360).lineTo(S+l,n).setIterations(6).arc(S,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},Fht={buildShapes(){for(var e=0;e<2;e++)this.addShape(new gr)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/25),f=i-r,S=this.getShapes(),n=0,x=S.length;n<x;n++){var s=S[n],a=(this.value+n/x)%1,g=Ye(a);s.lineStyle(r,this.color,g).setRadius(a*f).setCenterPosition(e,t)}}},Iht={buildShapes(){this.addShape(new Yl().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,r=Math.ceil(i/10),f=i-r,S=this.value*720,n=Ye(this.value)*180,x=S-n;this.getShape("arc").lineStyle(r,this.color,1).setRadius(f).setCenterPosition(e,t).setAngle(x+315,S+315)}};Phaser.Utils.Objects.GetValue;const L1={leftArrow:lg,rightArrow:lg,upArrow:lg,downArrow:lg,audio:rht,ball:aht,bars:lht,box:uht,clock:vht,cube:ght,dots:mht,facebook:yht,grid:Sht,hearts:Tht,ios:Pht,oribit:wht,oval:bht,pie:Aht,puff:Rht,radio:Dht,rings:Fht,spinner:Iht},D1=[];for(var Bht in L1)D1.push(Bht);const uD=Phaser.Utils.Array.GetRandom,Nht={setAnimationMode(e,t){L1.hasOwnProperty(e)||(e=uD(D1)),this.animationMode=e;var i=L1[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=uD(D1);return this.setAnimationMode(t,e),this}},Ght=Phaser.Utils.Objects.GetValue;class F1 extends sD{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(Ght(i,"animationMode"))}}Object.assign(F1.prototype,Nht),bt.register("aioSpinner",function(e){var t=new F1(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.AIOSpinner",F1);const kht={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var dD=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var r=this.images[t],f=C1(r,this,e,!0),S=f.width/r.width;this.setChildLocalScale(r,S),r.biasScale=S}},ug=function(e){this.scaleMode===0?this.resize(e.width,e.height):dD.call(this)};const fD=Phaser.Utils.Objects.IsPlainObject,I1=Phaser.Utils.Objects.GetValue,Vht=Phaser.Utils.Array.GetRandom;var zht={out:0,in:1},cn=function(e,t,...i){for(var r=0,f=i.length;r<f;r++){var S=i[r];if(S&&S.hasOwnProperty(e))return S[e]}return t};const Uht={setTransitionDirection(e){return typeof e=="string"&&(e=zht[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),ug.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,fD(e)){var r=e;e=I1(r,"key",void 0),t=I1(r,"frame",void 0),i=I1(r,"mode"),Array.isArray(i)&&(i=Vht(i));var f;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(f=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(cn("duration",this.duration,r,f)).setEaseFunction(cn("ease",this.easeFunction,r,f)).setTransitionDirection(cn("dir",this.dir,r,f));var S=cn("mask",void 0,r,f);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var n=cn("onStart",void 0,r,f),x=cn("onProgress",void 0,r,f),s=cn("onComplete",void 0,r,f);(n!==void 0||x!==void 0||s!==void 0)&&this.setTransitionStartCallback(n,cn("onStartScope",void 0,r,f)).setTransitionProgressCallback(x,cn("onProgressScope",void 0,r,f)).setTransitionCompleteCallback(s,cn("onCompleteScope",void 0,r,f))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),fD(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Wn(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var cD=function(e,t,i,r,f){switch(this.clear().fillStyle(16777215),this.shapeType){case 1:i=i.left;var S=Math.min(e,t)/2;this.fillCircle(-e*(r-.5),-t*(f-.5),S+i);break;default:this.fillRect(-(e*r)-i.left,-(t*f)-i.top,e+i.left+i.right,t+i.top+i.bottom);break}};const Wht=Phaser.GameObjects.Graphics;class B1 extends Wht{constructor(t,i,r){i===void 0&&(i=0),typeof i=="string"&&(i=Yht[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=Ka(r),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,i){var r=this.parent;return t===void 0&&(t=r.x),i===void 0&&(i=r.y),super.setPosition(t,i),this}resize(t,i,r){var f=this.parent;t===void 0&&(t=f.width),i===void 0&&(i=f.height),r===void 0?r=this.padding:typeof r=="number"&&(r=Ka(r));var S=this.width!==t||this.height!==i,n=this.padding!==r&&!Mp(this.padding,r);return!S&&!n?this:(this.width=t,this.height=i,n&&nn(r,this.padding),this.originX=f.originX,this.originY=f.originY,cD.call(this,t,i,r,f.originX,f.originY),this)}setOrigin(t,i){i===void 0&&(i=t);var r=this.parent;return t===void 0&&(t=r.originX),i===void 0&&(i=r.originY),this.originX===t&&this.originY===i?this:(this.originX=t,this.originY=i,cD.call(this,this.width,this.height,this.padding,t,i),this)}}const Yht={rectangle:0,circle:1},$ht={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof B1)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new B1(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),r=0,f=i.length;r<f;r++)this.setImageMaskEnable(i[r],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var Xht=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(r,f){return`${r}${t}${f}`}:i=function(r,f){return`${e}_${r}${t}${f}`},i},Hht=function(e,t,i,r,f,S){i==null&&(i="__BASE"),S||(S=Xht(i,S));for(var n=e.sys.textures.get(t),x=typeof i=="object"?i:n.get(i),s=x.width,a=x.height,g,u,h,l=s/r,o=a/f,d=x.cutX,v=x.cutY,c=0,p=0,y=0;y<f;y++){c=0;for(var m=0;m<r;m++)h=S(m,y),g=c+d,u=p+v,n.add(h,0,g,u,l,o),c+=l;p+=o}return{getFrameNameCallback:S,cellWidth:l,cellHeight:o,columns:r,rows:f}};const Jn=Phaser.Utils.Objects.GetValue,Kht=Phaser.GameObjects.Image,jht=Phaser.Utils.Objects.IsPlainObject,Jht=Phaser.Math.RotateAround;var Zht=function(e,t,i,r){jht(t)&&(r=t,t=Jn(r,"columns",1),i=Jn(r,"rows",1));var f=Jn(r,"createImageCallback");if(!f){var S=Jn(r,"ImageClass",Kht);f=function(I,B,G){return new S(I,0,0,B,G)}}for(var n=Jn(r,"originX",.5),x=Jn(r,"originY",.5),s=Jn(r,"add",!0),a=Jn(r,"align",s),g=Jn(r,"objectPool",void 0),u=e.scene,h=e.texture,l=e.frame,o=Hht(u,h,l,t,i),d=o.getFrameNameCallback,v=e.scaleX,c=e.scaleY,p=e.rotation,y=e.getTopLeft(),m=y.x,C=y.y,T=[],E=o.cellWidth*v,w=o.cellHeight*c,P=0;P<i;P++)for(var b=0;b<t;b++){var M,A=d(b,P);if(g&&g.length>0?M=g.pop().setTexture(h,A):M=f(u,h,A),s&&u.add.existing(M),a){var R=m+E*b,L=C+w*P,O=R+n*E,D=L+x*w;M.setOrigin(n,x).setPosition(O,D).setScale(v,c).setRotation(p),Jht(M,m,C,p)}T.push(M)}return T};const Qht={gridCutImage(e,t,i,r){r===void 0&&(r={}),r.objectPool=this.imagesPool;for(var f=Zht(e,t,i,r),S,n=0,x=f.length;n<x;n++)S=f[n],S.setVisible(!0),this.add(S);return this.cellImages=f,this.setChildLocalVisible(e,!1),f},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,r,f=0,S=t.length;f<S;f++)i=t[f],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),r=i.frame.name,i.setTexture(),e.remove(r);return this.imagesPool.push(...t),t.length=0,this}},vD={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var pD={};Object.assign(pD,kht,Uht,$ht,Qht,vD);var qht=function(e,t,i,r){},_ht=function(e,t,i,r){e.setChildLocalAlpha(t,1-r).setChildLocalAlpha(i,r)},tlt=function(e,t,i,r){e.setChildLocalAlpha(t,1)};const gD=Phaser.Utils.Objects.IsPlainObject,Ri=Phaser.Utils.Objects.GetValue,elt=Phaser.Math.Clamp;class dg extends qs{constructor(t,i,r,f,S,n){gD(i)?(n=i,i=Ri(n,"x",0),r=Ri(n,"y",0),f=Ri(n,"key",void 0),S=Ri(n,"frame",void 0)):gD(S)&&(n=S,S=void 0);var x=Ri(n,"back",void 0),s=Ri(n,"front",void 0);x||(x=t.add.image(i,r,f,S)),s||(s=t.add.image(i,r,f,S));var a=Ri(n,"width",void 0),g=Ri(n,"height",void 0),u=a!==void 0&&g!==void 0?1:0;a===void 0&&(a=s.width),g===void 0&&(g=s.height),super(t,i,r,a,g),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,u=Ri(n,"scaleMode",u),typeof u=="string"&&(u=ilt[u]),this.scaleMode=u,x.setVisible(!1),this.addMultiple([x,s]),this.backImage=x,this.frontImage=s,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var h=Ri(n,"onStart",void 0),l=Ri(n,"onProgress",void 0),o=Ri(n,"onComplete",void 0),d=Ri(n,"dir",0);h===void 0&&l===void 0&&o===void 0&&(h=qht,l=_ht,o=tlt,d=0),this.setTransitionStartCallback(h,Ri(n,"onStartScope",void 0)).setTransitionProgressCallback(l,Ri(n,"onProgressScope",void 0)).setTransitionCompleteCallback(o,Ri(n,"onCompleteScope",void 0)).setTransitionDirection(d).setDuration(Ri(n,"duration",1e3)).setEaseFunction(Ri(n,"ease","Linear"));var v=Ri(n,"mask",void 0);v&&this.setMaskGameObject(v),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,ug.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=elt(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,r=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),N1.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,r,t)),N1.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,r,t),t===1){N1.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,r,t);var f=r.texture.key,S=r.frame.name;this.frontImage.setTexture(f,S),this.backImage.setTexture(f,S),ug.call(this,r),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),ug.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&dD.call(this),this}}var N1=function(e,t,i,r,f,S){if(e){if(this.scaleMode){var n;r.biasScale>0&&(n=this.getChildLocalScaleX(r),n=n/r.biasScale,this.setChildLocalScale(r,n)),f.biasScale&&(n=this.getChildLocalScaleX(f),n=n/f.biasScale,this.setChildLocalScale(f,n))}if(t?e.call(t,i,r,f,S):e(i,r,f,S),this.scaleMode){var n;r.biasScale>0&&(n=this.getChildLocalScaleX(r),n=n*r.biasScale,this.setChildLocalScale(r,n)),f.biasScale&&(n=this.getChildLocalScaleX(f),n=n*f.biasScale,this.setChildLocalScale(f,n))}}};Object.assign(dg.prototype,pD);const ilt={fit:1,FIT:1,envelop:2,ENVELOP:2};bt.register("transitionImage",function(e,t,i,r,f){var S=new dg(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.TransitionImage",dg);const slt="slideLeft",rlt="slideRight",nlt="slideUp",alt="slideDown",olt="slideAwayLeft",hlt="slideAwayRight",llt="slideAwayUp",ult="slideAwayDown",dlt="pushLeft",flt="pushRight",clt="pushUp",vlt="pushDown",plt="zoomOut",glt="zoomIn",mlt="zoomInOut",xlt="fade",ylt="crossFade",Clt="wipeLeft",Slt="wipeRight",Tlt="wipeUp",Elt="wipeDown",Plt="irisOut",wlt="irisIn",blt="irisInOut",Mlt="pieOut",Alt="pieIn",Rlt="pieInOut",Olt="blinds",Llt="squares",Dlt="diamonds",Flt="circles",Ilt="curtain",Blt="pixellate",Nlt="dissolve",Glt="revealLeft",klt="revealRight",Vlt="revealUp",zlt="revealDown";var Ult=function(e){e.addTransitionMode(hlt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.width*f;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(olt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.width*-f;t.setChildLocalPosition(i,S,0)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(ult,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.height*f;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(llt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.height*-f;t.setChildLocalPosition(i,0,S)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0)}})},Wlt=function(e){e.addTransitionMode(rlt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=r.width*(f-1);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,f){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(slt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=r.width*(1-f);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,f){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(alt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=r.height*(f-1);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,f){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(nlt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=r.height*(1-f);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,f){t.setChildLocalPosition(r,0,0)}})},Ylt=function(e){e.addTransitionMode(flt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.width*f;t.setChildLocalPosition(i,S,0);var S=r.width*(f-1);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}}).addTransitionMode(dlt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.width*-f;t.setChildLocalPosition(i,S,0);var S=r.width*(1-f);t.setChildLocalPosition(r,S,0)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}}).addTransitionMode(vlt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.height*f;t.setChildLocalPosition(i,0,S);var S=r.height*(f-1);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}}).addTransitionMode(clt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=i.height*-f;t.setChildLocalPosition(i,0,S);var S=r.height*(1-f);t.setChildLocalPosition(r,0,S)},onComplete:function(t,i,r,f){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(r,0,0)}})},$lt=function(e){e.addTransitionMode(plt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=1-f;t.setChildLocalScale(i,S,S)},onComplete:function(t,i,r,f){t.setChildLocalScale(i,1,1)}}).addTransitionMode(glt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){var S=f;t.setChildLocalScale(r,S,S)},onComplete:function(t,i,r,f){t.setChildLocalScale(r,1,1)}}).addTransitionMode(mlt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,f){r.tint=0},onProgress:function(t,i,r,f){var S;f<.5?(S=1-Ye(f),t.setChildLocalScale(i,S,S)):(i.visible&&t.setChildVisible(i,!1),S=1-Ye(f),t.setChildLocalScale(r,S,S))},onComplete:function(t,i,r,f){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(r,1,1),t.setChildVisible(r,!0),r.tint=16777215}})},Xlt=function(e){e.addTransitionMode(xlt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,f){r.tint=0},onProgress:function(t,i,r,f){var S;f<.5?(f=Ye(f),S=Math.floor(255*(1-f)),i.tint=(S<<16)+(S<<8)+S):(i.visible&&t.setChildVisible(i,!1),f=Ye(f),S=Math.floor(255*(1-f)),r.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,i,r,f){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(r,!0),r.tint=16777215}}).addTransitionMode(ylt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,f){},onProgress:function(t,i,r,f){t.setChildLocalAlpha(i,1-f),t.setChildLocalAlpha(r,f)},onComplete:function(t,i,r,f){t.setChildLocalAlpha(i,1)}})},Hlt=function(e){var t=new fn(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),r=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*r,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*r,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*r).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*r).setTopLeftPosition(0,0);break}}});return t},Klt=function(e){var t=Hlt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Slt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Clt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Elt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Tlt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}})},jlt=function(e){var t=new fn(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},Jlt=function(e){var t=jlt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Plt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(wlt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,r,f,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(blt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){f.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,r,f,S){var n;S<.5?(S=Ye(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),r.tint=(n<<16)+(n<<8)+n):(r.visible&&i.setChildVisible(r,!1),S=Ye(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),f.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1),i.setChildVisible(r,!0),r.tint=16777215,i.setChildVisible(f,!0),f.tint=16777215}})},Zlt=function(e){var t=new fn(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,r=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-r,90+r).setPie()}});return t},Qlt=function(e){var t=Zlt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Mlt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Alt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,r,f,S){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(1-S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}}).addTransitionMode(Rlt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){f.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,r,f,S){var n;S<.5?(S=Ye(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),r.tint=(n<<16)+(n<<8)+n):(r.visible&&i.setChildVisible(r,!1),S=Ye(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(1-S),f.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1),i.setChildVisible(r,!0),r.tint=16777215,i.setChildVisible(f,!0),f.tint=16777215}})},qlt=function(e,t){var i=new fn(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var r=this.getShapes(),f=this.width/t,S=0;S<t;S++)r[S].fillStyle(16777215).setSize(f*this.value,this.height).setTopLeftPosition(f*S,0)}});return i},_lt=function(e){var t=qlt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Olt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}})},tut=function(e,t,i){var r=new fn(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var f=this.getShapes(),S=this.width/t,n=this.height/i,x=0;x<i;x++)for(var s=0;s<t;s++)f[s*i+x].fillStyle(16777215).setSize(S*this.value,n*this.value).setCenterPosition(S*(s+.5),n*(x+.5))}});return r},eut=function(e){var t=tut(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(Llt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}})},iut=function(e,t,i){var r=new fn(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var f=this.getShapes(),S=this.width/(t-1),n=this.height/i,x=n*2,s=S*this.value,a=n*this.value,g=0;g<i;g++)for(var u=0;u<t;u++){var h=u*S,l=g*x+u%2*n;f[u*i+g].fillStyle(16777215).start(h+s,l).lineTo(h,l+a).lineTo(h-s,l).lineTo(h,l-a).lineTo(h+s,l).close()}}});return r},sut=function(e){var t=iut(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Dlt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}})},rut=function(e,t,i){var r=new fn(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var f=this.getShapes(),S=this.width/(t-1),n=this.height/i,x=n*2,s=Math.max(S,n)*this.value,a=0;a<i;a++)for(var g=0;g<t;g++){var u=g*S,h=a*x+g%2*n;f[g*i+a].fillStyle(16777215).setCenterPosition(u,h).setRadius(s)}}});return r},nut=function(e){var t=rut(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Flt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){i.maskGameObject.setValue(S)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1)}})},aut=function(e,t){var i=new fn(e,{type:"Graphics",create:{lines:t},update:function(){for(var r=this.getShapes(),f=this.width/t,S=f/2,n=0;n<t;n++){var x=f*n,s=this.height*this.value,a=x+S;r[n].fillStyle(16777215).start(x,0).horizontalLineTo(s).arc(a,s,S,180,0,!0).horizontalLineTo(-s).lineTo(x,0).close()}}});return i},out=function(e){var t=aut(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ilt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,r,f,S){f.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,r,f,S){var n;S<.5?(S=Ye(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),r.tint=(n<<16)+(n<<8)+n):(r.visible&&i.setChildVisible(r,!1),S=Ye(S),n=Math.floor(255*(1-S)),i.maskGameObject.setValue(S),f.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,r,f,S){i.removeMaskGameObject(!1),i.setChildVisible(r,!0),r.tint=16777215,i.setChildVisible(f,!0),f.tint=16777215}})},hut=function(e){e.addTransitionMode(Blt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,r,f){t.setChildVisible(r,!1),i.effect=i.preFX.addPixelate(0),r.effect=r.preFX.addPixelate(0)},onProgress:function(t,i,r,f){if(f<.5){f=Ye(f);var S=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(S*f)}else{i.visible&&t.setChildVisible(i,!1),r.visible||t.setChildVisible(r,!0),f=Ye(f);var S=Math.min(r.width,r.height)/5;r.effect.amount=Math.ceil(S*f)}},onComplete:function(t,i,r,f){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),r.preFX.remove(r.effect),delete r.effect}})};const lut=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }


vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,uut=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Ir=Phaser.Utils.Objects.GetValue,dut=Phaser.Math.Clamp;class G1 extends uut{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:lut}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Ir(t,"progress",0)),this.setTransitionTargetTexture(Ir(t,"toTexture","__DEFAULT"),Ir(t,"toFrame",void 0),Ir(t,"resizeMode",1)),this.setNoise(Ir(t,"noiseX",void 0),Ir(t,"noiseY",void 0),Ir(t,"noiseZ",void 0)),this.setFromEdge(Ir(t,"fromEdgeStart",.01),Ir(t,"fromEdgeWidth",.05)),this.setToEdge(Ir(t,"toEdgeStart",.01),Ir(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=dut(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,r){t===void 0&&(t="__DEFAULT");var f=this.game.textures.getFrame(t,i);return f||(f=this.game.textures.getFrame("__DEFAULT")),this.toRatio=f.width/f.height,this.toFrame=f,this.targetTexture=f.glTexture,r!==void 0&&(this.resizeMode=r),this}setResizeMode(t){return typeof t=="string"&&(t=fut[t]),this.resizeMode=t,this}setNoise(t,i,r){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),r===void 0&&(r=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=r,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var fut={stretch:0,contain:1,cover:2},cut=function(e,t,i){jo(e).renderer.pipelines.addPostPipeline(t,i)},vut=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var r=e.postPipelines[e.postPipelines.length-1];return r.resetFromJSON(i),i.name&&(r.name=i.name),r};const put=Phaser.Utils.Array.SpliceOne;var gut=function(e,t,i){for(var r,f,S,r=e.postPipelines,f=r.length-1;f>=0;f--){var S=r[f];S instanceof t&&(S.destroy(),put(r,f))}},mut=function(e){cut(e.scene.game,"rexDissolvePostFx",G1),e.addTransitionMode(Nlt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,r,f){i.effect=vut(i,G1)},onProgress:function(t,i,r,f){i.effect.setProgress(f)},onComplete:function(t,i,r,f){gut(i,G1),delete i.effect}})};const fg=.1,xut=0,yut=0,Cut=1,Sut=1,mD=0,xD=1;var Tut=function(e){e.addTransitionMode(klt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,f){r.effect=r.preFX.addReveal(fg,xut,mD)},onProgress:function(t,i,r,f){r.effect.progress=f},onComplete:function(t,i,r,f){r.preFX.remove(r.effect),delete r.effect}}).addTransitionMode(Glt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,f){r.effect=r.preFX.addReveal(fg,Cut,mD)},onProgress:function(t,i,r,f){r.effect.progress=f},onComplete:function(t,i,r,f){r.preFX.remove(r.effect),delete r.effect}}).addTransitionMode(zlt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,f){r.effect=r.preFX.addReveal(fg,yut,xD)},onProgress:function(t,i,r,f){r.effect.progress=f},onComplete:function(t,i,r,f){r.preFX.remove(r.effect),delete r.effect}}).addTransitionMode(Vlt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,r,f){r.effect=r.preFX.addReveal(fg,Sut,xD)},onProgress:function(t,i,r,f){r.effect.progress=f},onComplete:function(t,i,r,f){r.preFX.remove(r.effect),delete r.effect}})};const yD=[Ult,Wlt,Ylt,$lt,Xlt,Jlt,Qlt,Klt,_lt,eut,sut,nut,out,hut,mut,Tut];class CD extends dg{constructor(t,i,r,f,S,n){super(t,i,r,f,S,n);for(var x=0,s=yD.length;x<s;x++)yD[x](this)}}bt.register("transitionImagePack",function(e,t,i,r,f){var S=new CD(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.TransitionImagePack",CD);var Eut=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=C1(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},SD={scaleImage:Eut};Object.assign(SD,vD);var Put=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),vs(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const TD=Phaser.Utils.Objects.IsPlainObject,Zn=Phaser.Utils.Objects.GetValue;class cg extends qs{constructor(t,i,r,f,S,n){TD(i)?(n=i,i=Zn(n,"x",0),r=Zn(n,"y",0),f=Zn(n,"key",void 0),S=Zn(n,"frame",void 0)):TD(S)&&(n=S,S=void 0);var x=Zn(n,"image");x?x.setPosition(i,r).setOrigin(.5):(x=t.add.image(i,r,f,S),f===void 0&&x.setVisible(!1)),super(t,i,r,1,1),this.type="rexImageBox";var s=Zn(n,"background");s&&this.add(s),this.background=s,this.add(x),this.image=x,this.scaleUp=Zn(n,"scaleUp",!1);var a=Zn(n,"width",x.width),g=Zn(n,"height",x.height);this.resize(a,g)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),Put.call(this),this.scaleImage(),this}setTexture(t,i){var r=this.image;return r.setTexture(t,i),t!==null?(this.setChildVisible(r,!0),this.scaleImage()):this.setChildVisible(r,!1),this}}Object.assign(cg.prototype,SD),bt.register("imageBox",function(e,t,i,r,f){var S=new cg(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.ImageBox",cg),bt.register("fullWindowRectangle",function(e,t){var i=new e1(this.scene,e,t);return this.scene.add.existing(i),i}),Pt(window,"RexPlugins.UI.FullWindowRectangle",e1),bt.register("fullWindowZone",function(){var e=new eC(this.scene);return this.scene.add.existing(e),e}),Pt(window,"RexPlugins.UI.FullWindowZone",eC),bt.register("cover",function(e){var t=new s1(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Cover",s1);var k1=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const ED={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},PD={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},wut={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},wD=Phaser.Utils.Objects.GetValue;var bD=function(e,t,i,r){var f=wD(r,"preventDefault",!1),S=wD(r,"preTest");for(let n in i)t.addEventListener(n,function(x){(!S||S(e,n))&&e.emit(i[n],e,x),f&&x.preventDefault()})};const but=Phaser.GameObjects.DOMElement,MD=Phaser.Utils.Objects.IsPlainObject,vn=Phaser.Utils.Objects.GetValue;class vg extends but{constructor(t,i,r,f,S,n){MD(i)?(n=i,i=vn(n,"x",0),r=vn(n,"y",0),f=vn(n,"width",0),S=vn(n,"height",0)):MD(f)&&(n=f,f=vn(n,"width",0),S=vn(n,"height",0)),n===void 0&&(n={});var x,s=vn(n,"inputType",void 0);s===void 0&&(s=vn(n,"type","text")),s==="textarea"?(x=document.createElement("textarea"),x.style.resize="none"):(x=document.createElement("input"),x.type=s),bp(ED,n,x);var a=vn(n,"style",void 0);a=bp(PD,n,a);var g=x.style;for(var u in n)u in ED||u in PD||u in g&&(a[u]=n[u]);a["box-sizing"]="border-box",super(t,i,r,x,a),this.type="rexInputText",this.resize(f,S),bD(this,x,wut),rO(x),vn(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var Mut={resize:k1};Object.assign(vg.prototype,Mut),bt.register("inputText",function(e){var t=new vg(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.InputText",vg);const AD=Phaser.Utils.Objects.GetValue;var Aut=function(e,t){var i=document.createElement("input");i.type="file";var r=AD(t,"accept",""),f=AD(t,"multiple",!1);return i.setAttribute("accept",r),f?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},RD=function(e,t){return e===void 0&&(e=0),new Promise(function(i,r){setTimeout(function(){i(t)},e)})},OD=function({game:e,fileInput:t,closeDelay:i}){return Pp(jo(e).events,"focus").then(function(){return RD(i)}).then(function(){var r={files:t.files};return Promise.resolve(r)})};const Rut=Phaser.Utils.Objects.GetValue,Out=Phaser.DOM.RemoveFromDOM;var LD=function(e,t){var i=Rut(t,"closeDelay",200),r=Aut(e,t);return r.click(),OD({game:e,fileInput:r,closeDelay:i}).then(function(f){return Out(r),r.remove(),Promise.resolve(f)})},DD=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},Lut=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=jo(e);var r;return i==="textures"?r=e.textures:r=e.cache[i],r},FD=function(e,t,i,r,f,S){if(!(f===null||f===!1))if(Kn(f))f();else{var n=Lut(e,i,f);n.exists(r)&&n.remove(r)}var x=e.load;if(S&&x.once(`filecomplete-${i}-${r}`,function(a,g,u){S(u)}),Kn(t))t();else{var s=window.URL.createObjectURL(t);x[i](r,s)}x.start()},Dut=function(e,t,i,r,f){var S=this.scene;return FD(S,e,t,i,r,f),this},Fut=function(e,t,i,r){var f=this.scene;return new Promise(function(S,n){var x=function(s){S(s)};FD(f,e,t,i,r,x)})};const ID={loadFile:Dut,loadFilePromise:Fut},Iut=Phaser.GameObjects.DOMElement,BD=Phaser.Utils.Objects.IsPlainObject,pn=Phaser.Utils.Objects.GetValue;class Mf extends Iut{constructor(t,i,r,f,S,n){BD(i)?(n=i,i=pn(n,"x",0),r=pn(n,"y",0),f=pn(n,"width",0),S=pn(n,"height",0)):BD(f)&&(n=f,f=pn(n,"width",0),S=pn(n,"height",0));var x=document.createElement("input");x.type="file";var s=x.style;s.display="none";var a=document.createElement("label");a.appendChild(x);var g=pn(n,"style",void 0);super(t,i,r,a,g),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(f,S);var u=this;x.onchange=function(){u.emit("change",u)},this.setCloseDelay(pn(n,"closeDelay",200)),x.onclick=function(){OD({game:t,fileInput:x,closeDelay:u.closeDelay}).then(function(){u.emit("select",u)})}}resetFromJSON(t){return this.setAccept(pn(t,"accept","")),this.setMultiple(pn(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var But={resize:k1,syncTo:DD};Object.assign(Mf.prototype,But,ID),bt.register("fileChooser",function(e){var t=new Mf(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.FileChooser",Mf);const Nut={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},Gut={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var ND={resize:k1,syncTo:DD};Object.assign(ND,Nut,Gut,ID);const kut={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},Vut=Phaser.GameObjects.DOMElement,GD=Phaser.Utils.Objects.IsPlainObject,Qn=Phaser.Utils.Objects.GetValue;class V1 extends Vut{constructor(t,i,r,f,S,n){GD(i)?(n=i,i=Qn(n,"x",0),r=Qn(n,"y",0),f=Qn(n,"width",0),S=Qn(n,"height",0)):GD(f)&&(n=f,f=Qn(n,"width",0),S=Qn(n,"height",0)),n===void 0&&(n={});var x=document.createElement("div"),s=Qn(n,"style",void 0);super(t,i,r,x,s),this.type="rexFileDropZone",this.resize(f,S),this._files=[],this.setDropEnable(Qn(n,"dropEnable",!0));var a=Qn(n,"filters");a&&this.addFilters(a),bD(this,x,kut,{preventDefault:!0,preTest(g){return g.dropEnable}}),this.on("drop",function(g,u){this._files=u.dataTransfer.files;var h=this._files;if(h&&this.filters)for(var l in this.filters){for(var o=this.filters[l],d=[],v=0,c=h.length;v<c;v++){var p=h[v];o(p,h)&&d.push(p)}d.length>0&&this.emit(`drop.${l}`,d)}},this)}get files(){return this._files}}Object.assign(V1.prototype,ND),bt.register("fileDropZone",function(e){var t=new V1(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.FileDropZone",V1);var zut=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,r,f,S,n,x,s=!1;if(this.childrenProportion,this.orientation===0)for(var a=this.space.item,g=!0,u=0,h=i.length;u<h;u++)r=i[u],r.hasOwnProperty("rexSizer")&&(f=r.rexSizer,!f.hidden&&(S=f.proportion,S===0||e?(x=this.getChildWidth(r),f.fitRatio>0&&!f.resolved&&(x=void 0),x===void 0&&(S!==0&&!this.hasProportion0Child?x=0:s=!0)):x=0,!s&&(n=r.rexSizer.padding,x+=n.left+n.right,g?g=!1:x+=a,t+=x)));else for(var u=0,h=i.length;u<h;u++)r=i[u],r.hasOwnProperty("rexSizer")&&(f=r.rexSizer,!f.hidden&&(x=this.getChildWidth(r),x===void 0&&(s=!0),!s&&(n=f.padding,x+=n.left+n.right,t=Math.max(x,t))));if(!s)return t+this.space.left+this.space.right},Uut=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,r,f,S,n,x,s=!1;if(this.childrenProportion,this.orientation===0)for(var a=0,g=i.length;a<g;a++)r=i[a],r.hasOwnProperty("rexSizer")&&(f=r.rexSizer,!f.hidden&&(x=this.getChildHeight(r),x===void 0&&(s=!0),!s&&(n=f.padding,x+=n.top+n.bottom,t=Math.max(x,t))));else for(var u=this.space.item,h=!0,a=0,g=i.length;a<g;a++)r=i[a],r.hasOwnProperty("rexSizer")&&(f=r.rexSizer,!f.hidden&&(S=f.proportion,S===0||e?(x=this.getChildHeight(r),f.fitRatio>0&&!f.resolved&&(x=void 0),x===void 0&&(S!==0&&!this.hasProportion0Child?x=0:s=!0)):x=0,!s&&(n=f.padding,x+=n.top+n.bottom,h?h=!1:x+=u,t+=x)));if(!s)return t+this.space.top+this.space.bottom},Wut=function(e,t){t===void 0&&(t=this.width);var i,r=e.rexSizer;if(this.orientation===0)r.proportion>0&&this.proportionLength>0&&(i=r.proportion*this.proportionLength);else if(r.expand){var f=this.space,S=t-f.left-f.right,n=r.padding;i=S-n.left-n.right}return i},Yut=function(e,t){t===void 0&&(t=this.height);var i,r=e.rexSizer;if(this.orientation===0){if(r.expand){var f=this.space,S=t-f.top-f.bottom,n=r.padding;i=S-n.top-n.bottom}}else r.proportion>0&&this.proportionLength>0&&(i=r.proportion*this.proportionLength);return i},$ut=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,r=0,f=t.length;r<f;r++)i=t[r],i.isRexSizer&&e.push(i);return e},Xut=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,r=0,f=i.length;r<f;r++)e=i[r],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(vs(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,pf.call(this),this};const Hut=Phaser.Math.Wrap;var Kut=function(){for(var e=this.sizerChildren,t,i,r,f=this.innerLeft,S=this.innerTop,n=this.innerWidth,x=this.innerHeight,s=f,a=S,g,u,h,l,o,d,v,c=this.startChildIndex,p=0,y=e.length;p<y;p++)c===0?v=p:v=Hut(p+c,0,y),this.rtl&&(v=y-v-1),t=e[v],!t.rexSizer.hidden&&(i=t.rexSizer,r=i.padding,xf.call(this,t),t.isRexSpace?(o=0,d=0):(o=this.getExpandedChildWidth(t),d=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,o,d),S1(t,this)):vs(t,o,d),o===void 0&&(o=Ge(t)),d===void 0&&(d=ke(t)),this.orientation===0?(g=s+r.left,i.proportion===0||this.proportionLength===0?h=o:h=i.proportion*this.proportionLength,u=a+r.top,l=x-r.top-r.bottom):(g=s+r.left,h=n-r.left-r.right,u=a+r.top,i.proportion===0||this.proportionLength===0?l=d:l=i.proportion*this.proportionLength),yf.call(this,t,g,u,h,l,i.align),this.orientation===0?s+=h+r.left+r.right+this.space.item:a+=l+r.top+r.bottom+this.space.item)},jut=function(t){var t=WC.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},Jut=function(t){var t=XC.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},Zut=function(){return this.hasRatioFitChild&&this.orientation===1?!0:YC.call(this)},kD=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):e-this.getInnerPadding("left")-this.getInnerPadding("right");for(var r,f,S,n,x=this.sizerChildren,s=0,a=x.length;s<a;s++){var r=x[s],f=r.rexSizer;if(!f.hidden){var g=f.fitRatio;g&&(this.orientation===0?(n=i-this.getChildOuterPadding(r,"top")-this.getChildOuterPadding(r,"bottom"),S=n*g):(S=i-this.getChildOuterPadding(r,"top")-this.getChildOuterPadding(r,"bottom"),n=S/g),vs(r,S,n),r.isRexSizer&&r.setMinSize(S,n),f.resolved=!0)}}}},Qut=function(e){this.wrapResult||(this.orientation===1&&kD.call(this,e,void 0),$C.call(this,e))},qut=function(){return this.hasRatioFitChild&&this.orientation===0?!0:HC.call(this)},_ut=function(e){this.wrapResult||(this.orientation===0&&kD.call(this,void 0,e),KC.call(this,e))};const tdt=Phaser.GameObjects.Zone;class z1 extends tdt{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var edt=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var r=-1,f=1/0,S=0,n=i.length;S<n;S++){var x=i[S],s;this.orientation===0?s=Math.abs(x.left-e):s=Math.abs(x.top-t),f>s&&(f=s,r=S)}var x=i[i.length-1],s;return this.orientation===0?s=Math.abs(x.right-e):s=Math.abs(x.bottom-t),f>s&&(f=s,r=S+1),r};const VD=Phaser.Utils.Objects.IsPlainObject,qn=Phaser.Utils.Objects.GetValue,zD=Phaser.Display.Align.CENTER,idt={min:0,full:-1};var U1=function(e,t,i,r,f,S,n,x,s,a){cf.call(this,e);var g=e.isRexSpace,u=typeof t;if(t===null)return this;if(u!=="number"){if(u==="string")t=idt[t];else if(VD(t)){var h=t;t=qn(h,"proportion",void 0),i=qn(h,"align",zD),r=qn(h,"padding",0),f=qn(h,"expand",!1),S=qn(h,"key",void 0),n=qn(h,"index",void 0),e.isRexSizer||(x=qn(h,"minWidth",void 0),s=qn(h,"minHeight",void 0)),a=qn(h,"fitRatio",0)}}typeof i=="string"&&(i=Kl[i]),t===void 0&&(t=g?1:0),i===void 0&&(i=zD),r===void 0&&(r=0),f===void 0&&(f=!1),x===void 0&&(g?x=0:e.isRexSizer||(x=e._minWidth)),s===void 0&&(g?s=0:e.isRexSizer||(s=e._minHeight)),a===void 0||a===!1?a=0:a===!0&&(a=Ge(e)/ke(e));var h=this.getSizerConfig(e);return h.proportion=t,h.align=i,h.padding=Ka(r),h.expand=f,h.fitRatio=t===0?a:0,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=x===void 0?Ge(e):x:e.minHeight=s===void 0?ke(e):s),f&&(this.orientation===0?e.minHeight=s:e.minWidth=x)),S!==void 0&&this.addChildrenMap(S,e),this};const sdt={add:U1,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),U1.call(this,new z1(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,r,f,S,n,x){return VD(i)&&(i.index=e),U1.call(this,t,i,r,f,S,n,e,x),this},insertAtPosition(e,t,i,r,f,S,n,x,s){var a=edt.call(this,e,t);return a===-1&&(a=void 0),this.insert(a,i,r,f,S,n,x,s),this}},rdt=Phaser.Utils.Array.Remove,ndt={remove(e,t){return this.getParentSizer(e)!==this?this:(rdt(this.sizerChildren,e),vf.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,rg.call(this,e),this}},adt={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=Kl[t]),this.getSizerConfig(e).align=t,this}},odt={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},hdt={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var ldt=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],r=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?r||this.insertSpace(0):r&&this.remove(i,!0);var f=t.length-1,S=t[f],n=S&&S.isRexSpace;return e==="center"?n||this.insertSpace(f+1):n&&this.remove(S,!0),this};const W1={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,r){var f=i.getData(e),S=r.getData(e);return t?S-f:f-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,r){var f=i[e],S=r[e];return t?S-f:f-S}),this}};var UD={getChildrenWidth:zut,getChildrenHeight:Uut,getExpandedChildWidth:Wut,getExpandedChildHeight:Yut,getChildrenSizers:$ut,preLayout:Xut,layoutChildren:Kut,resolveWidth:jut,resolveHeight:Jut,hasWidthWrap:Zut,runWidthWrap:Qut,hasHeightWrap:qut,runHeightWrap:_ut,setChildrenAlignMode:ldt};Object.assign(UD,sdt,ndt,adt,odt,hdt,W1);var udt=function(){for(var e=0,t=this.sizerChildren,i,r,f=0,S=t.length;f<S;f++)i=t[f],!i.rexSizer.hidden&&(r=i.rexSizer.proportion,r>0?e+=r:r===0&&(this.hasProportion0Child=!0));return e},ddt={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Af=function(e){return typeof e=="string"&&(e=ddt[e]),e};const Y1=Phaser.Utils.Objects.IsPlainObject,yr=Phaser.Utils.Objects.GetValue;class we extends vh{constructor(t,i,r,f,S,n,x){Y1(i)?(x=i,i=yr(x,"x",0),r=yr(x,"y",0),f=yr(x,"width",void 0),S=yr(x,"height",void 0),n=yr(x,"orientation",0)):Y1(f)?(x=f,f=yr(x,"width",void 0),S=yr(x,"height",void 0),n=yr(x,"orientation",0)):Y1(n)&&(x=n,n=yr(x,"orientation",0)),n===void 0&&(n=0),super(t,i,r,f,S,x),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(yr(x,"space.item",0)),this.setStartChildIndex(yr(x,"startChildIndex",0)),this.setRTL(yr(x,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Af(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=udt.call(this)),this._childrenProportion}}Object.assign(we.prototype,UD);var pg=function(e,t,i){if(e){var r=t==null,f=i==null;return r&&f||(r||(e.displayWidth=t),f||(e.displayHeight=i),r&&(e.scaleX=e.scaleY),f&&(e.scaleY=e.scaleX)),e}},fdt=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var r=e.iconSize;r&&(this.setChildDisplaySize(i,r,r),this.iconWidth!==void 0&&this.setIconSize(r)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var f=this.childrenMap.action;if(f){e.action?this.show(f):this.hide(f);var S=e.actionSize;S&&(this.setChildDisplaySize(f,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},cdt={appendText:CA,resetDisplayContent:fdt};class $1 extends we{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var r=this.childrenMap.icon;return!r||!r.setTexture?this:(r.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(pg(r,this.iconWidth,this.iconHeight),this.resetChildScaleState(r)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var r=this.childrenMap.action;return!r||!r.setTexture?this:(r.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(pg(r,this.actionWidth,this.actionHeight),this.resetChildScaleState(r)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&pg(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&pg(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,r){var f=this.childrenMap.iconMask;f&&(f.setPosition(),this.resetChildPositionState(f));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),this}resize(t,i){super.resize(t,i);var r=this.childrenMap.iconMask;r&&r.resize();var f=this.childrenMap.actionMask;return f&&f.resize(),this}}Object.assign($1.prototype,cdt);var Br=function(e,t,i,r){var f=new B1(t,i,r);if(e&&!e.isRexSizer){var S=f.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(f),f};const vdt=Phaser.GameObjects.Text;var X1=function(e){return e instanceof vdt};const pdt=Phaser.GameObjects.BitmapText;var WD=function(e){return e instanceof pdt};const is=0,ss=1,_s=2;var _a=function(e){var t;return WD(e)?t=_s:X1(e)?t=is:t=ss,t},gdt=function(e,t){for(var i=[],r=e.split(`
`),f=t.style,S=f.wordWrapWidth,n=f.hasOwnProperty("wrapMode")?f.wrapMode:3,x=t.context,s=0,a=r.length;s<a;s++)xdt(x,r[s],S,n,i);return i},mdt=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var r=e.split(" "),f,S=0,n=r.length;S<n;S++)f=r[S],S<n-1?Vd(f)?i.push(f+" "):(i.push(...f.split("")),i.push(" ")):f!==""&&(Vd(f)?i.push(f):i.push(...f.split("")))}return i},xdt=function(e,t,i,r,f){if(t.length<=100){var S=e.measureText(t).width;if(S<=i)return f.push(t),f}for(var n=mdt(t,r),x,s,a=[],g=i,u=0,h=n.length;u<h;u++)x=n[u],s=e.measureText(x).width,g-=s,g<0&&(f.push(a.join("")),a.length=0,g=i-s),a.push(x);return a.length>0&&f.push(a.join("")),f},H1=function(e,t){var i=_a(e);switch(i){case is:switch(typeof t=="string"&&(t=np[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=gdt;break;case 1:default:e.style.wordWrapCallback=null;break}break;case ss:typeof t=="string"&&(t=np[t]||0),e.style.wrapMode=t;break}},ydt=function(e){var t=function(i){var r=e.padding,f=i-r.left-r.right,S=e.style;return X1(e)?(S.wordWrapWidth=f,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=f,S.maxLines=0),S.fixedWidth=i,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},Cdt=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},Sdt=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},Tdt=function(e){return e instanceof Ll},gg=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=Tdt(e)?Cdt(e):WD(e)?Sdt(e):ydt(e),e};const Ie=Phaser.Utils.Objects.GetValue;class _n extends $1{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var r=Ie(i,"background",void 0),f=Ie(i,"icon",void 0),S=Ie(i,"iconMask",void 0),n=Ie(i,"text",void 0),x=Ie(i,"action",void 0),s=Ie(i,"actionMask",void 0),a=Ie(i,"align",void 0);if(r&&this.addBackground(r),f){var g;this.orientation===0?(n||x)&&(g={right:Ie(i,"space.icon",0),top:Ie(i,"space.iconTop",0),bottom:Ie(i,"space.iconBottom",0),left:Ie(i,"space.iconLeft",0)}):(n||x)&&(g={bottom:Ie(i,"space.icon",0),left:Ie(i,"space.iconLeft",0),right:Ie(i,"space.iconRight",0),top:Ie(i,"space.iconTop",0)});var u=Ie(i,"squareFitIcon",!1)?1:0;if(this.add(f,{proportion:0,padding:g,fitRatio:u}),S&&(S=Br.call(this,f,f,1)),!u){var h=Ie(i,"iconSize",void 0);this.setIconSize(Ie(i,"iconWidth",h),Ie(i,"iconHeight",h))}}if(n){var l=Ie(i,"wrapText",!1);l&&(l===!0&&(l="word"),H1(n,l),i.expandTextWidth=!0,gg(n));var o=Ie(i,"space.text",0),d=Ie(i,"expandTextWidth",!1),v=Ie(i,"expandTextHeight",!1),c,g,p;this.orientation===0?(c=d?1:0,x&&(g={right:o}),p=v):(c=v?1:0,x&&(g={bottom:o}),p=d),this.add(n,{proportion:c,expand:p,padding:g})}if(x){var g;this.orientation===0?g={top:Ie(i,"space.actionTop",0),bottom:Ie(i,"space.actionBottom",0),right:Ie(i,"space.actionRight",0)}:g={left:Ie(i,"space.actionLeft",0),right:Ie(i,"space.actionRight",0),bottom:Ie(i,"space.actionBottom",0)};var u=Ie(i,"squareFitAction",!1)?1:0;if(this.add(x,{proportion:0,padding:g,fitRatio:u}),s&&(s=Br.call(this,x,x,1)),!u){var y=Ie(i,"actionSize");this.setActionSize(Ie(i,"actionWidth",y),Ie(i,"actionHeight",y))}}this.setChildrenAlignMode(a),this.addChildrenMap("background",r),this.addChildrenMap("icon",f),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",n),this.addChildrenMap("action",x),this.addChildrenMap("actionMask",s)}}const to=Phaser.Utils.Objects.GetValue;var Edt=function(e,t){var i=to(t,"canvas"),r=to(i,"width",128),f=to(i,"height",128),S=new rh(e,0,0,r,f);e.add.existing(S);var n=to(i,"key"),x=to(i,"frame"),s=to(i,"fill");return s!==void 0?S.fill(s):n!==void 0&&S.loadTexture(n,x),S.setTexture=S.loadTexture.bind(S),S},Pdt=function(e,t){var i=new cg(e,{scaleUp:to(t,"scaleUpIcon",!1),background:to(t,"iconBackground"),image:Edt(e,t)});return e.add.existing(i),i};const wdt=Phaser.Utils.Objects.GetValue;var YD=function(e,t){var i=wdt(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const bdt=Phaser.Utils.Objects.GetValue;var Mdt=function(e,t){var i=YD(e,t);if(i){var r=bdt(t,"click"),f=new Yn(i,r);return f.on("click",e.open,e),f}};const $D={accept:"image/*",multiple:!1};var XD=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,r=i.image,f=t[0];return r.loadFromFilePromise(f).then(function(){return i.scaleImage(),e.emit("select",f,e),Promise.resolve(f)})}},Adt=function(e,t){var i=e.scene,r=new Mf(i,$D);return i.add.existing(r),e.pin(r),r.on("change",function(){XD(e,r.files)}),r};const Rdt={async openPromise(){var e=this;return LD(this.scene.game,$D).then(function(t){return XD(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var Odt=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},Ldt=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},HD={getFileName:Odt,saveTexture:Ldt};Object.assign(HD,Rdt);const Ddt=Phaser.Utils.Objects.GetValue;class K1 extends _n{constructor(t,i){var r=Pdt(t,i);i.icon=r,super(t,i),this.type="rexImageFileInputLabel";var f=this.iconWidth,S=this.iconWidth;f!==void 0&&S!==void 0&&r.resize(f,S),this.clickTarget=YD(this,i),this.clickTarget&&(Ddt(i,"domButton",!0)?this.fileChooser=Adt(this):this.clickBehavior=Mdt(this,i)),this.addChildrenMap("canvas",r.image),this.addChildrenMap("iconBackground",r.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser))}}Object.assign(K1.prototype,HD),bt.register("imageInputLabel",function(e){var t=new K1(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ImageInputLabel",K1);let Fdt=class extends ti{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Fe(t,i))return t[i];var r=t.parent;if(Fe(r,i))return r[i]}set(t,i,r){return Fe(t,i)?t[i]=r:Fe(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const j1=Phaser.Utils.Objects.GetValue;class Idt extends ti{constructor(t,i){super(t,i),this.style=j1(i,"style",this);var r=j1(i,"propertiesMap");this.activeStyle=J1(i,"active",r),this.hoverStyle=J1(i,"hover",r),this.disableStyle=J1(i,"disable",r),this.onModifyStyle=j1(i,"onModifyStyle")}getStyle(t){return sC(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Mp(i,t))return this.modifyStyle(t),i}}setActiveState(t){return Z1.call(this,"active",t),this}setHoverState(t){return Z1.call(this,"hover",t),this}setDisableState(t){return Z1.call(this,"disable",t),this}}var J1=function(e,t,i){var r=iC(e,t);if(i)for(var f in r)i.hasOwnProperty(f)&&(r[i[f]]=r[f],delete r[f]);return r},Z1=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,r=`${e}Style`,f=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[f]=this.applyStyle(this[r]):(this.applyStyle(this[f]),this[f]=void 0))};const ru={addStyleManager(e){return this.styleManager=new Idt(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},Bdt=Phaser.GameObjects.Image,Rf=Phaser.Utils.Objects.GetValue;class Of extends Bdt{constructor(t,i){i===void 0&&(i={});var r=Rf(i,"x",0),f=Rf(i,"y",0),S=Rf(i,"key",""),n=Rf(i,"frame",void 0);super(t,r,f,S,n),this.type="rexStatesImage";var x=Rf(i,"effects",!0);x&&Dl(this,x),this.style=new Fdt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Of.prototype,ru),bt.register("statesImage",function(e){var t=new Of(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.StatesImage",Of);class Lf extends Jo{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=Ndt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const Ndt={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(Lf.prototype,ru),bt.register("statesRoundRectangle",function(e){var t=new Lf(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.StatesRoundRectangle",Lf);let Gdt=class extends ti{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Fe(t,i))return t[i];var r=t.parent;if(Fe(r,i))return r[i]}set(t,i,r){return Fe(t,i)?t[i]=r:Fe(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const kdt=Phaser.GameObjects.NineSlice,Nr=Phaser.Utils.Objects.GetValue;class Df extends kdt{constructor(t,i){i===void 0&&(i={});var r=Nr(i,"x",0),f=Nr(i,"y",0),S=Nr(i,"key",null),n=Nr(i,"frame",null),x=Nr(i,"width",0),s=Nr(i,"height",0),a=Nr(i,"leftWidth",0),g=Nr(i,"rightWidth",0),u=Nr(i,"topHeight",0),h=Nr(i,"bottomHeight",0);super(t,r,f,S,n,x,s,a,g,u,h),this.type="rexStatesNineSlice";var l=Nr(i,"effects",!0);l&&Dl(this,l),this.style=new Gdt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Df.prototype,ru),bt.register("statesNineSlice",function(e){var t=new Df(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.StatesNineSlice",Df);let Vdt=class extends ti{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Fe(t,i))return t[i];var r=t.parent;if(Fe(r,i))return r[i]}set(t,i,r){return Fe(t,i)?t[i]=r:Fe(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const zdt=Phaser.Utils.Objects.GetValue;class Ff extends Hv{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var r=zdt(i,"effects",!0);r&&Dl(this,r),this.style=new Vdt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(Ff.prototype,ru),bt.register("statesNinePatch",function(e){var t=new Ff(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.StatesNinePatch",Ff);const Udt=Phaser.GameObjects.Text,Q1=Phaser.Utils.Objects.GetValue;class mg extends Udt{constructor(t,i){i===void 0&&(i={});var r=Q1(i,"x",0),f=Q1(i,"y",0),S=Q1(i,"text","");super(t,r,f,S,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(n,x){var s=x.hasOwnProperty("fontStyle")||x.hasOwnProperty("fontSize")||x.hasOwnProperty("fontFamily");n.style.update(s)},this.addStyleManager(i),delete i.style}}Object.assign(mg.prototype,ru),bt.register("statesText",function(e){var t=new mg(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.StatesText",mg);class Wdt extends ti{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(Fe(t,i))return t[i];var r=t.parent;if(Fe(r,i))return r[i]}set(t,i,r){return Fe(t,i)?t[i]=r:Fe(t.parent,i)&&(t.parent[i]=r),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const Ydt=Phaser.GameObjects.BitmapText,ph=Phaser.Utils.Objects.GetValue;class xg extends Ydt{constructor(t,i){i===void 0&&(i={});var r=ph(i,"x",0),f=ph(i,"y",0),S=ph(i,"font",""),n=ph(i,"fontSize",!1),x=ph(i,"align",0),s=ph(i,"tint");super(t,r,f,S,"",n,x),this.type="rexStatesBitmapText",s!==void 0&&this.setTint(s);var a=ph(i,"effects",!0);a&&Dl(this,a),this.style=new Wdt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(xg.prototype,ru),bt.register("statesBitmapText",function(e){var t=new xg(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.StatesBitmapText",xg);var $dt=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,Xdt(this,e)),this},Xdt=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var r=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(r=!0,i.animation={});var f=i.animation;r&&(f.duration=0);var S=f.onProgress;f.onProgress=function(x){S&&S(x),e.needRedraw()};var n=f.onComplete;return f.onComplete=function(x){n&&n(x),e.needRedraw()},t},Hdt=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,r=0,f=t.length;r<f;r++)if(i=t[r],i.label===e)return i}else return this.chart.data.datasets[e]},Kdt=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var r=this.chart.data.labels;if(t=r.indexOf(t),t===-1)return}return i.data[t]}},jdt=function(e,t,i){if(this.chart===void 0)return this;var r=this.getChartDataset(e);if(typeof t=="string"){var f=this.chart.data.labels;if(t=f.indexOf(t),t===-1)return this}return r.data[t]=i,this},Jdt=function(){return this.chart===void 0?this:(this.chart.update(),this)};let q1=class extends rh{constructor(t,i,r,f,S,n){super(t,i,r,f,S),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var r=this.chart;r.height=this.canvas.height,r.width=this.canvas.width,r.aspectRatio=r.height?r.width/r.height:null,r.update()}return this}};var Zdt={setChart:$dt,getChartDataset:Hdt,getChartData:Kdt,setChartData:jdt,updateChart:Jdt};Object.assign(q1.prototype,Zdt),bt.register("chart",function(e,t,i,r,f){var S=new q1(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.Chart",q1),bt.register("container",function(e,t,i,r,f){var S=new qs(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.Container",qs),bt.register("sizer",function(e,t,i,r,f,S){var n=new we(this.scene,e,t,i,r,f,S);return this.scene.add.existing(n),n}),Pt(window,"RexPlugins.UI.Sizer",we);var KD=function(){return Array.prototype.reduce.call(arguments,Qdt,0)},Qdt=function(e,t){return e+t},qdt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,r=this.sizerChildren,f,S,n,x,s=!1;this.totalColumnProportions;for(var a=0;a<this.columnCount;a++){if(x=this.columnProportions[a],i=0,x===0||e){for(var g=0;g<this.rowCount;g++)f=r[g*this.columnCount+a],f&&(f.rexSizer.hidden||(n=this.getChildWidth(f),n===void 0&&(x!==0&&!this.hasColumnProportion0Child?n=0:s=!0),!s&&(S=f.rexSizer.padding,n+=S.left+S.right,i=Math.max(i,n))));s||(t+=i)}s||e&&(this.columnWidth[a]=i)}if(!s){var u=this.space,h=Math.max(u.indentLeftOdd,u.indentLeftEven);return t+KD(u.left,h,...u.column,u.right)}},_dt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,r=this.sizerChildren,f,S,n,x,s=!1;this.totalRowProportions;for(var a=0;a<this.rowCount;a++){if(x=this.rowProportions[a],i=0,x===0||e){for(var g=0;g<this.columnCount;g++)f=r[a*this.columnCount+g],f&&(f.rexSizer.hidden||(n=this.getChildHeight(f),n===void 0&&(x!==0&&!this.hasRowProportion0Child?n=0:s=!0),!s&&(S=f.rexSizer.padding,n+=S.top+S.bottom,i=Math.max(i,n))));s||(t+=i)}s||e&&(this.rowHeight[a]=i)}if(!s){var u=this.space,h=Math.max(u.indentTopOdd,u.indentTopEven);return t+KD(u.top,h,...u.row,u.bottom)}},tft=function(e,t){var i,r=e.rexSizer;if(r.expandWidth){var f=r.padding;i=t-f.left-f.right}return i},eft=function(e,t){var i,r=e.rexSizer;if(r.expandHeight){var f=r.padding;i=t-f.top-f.bottom}return i},ift=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,r=0,f=t.length;r<f;r++)i=t[r],i&&i.isRexSizer&&e.push(i);return e},sft=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,pf.call(this),this},rft=function(){for(var e,t,i,r=this.innerLeft,f=this.innerTop,S,n=f,x,s,a,g,u,h,l=this.space.column,o=this.space.row,d=this.space.indentLeftOdd,v=this.space.indentLeftEven,c=this.space.indentTopOdd,p=this.space.indentTopEven,y,m,C,T,E=0;E<this.rowCount;E++){m=this.getRowHeight(E),C=E%2?v:d,S=r+C;for(var w=0;w<this.columnCount;w++){if(y=this.getColumnWidth(w),e=this.getChildAt(w,E),!e||e.rexSizer.hidden){S+=y+l[w];continue}xf.call(this,e),u=this.getExpandedChildWidth(e,y),h=this.getExpandedChildHeight(e,m),e.isRexSizer?(e.runLayout(this,u,h),S1(e,this)):vs(e,u,h),t=e.rexSizer,i=t.padding,x=S+i.left,a=y-i.left-i.right,T=w%2?p:c,s=n+T+i.top,g=m-i.top-i.bottom,yf.call(this,e,x,s,a,g,t.align),S+=y+l[w]}n+=m+o[E]}},nft=function(t){var t=WC.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var r=t-this.getChildrenWidth(!1);r>=0&&(this.proportionWidthLength=r/i)}else this.proportionWidthLength=0}return t},aft=function(t){var t=XC.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var r=t-this.getChildrenHeight(!1);r>=0&&(this.proportionHeightLength=r/i)}else this.proportionHeightLength=0}return t},oft=function(e){var t,i,r,f;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(f=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,f),r=t.resolveWidth(i),r===void 0&&(r=i),t.resolveChildrenWidth(r))},hft=function(e){var t,i,r,f;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(f=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,f),r=t.resolveHeight(i),r===void 0&&(r=i),t.resolveChildrenHeight(r))},lft=function(e){var t,i,r,f;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(f=this.getColumnWidth(parseInt(S)%this.columnCount),i=this.getExpandedChildWidth(t,f),t.isRexSizer&&(r=t.resolveWidth(i),r===void 0&&(r=i)),t.runWidthWrap(r));return this},uft=function(e){var t,i,r,f;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(f=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),i=this.getExpandedChildHeight(t,f),t.isRexSizer&&(r=t.resolveHeight(i),r===void 0&&(r=i)),t.runHeightWrap(r));return this};const jD=Phaser.Utils.Objects.IsPlainObject,eo=Phaser.Utils.Objects.GetValue,JD=Phaser.Display.Align.CENTER;var ZD=function(e,t,i,r,f){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,n=0;n<r;n++)if(S=t*r+n,!i[S])return S}else if(t===void 0){for(var S,n=0;n<f;n++)if(S=n*r+e,!i[S])return S}else{var S=t*r+e;if(!i[S])return S}else if(t===!0){for(var S,n=0;n<r;n++)for(var x=0;x<f;x++)if(S=x*r+n,!i[S])return S}else for(var n=0,s=i.length;n<s;n++)if(!i[n])return n;return null},dft=function(e,t,i,r,f,S,n){if(cf.call(this,e),jD(t)){var s=t;t=eo(s,"column",void 0),i=eo(s,"row",void 0),r=eo(s,"align",JD),f=eo(s,"padding",0),S=eo(s,"expand",!1),n=eo(s,"key",void 0)}var x=ZD(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(x===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),x=ZD(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof r=="string"&&(r=Kl[r]),r===void 0&&(r=JD),f===void 0&&(f=0),S===void 0&&(S=!0);var s=this.getSizerConfig(e);return s.align=r,s.padding=Ka(f),jD(S)?(s.expandWidth=eo(S,"width",!1),s.expandHeight=eo(S,"height",!1)):(s.expandWidth=S,s.expandHeight=S),this.sizerChildren[x]=e,n!==void 0&&this.addChildrenMap(n,e),this};const fft={add:dft};var nu=function(e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=e.length-1);for(var f=i;f<=r;f++)e[f]=t;return e};const cft={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),vf.call(this,e,t),this},removeAt(e,t,i){var r=this.getChildAt(e,t);return r&&this.remove(r,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return nu(this.sizerChildren,null),rg.call(this,e),this}},vft={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")nu(this.space.column,e);else for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0;return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")nu(this.space.row,e);else for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0;return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},QD=Phaser.Utils.Objects.GetValue;var pft=function(e,t,i,r,f){if(i===void 0&&(i=0),r===void 0&&(r=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,nu(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")nu(this.columnProportions,i);else for(var S=0;S<e;S++)this.columnProportions[S]=i[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof r=="number")nu(this.rowProportions,r);else for(var S=0;S<t;S++)this.rowProportions[S]=r[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(QD(f,"column",0)),this.setRowSpace(QD(f,"row",0));var n=this.scene,x=this.createCellContainerCallback;if(x)for(var s=0,a=this.rowCount;s<a;s++)for(var g=0,u=this.columnCount;g<u;g++){var h={column:g,row:s},l=x(n,g,s,h);l&&this.add(l,h)}return this},qD=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var r=[e*this.columnCount,0],f=0;f<this.columnCount;f++)r.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,r),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},gft=function(e,t){return qD.call(this,this.rowCount,e,t),this},_D=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var r=this.rowCount-1;r>=0;r--){var f=r*this.columnCount+e;this.sizerChildren.splice(f,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},mft=function(e,t){return _D.call(this,this.columnCount,e,t),this},tF={getChildrenWidth:qdt,getChildrenHeight:_dt,getExpandedChildWidth:tft,getExpandedChildHeight:eft,getChildrenSizers:ift,preLayout:sft,layoutChildren:rft,resolveWidth:nft,resolveHeight:aft,resolveChildrenWidth:oft,resolveChildrenHeight:hft,runWidthWrap:lft,runHeightWrap:uft,resetGrid:pft,inseryEmptyRow:qD,addEmptyRow:gft,insertEmptyColumn:_D,addEmptyColumn:mft};Object.assign(tF,fft,cft,vft,W1);var xft=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},yft=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const yg=Phaser.Utils.Objects.IsPlainObject,Ke=Phaser.Utils.Objects.GetValue;class Gr extends vh{constructor(t,i,r,f,S,n,x,s,a,g){yg(i)?(g=i,i=Ke(g,"x",0),r=Ke(g,"y",0),f=Ke(g,"width",void 0),S=Ke(g,"height",void 0),n=Ke(g,"column",g.col||0),x=Ke(g,"row",0),s=Ke(g,"columnProportions",0),a=Ke(g,"rowProportions",0)):yg(f)?(g=f,f=Ke(g,"width",void 0),S=Ke(g,"height",void 0),n=Ke(g,"column",g.col||0),x=Ke(g,"row",0),s=Ke(g,"columnProportions",0),a=Ke(g,"rowProportions",0)):yg(n)?(g=n,n=Ke(g,"column",g.col||0),x=Ke(g,"row",0),s=Ke(g,"columnProportions",0),a=Ke(g,"rowProportions",0)):yg(s)&&(g=s,s=Ke(g,"columnProportions",0),a=Ke(g,"rowProportions",0)),super(t,i,r,f,S,g),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Ke(g,"createCellContainerCallback")),this.setIndentLeft(Ke(g,"space.indentLeftOdd",0),Ke(g,"space.indentLeftEven",0)),this.setIndentTop(Ke(g,"space.indentTopOdd",0),Ke(g,"space.indentTopEven",0)),this.resetGrid(n,x,s,a,Ke(g,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=xft.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=yft.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var r=this.sizerChildren.indexOf(t);return r===-1?null:(i===void 0&&(i={}),i.x=r%this.columnCount,i.y=Math.floor(r/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],r=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return r}getRowHeight(t){var i=this.rowProportions[t],r=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return r}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Gr.prototype,tF),bt.register("gridSizer",function(e,t,i,r,f,S,n,x,s){var a=new Gr(this.scene,e,t,i,r,f,S,n,x,s);return this.scene.add.existing(a),a}),Pt(window,"RexPlugins.UI.GridSizer",Gr);var Cft=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+this.space.left+this.space.right},Sft=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+this.space.top+this.space.bottom},Tft=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,r=0,f=t.length;r<f;r++)i=t[r],i!==`
`&&i.isRexSizer&&e.push(i);return e},Eft=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,pf.call(this),this},Pft=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i=this.justifyPercentage,r=this.space.item,f=this.space.line,S=this.space.indentLeftOdd,n=this.space.indentLeftEven,x=this.space.indentTopOdd,s=this.space.indentTopEven,a,g,u,h=0,l,o,d=this.innerLeft,v=this.innerTop,c,p,y,m,C=this.wrapResult.lines,T,E,w,P=d,b=v,M=0,A=C.length;M<A;M++){switch(T=C[M],E=T.children,this.rtl&&E.reverse(),e?(l=M%2?n:S,P=d+l):(o=M%2?s:x,b=v+o),w=t-(e?T.width:T.height),this.align){case 0:break;case 1:e?P+=w:b+=w;break;case 2:e?P+=w/2:b+=w/2;break;case 3:h=_1(t,w,i,E.length);break;case 4:h=_1(t,w,i,E.length),h===0&&(e?P+=w:b+=w);break;case 5:h=_1(t,w,i,E.length),h===0&&(e?P+=w/2:b+=w/2);break}for(var R=!0,L=0,O=E.length;L<O;L++)a=E[L],!a.rexSizer.hidden&&(g=a.rexSizer,u=g.padding,xf.call(this,a),e?c=P+u.left:p=b+u.top,R?R=!1:e?c+=r:p+=r,y=Ge(a),m=ke(a),e?(o=L%2?s:x,p=b+o+u.top,P=c+y+u.right+h):(l=L%2?n:S,c=P+l+u.left,b=p+m+u.top+h),yf.call(this,a,c,p,y,m,g.align));e?b+=T.height+f:P+=T.width+f}},_1=function(e,t,i,r){return t/e<=i?t/(r-1):0},wft=function(){return this.orientation===0?!0:YC.call(this)},eF=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,r=this.space.item,f=this.space.line,S=this.space.indentLeftOdd,n=this.space.indentLeftEven,x=this.space.indentTopOdd,s=this.space.indentTopEven,a,g,u,h,l=0,o,d,v=t.lines,c=void 0,p;if(this.orientation===0){for(var y=0,m=i.length;y<m;y++){if(a=i[y],a===`
`)a=void 0,u=0,p=!0;else{if(a.rexSizer.hidden)continue;a.isRexSizer&&a.layout(),u=this.getChildWidth(a),g=a.rexSizer.padding,u+=g.left+g.right,p=l<u||c===void 0}p&&(c&&(c.width=e-(l+r),t.width=Math.max(t.width,c.width),t.height+=c.height+f),c={children:[],width:0,height:0},v.push(c),o=v.length%2?S:n,l=e-o),l-=u+r,a&&(c.children.push(a),h=this.getChildHeight(a),g=a.rexSizer.padding,h+=g.top+g.bottom,c.height=Math.max(c.height,h))}c&&(c.width=e-(l+r),t.width=Math.max(t.width,c.width),t.height+=c.height),t.height+=Math.max(x,s)}else{for(var C=e,y=0,m=i.length;y<m;y++){if(a=i[y],a===`
`)a=void 0,u=0,p=!0;else{if(a.rexSizer.hidden)continue;a.isRexSizer&&a.layout(),h=this.getChildHeight(a),g=a.rexSizer.padding,h+=g.top+g.bottom,p=l<h||c===void 0}p&&(c&&(c.height=C-(l+r),t.height=Math.max(t.height,c.height),t.width+=c.width+f),c={children:[],width:0,height:0},v.push(c),d=v.length%2?x:s,l=C-d),l-=h+r,a&&(c.children.push(a),u=this.getChildWidth(a),g=a.rexSizer.padding,u+=g.left+g.right,c.width=Math.max(c.width,u))}c&&(c.height=C-(l+r),t.height=Math.max(t.height,c.height),t.width+=c.width),t.width+=Math.max(S,n)}return t},bft=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-this.space.left-this.space.right;this.wrapResult=eF.call(this,t),this.rexSizer.resolved=!0,$C.call(this,e)}},Mft=function(){return this.orientation===1?!0:HC.call(this)},Aft=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-this.space.top-this.space.bottom;this.wrapResult=eF.call(this,t),this.rexSizer.resolved=!0,KC.call(this,e)}};const iF=Phaser.Math.Distance.Between;var Rft=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var r=-1,f=1/0,S=0,n=i.length;S<n;S++){var x=i[S];if(!(Math.abs(x.centerY-t)>x.height/2)){var a=iF(x.left,x.centerY,e,t);f>a&&(f=a,r=S);var s=i[S+1];if(!(s&&s.y===x.y)){var a=iF(x.right,x.centerY,e,t);f>a&&(f=a,r=S+1)}}}return r};const Oft=Phaser.Utils.Objects.IsPlainObject,tS=Phaser.Utils.Objects.GetValue,Lft=Phaser.Display.Align.CENTER;var eS=function(e,t,i,r){if(e===`
`)return this.addNewLine(),this;if(cf.call(this,e),Oft(t)){var f=t;t=tS(f,"padding",0),i=tS(f,"key",void 0),r=tS(f,"index",void 0)}t===void 0&&(t=0);var f=this.getSizerConfig(e);return f.align=Lft,f.padding=Ka(t),r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const Dft={add(e,t,i){if(Or(e))for(var r=e,f=0,S=r.length;f<S;f++)eS.call(this,r[f],t);else eS.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,r){return eS.call(this,t,i,r,e),this},insertAtPosition(e,t,i,r,f){var S=Rft.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,i,r,f),this}},Fft=Phaser.Utils.Array.Remove,Ift={remove(e,t){return this.getParentSizer(e)!==this?this:(Fft(this.sizerChildren,e),vf.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,rg.call(this,e),this}};var sF={getChildrenWidth:Cft,getChildrenHeight:Sft,getChildrenSizers:Tft,preLayout:Eft,layoutChildren:Pft,hasWidthWrap:wft,runWidthWrap:bft,hasHeightWrap:Mft,runHeightWrap:Aft};Object.assign(sF,Dft,Ift,W1);var Bft=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,r,f=!1,S=0,n=e.length;S<n;S++)i=e[S],i!==`
`&&(r=this.getChildWidth(i),r===void 0&&(f=!0),!f&&(t=Math.max(r,t)));if(!f)return t},Nft=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,r,f=!1,S=0,n=e.length;S<n;S++)i=e[S],i!==`
`&&(r=this.getChildHeight(i),r===void 0&&(f=!0),!f&&(t=Math.max(r,t)));if(!f)return t};const rF=Phaser.Utils.Objects.IsPlainObject,rs=Phaser.Utils.Objects.GetValue;class gh extends vh{constructor(t,i,r,f,S,n){rF(i)?(n=i,i=rs(n,"x",0),r=rs(n,"y",0),f=rs(n,"width",void 0),S=rs(n,"height",void 0)):rF(f)&&(n=f,f=rs(n,"width",void 0),S=rs(n,"height",void 0)),super(t,i,r,f,S,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(rs(n,"orientation",0)),this.setItemSpacing(rs(n,"space.item",0)),this.setLineSpacing(rs(n,"space.line",0)),this.setIntentLeft(rs(n,"space.indentLeftOdd",0),rs(n,"space.indentLeftEven",0)),this.setIntentTop(rs(n,"space.indentTopOdd",0),rs(n,"space.indentTopEven",0)),this.setAlign(rs(n,"align",0)),this.setJustifyPercentage(rs(n,"justifyPercentage",.25)),this.setRTL(rs(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Af(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=Gft[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=Bft.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=Nft.call(this)),this._maxChildHeight}}const Gft={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(gh.prototype,sF),bt.register("fixWidthSizer",function(e,t,i,r,f){var S=new gh(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.FixWidthSizer",gh),bt.register("overlapSizer",function(e,t,i,r,f){var S=new xr(this.scene,e,t,i,r,f);return this.scene.add.existing(S),S}),Pt(window,"RexPlugins.UI.OverlapSizer",xr),bt.register("space",function(){var e=new z1(this.scene);return e}),Pt(window,"RexPlugins.UI.Space",z1),bt.register("label",function(e){var t=new _n(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Label",_n);const nF=["alpha","tint","flipX","flipY"];var iS=function(e,t){if(!t)return e;for(var i=0,r=nF.length;i<r;i++){var f=nF[i];f in t&&f in e&&(e[f]=t[f])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,n;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),S!==void 0&&n!==void 0&&e.setOrigin(S,n)}return e},Is=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var r;switch(i){case"image":r=new Of(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?r=new Ff(e,t):r=new Df(e,t);break;default:r=new Lf(e,t);break}return iS(r,t),e.add.existing(r),r};const aF={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var sS=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=kft(e));var i=e[t];return typeof i=="string"&&(i=aF[i]),i},kft=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,r;return t&&i?r=2:t?r=0:i?r=1:r=0,r};const Ii=Phaser.Utils.Objects.GetValue;var Vft=function(e,t,i){var r=Ii(i,"child"),f=Ii(r,"gameObject",void 0);if(f){var S=Ii(i,"space.child",0);e.childMargin={};var n=e.childMargin,x={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=S,n.bottom=S,n.left=S,n.right=S;break}else switch(e.scrollMode){case 0:n.top=Ii(S,"top",0),n.bottom=Ii(S,"bottom",0),x.left=Ii(S,"left",0),x.right=Ii(S,"right",0);break;case 1:n.top=Ii(S,"left",0),n.bottom=Ii(S,"right",0),x.top=Ii(S,"top",0),x.bottom=Ii(S,"bottom",0);break;default:n.top=Ii(S,"top",0),n.bottom=Ii(S,"bottom",0),n.left=Ii(S,"left",0),n.right=Ii(S,"right",0);break}t.add(f,{column:1,row:1,align:Ii(r,"align","center"),padding:x,expand:{width:Ii(r,"expandWidth",!0),height:Ii(r,"expandHeight",!0)}})}e.addChildrenMap("child",f)};const oF=Phaser.Math.Percent;var hF=function(e,t,i){var r;return e.y===t.y?r=oF(i.x,e.x,t.x):e.x===t.x&&(r=oF(i.y,e.y,t.y)),r},zft=function(e,t,i){if(this.enable){rS.x=t,rS.y=i;var r,f;this.reverseAxis?(r=this.getEndPoint(),f=this.getStartPoint()):(r=this.getStartPoint(),f=this.getEndPoint()),this.value=hF(r,f,rS)}},rS={},lF=function(e,t,i){if(this.enable&&e.isDown){nS.x=e.worldX,nS.y=e.worldY;var r,f;this.reverseAxis?(r=this.getEndPoint(),f=this.getStartPoint()):(r=this.getStartPoint(),f=this.getEndPoint());var S=hF(r,f,nS);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-S)<.1?this.value=S:this.easeValueTo(S)}},nS={},uF=function(e,t){t===void 0&&(t=Uft);var i=this.childrenMap.thumb,r=i.x,f=i.y;return ff(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=r,i.y=f,t},Uft={};const Wft=Phaser.Display.Align.LEFT_CENTER,Yft=Phaser.Display.Align.TOP_CENTER;var $ft=function(e){if(e===void 0&&(e=Xft),this.childrenMap.thumb){var t=this.orientation===0?Wft:Yft;uF.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},Xft={};const Hft=Phaser.Display.Align.RIGHT_CENTER,Kft=Phaser.Display.Align.BOTTOM_CENTER;var jft=function(e){if(e===void 0&&(e=Jft),this.childrenMap.thumb){var t=this.orientation===0?Hft:Kft;uF.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},Jft={};const dF=Phaser.Math.Linear;var Zft=function(e,t,i,r){return r===void 0&&(r=Qft),r.x=dF(t.x,i.x,e),r.y=dF(t.y,i.y,e),r},Qft={},qft=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,r;return this.reverseAxis?(i=this.getEndPoint(),r=this.getStartPoint()):(i=this.getStartPoint(),r=this.getEndPoint()),Zft(e,i,r,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const _ft=Phaser.Display.Align.LEFT_CENTER,tct=Phaser.Display.Align.TOP_CENTER,ect=Phaser.Display.Align.RIGHT_CENTER,ict=Phaser.Display.Align.BOTTOM_CENTER;var sct=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,r,f,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var n=Ge(S);if(i){var x=S.x-n*S.originX;r=this.right-x}else{var x=S.x-n*S.originX,s=x+n;r=s-this.left}}else{var a=ke(S);if(i){var g=S.y-a*S.originY;f=this.bottom-g}else{var g=S.y-a*S.originY,u=g+a;f=u-this.top}}else this.orientation===0?r=this.width*e:f=this.height*e;vs(t,r,f);var h;i?h=this.orientation===0?ect:ict:h=this.orientation===0?_ft:tct,eL(t,this,h),this.resetChildPositionState(t)};const tr=Phaser.Utils.Objects.GetValue,Cg=Phaser.Utils.Objects.IsPlainObject,rct=Phaser.Math.Clamp,nct=Phaser.Math.Snap.To;class au extends nh(we){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=tr(i,"reverseAxis",!1);var r=tr(i,"background",void 0),f=tr(i,"track",void 0),S=tr(i,"indicator",void 0),n=tr(i,"thumb",void 0);if(r&&(Cg(r)&&(r=Is(t,r)),this.addBackground(r)),f&&(Cg(f)&&(f=Is(t,f)),this.add(f,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(Cg(S)&&(S=Is(t,S)),this.pin(S)),n){Cg(n)&&(n=Is(t,n)),this.pin(n);var x=tr(i,"thumbOffsetX",0),s=tr(i,"thumbOffsetY",0);this.setThumbOffset(x,s)}var a=tr(i,"input",0);switch(typeof a=="string"&&(a=act[a]),a){case 0:n&&(n.setInteractive(),this.scene.input.setDraggable(n),n.on("drag",zft,this).on("dragstart",function(g){this.eventEmitter.emit("inputstart",g)},this).on("dragend",function(g){this.eventEmitter.emit("inputend",g)},this));break;case 1:this.on("pointerdown",lF,this).on("pointermove",lF,this).on("pointerdown",function(g){this.eventEmitter.emit("inputstart",g)},this).on("pointerup",function(g){this.eventEmitter.emit("inputend",g)},this).on("pointerover",function(g){g.isDown&&this.eventEmitter.emit("inputstart",g)},this).on("pointerout",function(g){g.isDown&&this.eventEmitter.emit("inputend",g)},this).setInteractive();break}this.addChildrenMap("background",r),this.addChildrenMap("track",f),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",n),this.setEnable(tr(i,"enable",void 0)),this.setGap(tr(i,"gap",void 0)),this.setValue(tr(i,"value",0),tr(i,"min",void 0),tr(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,r){return t&&i!==void 0&&(t=t/(r-i)),this.gap=t,this}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=nct(t,this.gap));var i=this._value;this._value=rct(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,r){return this.updateThumb(),this.updateIndicator(),this}}const act={pan:0,drag:0,click:1,none:-1};var oct={getStartPoint:$ft,getEndPoint:jft,updateThumb:qft,updateIndicator:sct};Object.assign(au.prototype,oct);const Bs=Phaser.Utils.Objects.GetValue;class aS extends we{constructor(t,i){super(t,i),this.type="rexScrollBar";var r=Bs(i,"background",void 0),f=Bs(i,"buttons",void 0),S=Bs(f,"top",Bs(f,"left",void 0)),n=Bs(f,"bottom",Bs(f,"right",void 0)),x,s=Bs(i,"slider",void 0);if(r&&this.addBackground(r),S){this.add(S);var a=new _l(S);a.on("intouch",function(){if(this.enable){var v=x.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=v}},this)}if(s){s.orientation=this.orientation,s.eventEmitter=this,s.value=null;var g;if(this.orientation===0){var u=Bs(s,"width",void 0);g=u===void 0?1:0}else{var h=Bs(s,"height",void 0);g=h===void 0?1:0}x=new au(t,s),t.add.existing(x),this.add(x,{proportion:g})}if(n){this.add(n);var a=new _l(n);a.on("intouch",function(){if(this.enable){var c=x.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=c}},this)}var l=[S,n];this.addChildrenMap("background",r),this.addChildrenMap("slider",x),this.addChildrenMap("buttons",l);var o=Bs(i,"valuechangeCallback",null);if(o!==null){var d=Bs(i,"valuechangeCallbackScope",void 0);this.on("valuechange",o,d)}this.setEnable(Bs(i,"enable",void 0)),this.setValue(Bs(i,"value",0)),this.setScrollStep(Bs(f,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,r),this}addValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,r),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,r),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}var hct=function(e,t){t===void 0&&(t={});var i=nn(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var r=new aS(e,t);e.add.existing(r);var f=r.childrenMap.slider;return r.addChildrenMap("track",f.childrenMap.track),r.addChildrenMap("indicator",f.childrenMap.indicator),r.addChildrenMap("thumb",f.childrenMap.thumb),r};class lct extends Hn{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,r=i.dragState;return r.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,r=i.dragState;return r.isDown?t=r.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,r=i.dragState;return r.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var r=this.parent,f=r.dragState;f.justMoved&&r.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,i=this.parent,r=i.dragState;return r.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,i){this.parent.sliding(t,i),this.next()}next_BACK(){var t,i=this.parent,r=i.dragState;return r.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,i){this.parent.pullBack(t,i),this.next()}}const Sg=Phaser.Utils.Objects.GetValue,uct=Phaser.Math.Distance.Between;class dct extends ti{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(Sg(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Sg(t,"enable",!0)),this.holdThreshold=Sg(t,"holdThreshold",50),this.pointerOutReleaseEnable=Sg(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=aC(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=uct(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,r){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=i,this.localY=r)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,r){!this.enable||!t.isDown||this.pointer!==t||(this.localX=i,this.localY=r)}preupdate(t,i){if(this.enable){var r=this.pointer;this.justMoved=!1,r&&!this.isInTouched?(this.x=r.worldX,this.y=r.worldY,this.preX=r.worldX,this.preY=r.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",r,this.localX,this.localY)):r&&this.isInTouched?this.x===r.x&&this.y===r.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=r.worldX,this.y=r.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",r,this.localX,this.localY)):!r&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",r))}}}const oS=Phaser.Utils.Objects.GetValue;class fct{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(oS(t,"value",0)),this.setSpeed(oS(t,"speed",0)),this.setAcceleration(oS(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class cct{constructor(){this.value,this.dir,this.movement=new fct}init(t,i,r,f,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=i,this.movement.setSpeed(r).setAcceleration(-f),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Pi=Phaser.Utils.Objects.GetValue,vct=Phaser.Math.Clamp;class pct extends ti{constructor(t,i){super(t,i);var r=Pi(i,"enable",!0);this._state=new lct(this,{enable:r,eventEmitter:!1});var f={inputConfig:Pi(i,"inputConfig",void 0),enable:r,pointerOutRelease:Pi(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new dct(t,f),this._enable=void 0,this._value=void 0,this._slowDown=new cct;var S=Pi(i,"valuechangeCallback",null);if(S!==null){var n=Pi(i,"valuechangeCallbackScope",void 0);this.on("valuechange",S,n)}if(S=Pi(i,"overmaxCallback",null),S!==null){var n=Pi(i,"overmaxCallbackScope",void 0);this.on("overmax",S,n)}if(S=Pi(i,"overminCallback",null),S!==null){var n=Pi(i,"overminCallbackScope",void 0);this.on("overmin",S,n)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(Pi(t,"orientation",0)),this.setDragThreshold(Pi(t,"threshold",10)),this.setSlidingDeceleration(Pi(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Pi(t,"backDeceleration",2e3));var i=Pi(t,"dragRate",1);i=i*(Pi(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var r=Pi(t,"bounds",void 0);return r?this.setBounds(r):this.setBounds(Pi(t,"max",0),Pi(t,"min",0)),this.setValue(Pi(t,"value",this.maxValue||0)),this.setEnable(Pi(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=gct[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var r=t;t=r[0],i=r[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,r=this.overMax(t),f=this.overMin(t);r&&this.emit("overmax",t,i),f&&this.emit("overmin",t,i),this.backEnable||(r&&(t=this.maxValue),f&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=vct(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,i=this.dragSpeed;if(i===0){this._slowDown.stop(),this._state.next();return}var r=this.slidingDeceleration;this._slowDown.init(t,i>0,Math.abs(i),r)}sliding(t,i){i*=.001;var r=this._slowDown.update(i).value;this.overMax(r)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(r)?(this.value=this.minValue,this._slowDown.stop()):this.value=r}onPullBack(){var t=this.value,i=this.outOfMinBound?this.minValue:this.maxValue,r=Math.abs(i-t),f=this.backDeceleration,S=Math.sqrt(2*f*r);this._slowDown.init(t,void 0,S,f,i)}pullBack(t,i){i*=.001,this.value=this._slowDown.update(i).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const gct={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Tg=Phaser.Utils.Objects.GetValue;class mct extends ti{constructor(t,i){if(super(t,i),this.parent!==this.scene?this.focusMode=Tg(i,"focus",!0):this.focusMode=!1,this.setSpeed(Tg(i,"speed",.1)),this.setEnable(Tg(i,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Tg(i,"inputConfig",void 0)).on("wheel",function(f,S,n,x,s){this.enable&&this.scroll(n)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,i,r,f,S,n){this.enable&&this.scroll(f)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const Bi=Phaser.Utils.Objects.GetValue;var Eg=function(e,t,i,r){i=i.toUpperCase();var f=i==="Y",S=e.scrollMode===2,n=e.childrenMap.child,x,s,a=`slider${i}`;if(S||r.hasOwnProperty(a)?x=Bi(r,a,void 0):x=Bi(r,"slider",void 0),x){x===!0&&(x={}),x.orientation=f?1:0,s=hct(e.scene,x);var g,u,h,l=Bi(x,"position",0);typeof l=="string"&&(l=xct[l]);var o=Bi(r,`space.slider${i}`,void 0),d;o===void 0&&(o=Bi(r,"space.slider",void 0),o===void 0&&(S?o=0:d=Bi(r,"space.child",0)));var v;d===void 0?v=typeof o=="number":v=typeof d=="number",f?l===0?(g=2,u=1,d===void 0?h=v?{left:o}:o:h={left:Bi(d,"right",d)}):(g=0,u=1,d===void 0?h=v?{right:o}:o:h={right:Bi(d,"left",d)}):l===0?(g=1,u=2,d===void 0?h=v?{top:o}:o:h={top:Bi(d,"bottom",d)}):(g=1,u=0,d===void 0?h=v?{bottom:o}:o:h={bottom:Bi(d,"top",d)}),t.add(s,{column:g,row:u,align:"center",padding:h,expand:!0}),e[`hideUnscrollableSlider${i}`]=Bi(x,"hideUnscrollableSlider",!1),e[`adaptThumb${i}SizeMode`]=Bi(x,"adaptThumbSize",!1),e[`minThumb${i}Size`]=Bi(x,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var c,p,y=`scroller${i}`;S||r.hasOwnProperty(y)?c=Bi(r,y,!0):c=Bi(r,"scroller",!0),c&&n&&(c===!0&&(c={}),c.orientation=f?0:1,p=new pct(n,c));var m=Bi(r,S?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),C;if(m&&n&&(C=new mct(n,m)),e.addChildrenMap(`slider${i}`,s),e.addChildrenMap(`scroller${i}`,p),e.addChildrenMap(`mouseWheelScroller${i}`,C),(!S||f)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",s),e.addChildrenMap("scroller",p),e.addChildrenMap("mouseWheelScroller",C)),s){var T,E;S?(T=f?"t":"s",E=`scroll${i}`):(T="t",E="scroll"),s.on("valuechange",function(b){e[T]=b,e.emit(E,e)})}if(p){var w,E;S?(w=`childO${i}`,E=`scroll${i}`):(w="childOY",E="scroll"),p.on("valuechange",function(M){e[w]=M,e.emit(E,e)})}if(C){var P;S?P=`addChildO${i}`:P="addChildOY",C.on("scroll",function(b){e[P](-b,!0)})}};const xct={right:0,left:1,bottom:0,top:1},Pg=Phaser.Utils.Objects.GetValue;var yct=function(e,t){var i=e.scene,r=[0,1,0],f=[0,1,0],S=Pg(t,"width"),n=Pg(t,"height");if(!S){var x=Pg(t,"child.expandWidth",!0);x||(r[1]=0)}if(!n){var s=Pg(t,"child.expandHeight",!0);s||(f[1]=0)}var a=new Gr(i,{column:3,row:3,columnProportions:r,rowProportions:f});switch(Vft(e,a,t),e.scrollMode){case 0:Eg(e,a,"y",t);break;case 1:Eg(e,a,"x",t);break;default:Eg(e,a,"y",t),Eg(e,a,"x",t);break}return a},Cct=function(){switch(this.scrollMode){case 0:case 1:hS.call(this),this.updateController(),lS.call(this),uS.call(this);break;default:hS.call(this,"y"),hS.call(this,"x"),this.updateController(),lS.call(this,"y"),lS.call(this,"x"),uS.call(this,"y"),uS.call(this,"x");break}return this},hS=function(e){var t,i,r,f;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,r=this.childrenMap.scroller,f=this.childrenMap.slider;break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),r=this.childrenMap[`scroller${e}`],f=this.childrenMap[`slider${e}`]}r&&r.setBounds(t,i),f&&f.setEnable(t!==i)},lS=function(e){switch(this.scrollMode){case 0:case 1:var t=this.childrenMap.slider;t&&this.hideUnscrollableSlider&&this.setChildVisible(t,this.isOverflow);break;default:e=e.toUpperCase();var t=this.childrenMap[`slider${e}`],i=this[`hideUnscrollableSlider${e}`],r=this[`isOverflow${e}`];t&&i&&this.setChildVisible(t,r);break}},uS=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=S.childrenMap.track,x=S.childrenMap.thumb,s=this.minThumbSize;if(this.scrollMode===0){var i=n.displayHeight*t;s!==void 0&&i<s&&(i=s),vs(x,void 0,i)}else{var r=n.displayWidth*t;s!==void 0&&r<s&&(r=s),vs(x,r,void 0)}fF(S);break;default:e=e.toUpperCase();var f=this[`adaptThumb${e}SizeMode`];if(!f)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var n=S.childrenMap.track,x=S.childrenMap.thumb,s=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=n.displayHeight*t;s!==void 0&&i<s&&(i=s),vs(x,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),r=n.displayWidth*t;s!==void 0&&r<s&&(r=s),vs(x,r,void 0)}fF(S);break}},fF=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},Sct=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,r=this.childrenMap.sliderY,f=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;i&&i.setValue(this.childOY),r&&r.setValue(this.t),f&&f.setValue(this.childOX),S&&S.setValue(this.s);break}};const gn=Phaser.Utils.Objects.GetValue,wg=Phaser.Math.Clamp;class If extends we{constructor(t,i){i===void 0&&(i={});var r=sS(i),f=r===1;i.orientation=f?0:1,super(t,i),this.type=gn(i,"type","rexScrollable"),this.scrollMode=r;var S=gn(i,"background",void 0);S&&this.addBackground(S);var n=gn(i,"header",void 0);if(n){var x=gn(i,"align.header","center"),s=gn(i,"space.header",0),a;f?a={right:s}:a={bottom:s},this.add(n,{proportion:0,align:x,padding:a,expand:gn(i,"expand.header",!0)})}var g=yct(this,i);g&&this.add(g,{proportion:1,align:"center",padding:0,expand:!0});var u=gn(i,"footer",void 0);if(u){var x=gn(i,"align.footer","center"),h=gn(i,"space.footer",0),a;f?a={left:h}:a={top:h},this.add(u,{proportion:0,align:x,padding:a,expand:gn(i,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",n),this.addChildrenMap("footer",u),this.runLayoutFlag=!1}postLayout(t,i,r){var f=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(f=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(f),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var r=this.childrenMap.child,f=r.topChildOY-r.bottomChildOY,S=f+i.top+i.bottom,n=S*t-i.top;t=f!==0?n/f:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var r=this.childrenMap.child,f=r.topChildOY-r.bottomChildOY,S=f+i.top+i.bottom,n=f*t+i.top;t=S!==0?n/S:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var r=this.childrenMap.child,f=r.leftChildOX-r.rightChildOX,S=f+i.left+i.right,n=S*t-i.left;t=f!==0?n/f:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var r=this.childrenMap.child,f=r.leftChildOX-r.rightChildOX,S=f+i.left+i.right,n=f*t+i.left;t=S!==0?n/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}setChildOY(t,i){return i===void 0&&(i=!1),i&&(t=wg(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,i){return this.setChildOY(this.childOY+t,i),this}setT(t,i){return i===void 0&&(i=!1),i&&(t=wg(t,0,1)),this.t=t,this}addT(t,i){return this.setT(this.t+t,i),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}setChildOX(t,i){return i===void 0&&(i=!1),i&&(t=wg(t,this.leftChildOX,this.rightChildOX)),this.childOX=t,this}addChildOX(t,i){return this.setChildOX(this.childOX+t,i),this}setS(t,i){return i===void 0&&(i=!1),i&&(t=wg(t,0,1)),this.s=t,this}addS(t,i){return this.setS(this.s+t,i),this}scrollToLeft(){return this.s=0,this}scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}}var Tct={resizeController:Cct,updateController:Sct};Object.assign(If.prototype,Tct);var dS=function(e,t,i){var r=_a(e);switch(r){case is:i=e.getWrappedText(t);break;case ss:i=e.getPenManager(t,i);break;case _s:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},Ect=function(e){return e!==void 0&&(this.text=e),this.lines=dS(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},cF=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},vF=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Pct=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case is:i=this.lines.slice(e,t).join(`
`);break;case ss:var r=this.lines.getLineStartIndex(e),f=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(r,f,!0);break;case _s:i=this.lines.slice(e,t).join(`
`);break}return i},fS=function(e,t){var i=_a(e);switch(i){case is:var S=e.style,r=S.wordWrapWidth,f=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=r,S.wordWrapCallback=f;break;case ss:var S=e.style,n=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=n;break;case _s:var x=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=x;break}},pF=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&wct.call(this)},wct=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},bct=function(){var e=Math.max(Math.floor(cF.call(this,-this.textOY)),0),t=vF.call(this,e)+this.textOY,i=Pct.call(this,e);return fS(this.textObject,i),this.textObject.rexSizer.offsetY=t,pF.call(this),this},Mct=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,pf.call(this),this},Act=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case is:case ss:e.setFixedSize(t,i);var r=e.style,f=Math.max(t,0);this.textObjectType===is?r.wordWrapWidth=f:(r.wrapMode===0&&(r.wrapMode=1),r.wrapWidth=f);break;case _s:e.setMaxWidth(t);break}this.setText()}},Rct=function(){var e,t,i,r=this.left,f=this.top,S,n,x,s;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,S=r+i.left,n=f+i.top,x=this.width-i.left-i.right,s=this.height-i.top-i.bottom,Act.call(this,e,x,s),ff(e,S,n,x,s,t.align),t.preOffsetY=0,pF.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const Oct={setText:Ect,updateTextObject:bct,preLayout:Mct,layoutChildren:Rct},gF=Phaser.Utils.Objects.IsPlainObject,er=Phaser.Utils.Objects.GetValue,Lct=Phaser.Display.Align.TOP_LEFT;class mF extends vh{constructor(t,i,r,f,S,n){gF(i)?(n=i,i=er(n,"x",0),r=er(n,"y",0),f=er(n,"width",void 0),S=er(n,"height",void 0)):gF(f)&&(n=f,f=er(n,"width",void 0),S=er(n,"height",void 0)),super(t,i,r,f,S,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=er(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(er(n,"clamplTextOY",!0)),this.alwaysScrollable=er(n,"alwaysScrollable",!1);var x=er(n,"background",void 0),s=er(n,"text",void 0);s===void 0&&(s=Dct(t)),this.textCropEnable=er(n,"textCrop",!!s.setCrop);var a=er(n,"textMask",!this.textCropEnable);x&&this.addBackground(x),this.add(s),this.sizerChildren=[s];var g=this.getSizerConfig(s);g.align=Lct,g.padding=Ka(0),g.expand=!0,this.textObject=s,this.textObjectType=_a(s),g.preOffsetY=0,g.offsetY=0,a&&(this.textMask=Br.call(this,this.textObject,this)),this.addChildrenMap("background",x),this.addChildrenMap("text",s)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case is:this.lines.length=0;break;case ss:this.lines.destroy();break;case _s:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case is:case ss:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case _s:var r=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*r;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case is:case ss:t=this.textObject.lineSpacing;break;case _s:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(cF.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=vF.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,r=this.bottomTextOY,f=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:f?t=i:S&&(t=r)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),f&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=f,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,r)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Dct=function(e){return e.add.text(0,0,"")};Object.assign(mF.prototype,Oct);var Fct=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const Ict={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},Bct={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},mn=Phaser.Utils.Objects.GetValue;class Bf extends If{constructor(t,i){i===void 0&&(i={});var r=mn(i,"text",void 0),f=mn(i,"textWidth",void 0),S=mn(i,"textHeight",void 0),n=mn(i,"textCrop",!!r.setCrop),x=mn(i,"textMask",!n),s=mn(i,"content",""),a=new mF(t,{width:f,height:S,text:r,textMask:x,textCrop:n&&!x,content:s,clamplTextOY:mn(i,"clamplChildOY",!1),alwaysScrollable:mn(i,"alwaysScrollable",!1)});t.add.existing(a),Fct(a),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:a,expandWidth:f===void 0,expandHeight:S===void 0};var g=mn(i,"space",void 0);g&&(g.child=mn(g,"text",0)),super(t,i),this.addChildrenMap("text",r)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(Bf.prototype,Ict,Bct);const bg=Phaser.Utils.Objects.GetValue;var xF=function(e,t,i){t=t?Wi(t):{};var r=bg(i,"background",Is),f=bg(i,"text",cS),S=bg(i,"track",Is),n=bg(i,"thumb",Is);r?t.background=r(e,t.background):delete t.background,f?t.text=f(e,t.text):delete t.text;var x=t.slider;x!==!1&&x!==null&&(x===void 0&&(x={}),S?x.track=S(e,x.track):delete x.track,n?x.thumb=n(e,x.thumb):delete x.thumb,t.slider=x);var s=new Bf(e,t);return e.add.existing(s),s},cS=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext"));var r;switch(i){case"bitmaptext":case"bitmap":r=new xg(e,t);break;case"bbcodetext":case"bbcode":r=new Ry(e,0,0,"",t);break;case"label":r=new Nf(e,t);break;case"textarea":r=xF(e,t);break;default:r=new mg(e,t);break}return iS(r,t),e.add.existing(r),r},yF=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var r;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?r=new Ff(e,t):r=new Df(e,t);break;case"roundRectangle":r=new Lf(e,t);break;default:r=new Of(e,t);break}return iS(r,t),e.add.existing(r),r};const Mg=Phaser.Utils.Objects.GetValue;var Ag=function(e,t,i){t=t?Wi(t):{};var r=Mg(i,"background",Is),f=Mg(i,"text",cS),S=Mg(i,"icon",yF),n=Mg(i,"action",yF);return t.background!==null&&r?t.background=r(e,t.background):delete t.background,t.text!==null&&f?t.text=f(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t};class Nf extends _n{constructor(t,i,r){i=Ag(t,i,r),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return vS(this.getChildren(),"setActiveState",t),this}setHoverState(t){return vS(this.getChildren(),"setHoverState",t),this}setDisableState(t){return vS(this.getChildren(),"setDisableState",t),this}}var vS=function(e,t,i){for(var r=0,f=e.length;r<f;r++){var S=e[r];S&&S[t]&&S[t](i)}};bt.register("simpleLabel",function(e,t){var i=new Nf(this.scene,e,t);return this.scene.add.existing(i),i}),Pt(window,"RexPlugins.UI.SimpleLabel",Nf);const se=Phaser.Utils.Objects.GetValue;var Nct=function(e){var t=this.scene,i=se(e,"orientation",0);this.setOrientation(i);var r=se(e,"icon",void 0),f=se(e,"iconMask",void 0),S=se(e,"innerBackground",void 0),n=se(e,"title",void 0),x=se(e,"separator",void 0),s=se(e,"text",void 0),a=se(e,"action",void 0),g=se(e,"actionMask",void 0);if(r){var u=se(e,"align.icon","center"),T;this.orientation===0?T={right:se(e,"space.icon",0),top:se(e,"space.iconTop",0),bottom:se(e,"space.iconBottom",0),left:se(e,"space.iconLeft",0)}:T={bottom:se(e,"space.icon",0),left:se(e,"space.iconLeft",0),right:se(e,"space.iconRight",0),top:se(e,"space.iconTop",0)};var h=se(e,"squareFitIcon",!1)?1:0;if(this.add(r,{proportion:0,align:u,padding:T,fitRatio:h}),f&&(f=Br.call(this,r,r,1)),!h){var l=se(e,"iconSize",void 0);this.setIconSize(se(e,"iconWidth",l),se(e,"iconHeight",l))}}var o=new we(t,{orientation:1});S&&o.addBackground(S);var d=se(e,"space.separator",0);if(n){var u=se(e,"align.title","left"),v=se(e,"expandTitleWidth",!1),c=se(e,"expandTitleHeight",!1),p,T,y;p=c?1:0,y=v,T={bottom:!x&&s?d:0,left:se(e,"space.titleLeft",0),right:se(e,"space.titleRight",0)},o.add(n,{proportion:p,expand:y,align:u,padding:T})}if(x){var T={top:n?d:0,bottom:s?d:0,left:se(e,"space.separatorLeft",0),right:se(e,"space.separatorRight",0)};o.add(x,{expand:!0,padding:T})}if(s){var u=se(e,"align.text","left"),m=se(e,"expandTextWidth",!1),C=se(e,"expandTextHeight",!1),p,T,y;p=C?1:0,y=m,T={left:se(e,"space.textLeft",0),right:se(e,"space.textRight",0)},o.add(s,{proportion:p,expand:y,align:u,padding:T})}var T=void 0;if(a&&(T={right:se(e,"space.text",0)}),this.add(o,{proportion:1,padding:T}),a){var u=se(e,"align.action","center"),T;this.orientation===0?T={top:se(e,"space.actionTop",0),bottom:se(e,"space.actionBottom",0),right:se(e,"space.actionRight",0)}:T={left:se(e,"space.actionLeft",0),right:se(e,"space.actionRight",0),bottom:se(e,"space.actionBottom",0)};var h=se(e,"squareFitAction",!1)?1:0;if(this.add(a,{proportion:0,align:u,padding:T,fitRatio:h}),g&&(g=Br.call(this,a,a,1)),!h){var E=se(e,"actionSize");this.setActionSize(se(e,"actionWidth",E),se(e,"actionHeight",E))}}this.addChildrenMap("icon",r),this.addChildrenMap("iconMask",f),this.addChildrenMap("innerSizer",o),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",n),this.addChildrenMap("separator",x),this.addChildrenMap("text",s),this.addChildrenMap("action",a),this.addChildrenMap("actionMask",g)};const Zt=Phaser.Utils.Objects.GetValue;var Gct=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=Zt(e,"title",void 0),r=Zt(e,"separator",void 0),f=Zt(e,"innerBackground",void 0),S=Zt(e,"icon",void 0),n=Zt(e,"iconMask",void 0),x=Zt(e,"text",void 0),s=Zt(e,"action",void 0),a=Zt(e,"actionMask",void 0);if(i){var g=Zt(e,"align.title","left"),u=Zt(e,"expandTitleWidth",!1),h=Zt(e,"expandTitleHeight",!1),l,o,d;l=h?1:0,d=u,o={bottom:Zt(e,"space.title",0),left:Zt(e,"space.titleLeft",0),right:Zt(e,"space.titleRight",0)},this.add(i,{proportion:l,expand:d,align:g,padding:o})}if(r){var v=Zt(e,"space.separator",0),o={top:i?v:0,bottom:x?v:0,left:Zt(e,"space.separatorLeft",0),right:Zt(e,"space.separatorRight",0)};this.add(r,{proportion:0,expand:!0,padding:o})}var c=Zt(e,"orientation",0),p=new we(t,{orientation:c,rtl:Zt(e,"rtl",!1),space:{left:Zt(e,"space.innerLeft",0),right:Zt(e,"space.innerRight",0),top:Zt(e,"space.innerTop",0),bottom:Zt(e,"space.innerBottom",0)}});if(f&&p.addBackground(f),this.add(p,{proportion:1,expand:!0}),S){var g=Zt(e,"align.icon","center"),o;p.orientation===0?o={right:Zt(e,"space.icon",0),top:Zt(e,"space.iconTop",0),bottom:Zt(e,"space.iconBottom",0),left:Zt(e,"space.iconLeft",0)}:o={bottom:Zt(e,"space.icon",0),left:Zt(e,"space.iconLeft",0),right:Zt(e,"space.iconRight",0),top:Zt(e,"space.iconTop",0)};var y=Zt(e,"squareFitIcon",!1)?1:0;if(p.add(S,{proportion:0,align:g,padding:o,fitRatio:y}),n&&(n=Br.call(this,S,S,1)),!y){var m=Zt(e,"iconSize",void 0);this.setIconSize(Zt(e,"iconWidth",m),Zt(e,"iconHeight",m))}}if(x){var g=Zt(e,"align.text","left"),C=Zt(e,"space.text",0),T=Zt(e,"expandTextWidth",!1),E=Zt(e,"expandTextHeight",!1),l,o,d;p.orientation===0?(l=T?1:0,s&&(o={right:C}),d=E):(l=E?1:0,s&&(o={bottom:C}),d=T),p.add(x,{proportion:l,expand:d,align:g,padding:o})}if(s){var g=Zt(e,"align.action","center"),o;p.orientation===0?o={top:Zt(e,"space.actionTop",0),bottom:Zt(e,"space.actionBottom",0),right:Zt(e,"space.actionRight",0)}:o={left:Zt(e,"space.actionLeft",0),right:Zt(e,"space.actionRight",0),bottom:Zt(e,"space.actionBottom",0)};var y=Zt(e,"squareFitAction",!1)?1:0;if(p.add(s,{proportion:0,align:g,padding:o,fitRatio:y}),a&&(a=Br.call(this,s,s,1)),!y){var w=Zt(e,"actionSize");this.setActionSize(Zt(e,"actionWidth",w),Zt(e,"actionHeight",w))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",r),this.addChildrenMap("innerSizer",p),this.addChildrenMap("innerBackground",f),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",x),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",a)};const ou=Phaser.Utils.Objects.GetValue,CF=[Nct,Gct];class Rg extends $1{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var r=ou(i,"background",void 0);r&&this.addBackground(r);var f=ou(i,"title",void 0),S=ou(i,"text",void 0);if(f){var n=ou(i,"wrapTitle",!1);n&&(n===!0&&(n="word"),H1(f,n),i.expandTitleWidth=!0,gg(f))}if(S){var x=ou(i,"wrapText",!1);x&&(x===!0&&(x="word"),H1(S,x),i.expandTextWidth=!0,gg(S))}var s=ou(i,"layoutMode",0),a=CF[s]||CF[0];a.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}bt.register("titleLabel",function(e){var t=new Rg(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.TitleLabel",Rg);const pS=Phaser.Utils.Objects.GetValue;var SF=function(e,t,i){var r=pS(i,"innerBackground",Is),f=pS(i,"separator",Is),S=pS(i,"title",cS),n,x;t.innerBackground!==null&&r&&(n=r(e,t.innerBackground)),t.separator!==null&&f&&(x=f(e,t.separator)),t=Ag(e,t,i),n?t.innerBackground=n:delete t.innerBackground,x?t.separator=x:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var s=t.background;return s&&(n?e.children.moveBelow(s,n):x&&e.children.moveBelow(s,x)),t};class TF extends Rg{constructor(t,i,r){i=SF(t,i,r),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return gS(this.getChildren(),"setActiveState",t),this}setHoverState(t){return gS(this.getChildren(),"setHoverState",t),this}setDisableState(t){return gS(this.getChildren(),"setDisableState",t),this}}var gS=function(e,t,i){for(var r=0,f=e.length;r<f;r++){var S=e[r];S&&S[t]&&S[t](i)}};bt.register("simpleTitleLabel",function(e,t){var i=new TF(this.scene,e,t);return this.scene.add.existing(i),i}),Pt(window,"RexPlugins.UI.SimpleTitleLabel",TF);const Ae=Phaser.Utils.Objects.GetValue,kct=Phaser.Utils.Objects.IsPlainObject;var Vct=function(e,t){var i=Ae(t,"background",void 0),r=Ae(t,"icon",void 0),f=Ae(t,"iconMask",void 0),S=Ae(t,"nameText",void 0),n=Ae(t,"valueText",void 0),x=Ae(t,"bar",void 0),s=Ae(t,"action",void 0),a=Ae(t,"actionMask",void 0),g=Ae(t,"barShape","line")==="line";if(kct(x)){var u=g?EC:gC;x=new u(e,x),e.add.existing(x),S&&e.children.moveBelow(x,S),n&&e.children.moveBelow(x,n)}var h=S||n||x;if(i&&this.addBackground(i),r){var l=void 0;this.orientation===0?(h||s)&&(l={right:Ae(t,"space.icon",0),top:Ae(t,"space.iconTop",0),bottom:Ae(t,"space.iconBottom",0)}):(h||s)&&(l={bottom:Ae(t,"space.icon",0),left:Ae(t,"space.iconLeft",0),right:Ae(t,"space.iconRight",0)}),this.add(r,{proportion:0,padding:l}),f&&(f=Br.call(this,r,r,1))}if(h){var o=new we(e,{orientation:1}),d;if(S||n){if(d=new we(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var l={left:Ae(t,"space.name",0)};d.add(S,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),d.addSpace();var l={right:Ae(t,"space.value",0)};d.add(n,{padding:l}),this.setValueTextFormatCallback(Ae(t,"valueTextFormatCallback",zct),Ae(t,"valueTextFormatCallbackScope",void 0))}o.add(d,{expand:!0})}if(x)if(g){var v=d?Ae(t,"space.bar"):0;v===void 0&&(v=Ae(t,"space.barTop",0));var l={top:v,bottom:Ae(t,"space.barBottom",0),left:Ae(t,"space.barLeft",0),right:Ae(t,"space.barRight",0)};o.add(x,{expand:!0,padding:l})}else{var l={top:Ae(t,"space.barTop",0),bottom:Ae(t,"space.barBottom",0),left:Ae(t,"space.barLeft",0),right:Ae(t,"space.barRight",0)};this.addBackground(x,l)}var l=void 0;s&&(l={right:Ae(t,"space.text",0)});var c=Ae(t,"align.text","bottom");this.add(o,{proportion:1,align:c,padding:l})}if(s){var l;this.orientation===0?l={top:Ae(t,"space.actionTop",0),bottom:Ae(t,"space.actionBottom",0)}:l={left:Ae(t,"space.actionLeft",0),right:Ae(t,"space.actionRight",0)},this.add(s,{proportion:0,padding:l}),a&&(a=Br.call(this,s,s,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",r),this.addChildrenMap("iconMask",f),this.addChildrenMap("name",S),this.addChildrenMap("value",n),this.addChildrenMap("bar",x),this.addChildrenMap("action",s),this.addChildrenMap("actionMask",a)},zct=function(e,t,i){return e.toString()};const Uct=Phaser.Math.Clamp,Wct={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var r;return this.valueTextFormatCallbackScope?r=this.valueTextFormatCallback(e,t,i):r=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),r},updateValueText(e,t,i){var r=this.childrenMap.value;return r&&this.valueTextFormatCallback&&(r.setText(this.getFormatValueText(e,t,i)),r.layout&&r.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=Uct(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new Wn(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class Og extends we{constructor(t,i){super(t,i),this.type="rexNameValueLabel",Vct.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,r){var f=this.childrenMap.bar;return f===void 0?this:(f.setValue(t,i,r),this)}easeBarValueTo(t,i,r){var f=this.childrenMap.bar;return f===void 0?this:(f.easeValueTo(t,i,r),this)}setTexture(t,i){var r=this.childrenMap.icon;if(r!==void 0)return r.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,r){var f=this.childrenMap.iconMask;f&&(f.setPosition(),this.resetChildPositionState(f));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),this}resize(t,i){super.resize(t,i);var r=this.childrenMap.iconMask;r&&r.resize();var f=this.childrenMap.actionMask;return f&&f.resize(),this}}Object.assign(Og.prototype,Wct),bt.register("nameValueLabel",function(e){var t=new Og(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.NameValueLabel",Og);class Yct extends FR{constructor(t){super(),this.setTable(Be(t,"table")),this.setMaxLevel(Be(t,"maxLevel"));var i=Be(t,"exp",0),r=Be(t,"level",void 0);r!==void 0&&!this.checkLevel(r,i)&&(console.error(`Level ${r} and Exp ${i} are mismatch`),r=void 0),this.resetExp(i,r)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Kn(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),r=this._level,f=this._exp,S;;){var n=this.getExp(r),x=this.getExp(r+1);if(S=Math.min(x,t),this.emit("levelup",r,f,S,n,x),r===i&&S===t)break;r++,f=x}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var r=this.getExp(i+1);if(r>t||(i++,this.hasMaxLevel&&r===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,r){return i&&this.on("levelup",i,r),this.exp+=t,i&&this.off("levelup",i,r),this}setExp(t,i,r){return i&&this.on("levelup",i,r),this.exp=t,i&&this.off("levelup",i,r),this}setLevel(t,i,r){return i&&this.on("levelup",i,r),this.level=t,i&&this.off("levelup",i,r),this}}var mS=function(e,t,i){var r=Be(i,"reverse",!1),f;if(Or(e[0]))if(r)for(var n=e.length,S=n-1;S>=0;S--)f=mS(e[S],t,i);else for(var S=0,n=e.length;S<n;S++)f=mS(e[S],t,i);else f=$ct(e,t,i);return f},$ct=function(e,t,i){var r=Be(i,"argsConvert",void 0),f=Be(i,"argsConvertScope",void 0),S=e[0];if(io=Rp(io,e,1),r){r===!0&&(r=Ky,f=void 0);for(var n=0,x=io.length;n<x;n++)f?io[n]=r.call(f,io[n],e):io[n]=r(io[n],e)}var s;typeof S=="string"?(s=t[S],s==null&&(s=Be(t,S,null))):s=S;var a=s.apply(t,io);return a},io=[];const kr=Phaser.Utils.Objects.GetValue;class EF extends ti{constructor(t,i){super(t,i);var r=kr(i,"clock",void 0);r||(r=new bR(t)),this.clock=r,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(kr(t,"clock",void 0)),this.state=kr(t,"state",0),this.commands=kr(t,"commands",[]),this.scope=kr(t,"scope",void 0),this.setTimeUnit(kr(t,"timeUnit",0)),this.setDtMode(kr(t,"dtMode",0)),this.index=kr(t,"index",0),this.nextTime=kr(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,r){this.stop();var f=kr(r,"timeUnit",void 0);f!==void 0&&this.setTimeUnit(f);var S=kr(r,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(n){var x=n[0];return!isNaN(x)}).map(function(n){var x=n[0];return typeof x=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,x){var s=n[0],a=x[0];return s>a?1:s<a?-1:0}),Rp(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...r){var f;return Array.isArray(i)?f=i:f=[i,...r],this.commands.push([t,f]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var r=i[this.index],f=r[1];if(Or(f)||(f=Rp(Xct,r,1)),mS(f,this.scope),this.emit("runcommand",f,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=Kct[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=Hct[t]),this.timeUnit=t,this}}var Xct=[];const Hct={ms:0,s:1,sec:1},Kct={abs:0,absolute:0,inc:1,increment:1};var jct=function(e,t,i,r,f){var S=(i-t)/(f-r)*this.totalEaseDuration,n=i===f?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,i,r,f).append(0,this.emit,"levelup.start",e,t,i,this).append(S,bi).append(0,this.emit,"levelup.end",n,t,i,this),this.player.isPlaying||this.player.start()};const Jct={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},PF=Phaser.Utils.Objects.GetValue;class xS extends Og{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(PF(i,"easeDuration",1e3)),this.levelCounter=new Yct(PF(i,"levelCounter")),this.player=new EF(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",jct,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(xS.prototype,Jct),bt.register("expBar",function(e){var t=new xS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ExpBar",xS);const Lg=we.prototype.add,wF=we.prototype.addSpace;var yS=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var r=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");r&&wF.call(this),Lg.call(this,e,{proportion:i,expand:!0});var f=!this.buttonsExpand&&this.buttonsAlign==="center";f&&wF.call(this),this.hasTailSpace=f}else Lg.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Lg.call(this,e,{index:S,proportion:i,expand:!0})}else Lg.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const Zct={addButton(e){if(Or(e))for(var t=e,i=0,r=t.length;i<r;i++)yS.call(this,t[i]);else yS.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)yS.call(this,e[t]);return this}},Qct=we.prototype.remove,qct=we.prototype.clear;var CS=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),Qct.call(this,e,t),this)};const _ct={remove(e,t){if(Or(e))for(var i=e,r=0,f=i.length;r<f;r++)CS.call(this,i[r],t);else CS.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,qct.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)CS.call(this,t[i],e);return this}};var tvt=function(e,t,i){if(e){var r=this.setValueCallback,f=this.setValueCallbackScope;r&&(f?r.call(f,e,t,i):r(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},evt=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var r=e._selected;e._selected=i,tvt.call(t,e,i,r)}},enumerable:!0,configurable:!0}),e.selected=!1};const ivt={add(e){return this.buttons.push(e),e._click||(e._click=new Yn(e,this.clickConfig),e._click.on("click",function(t,i,r,f){this.fireEvent("button.click",i,r,f)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,r,f){this.fireEvent("button.over",i,r,f)},this).on("out",function(t,i,r,f){this.fireEvent("button.out",i,r,f)},this).on("down",function(t,i,r,f){this.fireEvent("button.down",i,r,f)},this).on("up",function(t,i,r,f){this.fireEvent("button.up",i,r,f)},this)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),evt.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},svt=Phaser.Utils.Array.Remove,rvt={remove(e){return this.buttonsType&&delete e.selected,svt(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var nvt=function(e,t,...i){if(this.buttons){var r;if(typeof t=="number"){if(r=t,t=this.buttons[r],!t)return}else if(r=this.buttons.indexOf(t),r===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,r,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,r,...i):this.eventEmitter.emit(e,t,r,...i)}};const Gf=Phaser.Utils.Objects.GetValue,avt={setButtonsType(e){e===void 0&&(e={});var t=Gf(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,r;switch(i=Gf(e,"setValueCallback",void 0),r=Gf(e,"setValueCallbackScope",void 0),i===void 0&&(i=Gf(e,"setButtonStateCallback",void 0),r=Gf(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=r,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(r){if(e._value!==r){e._value=r;for(var f=0,S=t.length;f<S;f++){var n=t[f];n.rexSizer.hidden||(i===void 0?n.name===r?n.selected=!0:n.selected=!1:i===f?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(r){i=this.buttons.indexOf(r),e.value=r.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var r=e[t];r.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,r=t.length;i<r;i++){var f=t[i];f.rexSizer.hidden||(e[f.name]=f.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,r=0,f=i.length;r<f;r++){var S=i[r];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,r=t.length;i<r;i++){var f=t[i];if(!f.rexSizer.hidden&&f.name===e)return f.selected}}};var ovt=function(e,t){if(e)if(Or(e)){for(var i,r=0,f=e.length;r<f;r++)if(i=bF(e[r],t),i)return i}else{var i;for(var S in e)if(i=bF(e[S],t),i)return i}else return null},bF=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const Dg={getButton(e){var t=this.buttons,i,r=typeof e;switch(r){case"number":i=t[e];break;case"string":i=ovt(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var r=0,f=i.length;r<f;r++)i[r]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,r=t.length;i<r;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,r=0,f=i.length;r<f;r++){var S=i[r];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return Ja(this.getButton(e)),this},hideButton(e){return Za(this.getButton(e)),this},isButtonShown(e){return _C(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,r=0,f=i.length;r<f;r++)t?e.call(t,i[r],r,i):e(i[r],r,i);return this}};class Fg{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var hvt={fireEvent:nvt};Object.assign(Fg.prototype,ivt,rvt,avt,Dg,hvt);const SS={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},mh=Phaser.Utils.Objects.GetValue;let Ni=class extends we{constructor(t,i){i===void 0&&(i={});var r=i.space;typeof r=="number"&&(i.space={item:r}),super(t,i),this.type="rexButtons",this.buttonGroup=new Fg({parent:this,eventEmitter:mh(i,"eventEmitter",this),groupName:mh(i,"groupName",void 0),clickConfig:mh(i,"click",void 0)}).setButtonsType(i);var f=mh(i,"background",void 0),S=mh(i,"buttons",void 0);this.buttonsExpand=mh(i,"expand",!1),this.buttonsAlign=mh(i,"align",void 0),f&&this.addBackground(f),S&&this.addButtons(S),this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Ni.prototype,Zct,_ct,Dg,SS),bt.register("buttons",function(e){var t=new Ni(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Buttons",Ni);const lvt=Gr.prototype.add,uvt={addButton(e,t,i){return lvt.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,r=e;i<r;i++)this.addButton(e[i],void 0,t);return this}},dvt=Gr.prototype.remove,fvt=Gr.prototype.clear;var TS=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),dvt.call(this,i,t),this):this};const cvt={remove(e,t){if(Or(e))for(var i=e,r=0,f=i.length;r<f;r++)TS.call(this,i[r],t);else TS.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,fvt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)TS.call(this,t[i],e);return this}},xn=Phaser.Utils.Objects.GetValue;class Ig extends Gr{constructor(t,i){i===void 0&&(i={});var r=xn(i,"row",0),f=xn(i,"column",i.col||0),S=xn(i,"createCellContainerCallback"),n=xn(i,"buttons",void 0),x=xn(i,"expand",!0),s=x?1:0;if(S&&(i.createCellContainerCallback=void 0),n!==void 0){r=Math.max(r,n.length);for(var a=0,g=n.length;a<g;a++)f=Math.max(f,n[a].length)}i.row=r,i.column=f,i.columnProportions=s,i.rowProportions=s,super(t,i),this.type="rexGridButtons",this.buttonGroup=new Fg({parent:this,eventEmitter:xn(i,"eventEmitter",this),groupName:xn(i,"groupName",void 0),clickConfig:xn(i,"click",void 0)}).setButtonsType(i);var u=xn(i,"background",void 0);if(this.buttonsExpand=x,xn(i,"space",void 0),u&&this.addBackground(u),n)for(var h,l,o=0,d=n.length;o<d;o++){h=n[o];for(var v=0,c=h.length;v<c;v++)l=h[v],l&&this.addButton(l,v,o)}else if(S)for(var p=0;p<r;p++)for(var y=0;y<f;y++){var l=S(t,y,p);l&&this.addButton(l,y,p)}this.addChildrenMap("background",u),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Ig.prototype,uvt,cvt,Dg,SS),bt.register("gridButtons",function(e){var t=new Ig(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.GridButtons",Ig);const MF=gh.prototype.add;var Bg=function(e){return MF.call(this,e),this.buttonGroup.add(e),this};const vvt={addButton(e){if(Or(e))for(var t=e,i=0,r=t.length;i<r;i++)Bg.call(this,t[i]);else Bg.call(this,e);return this},addButtons(e){if(Or(e[0]))for(var t=e,i,r=0,f=t.length-1;r<=f;r++){i=t[r];for(var S=0,n=i.length;S<n;S++)Bg.call(this,i[S]);r>f&&MF.addNewLine(this)}else for(var S=0,n=e.length;S<n;S++)Bg.call(this,e[S]);return this}},pvt=gh.prototype.remove,gvt=gh.prototype.clear;var ES=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),pvt.call(this,i,t),this):this};const mvt={remove(e,t){if(Or(e))for(var i=e,r=0,f=i.length;r<f;r++)ES.call(this,i[r],t);else ES.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,gvt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)ES.call(this,t[i],e);return this}},hu=Phaser.Utils.Objects.GetValue;class so extends gh{constructor(t,i){i===void 0&&(i={});var r=i.space;typeof r=="number"&&(i.space={item:r,line:r}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new Fg({parent:this,eventEmitter:hu(i,"eventEmitter",this),groupName:hu(i,"groupName",void 0),clickConfig:hu(i,"click",void 0)}).setButtonsType(i);var f=hu(i,"background",void 0),S=hu(i,"buttons",void 0);this.buttonsAlign=hu(i,"align",void 0),f&&this.addBackground(f),S&&this.addButtons(S),this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(so.prototype,vvt,mvt,Dg,SS),bt.register("fixWidthButtons",function(e){var t=new so(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.FixWidthButtons",so);const xvt={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,r,f){return this.childrenMap.fileChooser.loadFile(e,t,i,r,f),this},loadFilePromise(e,t,i,r){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,r)}},AF=Phaser.Utils.Objects.GetValue;class PS extends _n{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var r=new Mf(t);t.add.existing(r),this.addBackground(r),this.addChildrenMap("fileChooser",r),this.setAccept(AF(i,"accept","")),this.setMultiple(AF(i,"multiple",!1)),r.on("change",function(f){var S=f.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(PS.prototype,xvt),bt.register("fileSelectorButton",function(e){var t=new PS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.FileSelectorButton",PS);const yvt={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},Cvt={onCreateModalBehavior(e){e.on("button.click",function(t,i,r,f,S){var n=!1;switch(i){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var x={index:r,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":x.value=e.getChoicesSelectedButtonName();break;case"checkboxes":x.value=e.getChoicesButtonStates();break;default:x.value=void 0}e.modalClose(x)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,n1.modal.call(this,e,t),this}};var RF={};Object.assign(RF,yvt,Cvt);const Wt=Phaser.Utils.Objects.GetValue;class Ng extends we{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=Wt(i,"eventEmitter",this);var r=Wt(i,"background",void 0),f=Wt(i,"title",void 0),S=Wt(i,"toolbar",void 0),n=Wt(i,"toolbarBackground",void 0),x=Wt(i,"leftToolbar",void 0),s=Wt(i,"leftToolbarBackground",void 0),a=Wt(i,"content",void 0),g=Wt(i,"description",void 0),u,h=Wt(i,"choices",void 0),l=Wt(i,"choicesBackground",void 0),o,d=Wt(i,"actions",void 0),v=Wt(i,"actionsBackground",void 0),c=Wt(i,"click",void 0);r&&this.addBackground(r);var p;S&&(p=new Ni(t,{groupName:"toolbar",background:n,buttons:S,orientation:0,space:{item:Wt(i,"space.toolbarItem",0)},click:c,eventEmitter:this.eventEmitter}),t.add.existing(p));var y;if(x&&(y=new Ni(t,{groupName:"leftToolbar",background:s,buttons:x,orientation:0,space:{item:Wt(i,"space.leftToolbarItem",0)},click:c,eventEmitter:this.eventEmitter}),t.add.existing(y)),f||S||x){var m=!!f&&Wt(i,"expand.title",!0),C=Wt(i,"align.title","center"),T=f&&!m&&C==="center"||!f&&(S||x),E=!T,w;E?w=new we(t,{orientation:0}):w=new xr(t),t.add.existing(w);var P=E?!0:{height:!0};if(y&&w.add(y,{align:"left",expand:P}),f){E&&!m&&C==="right"&&w.addSpace();var b={left:Wt(i,"space.titleLeft",0),right:Wt(i,"space.titleRight",0)},M=m?1:0;w.add(f,{align:C,proportion:M,expand:P,padding:b}),E&&!m&&C==="left"&&w.addSpace()}p&&(E&&!f&&w.addSpace(),w.add(p,{align:"right",expand:P}));var b;(a||g||h||d)&&(b={bottom:Wt(i,"space.title",0),top:Wt(i,"space.titleTop",0)});var M=Wt(i,"proportion.title",0);this.add(w,{padding:b,proportion:M,expand:!0})}if(a){var A=Wt(i,"align.content","center"),R=Wt(i,"space.content",0),b={left:Wt(i,"space.contentLeft",0),right:Wt(i,"space.contentRight",0),bottom:g||h||d?R:0},M=Wt(i,"proportion.content",0),L=Wt(i,"expand.content",!0);this.add(a,{align:A,padding:b,proportion:M,expand:L})}if(g){var A=Wt(i,"align.description","center"),O=Wt(i,"space.description",0),b={left:Wt(i,"space.descriptionLeft",0),right:Wt(i,"space.descriptionRight",0),bottom:h||d?O:0},M=Wt(i,"proportion.description",0),L=Wt(i,"expand.description",!0);this.add(g,{align:A,padding:b,proportion:M,expand:L})}if(h){var D=Wt(i,"choicesType","").split("-"),I=kf(D,"wrap")?so:kf(D,"grid")?Ig:Ni,B=kf(D,"radio")?"radio":kf(D,"checkboxes")?"checkboxes":void 0,G={left:Wt(i,"space.choicesBackgroundLeft",0),right:Wt(i,"space.choicesBackgroundRight",0),top:Wt(i,"space.choicesBackgroundTop",0),bottom:Wt(i,"space.choicesBackgroundBottom",0)},z=Wt(i,"space.choice",0);I===Ni?G.item=z:I===so?(G.item=z,G.line=Wt(i,"space.choiceLine",z)):(G.column=Wt(i,"space.choiceColumn",z),G.row=Wt(i,"space.choiceRow",z));var Y={width:Wt(i,"choicesWidth",void 0),height:Wt(i,"choicesHeight",void 0),groupName:"choices",buttonsType:B,background:l,buttons:h,space:G,click:c,eventEmitter:this.eventEmitter,setValueCallback:Wt(i,"choicesSetValueCallback",void 0),setValueCallbackScope:Wt(i,"choicesSetValueCallbackScope",void 0)};I===Ni&&(Y.orientation=kf(D,"x")?0:1),u=new I(t,Y),t.add.existing(u);var H=Wt(i,"space.choices",0),b={left:Wt(i,"space.choicesLeft",0),right:Wt(i,"space.choicesRight",0),bottom:d?H:0},A=Wt(i,"align.choices","center"),M=Wt(i,"proportion.choices",0),L=Wt(i,"expand.choices",!0);this.add(u,{align:A,padding:b,proportion:M,expand:L}),this.buttonsType=B}if(d){o=new Ni(t,{groupName:"actions",background:v,buttons:d,orientation:0,space:{item:Wt(i,"space.action",0)},expand:Wt(i,"expand.actions",!1),align:Wt(i,"align.actions","center"),click:c,eventEmitter:this.eventEmitter}),t.add.existing(o);var b={left:Wt(i,"space.actionsLeft",0),right:Wt(i,"space.actionsRight",0),bottom:Wt(i,"space.actionsBottom",0)},M=Wt(i,"proportion.action",0);this.add(o,{align:"center",padding:b,proportion:M,expand:!0})}Vf(this,"click"),Vf(this,"over"),Vf(this,"out"),Vf(this,"enable"),Vf(this,"disable"),this.addChildrenMap("background",r),this.addChildrenMap("title",f),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",x),this.addChildrenMap("content",a),this.addChildrenMap("description",g),this.addChildrenMap("choices",u?u.buttons:void 0),this.addChildrenMap("actions",o?o.buttons:void 0),this.addChildrenMap("choicesSizer",u),this.addChildrenMap("actionsSizer",o),this.addChildrenMap("toolbarSizer",p),this.addChildrenMap("leftToolbarSizer",y)}}var kf=function(e,t){return e.indexOf(t)!==-1},OF={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},Vf=function(e,t){e.on(`button.${t}`,function(i,r,f,S,n){OF.hasOwnProperty(r)&&e.emit(`${OF[r]}.${t}`,i,f,S,n)})};Object.assign(Ng.prototype,RF),bt.register("dialog",function(e){var t=new Ng(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Dialog",Ng);var Ns=function(e,t,i){var r=new Nf(e,t,i);return e.add.existing(r),r},Svt=function(e){return e===void 0&&(e={}),Tvt.call(this,e),Evt.call(this,e),Pvt.call(this,e),wvt.call(this,e),this},Tvt=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},Evt=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},Pvt=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var S=this.scene,n=this.defaultActionConfig,x=this.defaultActionButtonCreator,s=0,a=i.length;s<a;s++){var g=i[s],u=t[s];u||(u=Ns(S,n,x),this.addAction(u)),u.show().resetDisplayContent(g)}this.buttonMode=i.length;for(var s=i.length,a=t.length;s<a;s++)t[s].hide()}else{var r=t[0];r&&(e.buttonA===null?r.hide():(r.show(),r.resetDisplayContent(e.buttonA)));var f=t[1];f&&(e.buttonB===null?f.hide():(f.show(),f.resetDisplayContent(e.buttonB)))}}},wvt=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var r=this.scene,f=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,n=0,x=i.length;n<x;n++){var s=i[n];typeof s=="string"&&(s={text:s});var a=t[n];a||(a=Ns(r,f,S),this.addChoice(a)),a.show().resetDisplayContent(s);var g;s.hasOwnProperty("value")?g=s.value:g=s.text,a.setName(g)}for(var n=i.length,x=t.length;n<x;n++)t[n].hide()}};Phaser.Utils.Objects.GetValue;const bvt=Phaser.Utils.Objects.Merge;var Mvt=function(e,t){Kn(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=bvt(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var r=this,f=function(S){var n=S.index;n===r.confirmButtonIndex?r.emit("confirm",S):n===r.cancelButtonIndex&&r.emit("cancel",S),t&&t(S)};return n1.modal.call(this,e,f),this};const Avt={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var LF={resetDisplayContent:Svt,modal:Mvt};Object.assign(LF,Avt);var Rvt=function(e){e.setHoverState&&e.setHoverState(!0)},Ovt=function(e){e.setHoverState&&e.setHoverState(!1)},Lvt=function(e,t,i,r){e.setActiveState&&e.setActiveState(r)},Dvt=function(e){e.setDisableState&&e.setDisableState(!1)},Fvt=function(e){e.setDisableState&&e.setDisableState(!0)},Ivt=function(){this.on("button.over",Rvt).on("button.out",Ovt).on("button.enable",Dvt).on("button.disable",Fvt).on("button.statechange",Lvt)};const Bvt=Phaser.Utils.Objects.GetValue;var Nvt=function(e,t,i){var r=Bvt(t,"$type");r===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(r="textarea");var f;switch(r){case"textarea":f=new xF(e,t,i);break;default:f=new Ns(e,t,i);break}return e.add.existing(f),f};const wS=Phaser.Utils.Objects.GetValue;class Gg extends Ng{constructor(t,i,r){i=i?Wi(i):{},r===void 0&&(r={});var f=wS(r,"background",Is);f?i.background=f(t,i.background):delete i.background,i.title=Ns(t,i.title,r.title),i.content=Nvt(t,i.content,r.content),i.content instanceof Bf&&zn(i,"height")&&!zn(i,"proportion.content")&&Pt(i,"proportion.content",1);var S=i.button,n=i.buttonA||S,x=i.buttonB||S,s=i.buttonMode;s===void 0&&(s=n&&x?2:n?1:0);var a=r.button,g=r.buttonA||a,u=r.buttonB||a;switch(s){case 2:i.actions=[Ns(t,n,g),Ns(t,x,u)];break;case 1:i.actions=[Ns(t,n,g)];break;case 0:break;default:i.actions=[];break}var h=i.choice;h&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=s,this.defaultActionConfig=S,this.defaultActionButtonCreator=a,this.defaultChoiceConfig=h,this.defaultChoiceCreator=r.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),Ivt.call(this),this.setConfirmButtonIndex(wS(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(wS(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(Gg.prototype,LF),bt.register("confirmDialog",function(e,t){var i=new Gg(this.scene,e,t);return this.scene.add.existing(i),i}),Pt(window,"RexPlugins.UI.ConfirmDialog",Gg);const DF=Phaser.Utils.Objects.GetValue;var FF=function(e,t){var i=t.dialog,r=!i;if(r){var f=t.style;f.buttonMode=2,i=new Gg(e,f,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(DF(t,"confirmButtonIndex",0)).setCancelButtonIndex(DF(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),r&&t.onCreateDialog&&t.onCreateDialog(i);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=r);var n=t.confirm,x=t.cancel,s=t.confirmScope,a=t.cancelScope;n&&i.once("confirm",n,s),x&&i.once("cancel",x,a);var g=function(u){i.off("confirm",n,s),i.off("cancel",x,a)};return i.modal(S,g),i};class IF extends _n{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=nn(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=FF(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}bt.register("confirmActionButton",function(e){var t=new IF(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ConfirmActionButton",IF);var xh=function(e,t){if(e){var i=Qs(e);i&&i.remove(e,t)}};const kg=Phaser.Utils.Objects.GetValue;var zf=function(e,t,i){var r=kg(e,`proportion.${t}`,i.proportion),f=kg(e,`align.${t}`,"center"),S=kg(e,`space.${t}`,void 0);if(typeof S=="number"&&i.paddingKey){var n=S;S={},S[i.paddingKey]=n}var x=kg(e,`expand.${t}`,!0);return{proportion:r,align:f,padding:S,expand:x}},Vg=function(e){return zf(e,"header",{proportion:0,paddingKey:"bottom"})},zg=function(e){return zf(e,"leftSide",{proportion:0,paddingKey:"right"})},Ug=function(e){return zf(e,"content",{proportion:1})},Wg=function(e){return zf(e,"rightSide",{proportion:0,paddingKey:"left"})},Yg=function(e){return zf(e,"footer",{proportion:0,paddingKey:"top"})},ta=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},ea=function(e,t){var i=new we(e,{orientation:t});return e.add.existing(i),i},Gvt=function(e){var t=this.scene,i=e.header;i&&this.add(i,Vg(e));var r=ea(t,0);this.add(r,ta());var f=e.leftSide;f&&r.add(f,zg(e));var S=e.content;S&&r.add(S,Ug(e));var n=e.rightSide;n&&r.add(n,Wg(e));var x=e.footer;x&&this.add(x,Yg(e))},kvt=function(e){var t=this.scene,i=e.header;i&&this.add(i,Vg(e));var r=ea(t,0);this.add(r,ta());var f=e.leftSide;f&&r.add(f,zg(e));var S=ea(t,1);r.add(S,ta());var n=ea(t,0);S.add(n,ta());var x=e.content;x&&n.add(x,Ug(e));var s=e.rightSide;s&&n.add(s,Wg(e));var a=e.footer;a&&S.add(a,Yg(e))},Vvt=function(e){var t=this.scene,i=e.header;i&&this.add(i,Vg(e));var r=ea(t,0);this.add(r,ta());var f=ea(t,1);r.add(f,ta());var S=ea(t,0);f.add(S,ta());var n=e.leftSide;n&&S.add(n,zg(e));var x=e.content;x&&S.add(x,Ug(e));var s=e.footer;s&&f.add(s,Yg(e));var a=e.rightSide;a&&r.add(a,Wg(e))},zvt=function(e){var t=this.scene,i=e.header;i&&this.add(i,Vg(e));var r=ea(t,0);this.add(r,ta());var f=e.leftSide;f&&r.add(f,zg(e));var S=ea(t,1);r.add(S,ta());var n=e.content;n&&S.add(n,Ug(e));var x=e.footer;x&&S.add(x,Yg(e));var s=e.rightSide;s&&r.add(s,Wg(e))};const Uvt=Phaser.Utils.Objects.GetValue,BF=[Gvt,kvt,Vvt,zvt];var Wvt=function(e){e===void 0&&(e={});var t=e.background,i=e.header,r=e.leftSide,f=e.content,S=e.rightSide,n=e.footer;xh(t),xh(i),xh(r),xh(f),xh(S),xh(n),this.clear(!0),t&&this.addBackground(t);var x=Uvt(e,"layoutMode",0);typeof x=="string"&&(x=Yvt[x.toUpperCase()]);var s=BF[x]||BF[0];return s.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",r),this.addChildrenMap("content",f),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",n),this};const Yvt={FFF:0,LFF:1,FFR:2,LFR:3};class bS extends we{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var $vt={build:Wvt};Object.assign(bS.prototype,$vt),bt.register("holyGrail",function(e){var t=new bS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.HolyGrail",bS);const Xvt={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Ja(this.getButton(e,t)),this},showLeftButton(e){return Ja(this.getLeftButton(e)),this},showRightButton(e){return Ja(this.getRightButton(e)),this},showTopButton(e){return Ja(this.getTopButton(e)),this},showBottomButton(e){return Ja(this.getBottomButton(e)),this},hideButton(e,t){return Za(this.getButton(e,t)),this},hideLeftButton(e){return Za(this.getLeftButton(e)),this},hideRightButton(e){return Za(this.getRightButton(e)),this},hideTopButton(e){return Za(this.getTopButton(e)),this},hideBottomButton(e){return Za(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Ne=Phaser.Utils.Objects.GetValue;class MS extends Gr{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var r=Ne(i,"expand.panel",!1);r&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=Ne(i,"eventEmitter",this);var f=Ne(i,"background",void 0),S=Ne(i,"panel",void 0),n=Ne(i,"leftButtons",void 0),x=Ne(i,"leftButtonsBackground",void 0),s,a=Ne(i,"rightButtons",void 0),g=Ne(i,"rightButtonsBackground",void 0),u,h=Ne(i,"topButtons",void 0),l=Ne(i,"topButtonsBackground",void 0),o,d=Ne(i,"bottomButtons",void 0),v=Ne(i,"bottomButtonsBackground",void 0),c,p=Ne(i,"click",void 0);if(f&&this.addBackground(f),S&&this.add(S,{column:1,row:1,expand:r}),n){var y=Ne(i,"space.leftButtonsOffset",0),m=Ne(i,"space.leftButton",0),C=Ne(i,"expand.leftButtons",!1),T=Ne(i,"align.leftButtons","top");s=new Ni(t,{groupName:"left",background:x,buttons:n,orientation:"y",space:{item:m},expand:C,click:p,eventEmitter:this.eventEmitter}),this.add(s,{column:0,row:1,align:T,padding:{top:y},expand:C})}if(a){var E=Ne(i,"space.rightButtonsOffset",0),w=Ne(i,"space.rightButton",0),P=Ne(i,"expand.rightButtons",!1),b=Ne(i,"align.rightButtons","top");u=new Ni(t,{groupName:"right",background:g,buttons:a,orientation:"y",space:{item:w},expand:P,click:p,eventEmitter:this.eventEmitter}),this.add(u,{column:2,row:1,align:b,padding:{top:E},expand:P})}if(h){var M=Ne(i,"space.topButtonsOffset",0),A=Ne(i,"space.topButton",0),R=Ne(i,"expand.topButtons",!1),L=Ne(i,"align.topButtons","left");o=new Ni(t,{groupName:"top",background:l,buttons:h,orientation:"x",space:{item:A},expand:R,align:Ne(i,"align.topButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(o,{column:1,row:0,align:L,padding:{left:M},expand:R})}if(d){var O=Ne(i,"space.bottomButtonsOffset",0),D=Ne(i,"space.bottomButton",0),I=Ne(i,"expand.bottomButtons",!1),B=Ne(i,"align.bottomButtons","left");c=new Ni(t,{groupName:"bottom",background:v,buttons:d,orientation:"x",space:{item:D},expand:I,align:Ne(i,"align.bottomButtons",void 0),click:p,eventEmitter:this.eventEmitter}),this.add(c,{column:1,row:2,align:B,padding:{left:O},expand:I})}this.addChildrenMap("background",f),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",a),this.addChildrenMap("topButtons",h),this.addChildrenMap("bottomButtons",d),this.addChildrenMap("leftButtonsSizer",s),this.addChildrenMap("rightButtonsSizer",u),this.addChildrenMap("topButtonsSizer",o),this.addChildrenMap("bottomButtonsSizer",c)}}Object.assign(MS.prototype,Xvt),bt.register("tabs",function(e){var t=new MS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Tabs",MS),bt.register("slider",function(e){var t=new au(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Slider",au);class NF{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=Kl[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var r=this._deltaHeight!==t;if(this._deltaHeight=t,r){i.resetTotalRowsHeight();var f=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(f,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(NF.prototype,jv);const GF=Phaser.Utils.Objects.GetValue,Hvt=Phaser.Utils.Array.SpliceOne;class Kvt{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new rn,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=30);var r=t.cellWidth;return r===void 0&&(r=30),this.setDefaultCellHeight(i),this.setDefaultCellWidth(r),this.initCells(GF(t,"cellsCount",0)),this.setColumnCount(GF(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var r=0;r<t;r++)i[r]=null;return this}insertNewCells(t,i){var r=this.cells;if(t===r.length){var f=t+i;r.legth=f;for(var S=t;S<f;S++)r[S]=null}else{var n=[];n.length=i;for(var S=0;S<i;S++)n[S]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var r=t+i,f=t;f<r;f++)this.freeCell(f);return r===this.cells.length?this.cells.length=t:(i===1?Hvt(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var r=i.scrollMode===0?i.width:i.height,f=r/t;this.setDefaultCellWidth(f)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var x=t/this.defaultCellHeight;switch(i){case 1:x=Math.ceil(x);break;default:x=Math.floor(x);break}return x}for(var r=this.rowCount,f=t,S,n,x=0;;)if(n=this.getRowHeight(x),f-=n,S=x>=0&&x<r,f>0&&S)x+=1;else{if(f===0)return i===2&&(x+=1),x;if(i===1){var s=x;x+=1,S=x>=0&&x<r,S||(x=s)}return x}}widthToColIndex(t,i){if(t===0)return 0;var r=t/this.defaultCellWidth;return i?r=Math.ceil(r):r=Math.floor(r),r}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var r,f=0,S=t;S<=i;S++)r=this.getRowHeight(S),f+=r;return f}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var r=0,f,S=0;S<i;S++)f=this.getCellHeight(this.colRowToCellIndex(S,t)),r<f&&(r=f);return r}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var r=this.getCell(t,!1),f=r?r.deltaHeight:0;i=this.defaultCellHeight+f}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var r=this.newCell(t);this.cells[t]=r}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new NF(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,r,f=t,S=i.length;f<S;f++)r=i[f],r&&(r.index=f);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var jvt=function(e){var t=this.table,i=this.topTableOY,r=this.bottomTableOY,f=e>this.topTableOY,S=e<this.bottomTableOY;if(this.clampTableOXY){var n=t.rowCount,x=t.heightToRowIndex(this.instHeight,1);n<x?e=0:f?e=i:S&&(e=r)}return this._tableOY!==e&&(this._tableOY=e),f&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=f,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,r)),this.execeedBottomState=S,this},Jvt=function(e){var t=this.table,i=this.leftTableOX,r=this.rightTableOX,f=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,x=t.widthToColIndex(this.instWidth,!0);n<x?e=0:f?e=i:S&&(e=r)}return this._tableOX!==e&&(this._tableOX=e),f&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=f,S&&(this.execeedRightState||this.emit("execeedright",this,e,r)),this.execeedRightState=S,this},AS=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const Zvt=Phaser.Geom.Intersects.RectangleToRectangle,Qvt=Phaser.Geom.Rectangle.Overlaps;var qvt=function(e,t,i){if(t){i===void 0&&(i=e.getAllChildren());for(var r=e.getBounds(),f=AS(t),S,n,x,s=0,a=i.length;s<a;s++)if(S=i[s],S!==f&&_vt(S))if(S.getBounds)switch(n=S.getBounds(n),x=tpt(r,n),x){case 4:ept(e,S);break;case 0:Zvt(r,n)||Qvt(r,n)?RS(e,S,t):ipt(e,S);break;default:RS(e,S,t);break}else RS(e,S,t)}},_vt=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},tpt=function(e,t){var i=t.top,r=t.bottom,f=t.left,S=t.right,n=0;return n+=e.contains(f,i)?1:0,n+=e.contains(f,r)?1:0,n+=e.contains(S,i)?1:0,n+=e.contains(S,r)?1:0,n},ept=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},RS=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},ipt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const OS=Phaser.Utils.Objects.GetValue,spt={update:0,everyTick:1},kF={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(OS(e,"updateMode",0)),this.enableChildrenMask(OS(e,"padding",0)),this.setMaskLayer(OS(e,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=spt[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Br.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):qvt(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=AS(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var rpt=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var r=this.table;this.startRowIndex=Math.max(r.heightToRowIndex(-this.tableOY,2),0);for(var f=this.startRowIndex,S=Math.max(r.widthToColIndex(-this.tableOX),0),n=S,x=r.colRowToCellIndex(n,f),s=this.bottomBound,a=this.rightBound,g=r.cellsCount-1,u=r.colCount-1,h=this.getCellTLX(n),l=h,o=this.getCellTLY(f);o<s&&x<=g;){if(this.table.isValidCellIdx(x)){var d=r.getCell(x,!0);this.visibleCells.set(d),this.preVisibleCells.contains(d)||this.showCell(d);var v,c;if(this.scrollMode===0?(v=l,c=o):(v=o,c=l),d.cellContainerAlign==null)d.setXY(v,c);else{var p=d.getContainer();ff(p,v,c,d.width,d.height,d.cellContainerAlign),d.setXY(p.x,p.y)}}l<a&&n<u?(l+=r.getColWidth(n),n+=1):(l=h,o+=r.getRowHeight(f),n=S,f+=1),x=r.colRowToCellIndex(n,f)}i||this.setScale(e,t)}},VF=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},npt=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},apt=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},opt=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},zF=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},hpt=function(e){return e===void 0&&(e=!1),e&&(UF.call(this),this.hideCells()),UF.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},UF=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},lpt=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},WF=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),r=this.tableOX-(this.scrollMode===0?e:t),f=this.table,S=f.heightToRowIndex(-i,0),n=f.widthToColIndex(-r),x=f.colRowToCellIndex(n,S);return x===null||!this.isCellVisible(x)?null:x},upt=function(e,t){var i=WF.call(this,e,t);if(i!==null)return this.getCellContainer(i)},dpt=function(e,t){return this.visibleCells.each(e,t),this},fpt=function(e,t){return this.visibleCells.iterate(e,t),this},cpt=function(e,t){return this.table.cells.slice().forEach(e,t),this},vpt=function(e,t){return this.table.cells.forEach(e,t),this},ppt=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const gpt=Phaser.Math.Clamp;var mpt=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=gpt(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},xpt=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,r=e,f=e+t;r<f;r++)i=this.getCell(r,!1),i&&(this.visibleCells.contains(i)&&(zF.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},ypt=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},Cpt=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},Spt=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(VF.call(this,t),this)},YF={setTableOY:jvt,setTableOX:Jvt,showCells:rpt,showCell:VF,getCellTLX:npt,getCellTLY:apt,hideCells:opt,hideCell:zF,updateTable:hpt,isCellVisible:lpt,pointToCellIndex:WF,pointToCellContainer:upt,eachVisibleCell:dpt,iterateVisibleCell:fpt,eachCell:cpt,iterateCell:vpt,setCellsCount:ppt,insertNewCells:mpt,removeCells:xpt,setColumnCount:ypt,setGridSize:Cpt,updateVisibleCell:Spt};Object.assign(YF,kF);const Tpt=Phaser.GameObjects.Group,$F=Phaser.Structs.Set,yn=Phaser.Utils.Objects.GetValue;let XF=class extends qs{constructor(t,i,r,f,S,n){n===void 0&&(n={}),super(t,i,r,f,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new $F,this.preVisibleCells=new $F,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var x=yn(n,"reuseCellContainer",!1);x&&(this.cellContainersPool=new Tpt(t));var s=yn(n,"cellVisibleCallback",null);if(s!==null){var a=yn(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",s,a)}if(s=yn(n,"cellInvisibleCallback",null),s!==null){var a=yn(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",s,a)}yn(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(yn(n,"mask",void 0)),this.setScrollMode(yn(n,"scrollMode",0)),this.setClampMode(yn(n,"clamplTableOXY",!0));var g,u,h,l=this.scrollMode===0;if(l?(g=n.cellWidth,u=n.cellHeight,h=n.columns):(g=n.cellHeight,u=n.cellWidth,h=yn(n,"rows",n.columns)),h||(h=1),this.expandCellSize=g===void 0,this.expandCellSize){var f=l?this.width:this.height;g=f/h}n.cellWidth=g,n.cellHeight=u,n.columns=h,this.table=new Kvt(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Ept[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),r;return i&&(r=i.getContainer()),r}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var r;return typeof t=="number"?r=this.table.getCell(t,!0):r=t,r.height=i,this}setCellWidth(t,i){var r;return typeof t=="number"?r=this.table.getCell(t,!0):r=t,r.width=i,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){return this.width===t&&this.height===i?this:(super.resize(t,i),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}};Object.assign(XF.prototype,YF);const Ept={v:0,vertical:0,h:1,horizontal:1};var Ppt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},wpt=function(e){e.on("cellvisible",function(t,n,r){var f=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;S?n=f.call(S,t,n,r):n=f(t,n,r),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},Cn=function(e,t,i,r,f,S,n){var x;if(f===void 0?x=r:x=i.pointToCellIndex(r,f),x!=null){var s=i.getCellContainer(x);s&&e.emit(t,s,x,S,n)}},bpt=function(e,t){e.on("pointerdown",function(i,r,f,S){Cn(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,S)},this).on("pointerup",function(i,r,f,S){Cn(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,S)},this)},Mpt=function(e,t){e.on("pointermove",HF,this).on("pointerover",HF,this).on("pointerout",Apt,this)},HF=function(e,t,i,r){var f=this.childrenMap.child,S=f.pointToCellIndex(e.worldX,e.worldY);if(S!==f.input.lastOverCellIndex){var n=f.input.lastOverCellIndex;f.input.lastOverCellIndex=S,Cn(this.eventEmitter,"cell.out",f,n,void 0,e,r),Cn(this.eventEmitter,"cell.over",f,S,void 0,e,r)}},Apt=function(e,t){var i=this.childrenMap.child,r=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,Cn(this.eventEmitter,"cell.out",i,r,void 0,e,t)};const Rpt=Phaser.Utils.Objects.GetValue;var Opt=function(e,t){var i=Rpt(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new Yn(e,i),e._click.on("click",function(r,f,S,n){Cn(this.eventEmitter,"cell.click",f,S.worldX,S.worldY,S,n)},this))};const Lpt=Phaser.Utils.Objects.GetValue;var Dpt=function(e,t){var i=Lpt(t,"tap",void 0);i!==!1&&(e._tap=new Zp(e,i),e._tap.on("tap",function(r,f,S){var n=`cell.${r.tapsCount}tap`;Cn(this.eventEmitter,n,r.gameObject,r.worldX,r.worldY,S)},this))};const Fpt=Phaser.Utils.Objects.GetValue;var Ipt=function(e,t){var i=Fpt(t,"press",void 0);i!==!1&&(e._press=new Qp(e,i),e._press.on("pressstart",function(r,f,S){Cn(this.eventEmitter,"cell.pressstart",e,r.worldX,r.worldY,S)},this).on("pressend",function(r,f,S){Cn(this.eventEmitter,"cell.pressend",e,r.worldX,r.worldY,S)},this))};const Bpt=Phaser.Utils.Objects.GetValue;var Npt=function(e,t){var i=Bpt(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new Sf(e,i),e._swipe.on("swipe",function(r,f,S){var n=r.left?"left":r.right?"right":r.up?"up":"down";Cn(this.eventEmitter,`cell.swipe${n}`,e,r.worldX,r.worldY,S)},this))},Gpt=function(e,t){e.setInteractive(),bpt.call(this,e,t),Mpt.call(this,e,t),Opt.call(this,e,t),Dpt.call(this,e,t),Ipt.call(this,e,t),Npt.call(this,e,t)},kpt=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const Vpt={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},Vr=Phaser.Utils.Objects.GetValue;class LS extends If{constructor(t,i){i===void 0&&(i={});var r=sS(i),f=Vr(i,"table",void 0);f===void 0&&(f={}),f.scrollMode=r===2?0:r,f.clamplTableOXY=Vr(i,"clamplChildOY",!1);var S=Vr(f,"width",void 0),n=Vr(f,"height",void 0),x=new XF(t,0,0,S,n,f);t.add.existing(x);var s,a;f.scrollMode===0?(s=S===void 0,a=n===void 0):(s=n===void 0,a=S===void 0),Ppt(x),x._minWidth=S===void 0?0:void 0,x._minHeight=n===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:x,expandWidth:s,expandHeight:a};var g=Vr(i,"space",void 0);g&&(g.child=Vr(g,"table",0)),super(t,i),this.addChildrenMap("table",x),this.addChildrenMap("tableLayer",x.maskLayer),this.eventEmitter=Vr(i,"eventEmitter",this);var u=Vr(i,"createCellContainerCallback",bi),h=Vr(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(u,h),wpt.call(this,x),this.resizeControllerFlag=!1;var l=r===0?"cellheightchange":"cellwidthchange";x.on(l,function(){this.resizeControllerFlag=!0},this),Vr(f,"interactive",!0)&&Gpt.call(this,x,f),this.setItems(Vr(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var zpt={setItems:kpt};Object.assign(LS.prototype,Vpt,zpt),bt.register("gridTable",function(e){var t=new LS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.GridTable",LS);var DS=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},Upt=function(e,t){e.popUp(DS(e.root.easeIn,e))},Wpt=function(e,t){e.scaleDown(DS(e.root.easeOut,e))};const Ypt={setTransitInCallback(e){return e===void 0&&(e=Upt),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=Wpt),this.transitOutCallback=e,this}};var $pt=function(e,t,i,r,f){var S=Nl(e),n=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){i.call(r,f)})});return n};const Xpt={delayCall(e,t,i){return this.timer=$pt(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var Hpt=function(e,t){var r=this.childrenMap.subMenu;if(r&&r.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var r=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(r),this.childrenMap.subMenu=r,this.root.emit("expand",r,e,this),this},Kpt=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},jpt=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},KF={expandSubMenu:Hpt,collapse:Kpt,collapseSubMenu:jpt};Object.assign(KF,Ypt,Xpt);var Jpt=function(e,t,i,r){var f;return i&&(t.scene=e,r?f=i.call(r,t):f=i(t),t.scene=void 0),f},Zpt=function(e,t,i,r){var f,S=[],n;if(t&&i)for(var x=0,s=t.length;x<s;x++)f=t[x],f.scene=e,r?n=i.call(r,f,x,t):n=i(f,x,t),f.scene=void 0,S.push(n);return S},Qpt=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var r=this.root.childrenKey,f=this.items[i][r];f&&this.expandSubMenu(t,f)}},e).on("button.click",function(t,i,r,f){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,r,f),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,r,f){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,r,f),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,r,f){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,r,f),this.root._isPassedEvent=!1)},e)},jF=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Af(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},qpt=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const ps=Phaser.Utils.Objects.GetValue;class FS extends Ni{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var r=i._rootMenu,f=i._parentMenu,S=i._parentButton,n=ps(i,"popup",!0),x=ps(i,"items",void 0),s=ps(i,"createBackgroundCallback",void 0),a=ps(i,"createBackgroundCallbackScope",void 0);i.background=Jpt(t,x,s,a);var g=ps(i,"createButtonCallback",void 0),u=ps(i,"createButtonCallbackScope",void 0);if(i.buttons=Zpt(t,x,g,u),super(t,i),this.type="rexMenu",this.items=x,this.root=r===void 0?this:r,this.isRoot=this.root===this,this.parentMenu=f,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var h=i.bounds;h===void 0&&(h=Il(t)),this.bounds=h,this.subMenuSide=[this.y<h.centerY?BS:Xg,this.x<h.centerX?IS:$g];var l=ps(i,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=_pt[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=ps(i,"toggleOrientation",!1),this.expandEventName=ps(i,"expandEvent","button.click"),this.easeIn=jF(this,ps(i,"easeIn",0)),this.easeOut=jF(this,ps(i,"easeOut",0)),this.setTransitInCallback(ps(i,"transitIn")),this.setTransitOutCallback(ps(i,"transitOut")),this.createBackgroundCallback=s,this.createBackgroundCallbackScope=a,this.createButtonCallback=g,this.createButtonCallbackScope=u,this.childrenKey=ps(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=ps(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var o=0,d=0;if(!this.root.easeIn.sameOrientation){var v=DS(this.root.easeIn,this).orientation,c=f?f.orientation:this.orientation,l=this.root.subMenuSide[c];v===0&&l===$g&&(o=1),v===1&&l===Xg&&(d=1)}if(n&&this.setOrigin(o,d).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[f.orientation];switch(l){case $g:this.alignTop(S.top).alignRight(S.left);break;case IS:this.alignTop(S.top).alignLeft(S.right);break;case Xg:this.alignLeft(S.left).alignBottom(S.top);break;case BS:this.alignLeft(S.left).alignTop(S.bottom);break}}Qpt(this),n&&(this.pushIntoBounds(this.root.bounds),qpt.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const $g=2,IS=0,Xg=3,BS=1,_pt={up:Xg,down:BS,left:$g,right:IS};Object.assign(FS.prototype,KF),bt.register("menu",function(e){var t=new FS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Menu",FS);var tgt={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=egt[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const egt={down:0,up:1};var igt=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var r=[],f=this.listCreateButtonCallback;if(f)for(var S=this.options,n=0,x=S.length;n<x;n++){var s=f.call(this,e,S[n],n,S);s&&(e.add.existing(s),r.push(s))}var a=this.listWidth;a===void 0&&(this.listAlignMode==="text"?a=this.getElement("text").width:a=this.width);var g=this.listHeight,u;return this.listWrapEnable?u=new so(e,{width:a,height:g,background:t,buttons:r,space:this.listSpace,draggable:this.listDraggable}):u=new Ni(e,{width:a,height:g,orientation:"y",background:t,buttons:r,space:this.listSpace,draggable:this.listDraggable}),e.add.existing(u),u},sgt=function(e,t,i,r,f){var S={};switch(S.mode=0,i){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=r,f===void 0?f=new gf(e,S):f.resetFromJSON(S),f.restart(),f},rgt=function(e,t,i,r,f){return zn(e,t)?Be(e,t):zn(e,i)?Be(e,i):f};const lu=Phaser.Utils.Objects.GetValue;var ngt=function(e,t){var i=lu(t,"expandDirection",void 0);typeof i=="string"&&(i=agt[i]);var r=rgt(t,"alignTarget","alignTargetX"),f=lu(t,"alignTargetY",r),S=lu(t,"alignOffsetX",0),n=lu(t,"alignOffsetY",0),x=lu(t,"alignSide",""),s=x.includes("right"),a=lu(t,"bounds"),g=i===0,u=i===1,h=!g&&!u,l=s?1:0,o=g||h?0:1;e.setOrigin(l,o);var d,v;s?d=r.getTopRight().x:d=r.getTopLeft().x,v=f.getBottomLeft().y,e.setPosition(d+S,v+n);var c=a;c||(c=Il(e.scene)),h&&e.getBottomLeft().y>c.bottom&&(v=f.getTopLeft().y,e.setOrigin(0,1).setPosition(d+S,v+n))};const agt={down:0,up:1},JF=Phaser.Utils.Objects.GetValue;class ZF extends $p{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(S,n){JC(S,n,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(S,n){sgt(S,n,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),ngt(t,i),t.isRexSizer&&t.layout();var r=JF(i,"touchOutsideClose",!1),f=JF(i,"anyTouchClose",!1);f&&(r=!1),f?this.once("open",this.anyTouchClose,this):r&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&uh(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var ogt=function(){if(this.listPanel)return this;var e=igt.call(this);e.on("button.over",function(r,f,S,n){this.currentOverIndex=f,this.listOnButtonOver&&this.listOnButtonOver.call(this,r,f,S,n),this.emit("button.over",this,e,r,f,S,n)},this).on("button.out",function(r,f,S,n){this.currentOverIndex===f&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,r,f,S,n),this.emit("button.out",this,e,r,f,S,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new ZF(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){e.on("button.click",function(r,f,S,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,r,f,S,n),this.emit("button.click",this,e,r,f,S,n)},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},hgt=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},lgt=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},ugt=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},dgt=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const fgt={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var QF={openListPanel:ogt,closeListPanel:hgt,toggleListPanel:lgt,emitButtonClick:ugt,emitButtonOver:dgt};Object.assign(QF,tgt,fgt);const ri=Phaser.Utils.Objects.GetValue;class Uf extends _n{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(ri(i,"options"));var r=ri(i,"list");this.setWrapEnable(ri(r,"wrap",!1)),this.setCreateButtonCallback(ri(r,"createButtonCallback")),this.setCreateListBackgroundCallback(ri(r,"createBackgroundCallback")),this.setButtonClickCallback(ri(r,"onButtonClick")),this.setButtonOverCallback(ri(r,"onButtonOver")),this.setButtonOutCallback(ri(r,"onButtonOut")),this.setListExpandDirection(ri(r,"expandDirection")),this.setListEaseInDuration(ri(r,"easeIn",500)),this.setListEaseOutDuration(ri(r,"easeOut",100)),this.setListTransitInCallback(ri(r,"transitIn")),this.settListTransitOutCallback(ri(r,"transitOut")),this.setListSize(ri(r,"width"),ri(r,"height")),this.setListAlignmentMode(ri(r,"alignParent","text")),this.setListAlignmentSide(ri(r,"alignSide","")),this.setListBounds(ri(r,"bounds")),this.setListSpace(ri(r,"space")),this.setListDraggable(ri(r,"draggable",!1)),this.setValueChangeCallback(ri(i,"setValueCallback"),ri(i,"setValueCallbackScope")),this.setValue(ri(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var r=this.valueChangeCallback,f=this.valueChangeCallbackScope;r&&(f?r.call(f,this,t,i):r(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(Uf.prototype,QF),bt.register("dropDownList",function(e){var t=new Uf(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.DropDownList",Uf);var qF=function(e,t,i){t=t?Wi(t):{},i===void 0&&(i={});var r=t.label||t.button,f=t.button||t.label;delete t.label,delete t.button;var S=i.label||i.button||i,n=i.button||i.label||i,x=Ag(e,r,S);return x.list=t.list||{},x.list.createButtonCallback=function(s,a){var g=Ns(s,f,n).resetDisplayContent(a);return a.hasOwnProperty("value")&&(g.value=a.value),g},x.list.onButtonOver=function(s,a,g,u){s.setHoverState&&s.setHoverState(!0)},x.list.onButtonOut=function(s,a,g,u){s.setHoverState&&s.setHoverState(!1)},x};class _F extends Uf{constructor(t,i,r){i=qF(t,i,r),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,r=t.length;i<r;i++){var f=t[i];typeof f=="string"&&(t[i]={text:f,value:f})}return super.setOptions(t),this}}bt.register("simpleDropDownList",function(e,t){var i=new _F(this.scene,e,t);return this.scene.add.existing(i),i}),Pt(window,"RexPlugins.UI.SimpleDropDownList",_F);var cgt=function(e){var t=_a(e),i,r,f;switch(t){case is:case ss:i=e.height-e.padding.top-e.padding.bottom,r=e.lineSpacing,f=e.style.metrics.fontSize+e.style.strokeThickness;break;case _s:i=e.height,r=0;var S=e.fontSize/e.fontData.size;f=e.fontData.lineHeight*S;break}return(i-r)/(f+r)},vgt=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var r;switch(this.textObjectType){case is:case _s:r=this.lines.slice(e,t).join(`
`);break;case ss:var f=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);r=this.lines.getSliceTagText(f,S,!0);var n=(r.match(/\n/g)||[]).length;n>t-e-1&&(r=r.substring(0,r.length-1));break}return r},NS=function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const pgt={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(NS(i));var i=this.sections.join(`
`);this.lines=dS(this.parent,i,this.lines);var r=this.totalLinesCount-t,f=this.pageLinesCount,S;f>0?S=Math.ceil(r/this.pageLinesCount):S=1;for(var n=0;n<S;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=NS(e).split(this.pageBreak),r=0,f=i.length;r<f;r++)this.appendPage(i[r]);return this},appendText(e){var t=this.content+NS(e);return this.setText(t,!1),this}},t3=Phaser.Math.Clamp,ggt={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=t3(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=t3(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},mgt={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){fS(this.parent,e)}};var e3={getLines:vgt};Object.assign(e3,pgt,ggt,mgt);const uu=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class Hg extends ti{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=_a(this.parent),this.pageStartIndexes=[],this.lines=dS(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(uu(t,"maxLines",void 0)),this.setPageBreak(uu(t,"pageBreak",`\f
`)),this.setText(uu(t,"text","")),this.startLineIndex=uu(t,"start",-1),this.endLineIndex=uu(t,"end",void 0);var i=uu(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case is:this.lines.length=0;break;case ss:this.lines.destroy();break;case _s:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case is:case ss:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(cgt(this.parent));break;case _s:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Hg.prototype,e3);var xgt=function(e,t,i,r){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(r)),this},i3=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},ygt=function(e,t,i,r,f){var S;if(t>0){r===void 0&&(r=0);var n=i3(this.parent,e);S=Cgt(n,t)+r}return this.start(e,i,S,f)},Cgt=function(e,t){for(var i=void 0,r=0;r<t&&(i=e.indexOf(`
`,i+1),i!==-1);r++);return i},Wf=function(e,t,i,r){var f;return e.getSubString?f=e.getSubString(t,i,r):f=t.slice(i,r),f},s3=function(e,t,i,r){var f=this.parent,S;if(r===0){var n=0,x=t;this.insertIndex=x,S=Wf(f,e,n,x)}else if(r===1){var x=i,n=x-t;this.insertIndex=0,S=Wf(f,e,n,x)}else if(r===2){var s=i/2,n=Math.floor(s-t/2),x=n+t;this.insertIndex=t%2?t:0,S=Wf(f,e,n,x)}else if(r===3){var a=Math.floor(t/2),g;if(a>0){var x=i,n=x-a;g=Wf(f,e,n,x)}else g="";var u=t-a,h;if(u>0){var n=0,x=n+u;this.insertIndex=x,h=Wf(f,e,n,x)}else h="",this.insertIndex=0;S=h+g}return this.insertChar=S.charAt(this.insertIndex-1),S},Sgt=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)s3.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},Tgt=function(){var e=this.getTimer();return e&&(e.paused=!0),this},Egt=function(){var e=this.getTimer();return e&&(e.paused=!1),this},Pgt=function(e){var t=this.text.concat(TransferText(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this},wgt={start:xgt,startFromLine:ygt,stop:Sgt,pause:Tgt,resumeTyping:Egt,appendText:Pgt},bgt=function(e,t){var i=_a(e);switch(i){case is:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case ss:t=e.getText(t,void 0,void 0,!0);break;case _s:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Yf=Phaser.Utils.Objects.GetFastValue,GS=Phaser.Utils.Objects.GetValue;class Kg extends ti{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(GS(t,"wrap",!1)),this.setTypeMode(GS(t,"typeMode",0)),this.setTypingSpeed(GS(t,"speed",333)),this.setTextCallback=Yf(t,"setTextCallback",null),this.setTextCallbackScope=Yf(t,"setTextCallbackScope",null),this.setTypingContent(Yf(t,"text","")),this.typingIndex=Yf(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=Yf(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=Agt[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=Mgt(t);this.textWrapEnable&&(i=bgt(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=i3(this.parent,this.text).length,this}onTyping(){var t=s3.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?fS(this.parent,t):this.parent.setText(t)}}var Mgt=function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const Agt={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(Kg.prototype,wgt);const $f=Phaser.Utils.Objects.GetValue;var Rgt=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(f,S){super(f,S),this.type=t,this.isRunning=!1;var n=this.childrenMap.text,x=$f(S,"expandTextWidth",!1),s=$f(S,"expandTextHeight",!1);if(x||s){var a=_a(n);switch(a){case is:case ss:if(n.resize=function(u,h){var l=x?u:0,o=s?h:0;n.setFixedSize(l,o),l>0&&n.setWordWrapWidth(l)},a===ss){var g=n.style;g.wrapMode===0&&(g.wrapMode=1)}break}x&&(n._minWidth=0),s&&(n._minHeight=0)}this.setTypingMode($f(S,"typingMode","page")),this.page=new Hg(n,$f(S,"page",void 0)),this.typing=new Kg(n,$f(S,"typing",S.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=n.width,this.textHeightSave=n.height}setTypingMode(f){return typeof f=="string"&&(f=Ogt[f]),this.typingMode=f,this}start(f,S){return S!==void 0&&this.setTypingSpeed(S),this.isRunning=!0,this.page.setText(f),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(f,S){if(S!==void 0&&this.setTypingSpeed(S),this.isRunning)this.page.appendText(f),this.typing.appendText(f);else{if(this.isRunning=!0,this.page.appendText(f),this.emit("start"),this.typingMode===0){var n=this.page.getPage(),x=this.typing.textLength;this.typing.start(n,void 0,x)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{var f=this.page.getNextPage();this.typing.start(f)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var f=this.page.getPageOfNextLine(),S;this.isFirstLine?S=0:S=this.page.pageLinesCount-1,this.typing.startFromLine(f,S)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(f){return this.isRunning?(this.typing.stop(f),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(f){return this.typing.setTypingSpeed(f),this}setTypingSpeed(f){return this.typing.setTypingSpeed(f),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var f=this.childrenMap.text;(this.textWidthSave!==f.width||this.textHeightSave!==f.height)&&(this.textWidthSave=f.width,this.textHeightSave=f.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(f){this.emit("typechar",f)}onTypingComplete(){if(this.typingMode===0){var f=this.isLastPage;this.isRunning=!f,this.emit("pageend"),f&&this.emit("complete")}else this.typeNextLine()}}return i};const Ogt={page:0,line:1};class kS extends Rgt(Rg){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}bt.register("textBox",function(e){var t=new kS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.TextBox",kS);class r3 extends kS{constructor(t,i,r){i=SF(t,i,r),super(t,i)}}bt.register("simpleTextBox",function(e){var t=new r3(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.SimpleTextBox",r3);const ir=Phaser.Utils.Objects.GetValue;class n3 extends we{constructor(t,i){super(t,i),this.type="rexNumberBar";var r=ir(i,"background",void 0),f=ir(i,"icon",void 0),S=ir(i,"iconMask",void 0),n=ir(i,"slider",void 0),x=ir(i,"text",void 0),s=ir(i,"space.icon",0),a=ir(i,"space.slider",0);if(r&&this.addBackground(r),f){var g;this.orientation===0?(n||x)&&(g={right:s}):(n||x)&&(g={bottom:s}),this.add(f,{proportion:0,align:"center",padding:g}),S&&(S=Br.call(this,f,f,1))}var u;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),u=new au(t,n),t.add.existing(u);var g;this.orientation===0?x&&(g={right:a}):x&&(g={bottom:a});var h;if(this.orientation===0){var l=ir(n,"width",void 0);h=l===void 0?1:0}else{var o=ir(n,"height",void 0);h=o===void 0?1:0}this.add(u,{proportion:h,align:"center",padding:g})}x&&this.add(x),this.addChildrenMap("background",r),this.addChildrenMap("icon",f),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",u),this.addChildrenMap("text",x);var d=ir(i,"valuechangeCallback",null);if(d!==null){var v=ir(i,"valuechangeCallbackScope",void 0);this.on("valuechange",d,v)}this.setEnable(ir(i,"enable",void 0)),this.setValue(ir(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,r),this}addValue(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,r),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,r){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,r),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}bt.register("numberBar",function(e){var t=new n3(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.NumberBar",n3),bt.register("scrollBar",function(e){var t=new aS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ScrollBar",aS);const VS=Phaser.Utils.Objects.GetValue,a3={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class o3 extends xr{constructor(t,i){super(t,i),this.type="rexBadge";var r=VS(i,"background",void 0);r&&this.addBackground(r),this.addChildrenMap("background",r);var f=VS(i,"main",void 0);f&&this.add(f,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",f);for(var S in a3){var n=VS(i,S,void 0);n&&(this.add(n,{key:S,align:a3[S],expand:!1}),this.addChildrenMap(S,n))}}}bt.register("badgeLabel",function(e){var t=new o3(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.BadgeLabel",o3);const Lgt=xr.prototype.add;var h3=function(e,t,i,r,f,S,n,x,s){return e.setVisible(!1),Lgt.call(this,e,t,i,r,f,S,n,x,s),this};const Dgt={add:h3,addPage:h3};var Fgt=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const l3=qs.prototype.setChildVisible;var Igt=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?(l3.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var r=this.currentPage;return r&&(l3.call(this,r,!0),this.emit("pagevisible",r,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&r.setAlpha(0).fadeIn(t,1)),this},Bgt=function(e){return this.sizerChildren.hasOwnProperty(e)},u3={getPage:Fgt,swapPage:Igt,hasPage:Bgt};Object.assign(u3,Dgt);const d3=Phaser.Utils.Objects.GetValue;class jg extends xr{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(d3(i,"swapMode",0)),this.setFadeInDuration(d3(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=Ngt[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(jg.prototype,u3);const Ngt={invisible:0,destroy:1};bt.register("pages",function(e){var t=new jg(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Pages",jg);const Ggt=Phaser.GameObjects.Mesh;class f3 extends Ggt{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const c3=Phaser.Math.Vector3,kgt=Phaser.Math.Matrix4;var v3=new c3,p3=new c3,g3=new kgt,Vgt=function(e,t,i,r,f,S,n){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=0),S===void 0&&(S=0),n===void 0&&(n=0),v3.set(t,i,r),p3.set(f,S,n),g3.fromRotationXYTranslation(p3,v3,!0);for(var x=0,s=e.vertices.length;x<s;x++)e.vertices[x].transformMat4(g3)};const zgt=Phaser.Utils.Objects.IsPlainObject,yh=Phaser.Utils.Objects.GetValue,Ugt=Phaser.Geom.Mesh.GenerateGridVerts,zS=Phaser.Math.RadToDeg,Jg=Phaser.Math.DegToRad,m3=45,Wgt=1+1/Math.sin(Jg(m3));let x3=class extends f3{constructor(t,i,r,f,S,n){zgt(i)&&(n=i,i=yh(n,"x",0),r=yh(n,"y",0),f=yh(n,"key",null),S=yh(n,"frame",null)),super(t,i,r,f,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(Wgt),this.hideCCW=yh(n,"hideCCW",!0);var x=yh(n,"gridWidth",0),s=yh(n,"gridHeight",x);this.resetVerts(x,s),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,m3),this}resetVerts(S,n){if(S!==void 0&&(this.gridWidth=S),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var r=this.frame.cutWidth,f=this.frame.cutHeight,S,n;this.gridWidth===0?S=Math.max(r/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(f/8,32):n=this.gridHeight,Ugt({mesh:this,width:r/this.height,height:f/this.height,widthSegments:Math.ceil(r/S),heightSegments:Math.ceil(f/n)});var x=this.transformInfo;return x&&this.transformVerts(x.x,x.y,x.z,x.rotateX,x.rotateY,x.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return zS(this.rotationX)}set angleX(t){this.rotationX=Jg(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return zS(this.rotationY)}set angleY(t){this.rotationY=Jg(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return zS(this.rotationZ)}set angleZ(t){this.rotationZ=Jg(t)}transformVerts(t,i,r,f,S,n){return t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=0),S===void 0&&(S=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=f,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=n,Vgt(this,t,i,r,f,S,n),this}};const Ygt=Phaser.Textures.DynamicTexture;var y3=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var r=new Ygt(e.sys.textures,null,t,i);return r};const $gt=Phaser.Utils.Objects.IsPlainObject,Zg=Phaser.Utils.Objects.GetValue;class C3 extends x3{constructor(t,i,r,f,S,n){$gt(i)&&(n=i,i=Zg(n,"x",0),r=Zg(n,"y",0),f=Zg(n,"width",32),S=Zg(n,"height",32));var x=y3(t,f,S);super(t,i,r,x,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,AC(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue;var zr=function(e,t,i,r){if(Array.isArray(e))for(var f=!1,S=0,n=e.length;S<n;S++){var x=e[S];if(!(r&&!x)&&(i?f=t.call(i,x,S,e):f=t(x,S,e),f))return}else{var f=!1;for(var s in e){var x=e[s];if(!(r&&!x)&&(i?f=t.call(i,x,s,e):f=t(x,s,e),f))return}}};const du=Phaser.Math.RadToDeg,fu=Phaser.Math.DegToRad;class Xgt extends qs{constructor(t,i,r,f,S,n){super(t,i,r,f,S),this.faces=n,zr(n,function(x){x.setPosition(i,r),this.add(x)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return du(this.rotationX)}set angleX(t){this.rotationX=fu(t)}get rotateX(){return du(this.rotationX)}set rotateX(t){this.rotationX=fu(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return du(this.rotationY)}set angleY(t){this.rotationY=fu(t)}get rotateY(){return du(this.rotationY)}set rotateY(t){this.rotationY=fu(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return du(this.rotationZ)}set angleZ(t){this.rotationZ=fu(t)}get rotateZ(){return du(this.rotationZ)}set rotateZ(t){this.rotationZ=fu(t)}setDebug(t,i){return zr(this.faces,function(r){r.setDebug(t,i)},null,!0),this}panX(t){return zr(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return zr(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return zr(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,r,f,S,n){return zr(this.faces,function(x){x.transformVerts(t,i,r,f,S,n)},null,!0),this}forEachFace(t,i,r){return zr(this.faces,t,i,r),this}}const Hgt=Phaser.Utils.Objects.IsPlainObject,Kgt={key:"__WHITE"},jgt={image:x3,rendertexture:C3};var S3=function(e,t){t===void 0&&(t=Kgt);var i;return Hgt(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new jgt[t.type](e,t),e.add.existing(i)):i=t,i},Jgt=function(e,t,i){var r;if(i===void 0){r=[];for(var f,S,n=0,x=t.length;n<x;n++)S=t[n],S?f=S3(e,S):f=null,r.push(f)}else{r={};for(var f,s,n=0,x=i.length;n<x;n++)s=i[n],t.hasOwnProperty(s)?f=S3(e,t[s]):f=null,r[s]=f}return r};const Zgt=Phaser.Math.DegToRad,T3=Zgt(180);var Qgt=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,T3,0):i.transformVerts(0,0,0,T3,0,0))};const US=Phaser.Utils.Objects.GetValue,qgt=Phaser.Math.Linear;let _gt=class extends ih{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(US(t,"ease","Cubic")),this.setFrontToBackDirection(US(t,"frontToBack",0)),this.setBackToFrontDirection(US(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=E3[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=E3[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var r=i+1,f=this.parent;return f.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*r):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*r),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var r=this.easeFn(i.t),f=qgt(this.startAngle,this.endAngle,r);t.orientation===0?t.angleY=f:t.angleX=f}};const E3={right:0,"left-to-right":0,left:1,"right-to-left":1},tmt=Phaser.Utils.Objects.IsPlainObject,Ch=Phaser.Utils.Objects.GetValue,emt=["back","front"];class imt extends Xgt{constructor(t,i,r,f){tmt(i)&&(f=i,i=Ch(f,"x",0),r=Ch(f,"y",0));var S=Jgt(t,f,emt),n=S.back,x=S.front,s=Ch(f,"width"),a=Ch(f,"height");if(s===void 0||a===void 0){if(s===void 0){var g=x?x.width:0,u=n?n.width:0;s=Math.max(g,u)}if(a===void 0){var h=x?x.height:0,l=n?n.height:0;a=Math.max(h,l)}}super(t,i,r,s,a,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,zr(S,function(d,v){this[`${v}Face`]=d},this);var o=Ch(f,"flip",void 0);o!==!1&&(this.flip=new _gt(this,o)),this.setOrientation(Ch(f,"orientation",0)),Qgt(this,S),this.setFace(Ch(f,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,zr(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,zr(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,zr(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=smt[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=rmt[t]),this.currentFaceIndex=t;var i=t===1,r=i?180:0;this.orientation===0?this.angleY=r:this.angleX=r}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const smt={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},rmt={front:0,back:1};Phaser.Utils.Objects.GetValue,Phaser.Math.RadToDeg,Phaser.Math.DegToRad,Phaser.Math.Angle.WrapDegrees,Phaser.Math.Angle.ShortestBetween,Phaser.Math.Wrap,Phaser.Math.Linear,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue,Phaser.Math.DegToRad,Phaser.Math.RadToDeg,Phaser.Math.Angle.WrapDegrees,Phaser.Math.Linear,Phaser.Math.Wrap,Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue,Phaser.Math.Wrap;const nmt=Phaser.Utils.Objects.GetValue;var amt=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=nmt(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},P3=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,r=0,f=i.length;r<f;r++)e.setChildVisible(i[r],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},omt=function(e,t){if(!e)return!1;P3(e,t);var i=t.useParentBounds;AC({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var r=t.visibleSibling,f=e.children,S=0,n=f.length;S<n;S++){var x=f[S];x.visible&&x!==t&&(e.setChildVisible(x,!1),r.push(x))}return t.isRunning=!0,!0},w3=function(e){return class extends e{constructor(i,r){var f=i.scene;super(f,0,0,1,1,r),f.add.existing(this),amt(i,this,r)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=omt(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return P3(this.rexContainer.parent,this),this}}};class b3 extends w3(C3){get perspectiveState(){return this.isRunning}}const hmt=Phaser.Utils.Objects.GetValue;var lmt=function(e){var t=this.scene;this.setSnapshotPadding(hmt(e,"snapshotPadding",0)),e=nn(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new imt(t,e);t.add.existing(i);var r=i.flip;if(r){var f=this;r.on("start",function(){f.enterPerspectiveMode()}).on("complete",function(){f.exitPerspectiveMode()})}return i};const umt=["front","back"],dmt={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=umt[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var r=i.visible;i.visible=!0;var f=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(f,{padding:this.snapshotPadding}),i.visible=r,this}},M3=Phaser.Utils.Objects.GetValue;class WS extends xr{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var r=i.back,f=M3(i,"expand.back",!0);this.add(r,{key:"back",expand:f});var S=i.front,n=M3(i,"expand.front",!0);this.add(S,{key:"front",expand:n}),this.perspectiveCard=lmt.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,r=this.childrenMap.front,f=this.childrenMap.back;this.setChildVisible(r,i),this.setChildVisible(f,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,r,f,S,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,r,f,S,n),this}forEachFace(t,i,r){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,r),this}}Object.assign(WS.prototype,dmt),bt.register("perspectiveCard",function(e){var t=new WS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.PerspectiveCard",WS);var fmt=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},cmt=function(e){for(var t=this.getElement("tabs.buttons"),i=0,r=t.length;i<r;i++)if(t[i].name===e)return i};const vmt=Phaser.Utils.Objects.IsPlainObject,YS=Phaser.Utils.Objects.GetValue,pmt=Phaser.Utils.String.UUID;var gmt=function(e,t,i){if(vmt(e)){var r=e;e=YS(r,"key"),t=YS(r,"tab"),i=YS(r,"page")}return e||(e=pmt()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},mmt=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var r;t!==void 0&&(r=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),r!==void 0&&(this.childrenMap.pages.fadeInDuration=r)}return this},xmt=function(e){return this.swapPage(0,e),this},ymt=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const Cmt={swapPage:mmt,swapFirstPage:xmt,swapLastPage:ymt},Smt={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,r=i.getByName(e),f=this.childrenMap.pages,S=f.getElement(e);return!r||!S?this:(f.removeChildrenMap(e),i.removeButton(r,t),f.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var Tmt=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},Emt=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},Pmt={top:1,left:3,right:5,bottom:7},A3={top:"bottom",left:"right",right:"left",bottom:"top"},wmt=function(e){var t=Pmt[e];if(t===void 0)return this;var i=this.childrenMap.tabs,r=this.sizerChildren.indexOf(i);if(r===t)return this;this.sizerChildren[r]=null,this.sizerChildren[t]=i;var f=this.getSizerConfig(i).padding,S=A3[this.tabsPosition],n=A3[e];return f[n]=f[S],f[S]=0,this.tabsPosition=e,this},R3={getPageKey:fmt,getPageIndex:cmt,addPage:gmt,getPage:Tmt,getTab:Emt,setTabPosition:wmt};Object.assign(R3,Cmt,Smt);const Ur=Phaser.Utils.Objects.GetValue,O3=Gr.prototype.add;let Qg=class extends Gr{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var r=Ur(i,"expand.pages",!0);r&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var f=Ur(i,"background",void 0);f&&this.addBackground(f);var S=Ur(i,"pages"),n=new jg(t,S);t.add.existing(n);var x=Ur(i,"tabsPosition",void 0);x===void 0&&(x=Ur(i,"tabPosition","top"));var s=Ur(i,"wrapTabs",!1),a=s?so:Ni,g=Ur(i,"tabs",void 0);g===void 0&&(g={}),g.orientation=x==="top"||x==="bottom"?"x":"y",g.buttonsType="radio",!s&&!g.hasOwnProperty("expand")&&(g.expand=Ur(i,"expand.tabs",!1));var u=new a(t,g);t.add.existing(u),O3.call(this,n,{column:1,row:1,expand:r});var h,l,o=Ur(i,"space.item",0);switch(x){case"top":h=1,l=0,o={bottom:o};break;case"bottom":h=1,l=2,o={top:o};break;case"left":h=0,l=1,o={right:o};break;case"right":h=2,l=1,o={left:o};break}O3.call(this,u,{column:h,row:l,padding:o,expand:s?!0:Ur(i,"expand.tabs",!1),align:Ur(i,"align.tabs","left")}),this.addChildrenMap("background",f),this.addChildrenMap("tabs",u),this.addChildrenMap("pages",n),this.tabsPosition=x,u.on("button.click",function(d){var v=d.name;n.hasPage(v)&&n.swapPage(v)}),u.on("button.statechange",function(d,v,c,p){var y=c?"tab.focus":"tab.blur";this.emit(y,d,d.name)},this),n.on("pagevisible",function(d,v,c){this.emit("page.focus",d,v)}),n.on("pageinvisible",function(d,v,c){this.emit("page.blur",d,v)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Qg.prototype,R3),bt.register("tabPages",function(e){var t=new Qg(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.TabPages",Qg);class bmt extends $p{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const Mmt={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var r=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();r.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var r=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();r.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var Amt=function(e,t){Xn.popUp.call(e,t,this.expandDirection)},Rmt=function(e,t){Xn.scaleDown.call(e,t,this.expandDirection)};const Omt={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=Amt.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=Rmt.bind(this)),this.childTransition.setTransitOutCallback(e),this}},mi=Phaser.Utils.Objects.GetValue;let Xf=class extends we{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var r=i.background,f=i.title,S=i.child;r&&this.addBackground(r);var n=mi(i,"space"),x=this.orientation===1?"left":"top",h=mi(i,"align.title",x),l=mi(i,"expand.title",!0);this.add(f,{proportion:0,align:h,expand:l,padding:{left:mi(n,"titleLeft",0),right:mi(n,"titleRight",0),top:mi(n,"titleTop",0),bottom:mi(n,"titleBottom",0)}});var s=mi(i,"toggleByTarget",void 0),a=mi(i,"toggleClickConfig");s===void 0&&(s=f),s&&a1.onClick.call(s,function(){this.toggle()},this,a),this.childTransition=new bmt(S);var g=mi(i,"customChildOrigin",!1);if(!g){var u=this.rtl?1:0;S.setOrigin(u)}var h=mi(i,"align.child","left"),l=mi(i,"expand.child",!0),o=l?1:0;this.add(S,{proportion:o,align:h,expand:l,padding:{left:mi(n,"childLeft",0),right:mi(n,"childRight",0),top:mi(n,"childTop",0),bottom:mi(n,"childBottom",0)}}),this.addChildrenMap("title",f),this.addChildrenMap("child",S),this.addChildrenMap("background",r);var d=i.transition;this.setTransitionDuration(mi(d,"duration",200)),this.setExpandCallback(mi(d,"expandCallback",void 0)),this.setCollapseCallback(mi(d,"collapseCallback",void 0)),this.reLayoutTarget=mi(i,"reLayoutTarget",void 0);var v=i.onExpandStart;v&&this.on("expand.start",v);var c=i.onExpandComplete;c&&this.on("expand.complete",c);var p=i.onCollapseStart;p&&this.on("collapse.start",p);var y=i.onCollapseComplete;y&&this.on("collapse.complete",y);var m=mi(i,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}};Object.assign(Xf.prototype,Mmt,Omt),bt.register("folder",function(e){var t=new Xf(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Folder",Xf);var L3=function(e){return class extends e{setText(i){return this.text=i,this}get text(){var i=this.childrenMap.nodeBody;return i.text}set text(i){var r=this.childrenMap.nodeBody;r.setText&&r.setText(i)}setTexture(i,r){var f=this.childrenMap.nodeBody;return f.setTexture&&f.setTexture(i,r),this}get texture(){var i=this.childrenMap.nodeBody;if(i)return i.texture}get frame(){var i=this.childrenMap.nodeBody;if(i)return i.frame}}};const Lmt={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}},Dmt=Phaser.Utils.Objects.GetValue;var Hf=function(e,t,i,r,f){var S=Dmt(t,i),n;return Ds(S)?(n=S,delete t[i]):Kn(S)?(n=S(e,r),e.add.existing(n)):f&&(n=f(e,S,r),e.add.existing(n)),n};const qg=Phaser.Utils.Objects.GetValue;let D3=class extends L3(we){constructor(t,i,r){var f=i.space;super(t,{orientation:"x",space:{left:qg(f,"nodeLeft",0),right:qg(f,"nodeRight",0),top:qg(f,"nodeTop",0),bottom:qg(f,"nodeBottom",0)}}),this.type="rexTreeNode";var S=Hf(t,i,"nodeBackground",r),n=Hf(t,i,"nodeBody",r,Fmt);S&&this.addBackground(S),this.add(n,{proportion:1,key:"nodeBody"})}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}};var Fmt=function(e,t,i){var r=new Nf(e,t);return r.resetDisplayContent(""),r},F3=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var r=e.displayList;if(Zd(r)){t.isRexContainerLite?t.addToLayer(r):r.add(t);return}e.scene.add.existing(t)};const I3=Phaser.Utils.String.UUID,Imt={addTree(e,t){if(Ds(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=I3());var r=this.createTree(t);return F3(this,r),this.insertNode(e,r,{expand:!0}),r},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var r;Ds(t)||(i=t,t=new D3(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(r=i,i=void 0):i&&(r=i.nodeKey,delete i.nodeKey),r===void 0&&(r=I3()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(r)&&(console.error(`[Trees] Duplicate nodeKey '${r}'`),this.removeNode(this.nodesMap[r],!0)),t.nodeKey=r,this.nodesMap[r]=t;var f=this.childrenMap.child;return f.insert(e,t,i),t}},Bmt={removeNode(e,t){if(!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var r=i.childrenMap.child;return r.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},Nmt={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTree(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var B3={};Object.assign(B3,Lmt,Imt,Bmt,Nmt);const Gmt=Phaser.Utils.Objects.GetValue;var kmt=function(e,t){var i=new D3(e,t,{isLeaf:!1});e.add.existing(i);var r=Hf(e,t,"toggleButton",{isLeaf:!1},Vmt);return i.insert(0,r,{padding:{right:Gmt(t,"space.toggleButton",0)},fitRatio:1,key:"toggleButton"}),i},Vmt=function(e,t,i){var r=new lf(e,t);return r.on("expand.start",function(f){f.setDirection("down")}).on("collapse.complete",function(f){f.setDirection("right")}),r};const zmt=Phaser.Utils.Objects.GetValue;var Umt=function(e,t){var i=new we(e,{orientation:zmt(t,"childrenOrientation","y")});e.add.existing(i);var r=Hf(e,t,"childrenBackground",{isLeaf:!1});return r&&i.addBackground(r),i};const Wmt=Phaser.Utils.Objects.Clone;var Ymt=function(e,t){var i=e?Wmt(e):{};if(!t)return i;for(var r in t)i[r]=t[r];return i};const Sh=Phaser.Utils.Objects.GetValue;class cu extends L3(Xf){constructor(t,i){i===void 0&&(i={});var r=Hf(t,i,"background",{isLeaf:!1}),f=Umt(t,i),S=f.childrenMap.items,n=kmt(t,i),x=n.childrenMap.toggleButton,s=n.childrenMap.nodeBody,a=Af(Sh(i,"orientation","y")),g=i.space;if(g){var u=Sh(g,"indent",0);g.childLeft=Sh(g,"indentLeft",a===1?u:0),g.childRight=Sh(g,"indentRight",0),g.childTop=Sh(g,"indentTop",a===0?u:0),g.childBottom=Sh(g,"indentBottom",0)}var h={background:r,title:n,child:f,toggleByTarget:x,transition:i.transition,orientation:a,space:g,align:i.align,expand:i.expand};super(t,h),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.addChildrenMap("toggleButton",x),this.addChildrenMap("nodeBody",s),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){x.emit("expand.start",x)}).on("expand.complete",function(){x.emit("expand.complete",x)}).on("collapse.start",function(){x.emit("collapse.start",x)}).on("collapse.complete",function(){x.emit("collapse.complete",x)});var l=Sh(i,"expanded",!0);l!==void 0&&this.setExpandedState(l)}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}createTree(t){return cu.CreateTree(this.scene,this.configSave,t)}isTree(t){return!!t&&t instanceof TreeNode}}cu.CreateTree=function(e,t,i){return new cu(e,Ymt(t,i))},Object.assign(cu.prototype,B3);const $mt=Phaser.Utils.String.UUID,Xmt={addTree(e){if(Ds(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=$mt());var r=cu.CreateTree(this.scene,this.treeConfig,t);return F3(this,r),r.nodeKey=i,this.treesMap[i]=r,this.insert(e,r,{expand:!0}),r}},Hmt={removeTree(e,t){return e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},Kmt={getTree(e){return this.treesMap[e]},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var N3={};Object.assign(N3,Xmt,Hmt,Kmt);const jmt=Phaser.Utils.Objects.GetValue;class $S extends we{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=jmt(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign($S.prototype,N3),bt.register("trees",function(e){var t=new $S(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Trees",$S),bt.register("textArea",function(e){var t=new Bf(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.TextArea",Bf);var Jmt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const Zmt={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},Qmt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},_g=Phaser.Utils.Objects.GetValue;class tm extends If{constructor(t,i){i===void 0&&(i={});var r=_g(i,"text"),f;Ds(r)?f=r:(r===void 0&&(r={}),r.textArea=!0,f=new rf(t,r),t.add.existing(f)),Jmt(f);var S=r.width===void 0,n=r.height===void 0;S&&(f.minWidth=0),n&&(f.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:f,expandWidth:S,expandHeight:n};var x=_g(i,"space",void 0);x&&(x.child=_g(x,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",f);var s,a;f.on("cursorin",function(){var u=f.textOY,h=f.contentHeight,l=s!==u,o=a!==h;s=u,a=h,o&&this.resizeController(),(l||o)&&(this.t=f.t)},this),f.on("textchange",function(u){this.emit("textchange",u,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var g=_g(i,"content",void 0);g&&this.setText(g)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(tm.prototype,Zmt,Qmt),bt.register("textAreaInput",function(e){var t=new tm(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.TextAreaInput",tm);var qmt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,r=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(r=!0);break;case 1:e=0;break;default:e=0;break}if(!r)return e},_mt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,r=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(r=!0);break;default:e=0;break}if(!r)return e},t0t=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},e0t=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},i0t=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width;break;case 1:i=this.height;break}e.isRexSizer?e.runLayout(this,t,i):vs(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},s0t=function(e,t){t||e.clearMask&&e.clearMask(!1)},G3={getChildrenWidth:qmt,getChildrenHeight:_mt,getChildrenSizers:t0t,resetChildPosition:e0t,layoutChildren:i0t,removeChildCallback:s0t};Object.assign(G3,kF);const k3=Phaser.Utils.Objects.IsPlainObject,Cr=Phaser.Utils.Objects.GetValue,r0t=Phaser.Display.Align.TOP_LEFT;class V3 extends vh{constructor(t,i,r,f,S,n){k3(i)?(n=i,i=Cr(n,"x",0),r=Cr(n,"y",0),f=Cr(n,"width",void 0),S=Cr(n,"height",void 0)):k3(f)&&(n=f,f=Cr(n,"width",void 0),S=Cr(n,"height",void 0)),super(t,i,r,f,S,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Cr(n,"scrollMode",0));var x=Cr(n,"clamplChildOY",!0),s=Cr(n,"clamplChildOX",x);this.setClampMode(x,s);var a=Cr(n,"child",void 0),g=Cr(n,"expand",!0);a.setOrigin&&a.setOrigin(0),this.add(a),this.sizerChildren=[a];var u=this.getSizerConfig(a);u.align=r0t,u.expand=g,this.child=a,this.setupChildrenMask(Cr(n,"mask",void 0)),this.childrenMask&&(this.maskGameObject=AS(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=aF[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.height:this.width}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.width:this.height}get childHeight(){return this.scrollMode===0||this.scrollMode===2?ke(this.child):Ge(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Ge(this.child):ke(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,r=this.bottomChildOY,f=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:f?t=i:S&&(t=r)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),f&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=f,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,r)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,r=this.rightChildOX,f=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:f?t=i:S&&(t=r)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),f&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=f,S&&(this.execeedRightState||this.emit("execeedright",this,t,r)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(V3.prototype,G3);var n0t=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:em.call(this,e,"y",t);break;case 1:em.call(this,e,"x",t);break;default:em.call(this,e,"y",t),em.call(this,e,"x",t);break}return this};const z3=["top","bottom","centerY","center"],U3=["left","right","centerX","center"];var em=function(e,t,i){t=t.toUpperCase();var r=t==="Y",f=this.childrenMap.child,S;if(r){if(i)for(var n=0,x=z3.length;n<x;n++){var s=z3[n];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"top":S=f.top-eh(e).y;break;case"bottom":S=f.bottom-Kd(e).y;break;case"centerY":case"center":S=f.centerY-nR(e).y;break;default:var a=f.top-eh(e).y,g=f.bottom-Kd(e).y;a<=0&&g>=0?S=0:S=Math.abs(a)<=Math.abs(g)?a:g;break}}else{if(i)for(var n=0,x=U3.length;n<x;n++){var s=U3[n];if(i.indexOf(s)!==-1){i=s;break}}switch(i){case"left":S=f.left-eh(e).x;break;case"right":S=f.right-Hd(e).x;break;case"centerX":case"center":S=f.centerX-nR(e).x;break;default:var u=f.left-eh(e).x,h=f.right-Hd(e).x;u<=0&&h>=0?S=0:S=Math.abs(u)<=Math.abs(h)?u:h;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=S;break;default:this[`childO${t}`]+=S;break}};const ro=Phaser.Utils.Objects.GetValue;class XS extends If{constructor(t,i){i===void 0&&(i={});var r=sS(i),f=ro(i,"panel",void 0);f===void 0&&(f={}),f.scrollMode=r,f.clamplChildOY=ro(i,"clamplChildOY",!1),f.clamplChildOX=ro(i,"clamplChildOX",!1);var S=new V3(t,f);t.add.existing(S);var n,x;switch(r){case 0:n=ro(i,"expand.panel",!0),x=!0;break;case 1:n=!0,x=ro(i,"expand.panel",!0);break;default:n=!0,x=!0}i.type="rexScrollablePanel",i.child={gameObject:S,expandWidth:n,expandHeight:x,align:ro(i,"align.panel","center")};var s=ro(i,"space",void 0);s&&(s.child=ro(s,"panel",0)),super(t,i),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),y1(this.childrenMap.child,t),this}}var a0t={scrollToChild:n0t};Object.assign(XS.prototype,a0t),bt.register("scrollablePanel",function(e){var t=new XS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ScrollablePanel",XS);const im={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},no={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},o0t={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=no[e]),e){case no.popUp:e=im.popUp;break;case no.fadeIn:e=im.fadeIn;break}return e||(e=bi),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=no[e]),e){case no.scaleDown:e=im.scaleDown;break;case no.fadeOut:e=im.fadeOut;break}return e||(e=bi),this.transitOutCallback=e,this}},h0t={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[bi]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[bi]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Kf=Phaser.Utils.Objects.GetValue;class HS extends _n{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(Kf(i,"duration.in",200)),this.setDisplayTime(Kf(i,"duration.hold",1200)),this.setTransitOutTime(Kf(i,"duration.out",200)),this.setTransitInCallback(Kf(i,"transitIn",no.popUp)),this.setTransitOutCallback(Kf(i,"transitOut",no.scaleDown)),this.player=new EF(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}}Object.assign(HS.prototype,o0t,h0t),bt.register("toast",function(e){var t=new HS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Toast",HS);var l0t={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const u0t={setQueueDirection(e){return typeof e=="string"&&(e=l0t[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=bi),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=bi),this.transitOutCallback=e,this}},d0t=a1.onClick,W3=CL.delayCall,f0t=Yp.moveTo;var c0t=function(e,t,i){var r=t(e.scene,i,e);if(d0t.call(r,function(){e.removeMessage(r)}),e.displayTime){var f=e.transitInTime+e.displayTime+10;W3.call(r,f,function(){e.removeMessage(r)})}return r},Y3=function(e){for(var t=e.childrenMap.items,i,r=[],f=0,S=t.length;f<S;f++)i=t[f],r.push({x:i.x,y:i.y});return r},v0t=function(e){for(var t=e.childrenMap.items,i,r=[],f=0,S=t.length;f<S;f++)i=t[f],r.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var n=Y3(e),f=0,S=t.length;f<S;f++){var x=r[f];t[f].setScale(x.x,x.y)}return n},p0t=function(e,t,i,r){for(var f=e.childrenMap.items,S=Math.min(t.length,i.length,f.length),n,x,s,a=e.queueDirection,g=0;g<S;g++){switch(n=f[g],x=t[g],s=i[g],n.setPosition(x.x,x.y),a){case 0:if(x.y<=s.y)continue;break;case 1:if(x.y>=s.y)continue;break;case 2:if(x.x<=s.x)continue;break;case 3:if(x.x>=s.x)continue;break}f0t.call(n,r,s.x,s.y)}},g0t=function(e,t,i){var r=Y3(e);e.add(t);var f=v0t(e);p0t(e,r,f,i),e.transitInCallback(t,i,e)};const m0t={showMessage(e){var t=c0t(this,this.createMessageLabelCallback,e);return g0t(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),W3.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var $3={};Object.assign($3,u0t,m0t);const X3={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),Xn.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Xn.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Xn.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Xn.popUp.call(e,t,"x");break}mf.fadeIn.call(e,t)},transitOut(e,t,i){mf.fadeOut.call(e,t)}},Th=Phaser.Utils.Objects.GetValue;class KS extends we{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(Th(i,"createMessageLabelCallback")),this.setQueueDirection(Th(i,"queueDirection",1)),this.setTransitInTime(Th(i,"duration.in",200)),this.setDisplayTime(Th(i,"duration.hold",2e3)),this.setTransitOutTime(Th(i,"duration.out",200)),this.setTransitInCallback(Th(i,"transitIn",X3.transitIn)),this.setTransitOutCallback(Th(i,"transitOut",X3.transitOut))}}Object.assign(KS.prototype,$3),bt.register("toastQueue",function(e){var t=new KS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ToastQueue",KS);var x0t=function(e,t){if(t===!1)return null;if(Ds(t))return t;var i=new Jo(e,t);return e.add.existing(i),i},vu=function(e,t,i){i===void 0&&(i=!0),i?t=t?Wi(t):{}:t||(t={});var r=new rf(e,t);return e.add.existing(r),r};const H3=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],y0t=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];for(var jS={},K3,sm=0,C0t=H3.length;sm<C0t;sm++)K3=H3[sm].toLowerCase(),jS[K3]=y0t[sm];var S0t=function(e){return e=e.toLowerCase(),jS.hasOwnProperty(e)?jS[e]:null},T0t=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=S0t(e)),e};const E0t=Phaser.Utils.String.Pad;var j3=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=E0t(i,6,0,1),i=t+i,i},P0t=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const Sr=Phaser.Utils.Objects.GetValue,w0t=Phaser.Utils.Objects.IsPlainObject,b0t=Phaser.Math.Clamp;let JS=class extends we{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var r=Sr(i,"background",void 0),f=Sr(i,"swatch"),S;w0t(f)&&(S=Sr(f,"size"));var n=x0t(t,Sr(i,"swatch")),x=Sr(i,"inputText",{}),s;if(x&&(s=vu(t,x)),r&&this.addBackground(r),n){S=Sr(i,"swatchSize",S);var a;S!==void 0?(vs(n,S,S),a=!1):a=Sr(i,"squareExpandSwatch",!0);var g=a?1:0;this.add(n,{proportion:0,expand:!1,fitRatio:g})}if(s){var u=Sr(x,"width")===void 0?1:0,h=Sr(x,"height")===void 0;this.add(s,{proportion:u,expand:h})}this.addChildrenMap("background",r),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",s),s&&s.on("close",function(){this.setValue(s.value)},this);var l=Sr(i,"valuechangeCallback",null);if(l!==null){var o=Sr(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,o)}this.setValue(Sr(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=T0t(t),t==null){var r=this.childrenMap.inputText;r&&r.setText(j3(this._value));return}}else t=b0t(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&P0t(i,t);var r=this.childrenMap.inputText;r&&r.setText(j3(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var M0t={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=A0t[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const A0t={down:0,up:1},J3=Phaser.Display.Color,rm=Phaser.Math.Percent;var R0t=function(e,t,i){i===void 0&&(i=!1);var r=e.width,f=e.height,S=new J3;if(i)for(var n=0;n<f;n++){var x=rm(n,0,f);S.setFromHSV(x,1,1),t.fillStyle=S.rgba,t.fillRect(0,n,r,1)}else for(var s=0;s<r;s++){var x=rm(s,0,r);S.setFromHSV(x,1,1),t.fillStyle=S.rgba,t.fillRect(s,0,1,f)}},O0t=function(e,t,i){for(var r=e.width,f=e.height,S=t.getImageData(0,0,r,f),n=S.data,x=new J3,s=0;s<f;s++)for(var a=0;a<r;a++){var g=rm(a,0,r),u=1-rm(s,0,f);x.setFromHSV(i,g,u);var h=(s*r+a)*4;n[h]=x.red,n[h+1]=x.green,n[h+2]=x.blue,n[h+3]=255}t.putImageData(S,0,0)};const L0t=Phaser.Display.Color,Z3=Phaser.Math.Percent,D0t=Phaser.Display.Color.ColorToRGBA,F0t=Phaser.Display.Color.HSVToRGB;class I0t extends rh{constructor(t,i,r,f,S,n){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=2),S===void 0&&(S=2),super(t,i,r,f,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new L0t,this.setOrientation(n),this.setSize(f,S)}setOrientation(t){return this.orientation=Af(t),this}updateTexture(){return R0t(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=Z3(t,0,this.width):this.hue=Z3(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var r=this.getHue(t,i);return this.colorObject.setFromRGB(F0t(r,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(ZS===void 0&&(ZS={}),i=ZS),this.colorObject.setFromRGB(D0t(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var ZS=void 0,B0t=Phaser.Math.RotateAround,Q3=function(e,t,i,r){r===void 0?r={}:r===!0&&(QS===void 0&&(QS={}),r=QS),t-=e.width*e.originX,i-=e.height*e.originY;var f={x:t*e.scaleX,y:i*e.scaleY};return B0t(f,0,0,-e.rotation),r.x=e.x+t,r.y=e.y+i,r},QS;class N0t extends xr{constructor(t,i){i===void 0&&(i={}),super(t,i);var r=i.width!=null?1:0,f=new I0t(t).setOrientation(r);t.add.existing(f),this.type="rexColorPicker.HPalette",f.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Jo(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(f,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var r=Math.min(t,i);return this.childrenMap.marker.setSize(r,r),this}onPaletteCanvasPointerDown(t,i,r,f){if(t.isDown){var S=this.childrenMap.paletteCanvas,n=S.getColor(i,r);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,r=this.childrenMap.marker,f=i.colorToLocalPosition(t,!0);return Q3(i,f.x,f.y,r),this.resetChildPositionState(r),this}getHue(t,i){var r=this.childrenMap.paletteCanvas;return r.getHue(t,i)}}const G0t=Phaser.Display.Color,q3=Phaser.Math.Percent,_3=Phaser.Display.Color.ColorToRGBA,k0t=Phaser.Display.Color.HSVToRGB;class V0t extends rh{constructor(t,i,r,f,S,n){i===void 0&&(i=0),r===void 0&&(r=0),f===void 0&&(f=2),S===void 0&&(S=2),super(t,i,r,f,S),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new G0t,this.setHue(n),this.setSize(f,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return O0t(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var r=q3(t,0,this.width),f=1-q3(i,0,this.height);return this.colorObject.setFromRGB(k0t(this.hue,r,f)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(_3(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(qS===void 0&&(qS={}),i=qS),this.colorObject.setFromRGB(_3(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var qS=void 0;class z0t extends xr{constructor(t,i){super(t,i);var r=new V0t(t);t.add.existing(r),this.type="rexColorPicker.SVPalette",r.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var f=new Jo(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(f),this.add(r,{key:"paletteCanvas",expand:!0}).add(f,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,r,f){if(t.isDown){var S=this.childrenMap.paletteCanvas,n=S.getColor(i,r);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,r=this.childrenMap.marker,f=i.colorToLocalPosition(t,!0);return Q3(i,f.x,f.y,r),this.resetChildPositionState(r),this}}const Wr=Phaser.Utils.Objects.GetValue;class _S extends we{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var r=Wr(i,"hPalette.position",0);typeof r=="string"&&(r=U0t[r]);var f=r===0||r===2?1:0;this.setOrientation(f);var S=Wr(i,"background",void 0),n,x;if(this.orientation===0){var n=Wr(i,"hPalette.width",void 0);n===void 0&&(n=Wr(i,"hPalette.size",10))}else x=Wr(i,"hPalette.height",void 0),x===void 0&&(x=Wr(i,"hPalette.size",10));var s=new N0t(t,{width:n,height:x});t.add.existing(s);var a=Wr(i,"svPalette.width",void 0),g=Wr(i,"svPalette.height",void 0),u=new z0t(t,{width:a,height:g});t.add.existing(u),S&&this.addBackground(S);var h={proportion:0,expand:!0},l,o;this.orientation===0?(l=a===void 0?1:0,o=g===void 0):(l=g===void 0?1:0,o=a===void 0);var d={proportion:l,expand:o};r===0||r===3?this.add(u,d).add(s,h):this.add(s,h).add(u,d),s.on("input",function(){u.setHue(s.getHue()),this.setValue(u.color,!0)},this),u.on("input",function(){this.setValue(u.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",s),this.addChildrenMap("svPalette",u);var v=Wr(i,"valuechangeCallback",null);if(v!==null){var c=Wr(i,"valuechangeCallbackScope",void 0);this.on("valuechange",v,c)}this.setValue(Wr(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,r){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this}}var U0t={bottom:0,left:1,top:2,right:3};const Sn=Phaser.Utils.Objects.GetValue,W0t=Phaser.Display.Color,Y0t=Phaser.Display.Color.ColorToRGBA,$0t=Phaser.Display.Color.HSVToRGB,Eh=Phaser.Math.Clamp;class tT extends we{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new W0t;var r=Sn(i,"background",void 0),f=Sn(i,"formatLabel",void 0);Ds(f)||(f=Ns(t,f).resetDisplayContent());var S=[];if(i.inputText0&&i.inputText1&&i.inputText2)S.push(i.inputText0),S.push(i.inputText1),S.push(i.inputText2);else for(var n=Sn(i,"inputText"),x=0;x<3;x++){var s=vu(t,n).setMaxLength(3).setNumberInput();S.push(s)}r&&this.addBackground(r);var g=Sn(i,"proportion.formatLabel",0),a=!!f.isRexContainerLite,u=Sn(i,"expand.formatLabel",a);this.add(f,{proportion:g,expand:u});for(var g=Sn(n,"width")===void 0?1:0,u=Sn(n,"height")===void 0,x=0,h=S.length;x<h;x++)this.add(S[x],{proportion:g,expand:u});this.addChildrenMap("background",r),this.addChildrenMap("formatLabel",f),this.addChildrenMap("components",S),this.onClick(f,this.toggleColorFormat,this);for(var x=0,h=S.length;x<h;x++)S[x].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=Sn(i,"valuechangeCallback",null);if(l!==null){var o=Sn(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,o)}f.setText("RGB"),this.setValue(Sn(i,"value",16777215))}get value(){return this._value}set value(t){t=Eh(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(Y0t(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,r,f;return this.colorFormat==="RGB"?(i=this.colorObject.red,r=this.colorObject.green,f=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),r=Math.floor(this.colorObject.s*100),f=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(r),t[2].setValue(f),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=Eh(t[0].value,0,255),r=Eh(t[1].value,0,255),f=Eh(t[2].value,0,255);this.colorObject.setTo(i,r,f)}else{var S=Eh(t[0].value,0,359)/360,n=Eh(t[1].value,0,100)/100,x=Eh(t[2].value,0,100)/100;this.colorObject.setFromRGB($0t(S,n,x))}return this}}const eT=Phaser.Utils.Objects.GetValue;class X0t extends we{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var r=eT(i,"background",void 0),f=new _S(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:eT(i,"space.hPalette",8)}});t.add.existing(f);var S;i.colorComponents&&(S=new tT(t,i.colorComponents),t.add.existing(S)),r&&(this.addBackground(r),new Xp(r,{stopAllLevels:!1})),this.add(f,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",r),this.addChildrenMap("colorPicker",f),this.addChildrenMap("colorComponents",S),f.on("valuechange",function(n){this.setValue(n)},this),S&&S.on("valuechange",function(n){this.setValue(n)},this),this.setValue(eT(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var r=this.childrenMap.colorComponents;r&&r.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var H0t=function(t){var t=this.scene,i,r=this.colorPickerCreateBackgroundCallback;r&&(i=r.call(this,t),t.add.existing(i));var f=this.colorPickerWidth;f===void 0&&(f=this.width);var S=this.colorPickerHeight;S===void 0&&(S=f);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var x=new X0t(t,{width:f,height:S,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(x),x},K0t=function(){if(!this.colorPicker){var e=H0t.call(this).layout(),t=new ZF(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},tI={openColorPicker:K0t};Object.assign(tI,M0t);const Hi=Phaser.Utils.Objects.GetValue;class nm extends JS{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var r=i.colorPicker,f=r!==!1&&r!==null;if(f){this.setColorPickerSize(Hi(r,"width",160),Hi(r,"height",170));var S,n=Hi(r,"background");n?S=function(l){return Is(l,n)}:S=Hi(r,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(Hi(r,"hPalettePosition",0)),this.setColorPickerExpandDirection(Hi(r,"expandDirection")),this.setColorPickerEaseInDuration(Hi(r,"easeIn",200)),this.setColorPickerEaseOutDuration(Hi(r,"easeOut",200)),this.setColorPickerTransitInCallback(Hi(r,"transitIn")),this.setColorPickerTransitOutCallback(Hi(r,"transitOut")),this.setColorPickerBounds(Hi(r,"bounds"));var x=Hi(r,"space");x===void 0&&(x={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(x)}var s=i.colorComponents,a=s!==!1&&s!==null;if(f&&a){this.setColorComponentsHeight(Hi(s,"height",30)),this.setColorComponentsFormatLabelConfig(Hi(s,"formatLabel"));var g=Hi(s,"inputText");g||(g=Hi(i,"inputText")),this.setColorComponentsInputTextConfig(g);var u=Hi(s,"space");u===void 0&&(u={item:8}),this.setColorComponentsSpace(u)}var h=this.childrenMap.swatch;h&&f&&this.onClick(h,this.openColorPicker,this)}}Object.assign(nm.prototype,tI),bt.register("colorInput",function(e){var t=new nm(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ColorInput",nm),bt.register("colorInputLite",function(e){var t=new JS(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ColorInputBase",JS),bt.register("colorPicker",function(e){var t=new _S(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ColorPicker",_S),bt.register("colorComponents",function(e){var t=new tT(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.ColorComponents",tT);var eI=function(e){for(var t=e.scene.input,i=t.manager,r=i.pointersTotal,f=i.pointers,S,n=0;n<r;n++)if(S=f[n],!(!S.primaryDown||t.getDragState(S)!==0||!Qy(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const am=Phaser.Utils.Objects.GetValue,iI=Phaser.Math.Distance.Between,sI=Phaser.Math.RotateAroundDistance;class iT extends ti{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(am(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(am(t,"enable",!0)),this.setAxisMode(am(t,"axis",0)),this.setAxisRotation(am(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=j0t[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return eI(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,r){this.isDragging||(this.pointer=t)}onDrag(t,i,r){if(this.pointer===t){var f=this.parent;if(this.axisMode===0)f.x=i,f.y=r;else if(this.axisRotation===0)this.axisMode===1?f.x=i:this.axisMode===2&&(f.y=r);else{var S,n={x:i,y:r};S=iI(n.x,n.y,f.x,f.y),n=sI(n,f.x,f.y,-this.axisRotation,S),this.axisMode===1?n.y=f.y:this.axisMode===2&&(n.x=f.x),S=iI(n.x,n.y,f.x,f.y),n=sI(n,f.x,f.y,this.axisRotation,S),f.x=n.x,f.y=n.y}}}onDragEnd(t,i,r,f){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const j0t={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var J0t=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],r=this.getSizerConfig(e).padding,f=this.getSizerConfig(t).padding,S=this.getSizerConfig(i).padding;if(this.orientation===0){var n=this.innerLeft+r.left,x=this.innerRight-S.right,s=Ge(t),a=t.x+s*(0-t.originX),g=t.x+s*(1-t.originX),u=a-f.left-this.space.item-r.right,h=g+f.right+this.space.item+S.left,l=u-n,o=x-h,d=l+o;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,o=d-l),this.minSecondChildSize>0&&o<this.minSecondChildSize&&(o=this.minSecondChildSize,l=d-o),this.setSplitRatio(l/d)}else{var v=this.innerTop+r.top,c=this.innerBottom-S.bottom,p=ke(t),y=t.y+p*(0-t.originY),m=t.y+p*(1-t.originY),C=y-f.top-this.space.item-r.bottom,T=m+f.bottom+this.space.item+S.top,E=C-v,w=c-T,P=E+w;this.minFirstChildSize>0&&E<this.minFirstChildSize&&(E=this.minFirstChildSize,w=P-E),this.minSecondChildSize>0&&w<this.minSecondChildSize&&(w=this.minSecondChildSize,E=P-w),this.setSplitRatio(E/P)}var b=this.minWidth,M=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(b,M)};const wi=Phaser.Utils.Objects.GetValue,Z0t=Phaser.Math.Clamp;class rI extends we{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var r=wi(i,"background",void 0),f,S,n,x;this.orientation===0?(f="leftPanel",S="rightPanel",n="minLeftPanelWidth",x="minRightPanelWidth"):(f="topPanel",S="bottomPanel",n="minTopPanelHeight",x="minBottomPanelHeight");var s=wi(i,f,void 0),a=wi(i,"splitter",void 0),g=wi(i,S,void 0);r&&this.addBackground(r);var u=wi(i,"space",void 0);this.add(s,{proportion:1,expand:!0,padding:{left:wi(u,`${f}Left`,0),right:wi(u,`${f}Right`,0),top:wi(u,`${f}Top`,0),bottom:wi(u,`${f}Bottom`,0)}}),this.add(a,{proportion:0,expand:!0,padding:{left:wi(u,"splitterLeft",0),right:wi(u,"splitterRight",0),top:wi(u,"splitterTop",0),bottom:wi(u,"splitterBottom",0)}}),this.add(g,{proportion:1,expand:!0,padding:{left:wi(u,`${S}Left`,0),right:wi(u,`${S}Right`,0),top:wi(u,`${S}Top`,0),bottom:wi(u,`${S}Bottom`,0)}}),this.addChildrenMap("background",r),this.addChildrenMap(f,s),this.addChildrenMap("splitter",a),this.addChildrenMap(S,g),this.minFirstChildSize=wi(i,n,0),this.minSecondChildSize=wi(i,x,0),this.setSplitRatio(wi(i,"splitRatio",.5)),this.splitterDragBehavior=new iT(a,{axis:this.orientation===0?1:2}),a.on("dragstart",function(){this.emit("splitter.dragstart",a,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",a,this.splitRatio)},this).on("drag",function(){J0t.call(this),this.emit("splitter.drag",a,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",a,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",a,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=Z0t(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}bt.register("splitPanels",function(e){var t=new rI(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.SplitPanels",rI);var Q0t=function(){return function(e,t,i,r){t!=="panel"&&i.setChildVisible(e,!0)}},q0t=function(){return function(e,t,i,r){t!=="panel"&&i.setChildVisible(e,!1)}};const _0t={show:Q0t,hide:q0t};var txt=function(e,t){return t===void 0&&(t=1),function(i,r,f,S){r!=="panel"&&f.fadeChild(i,S?0:e,t)}},ext=function(e,t){return t===void 0&&(t=0),function(i,r,f,S){r!=="panel"&&f.fadeChild(i,S?0:e,t)}};const ixt={show:txt,hide:ext};var nI=function(e,t){return function(i,r,f,S){r!=="panel"&&f.moveChild(i,S?0:e,t)}};const sxt={show:nI,hide:nI};var aI=function(e,t){return function(i,r,f,S){r==="panel"&&f.moveChild(i,S?0:e,t)}};const sT={visible:_0t,fade:ixt,move:sxt,"move-panel":{show:aI,hide:aI}};var rxt=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var r,f;return sT.hasOwnProperty(t)?(r=sT[t].show.apply(null,i),f=sT[t].hide.apply(null,i)):(r=bi,f=bi),{show:r,hide:f}};const nxt={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},axt=qs.prototype.setChildVisible,oxt={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=ng(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),axt.call(this,e,t),this}},hxt={fadeChild(e,t,i){var r;return typeof e=="string"?(r=e,e=this.sizerChildren[r]):r=ng(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===r?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?$i(e._fade):Promise.resolve()}},lxt={moveChild(e,t,i,r){var f;typeof e=="string"?(f=e,e=this.sizerChildren[f]):f=ng(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===f;if(r===void 0)switch(f){case"leftSide":case"rightSide":r=Ge(e);break;case"topSide":case"bottomSide":r=ke(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":r=Ge(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":r=ke(this.sizerChildren[this.previousChildKey]);break;default:r=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":r=Ge(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":r=ke(this.sizerChildren[this.currentChildKey]);break;default:r=0;break}break}var n,x,s,a;if(S)switch(f){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":x=!0;break;case"topSide":s=!0;break;case"bottomSide":a=!0;break}break;case"leftSide":x=!0;break;case"rightSide":n=!0;break;case"topSide":a=!0;break;case"bottomSide":s=!0;break}else switch(f){case"panel":switch(this.currentChildKey){case"leftSide":x=!0;break;case"rightSide":n=!0;break;case"topSide":a=!0;break;case"bottomSide":s=!0;break}break;case"leftSide":n=!0;break;case"rightSide":x=!0;break;case"topSide":s=!0;break;case"bottomSide":a=!0;break}return n?e.moveTo(t,`-=${r}`,void 0,i):x?e.moveTo(t,`+=${r}`,void 0,i):s?e.moveTo(t,void 0,`-=${r}`,i):a?e.moveTo(t,void 0,`+=${r}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,r){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,r),e._easeMove?$i(e._easeMove):Promise.resolve()}};var oI={};Object.assign(oI,oxt,hxt,lxt);const Gs=Phaser.Utils.Objects.GetValue;class rT extends xr{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var r=Gs(i,"showChildCallback",void 0);if(r)if(Kn(r)){var f=Gs(i,"showChildCallbackScope",void 0);this.on("showchild",r,f);var S=Gs(i,"hideChildCallback",void 0),n=Gs(i,"hideChildCallbackScope",void 0);this.on("hidechild",S,n)}else{var x=rxt(r);this.on("showchild",x.show),this.on("hidechild",x.hide)}var s=Gs(i,"background",void 0),a=Gs(i,"panel",void 0),g=Gs(i,"leftSide",void 0),u=Gs(i,"rightSide",void 0),h=Gs(i,"topSide",void 0),l=Gs(i,"bottomSide",void 0);if(s&&this.addBackground(s),a&&this.add(a,"panel","center",0,!0),g){var o=Gs(i,"expand.left",!0);this.add(g,"leftSide","left-top",0,{height:o})}if(u){var o=Gs(i,"expand.right",!0);this.add(u,"rightSide","right-top",0,{height:o})}if(h){var o=Gs(i,"expand.top",!0);this.add(h,"topSide","left-top",0,{width:o})}if(l){var o=Gs(i,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:o})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(rT.prototype,nxt,oI),bt.register("sides",function(e){var t=new rT(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Sides",rT);var uxt=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const dxt=Phaser.Utils.Array.GetFirst,fxt=Phaser.Utils.Array.Remove;var cxt=function(e){var t=dxt(this.inputHandlers,"name",e);return t&&fxt(this.inputHandlers,t),this};class hI extends _n{constructor(t,i){i=Ag(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?Wi(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class vxt extends hI{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var r=new lf(t,i.expandedIcon);t.add.existing(r),this.addSpace().add(r,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",r)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",r=this.childrenMap.expandedIcon;return r.setDirection(i),this}}var lI=function(e,t){var i=new lT(e,t);return e.add.existing(i),i},nT=function(e,t,i){return Is(e,i)};const pxt={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},gxt={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class uI extends Xf{constructor(t,i){super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(uI.prototype,pxt,gxt);const pu=Phaser.Utils.Objects.GetValue;var mxt=function(e,t,i){var r=pu(i,"title")||{},f=new vxt(e,r);e.add.existing(f),f.on("folder.expand",function(){f.setExpandedState(!0)}).on("folder.collapse",function(){f.setExpandedState(!1)});var S={root:pu(i,"root"),styles:pu(i,"tweaker"),space:pu(i,"space")||{}},n=lI(e,S),x=pu(i,"background"),s=nT(e,t,x),a=new uI(e,{orientation:1,title:f,child:n,background:s,transition:{duration:pu(i,"transition.duration",200)}});return e.add.existing(a),a};const dI=Phaser.Utils.Objects.GetValue;var xxt=function(e){var t=this.scene,i=dI(this.styles,"folder")||{};i.tweaker=this.styles,i.root=this.root;var r=mxt(t,e,i);delete i.tweaker,delete i.root,this.add(r,{expand:!0}),r.setTitle(e);var f=dI(e,"expanded",!0);f!==void 0&&r.setExpandedState(f);var S=r.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,S),S};const yxt={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,r=t.length;i<r;i++)t[i].setBindingTarget(e);return this}},Cxt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,r=t.length;i<r;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,r=t.length;i<r;i++)t[i].setInputRowTitleWidth(e);return this}};class fI extends Qg{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(fI.prototype,yxt,Cxt);const om=Phaser.Utils.Objects.GetValue;var Sxt=function(e,t,i){var r=new fI(e,i);e.add.existing(r);for(var f=om(i,"tab"),S={root:om(i,"root"),styles:om(i,"tweaker")},n=om(t,"pages")||[],x=0,s=n.length;x<s;x++){var a=n[x];r.addPage({key:a.title,tab:Ns(e,f).setActiveState(!1).resetDisplayContent({text:a.title}),page:lI(e,S)})}return r.on("tab.focus",function(g,u){g.setActiveState(!0)}).on("tab.blur",function(g,u){g.setActiveState(!1)}),r};const cI=Phaser.Utils.Objects.GetValue;var Txt=function(e){var t=this.scene,i=cI(this.styles,"tab")||{};i.tweaker=this.styles,i.root=this.root;var r=Sxt(t,e,i);delete i.tweaker,delete i.root,this.add(r,{expand:!0});for(var f=cI(e,"pages")||[],S=[],n=0,x=0,s=f.length;x<s;x++){var a=r.getPage(x),g=f[x].show;g&&(n=x);var u=f[x].key;u&&this.root.addChildrenMap(u,a),S.push(a)}return r.swapPage(n,0),S};const vI=Phaser.Utils.Objects.GetValue,Ext={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){return this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=vI(e,"onGetValue"),this.onSetValue=vI(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},Pxt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},wxt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=i.left+i.right,t.minWidth=e,this}},aT=Phaser.Utils.Objects.GetValue;class oT extends we{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var r=i.inputTitle,f=i.inputField,S=i.background,a=aT(i,"proportion.title",0),n=aT(i,"space.title",0),x;this.orientation===0?x={right:n}:x={bottom:n},this.add(r,{proportion:a,expand:!0,padding:x});var s=f.defaultProportion;s===void 0&&(s=i.parentOrientation===1?1:0);var a=aT(i,"proportion.inputField",s);this.add(f,{proportion:a,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",r),this.addChildrenMap("inputField",f),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(oT.prototype,Ext,Pxt,wxt);var pI=function(e,t,i){var r=new hI(e,i);return e.add.existing(r),r},bxt=function(e){e===void 0&&(e=we);class t extends e{get bindingTarget(){var r=this.getParentSizer();return r.bindingTarget}get bindingKey(){var r=this.getParentSizer();return r.bindTargetKey}get value(){return this._value}get root(){var r=this.getParentSizer(),f=r.getParentSizer();return f.root}validate(r){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(r,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(r){return this.textFormatCallback?r=this.textFormatCallback(r):r=r.toString(),r}set value(r){if(this._value!==r&&(this.validate(r)||(r=this._value),this.filterValueCallback&&(r=this.filterValueCallback(this,r)),this.displayValueCallback&&this.displayValueCallback(this,r),this._value!==r)){var f=this._value;if(this._value=r,!this.syncValueFlag){var S=this.bindingTarget,n=this.bindingKey;this.emit("valuechange",r,f,S,n),this.root.emit("valuechange",r,f,S,n)}}}getValue(){return this.value}setValue(r){return this.value=r,this}syncValue(r){return this.syncValueFlag=!0,this.value=r,this.syncValueFlag=!1,this}setup(r,f){return f===void 0&&(f=!1),(f||r.hasOwnProperty("format"))&&this.setTextFormatCallback(r.format),(f||r.hasOwnProperty("onValidate"))&&this.setValidateCallback(r.onValidate),this.setupCallback&&this.setupCallback(this,r,f),this}setSetupCallback(r){return this.setupCallback=r,this}setFilterValueCallback(r){return this.filterValueCallback=r,this}setDisplayValueCallback(r){return this.displayValueCallback=r,this}setTextFormatCallback(r){return this.textFormatCallback=r,this}setValidateCallback(r){return this.validateCallback=r,this}}return t},Mxt=function(e,t,i){for(var r,f=this.inputHandlers,S=0,n=f.length;S<n;S++){var x=f[S];if(x.accept(t)){var s=bxt(x.baseClass);r=new s(e),e.add.existing(r),r.setSetupCallback(x.setup).setFilterValueCallback(x.filterValue).setDisplayValueCallback(x.displayValue),x.build(r,i);break}}return r&&r.setup(t,!0),r};const gI=Phaser.Utils.Objects.GetValue;var Axt=function(e,t,i){var r=Mxt.call(this,e,t,i);if(!r)return null;var f=gI(i,"title")||{},S=pI(e,t,f),n=gI(i,"background")||{},x=Is(e,n),s=new oT(e,{...i,...t,inputTitle:S,inputField:r,background:x});return e.add.existing(s),s.setTitle(t),s.setValueCallbacks(t),s},Rxt=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var r=this.styles.inputRow||{};r.parentOrientation=this.styles.orientation;var f=Axt.call(this,this.scene,i,r);if(!f)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;var S=f.childrenMap.inputField,n;return this.orientation===1?n=0:(n=this.itemWidth>0?0:1,f.setMinWidth(this.itemWidth)),this.add(f,{proportion:n,expand:!0}),i.onValueChange&&S.on("valuechange",i.onValueChange),f.setAutoUpdateEnable(i.autoUpdate),f.setBindingTarget(e,t),i.monitor&&f.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,f),this},Oxt=function(e,t){var i=new Jo(e,t);return e.add.existing(i),i};const Lxt=Phaser.Utils.Objects.GetValue;var Dxt=function(e,t){var i=Lxt(t,"wrap",!1),r=i?so:Ni,f=new r(e,t);return e.add.existing(f),f};const hm=Phaser.Utils.Objects.GetValue;var Fxt=function(e,t,i){for(var r=hm(i,"title")||{},f=pI(e,t,r),S=t.buttons,n=hm(i,"button")||{},x=[],s=0,a=S.length;s<a;s++){var g=Ns(e,n);x.push(g);var u=S[s];g.resetDisplayContent(u.label),g.callback=u.callback}var h=Dxt(e,{buttons:x,expand:!0,wrap:hm(t,"wrap",!1)});h.defaultProportion=1;var l=hm(i,"background")||{},o=Oxt(e,l),d=new oT(e,{...i,inputTitle:f,inputField:h,background:o});return e.add.existing(d),d.setTitle(t),h.on("button.click",function(v){v.callback(d.bindingTarget)}),d};const Ixt=Phaser.Utils.Objects.GetValue;var Bxt=function(e){var t=this.scene;e===void 0&&(e={});var i=e.bindingTarget;delete e.bindingTarget;var r=Ixt(this.styles,"inputRow")||{},f=Fxt(t,e,r);return this.add(f,{expand:!0}),i&&f.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,f),this},Nxt=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this};const Gxt=Phaser.Utils.Objects.GetValue;var kxt=function(e){var t=this.scene,i=Gxt(this.styles,"separator"),r=nT(t,e,i);return this.add(r,{expand:!0}),this},Vxt=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),hT(this,Wi(e),t,i),this},hT=function(e,t,i,r){if(t)for(var f=0,S=t.length;f<S;f++){var n=t[f];n.hasOwnProperty("$target")&&(i=n.$target,delete n.$target);var x=n.$type;switch(delete n.$type,x){case"folder":var s=e.addFolder(n);hT(s,n.$properties,i,r);break;case"tab":for(var a=e.addTab(n),g=0,u=a.length;g<u;g++)hT(a[g],n.pages[g].$properties,i,r);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=i,e.addButton(n);break;case"buttons":n.bindingTarget=i,e.addButtons(n);break;default:var h=n.$key;if(delete n.$key,h.indexOf(".")===-1)n.bindingTarget=i,n.bindingKey=h;else{var l=h.split(".");n.bindingKey=l.pop();for(var o=i,d=0,v=l.length;d<v;d++)if(o=o[l[d]],!i){console.warn(`[Monitor] Key path '${h}' is invalid`);continue}n.bindingTarget=o}n.hasOwnProperty("monitor")||(n.monitor=r),e.addInput(n);break}}},zxt=function(e){for(var t=this.sizerChildren,i=0,r=t.length;i<r;i++){var f=t[i];f.setBindingTarget&&f.setBindingTarget(e)}return this},Uxt=function(){for(var e=0,t=this.sizerChildren,i=0,r=t.length;i<r;i++){var f=t[i];f.rexSizer.hidden||(f.getMinTitleWidth?e=Math.max(e,f.getMinTitleWidth()):f.getMaxInputRowTitleWidth&&(e=Math.max(e,f.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},Wxt=function(e){e-=this.getInnerPadding("left");for(var t=this.sizerChildren,i=0,r=t.length;i<r;i++){var f=t[i];f.rexSizer.hidden||(f.setMinTitleWidth?f.setMinTitleWidth(e):f.setInputRowTitleWidth&&f.setInputRowTitleWidth(e))}return this},Yxt={registerInputHandler:uxt,removeInputHandler:cxt,addFolder:xxt,addTab:Txt,addInput:Rxt,addButtons:Bxt,addButton:Nxt,addSeparator:kxt,addRows:Vxt,setBindingTarget:zxt,getMaxInputRowTitleWidth:Uxt,setInputRowTitleWidth:Wxt};const lm=Phaser.Utils.Objects.GetValue;class lT extends we{constructor(t,i){if(i===void 0&&(i={}),i.orientation===void 0&&(i.orientation=1),super(t,i),this.type="rexTweakerShell",this.root=i.root||this,this.styles=lm(i,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=lm(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var r=lm(i,"inputRow.alignTitle");if(r===void 0){var f=lm(this.styles,"inputRow.proportion.title");r=!f}else r&&Pt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=r}else this.alignInputRowTitle=!1,this.inputHandlers=this.root.inputHandlers;var S=nT(t,void 0,i.background);S&&this.addBackground(S)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(lT.prototype,Yxt);var $xt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Xxt={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var r=t.inputText,f=vu(i,r);e.add(f,{proportion:1,expand:!0,key:"inputText"}),f.on("close",function(){e.setValue(f.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&$xt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var Hxt=function(e,t,i){i===void 0&&(i=!0),i?t=t?Wi(t):{}:t||(t={});var r=new tm(e,t);return e.add.existing(r),r},Kxt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const jxt={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var r=t.inputTextArea;r===void 0&&(r={}),r.hasOwnProperty("text")||(r.text=t.inputText),r.hasOwnProperty("slider")||(r.slider=t.slider);var f=Hxt(i,r);e.add(f,{proportion:1,expand:!0,key:"inputText"}),f.on("close",function(){e.setValue(f.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&Kxt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var Jxt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const Zxt={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var r=t.inputNumber||t.inputText,f=vu(i,r).setNumberInput();e.add(f,{proportion:1,expand:!0,key:"inputText"}),f.on("close",function(){e.setValue(f.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&Jxt(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var Qxt=function(e,t){var i=new au(e,t);return e.add.existing(i),i};const uT=Phaser.Utils.Objects.GetValue,qxt=Phaser.Math.Linear,_xt=Phaser.Math.Snap.Floor;var tyt=function(e,t,i,r){e.minValue=t,e.maxValue=i,e.step=r;var f=e.childrenMap.slider;f.setGap(r,t,i)},eyt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const iyt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var r=t.slider,f=e.orientation===0?"track.height":"track.width",S=uT(r,f),n=Qxt(i,r),g=t.parentOrientation===1?2:0,u=uT(t,"proportion.range.slider",g),x=S===void 0;e.add(n,{proportion:u,expand:x,key:"slider"});var s=t.inputNumber||t.inputText,a=vu(i,s).setNumberInput(),g=t.parentOrientation===1?1:0,u=uT(t,"proportion.range.inputText",g);e.add(a,{proportion:u,expand:!0,key:"inputText"}),a.on("close",function(){e.setValue(a.value)}),n.on("valuechange",function(){var h=qxt(e.minValue,e.maxValue,n.value);e.step&&(h=_xt(h,e.step,e.minValue)),e.setValue(h)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&tyt(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&eyt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var r=e.childrenMap.inputText;r.setText("").setText(e.getFotmatText(t))}};var mI=function(e,t){var i=new Ni(e,t);return e.add.existing(i),i};const syt=Phaser.Utils.Objects.GetValue;var ryt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const nyt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var r=syt(t,"incDec")||{},f={text:null,action:null},S=mI(i,{expand:!1}),n=t.parentOrientation===1?1:0;e.add(S,{proportion:n,expand:!0});var x=t.inputNumber||t.inputText,s=vu(i,x).setNumberInput();s.on("close",function(){e.setValue(s.value)});var a=Object.assign(Wi(f),r.incButton||{}),g=Ns(i,a),u=Object.assign(Wi(f),r.decButton||{}),h=Ns(i,u);S.addButton(g),S.addButton(h);var l=r.inputTextIndex||0;S.insert(l,s,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(o,d,v,c){var p=e.value;d===0?p+=e.step:p-=e.step,e.maxValue!==void 0&&p>e.maxValue&&(p=e.maxValue),e.minValue!==void 0&&p<e.minValue&&(p=e.minValue),e.setValue(p)}),e.addChildrenMap("incButton",g),e.addChildrenMap("decButton",h),e.addChildrenMap("inputText",s)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&ryt(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var ayt=function(e,t,i){i===void 0&&(i=!0),i?t=t?Wi(t):{}:t||(t={});var r=new nm(e,t);return e.add.existing(r),r};const oyt={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var r=t.colorInput;r===void 0&&(r={}),r.hasOwnProperty("inputText")||(r.inputText=t.inputText);var f=ayt(i,r);e.add(f,{proportion:1,expand:!0,key:"colorInput"}),f.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var hyt=function(e,t){var i=new lC(e,t);return e.add.existing(i),i};const lyt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var r=t.checkbox,f=hyt(i,r),S=r.size;S!==void 0&&f.setSize(S,S);var n=S!==void 0?0:1;e.add(f,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),f.on("valuechange",function(x){e.setValue(x)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var uyt=function(e,t){var i=new fC(e,t);return e.add.existing(i),i};const dyt={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var r=t.toggleSwitch,f=uyt(i,r),S=r.size;S!==void 0&&f.setSize(S,S);var n=S!==void 0?0:1;e.addSpace().add(f,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),f.on("valuechange",function(x){e.setValue(x)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var fyt=function(e,t){t=qF(e,t);var i=new Uf(e,t);return e.add.existing(i),i},xI=function(e,t){for(var i=0,r=e.length;i<r;i++){var f=e[i];if(f.value===t)return i}},cyt=function(e,t){var i=xI(e,t);if(i!=null)return e[i]},vyt=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const pyt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var r=fyt(i,t.list);e.add(r,{proportion:1,expand:!0,key:"list"}),r.on("button.click",function(f,S,n,x,s,a){e.setValue(n.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&vyt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,r=cyt(i.options,t);i.resetDisplayContent(r).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var gyt=function(e,t){for(var i=0,r=e.length;i<r;i++){var f=e[i];f&&f.setActiveState(i===t)}};const myt=Phaser.Utils.Objects.GetValue;var xyt=function(e,t){var i=e.childrenMap.list;i.options=t;var r=e.scene,f=i.buttonConfig;i.clearButtons(!0);for(var S=0,n=t.length;S<n;S++){var x=t[S],s=Ns(r,f).setActiveState(!1).resetDisplayContent({text:x.text});i.addButton(s)}};const yyt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var r=t.button?Wi(t.button):{},f=myt(r,"expand",!0);f&&(r.align="center"),delete r.expand;var S=mI(i,{expand:f});S.buttonConfig=r,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(n,x,s,a){var g=S.options[x];g&&(e._selectedIndex=x,e.setValue(g.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&xyt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,r=e._selectedIndex;r===void 0&&(r=xI(i.options,t)),gyt(i.childrenMap.buttons,r)}};var Cyt=function(){this.registerInputHandler(Xxt).registerInputHandler(jxt).registerInputHandler(Zxt).registerInputHandler(iyt).registerInputHandler(nyt).registerInputHandler(oyt).registerInputHandler(lyt).registerInputHandler(dyt).registerInputHandler(pyt).registerInputHandler(yyt)};class yI extends lT{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",this.inputHandlers=[],Cyt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}bt.register("tweaker",function(e){var t=new yI(this.scene,e);return this.scene.add.existing(t),t}),Pt(window,"RexPlugins.UI.Tweaker",yI),bt.register("click",function(e,t){return new Yn(e,t)}),Pt(window,"RexPlugins.UI.Click",Yn),bt.register("clickOutside",function(e,t){return new o1(e,t)}),Pt(window,"RexPlugins.UI.ClickOutside",o1),bt.register("inTouching",function(e,t){return new _l(e,t)}),Pt(window,"RexPlugins.UI.InTouching",_l),bt.register("tap",function(e,t){return Ds(e)||(t=e,e=this.scene),new Zp(e,t)}),Pt(window,"RexPlugins.UI.Tap",Zp),bt.register("press",function(e,t){return Ds(e)||(t=e,e=this.scene),new Qp(e,t)}),Pt(window,"RexPlugins.UI.Press",Qp),bt.register("swipe",function(e,t){return Ds(e)||(t=e,e=this.scene),new Sf(e,t)}),Pt(window,"RexPlugins.UI.Swipe",Sf),bt.register("pan",function(e,t){return Ds(e)||(t=e,e=this.scene),new DL(e,t)}),Pt(window,"RexPlugins.UI.Pan",DL),bt.register("drag",function(e,t){return new iT(e,t)}),Pt(window,"RexPlugins.UI.Drag",iT),bt.register("pinch",function(e){return new NL(this.scene,e)}),Pt(window,"RexPlugins.UI.Pinch",NL),bt.register("rotate",function(e){return new x1(this.scene,e)}),Pt(window,"RexPlugins.UI.Rotate",x1);const Syt=Phaser.Utils.Objects.IsPlainObject,CI=Phaser.Utils.Objects.GetValue;var SI=function(e,t,i){var r;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(Syt(e)){var f=e;e=CI(f,"key",i.texture.key),t=CI(f,"frame",i.frame.name)}else typeof e=="string"||(r=e);return r===void 0&&(r=function(S){S.setTexture(e,t)}),r};const jf=Phaser.Utils.Objects.GetValue,Tyt=Phaser.Utils.Objects.GetAdvancedValue,Eyt=Phaser.Math.Linear;class TI extends ih{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(Tyt(t,"duration",500)),this.setEase(jf(t,"ease","Sine")),this.setOrientation(jf(t,"orientation",0)),this.setFrontFace(jf(t,"front",void 0)),this.setBackFace(jf(t,"back",void 0)),this.setFace(jf(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=Pyt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=wyt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=SI(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=SI(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var r=i.t;i.isOddIteration&&(r=1-r),r=this.easeFn(r);var f=Eyt(this.scale0,0,r);this.orientation===0?t.scaleX=f:t.scaleY=f}}const Pyt={x:0,horizontal:0,y:1,vertical:1},wyt={front:0,back:1};bt.register("flip",function(e,t){return new TI(e,t)}),Pt(window,"RexPlugins.UI.Flip",TI),bt.register("shake",function(e,t){return new qC(e,t)}),Pt(window,"RexPlugins.UI.Shake",qC),bt.register("touchEventStop",function(e,t){return new Xp(e,t)}),Pt(window,"RexPlugins.UI.TouchEventStop",Xp),bt.register("perspective",function(e,t){return new b3(e,t)}),Pt(window,"RexPlugins.UI.Perspective",b3);const EI=Phaser.Math.RotateAround;var dT=function(e,t,i){var r=e.width/2,f=e.height/2;return ns.x=t-r,ns.y=i-f,EI(ns,0,0,e.rotation),ns.x*=e.scaleX,ns.y*=e.scaleY,ns.x+=e.x,ns.y+=e.y,ns},byt=function(e,t,i){var r=e.width/2,f=e.height/2;return ns.x=t-e.x,ns.y=i-e.y,ns.x/=e.scaleX,ns.y/=e.scaleY,EI(ns,0,0,-e.rotation),ns.x+=r,ns.y+=f,ns},ns={x:0,y:0};class Myt{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var r=this.parent,f=r.height,S=r.frame.cutWidth/f/2,n=r.frame.cutHeight/f/2,x=t/f-S,s=i/f-n,a=this.vertex;return a.x=x,a.y=-s,r.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,r){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,r||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var r=byt(this.parent,t,i);return this.setLocalXY(r.x,r.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return dT(this.parent,this._localX,this._localY)}get x(){var t=dT(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=dT(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const Ayt=Phaser.Geom.Mesh.Vertex,Ryt=Phaser.Geom.Mesh.Face;var Oyt=function(e){for(var t=e.isNinePointMode,i=t?9:4,r=e.vertices,f=e.faces,S=e.controlPoints,n=0;n<i;n++){var x=new Ayt;r.push(x),S.push(new Myt(e,x))}var s;t?s=Fyt:e.fourPointsModeRTL?s=Dyt:s=Lyt;for(var n=0,a=s.length;n<a;n+=3){var g=r[s[n+0]],u=r[s[n+1]],h=r[s[n+2]];f.push(new Ryt(g,u,h))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const Lyt=[0,2,3,0,3,1],Dyt=[1,3,2,1,2,0],Fyt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var Iyt=function(e){var t,i=0,r=e.height,f=0,S=e.width;if(e.isNinePointMode){var n=(f+S)/2,x=(i+r)/2;t=[f,i,n,i,S,i,f,x,n,x,S,x,f,r,n,r,S,r]}else t=[f,i,S,i,f,r,S,r];return t};const Byt=Phaser.Utils.Objects.IsPlainObject,gu=Phaser.Utils.Objects.GetValue;let Nyt=class extends f3{constructor(t,i,r,f,S,n){Byt(i)&&(n=i,i=gu(n,"x",0),r=gu(n,"y",0),f=gu(n,"key",null),S=gu(n,"frame",null)),super(t,i,r,f,S),this.type="rexQuadImage",this.isNinePointMode=gu(n,"ninePointMode",!1),this.fourPointsModeRTL=gu(n,"rtl",!1),this.controlPoints=[],Oyt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,r=this.controlPoints.length;i<r;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=Iyt(this),i=this.width,r=this.height,f=this.frame.cutWidth/r/2,S=this.frame.cutHeight/r/2,n=this.frame.u0,x=this.frame.u1,s=this.frame.v0,a=this.frame.v1,g=x-n,u=a-s,h=this.controlPoints,l=0,o=t.length;l<o;l+=2){var d=t[l+0],v=t[l+1],c=l/2,p=d/r-f,y=v/r-S,m=n+g*(d/i),C=s+u*(v/r);this.vertices[c].set(p,-y,0).setUVs(m,C),h[c].resetLocalXY(d,v)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject,Phaser.Utils.Objects.GetValue;var PI=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var r=e.width,f=e.height,S=r*.5,n=f*.5,x=Math.tan(t)*n,s=Math.tan(i)*S,a=e.controlPoints,g=0,u=a.length;g<u;g++){var h=a[g],l=h.localXOrigin,o=h.localYOrigin;h.localX=l+(o>n?x:-x),h.localY=o+(l>S?s:-s)}};const Gyt=Phaser.Utils.Objects.IsPlainObject,um=Phaser.Utils.Objects.GetValue,wI=Phaser.Math.DegToRad,bI=Phaser.Math.RadToDeg;class kyt extends Nyt{constructor(t,i,r,f,S){if(Gyt(i)){var n=i;i=um(n,"x",0),r=um(n,"y",0),f=um(n,"key",null),S=um(n,"frame",null)}super(t,i,r,f,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,PI(this,this._skewX,this._skewY)}get skewXDeg(){return bI(this._skewX)}set skewXDeg(t){this.skewX=wI(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,PI(this,this._skewX,this._skewY)}get skewYDeg(){return bI(this._skewY)}set skewYDeg(t){this.skewY=wI(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const Vyt=Phaser.Utils.Objects.IsPlainObject,dm=Phaser.Utils.Objects.GetValue;class zyt extends kyt{constructor(t,i,r,f,S){if(Vyt(i)){var n=i;i=dm(n,"x",0),r=dm(n,"y",0),f=dm(n,"width",32),S=dm(n,"height",32)}var x=y3(t,f,S);super(t,i,r,x,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class MI extends w3(zyt){get skewState(){return this.isRunning}}bt.register("skew",function(e,t){return new MI(e,t)}),Pt(window,"RexPlugins.UI.Skew",MI),bt.register("anchor",function(e,t){return new jC(e,t)}),Pt(window,"RexPlugins.UI.Anchor",jC),bt.register("textTyping",function(e,t){return new Kg(e,t)}),Pt(window,"RexPlugins.UI.TextTyping",Kg),bt.register("textPage",function(e,t){return new Hg(e,t)}),Pt(window,"RexPlugins.UI.TextPage",Hg);var mu=void 0,Uyt=function(e){e!==mu&&(mu!==void 0&&mu.close(),mu=e)},Wyt=function(e){e===mu&&(mu=void 0)};const Tn=Phaser.Utils.Objects.GetValue,Yyt=Phaser.Utils.Objects.Clone;var $yt=function(e,t){t===void 0&&(t={}),t=Yyt(t);var i=e.scene,r=e.style,f=Tn(t,"backgroundColor",r.backgroundColor);f===null&&(f="transparent"),t.text=Tn(t,"text",e.text),t.fontFamily=Tn(t,"fontFamily",r.fontFamily),t.fontSize=Tn(t,"fontSize",r.fontSize),t.color=Tn(t,"color",r.color),t.backgroundColor=f,t.direction=Tn(t,"rtl",r.rtl)?"rtl":"ltr",t.align=Tn(t,"align",Xyt(r)),t.direction==="rtl"&&X1(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),r.backgroundCornerRadius&&(t.borderRadius=Tn(t,"borderRadius",`${r.backgroundCornerRadius}px`));var n=new vg(i,e.x,e.y,Tn(t,"width",e.width),Tn(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var x=e.parentContainer;return x?x.add(n):i.add.existing(n),n},Xyt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},Hyt=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const xu=Phaser.Utils.Objects.GetValue,Kyt=Phaser.Utils.Objects.Merge;var jyt=function(e,t){e===void 0&&(e={}),e=Kyt(e,this.openConfig),Uyt(this),Kn(e)&&(t=e,e=void 0);var i=xu(e,"inputType",void 0);i===void 0&&(i=xu(e,"type","text")),t===void 0&&(t=xu(e,"onClose",void 0));var r=xu(e,"onOpen",void 0),f=xu(e,"onTextChanged",void 0);return this.inputText=$yt(this.parent,e).on("textchange",function(S){var n=S.text;f?f(this.parent,n):this.parent.text=n},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,xu(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=Hyt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),r&&r(this.parent),this.emit("open",this.parent)},this),this},Jyt=function(){return Wyt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},Zyt={open:jyt,close:Jyt};const Qyt=Phaser.Utils.Objects.GetValue;class fm extends ti{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var r=Qyt(i,"clickEnable",!0);r&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(fm.prototype,Zyt);var qyt=function(e,t,i){return e._edit||(e._edit=new fm(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};bt.register("textEdit",function(e,t){return new fm(e,t)}),Pt(window,"RexPlugins.UI.TextEdit",fm),bt.register("layerManager",function(e){return new gp(this.scene,e)}),Pt(window,"RexPlugins.UI.LayerManager",gp);const fT=65535;var cm=function(e,t,i){if(t==null)return e;if(t===0)return cT(e,0,i),e;var r=e.text.length;if(r===0)return cT(e,t,i),e;var f=Math.floor(t*1.5/r);i!==void 0&&f>i&&(f=Math.floor(i));for(var S={},n=RI(e,f,t,i,S),x=0;x<=fT&&n!==0;x++){if(f+=n,f<0){f=0;break}n=RI(e,f,t,i,S)}return x===fT&&console.warn(`FontSizeFit: Test count exceeds ${fT}`),e.setFontSize(f),cT(e,t,i),e},AI=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},RI=function(e,t,i,r,f){var S=AI(e,t,f),n=AI(e,t+1,f),x;if(r!==void 0)if(S.height<=r&&n.height>r)x=0;else{if(S.height>r)return-1;x=Math.floor(r-S.height)}var s;if(S.width<=i&&n.width>i)return 0;if(S.width>i)return-1;var s=Math.floor(i-S.width);return x===void 0?s:Math.min(s,x)},cT=function(e,t,i){var r=e.style;r&&(r.fixedWidth=t,r.parent.width=t,i!==void 0&&(r.fixedHeight=i,r.parent.height=i),r.update(!1))};const vT=Phaser.Utils.Objects.GetValue;var _yt=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=vT(t,"minWidth",0),r=vT(t,"minHeight",0),f=vT(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=r,f?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,n){return cm(e,S,n),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),cm(e,S,void 0),e},e.resize=function(S,n){return e.width===S&&e.height===n||e.setFixedSize(S,n),e}),e};class OI extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new bt(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,r,f){return t.visible?dh(t,i,r,f):!1}get viewport(){return Il(this.scene,this.scene.cameras.main,!0)}}var tCt={getParentSizer:Qs,getTopmostSizer:UO,removeFromParent:xh,hide:Za,show:Ja,isShown:_C,confirmAction:FF,edit:qyt,wrapExpandText:gg,fontSizeExpandText:_yt,fontSizeResize:cm,setFontSizeToFitWidth:cm,waitEvent:Pp,waitComplete:$i,delayPromise:RD,setChildrenInteractive:y1,fadeIn:Vp,fadeOutDestroy:zp,easeMoveTo:vL,easeMoveFrom:pL,modal:r1,modalPromise:oat,modalClose:wL,requestDrag:eI,openFileChooser:LD};Object.assign(OI.prototype,tCt);const eCt={type:ae.WEBGL,fps:{target:30,forceSetTimeOut:!0,smoothStep:!1},width:960,height:640,backgroundColor:"#000000",parent:"game-container",physics:{default:"arcade"},plugins:{scene:[{key:"rexUI",plugin:OI,mapping:"rexUI"}]},dom:{createContainer:!0},pixelArt:!0,scene:[iH,mX,ZX,sH,eH,aH,oH]};new ae.Game(eCt);const iCt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}))})();
